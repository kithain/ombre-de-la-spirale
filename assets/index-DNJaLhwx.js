(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();function bc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lu={exports:{}},di={};var kf;function Lb(){if(kf)return di;kf=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(l,c,d){var p=null;if(d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:n,type:l,key:p,ref:c!==void 0?c:null,props:d}}return di.Fragment=i,di.jsx=r,di.jsxs=r,di}var Uf;function Rb(){return Uf||(Uf=1,Lu.exports=Lb()),Lu.exports}var m=Rb(),Ru={exports:{}},le={};var If;function zb(){if(If)return le;If=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function A(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,V={};function H(q,P,F){this.props=q,this.context=P,this.refs=V,this.updater=F||D}H.prototype.isReactComponent={},H.prototype.setState=function(q,P){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,P,"setState")},H.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function B(){}B.prototype=H.prototype;function I(q,P,F){this.props=q,this.context=P,this.refs=V,this.updater=F||D}var J=I.prototype=new B;J.constructor=I,L(J,H.prototype),J.isPureReactComponent=!0;var Y=Array.isArray;function ae(){}var Q={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function W(q,P,F){var K=F.ref;return{$$typeof:n,type:q,key:P,ref:K!==void 0?K:null,props:F}}function se(q,P){return W(q.type,P,q.props)}function fe(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function $(q){var P={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(F){return P[F]})}var Re=/\/+/g;function de(q,P){return typeof q=="object"&&q!==null&&q.key!=null?$(""+q.key):P.toString(36)}function ke(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(ae,ae):(q.status="pending",q.then(function(P){q.status==="pending"&&(q.status="fulfilled",q.value=P)},function(P){q.status==="pending"&&(q.status="rejected",q.reason=P)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function R(q,P,F,K,ue){var ve=typeof q;(ve==="undefined"||ve==="boolean")&&(q=null);var je=!1;if(q===null)je=!0;else switch(ve){case"bigint":case"string":case"number":je=!0;break;case"object":switch(q.$$typeof){case n:case i:je=!0;break;case y:return je=q._init,R(je(q._payload),P,F,K,ue)}}if(je)return ue=ue(q),je=K===""?"."+de(q,0):K,Y(ue)?(F="",je!=null&&(F=je.replace(Re,"$&/")+"/"),R(ue,P,F,"",function(bn){return bn})):ue!=null&&(fe(ue)&&(ue=se(ue,F+(ue.key==null||q&&q.key===ue.key?"":(""+ue.key).replace(Re,"$&/")+"/")+je)),P.push(ue)),1;je=0;var rt=K===""?".":K+":";if(Y(q))for(var Ge=0;Ge<q.length;Ge++)K=q[Ge],ve=rt+de(K,Ge),je+=R(K,P,F,ve,ue);else if(Ge=A(q),typeof Ge=="function")for(q=Ge.call(q),Ge=0;!(K=q.next()).done;)K=K.value,ve=rt+de(K,Ge++),je+=R(K,P,F,ve,ue);else if(ve==="object"){if(typeof q.then=="function")return R(ke(q),P,F,K,ue);throw P=String(q),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return je}function G(q,P,F){if(q==null)return q;var K=[],ue=0;return R(q,K,"","",function(ve){return P.call(F,ve,ue++)}),K}function ee(q){if(q._status===-1){var P=q._result;P=P(),P.then(function(F){(q._status===0||q._status===-1)&&(q._status=1,q._result=F)},function(F){(q._status===0||q._status===-1)&&(q._status=2,q._result=F)}),q._status===-1&&(q._status=0,q._result=P)}if(q._status===1)return q._result.default;throw q._result}var ge=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},qe={map:G,forEach:function(q,P,F){G(q,function(){P.apply(this,arguments)},F)},count:function(q){var P=0;return G(q,function(){P++}),P},toArray:function(q){return G(q,function(P){return P})||[]},only:function(q){if(!fe(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return le.Activity=b,le.Children=qe,le.Component=H,le.Fragment=r,le.Profiler=c,le.PureComponent=I,le.StrictMode=l,le.Suspense=v,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,le.__COMPILER_RUNTIME={__proto__:null,c:function(q){return Q.H.useMemoCache(q)}},le.cache=function(q){return function(){return q.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(q,P,F){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var K=L({},q.props),ue=q.key;if(P!=null)for(ve in P.key!==void 0&&(ue=""+P.key),P)!he.call(P,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&P.ref===void 0||(K[ve]=P[ve]);var ve=arguments.length-2;if(ve===1)K.children=F;else if(1<ve){for(var je=Array(ve),rt=0;rt<ve;rt++)je[rt]=arguments[rt+2];K.children=je}return W(q.type,ue,K)},le.createContext=function(q){return q={$$typeof:p,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:d,_context:q},q},le.createElement=function(q,P,F){var K,ue={},ve=null;if(P!=null)for(K in P.key!==void 0&&(ve=""+P.key),P)he.call(P,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ue[K]=P[K]);var je=arguments.length-2;if(je===1)ue.children=F;else if(1<je){for(var rt=Array(je),Ge=0;Ge<je;Ge++)rt[Ge]=arguments[Ge+2];ue.children=rt}if(q&&q.defaultProps)for(K in je=q.defaultProps,je)ue[K]===void 0&&(ue[K]=je[K]);return W(q,ve,ue)},le.createRef=function(){return{current:null}},le.forwardRef=function(q){return{$$typeof:g,render:q}},le.isValidElement=fe,le.lazy=function(q){return{$$typeof:y,_payload:{_status:-1,_result:q},_init:ee}},le.memo=function(q,P){return{$$typeof:h,type:q,compare:P===void 0?null:P}},le.startTransition=function(q){var P=Q.T,F={};Q.T=F;try{var K=q(),ue=Q.S;ue!==null&&ue(F,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ae,ge)}catch(ve){ge(ve)}finally{P!==null&&F.types!==null&&(P.types=F.types),Q.T=P}},le.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},le.use=function(q){return Q.H.use(q)},le.useActionState=function(q,P,F){return Q.H.useActionState(q,P,F)},le.useCallback=function(q,P){return Q.H.useCallback(q,P)},le.useContext=function(q){return Q.H.useContext(q)},le.useDebugValue=function(){},le.useDeferredValue=function(q,P){return Q.H.useDeferredValue(q,P)},le.useEffect=function(q,P){return Q.H.useEffect(q,P)},le.useEffectEvent=function(q){return Q.H.useEffectEvent(q)},le.useId=function(){return Q.H.useId()},le.useImperativeHandle=function(q,P,F){return Q.H.useImperativeHandle(q,P,F)},le.useInsertionEffect=function(q,P){return Q.H.useInsertionEffect(q,P)},le.useLayoutEffect=function(q,P){return Q.H.useLayoutEffect(q,P)},le.useMemo=function(q,P){return Q.H.useMemo(q,P)},le.useOptimistic=function(q,P){return Q.H.useOptimistic(q,P)},le.useReducer=function(q,P,F){return Q.H.useReducer(q,P,F)},le.useRef=function(q){return Q.H.useRef(q)},le.useState=function(q){return Q.H.useState(q)},le.useSyncExternalStore=function(q,P,F){return Q.H.useSyncExternalStore(q,P,F)},le.useTransition=function(){return Q.H.useTransition()},le.version="19.2.3",le}var Bf;function sl(){return Bf||(Bf=1,Ru.exports=zb()),Ru.exports}var j=sl();const Og=bc(j);var zu={exports:{}},mi={},Ou={exports:{}},wu={};var Hf;function Ob(){return Hf||(Hf=1,(function(n){function i(R,G){var ee=R.length;R.push(G);e:for(;0<ee;){var ge=ee-1>>>1,qe=R[ge];if(0<c(qe,G))R[ge]=G,R[ee]=qe,ee=ge;else break e}}function r(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var G=R[0],ee=R.pop();if(ee!==G){R[0]=ee;e:for(var ge=0,qe=R.length,q=qe>>>1;ge<q;){var P=2*(ge+1)-1,F=R[P],K=P+1,ue=R[K];if(0>c(F,ee))K<qe&&0>c(ue,F)?(R[ge]=ue,R[K]=ee,ge=K):(R[ge]=F,R[P]=ee,ge=P);else if(K<qe&&0>c(ue,ee))R[ge]=ue,R[K]=ee,ge=K;else break e}}return G}function c(R,G){var ee=R.sortIndex-G.sortIndex;return ee!==0?ee:R.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var p=Date,g=p.now();n.unstable_now=function(){return p.now()-g}}var v=[],h=[],y=1,b=null,_=3,A=!1,D=!1,L=!1,V=!1,H=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function J(R){for(var G=r(h);G!==null;){if(G.callback===null)l(h);else if(G.startTime<=R)l(h),G.sortIndex=G.expirationTime,i(v,G);else break;G=r(h)}}function Y(R){if(L=!1,J(R),!D)if(r(v)!==null)D=!0,ae||(ae=!0,$());else{var G=r(h);G!==null&&ke(Y,G.startTime-R)}}var ae=!1,Q=-1,he=5,W=-1;function se(){return V?!0:!(n.unstable_now()-W<he)}function fe(){if(V=!1,ae){var R=n.unstable_now();W=R;var G=!0;try{e:{D=!1,L&&(L=!1,B(Q),Q=-1),A=!0;var ee=_;try{t:{for(J(R),b=r(v);b!==null&&!(b.expirationTime>R&&se());){var ge=b.callback;if(typeof ge=="function"){b.callback=null,_=b.priorityLevel;var qe=ge(b.expirationTime<=R);if(R=n.unstable_now(),typeof qe=="function"){b.callback=qe,J(R),G=!0;break t}b===r(v)&&l(v),J(R)}else l(v);b=r(v)}if(b!==null)G=!0;else{var q=r(h);q!==null&&ke(Y,q.startTime-R),G=!1}}break e}finally{b=null,_=ee,A=!1}G=void 0}}finally{G?$():ae=!1}}}var $;if(typeof I=="function")$=function(){I(fe)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,de=Re.port2;Re.port1.onmessage=fe,$=function(){de.postMessage(null)}}else $=function(){H(fe,0)};function ke(R,G){Q=H(function(){R(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(R){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var ee=_;_=G;try{return R()}finally{_=ee}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ee=_;_=R;try{return G()}finally{_=ee}},n.unstable_scheduleCallback=function(R,G,ee){var ge=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ge+ee:ge):ee=ge,R){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=ee+qe,R={id:y++,callback:G,priorityLevel:R,startTime:ee,expirationTime:qe,sortIndex:-1},ee>ge?(R.sortIndex=ee,i(h,R),r(v)===null&&R===r(h)&&(L?(B(Q),Q=-1):L=!0,ke(Y,ee-ge))):(R.sortIndex=qe,i(v,R),D||A||(D=!0,ae||(ae=!0,$()))),R},n.unstable_shouldYield=se,n.unstable_wrapCallback=function(R){var G=_;return function(){var ee=_;_=G;try{return R.apply(this,arguments)}finally{_=ee}}}})(wu)),wu}var Gf;function wb(){return Gf||(Gf=1,Ou.exports=Ob()),Ou.exports}var Vu={exports:{}},it={};var Jf;function Vb(){if(Jf)return it;Jf=1;var n=sl();function i(v){var h="https://react.dev/errors/"+v;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(v,h,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:v,containerInfo:h,implementation:y}}var p=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,h){if(v==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,it.createPortal=function(v,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(i(299));return d(v,h,null,y)},it.flushSync=function(v){var h=p.T,y=l.p;try{if(p.T=null,l.p=2,v)return v()}finally{p.T=h,l.p=y,l.d.f()}},it.preconnect=function(v,h){typeof v=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(v,h))},it.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},it.preinit=function(v,h){if(typeof v=="string"&&h&&typeof h.as=="string"){var y=h.as,b=g(y,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?l.d.S(v,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:A}):y==="script"&&l.d.X(v,{crossOrigin:b,integrity:_,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},it.preinitModule=function(v,h){if(typeof v=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=g(h.as,h.crossOrigin);l.d.M(v,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(v)},it.preload=function(v,h){if(typeof v=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,b=g(y,h.crossOrigin);l.d.L(v,y,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},it.preloadModule=function(v,h){if(typeof v=="string")if(h){var y=g(h.as,h.crossOrigin);l.d.m(v,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(v)},it.requestFormReset=function(v){l.d.r(v)},it.unstable_batchedUpdates=function(v,h){return v(h)},it.useFormState=function(v,h,y){return p.H.useFormState(v,h,y)},it.useFormStatus=function(){return p.H.useHostTransitionStatus()},it.version="19.2.3",it}var Ff;function Pb(){if(Ff)return Vu.exports;Ff=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),Vu.exports=Vb(),Vu.exports}var Qf;function kb(){if(Qf)return mi;Qf=1;var n=wb(),i=sl(),r=Pb();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(l(188))}function h(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return v(o),e;if(u===s)return v(o),t;u=u.sibling}throw Error(l(188))}if(a.return!==s.return)a=o,s=u;else{for(var f=!1,x=o.child;x;){if(x===a){f=!0,a=o,s=u;break}if(x===s){f=!0,s=o,a=u;break}x=x.sibling}if(!f){for(x=u.child;x;){if(x===a){f=!0,a=u,s=o;break}if(x===s){f=!0,s=u,a=o;break}x=x.sibling}if(!f)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),I=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case H:return"Profiler";case V:return"StrictMode";case Y:return"Suspense";case ae:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case I:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case he:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}var ke=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ge=[],qe=-1;function q(e){return{current:e}}function P(e){0>qe||(e.current=ge[qe],ge[qe]=null,qe--)}function F(e,t){qe++,ge[qe]=e.current,e.current=t}var K=q(null),ue=q(null),ve=q(null),je=q(null);function rt(e,t){switch(F(ve,t),F(ue,e),F(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?of(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=of(t),e=uf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(K),F(K,e)}function Ge(){P(K),P(ue),P(ve)}function bn(e){e.memoizedState!==null&&F(je,e);var t=K.current,a=uf(t,e.type);t!==a&&(F(ue,e),F(K,a))}function Di(e){ue.current===e&&(P(K),P(ue)),je.current===e&&(P(je),li._currentValue=ee)}var pl,Vc;function ts(e){if(pl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);pl=t&&t[1]||"",Vc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pl+e+Vc}var fl=!1;function gl(e,t){if(!e||fl)return"";fl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(z){var N=z}Reflect.construct(e,[],U)}else{try{U.call()}catch(z){N=z}e.call(U.prototype)}}else{try{throw Error()}catch(z){N=z}(U=e())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(z){if(z&&N&&typeof z.stack=="string")return[z.stack,N.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),f=u[0],x=u[1];if(f&&x){var S=f.split(`
`),E=x.split(`
`);for(o=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;if(s===S.length||o===E.length)for(s=S.length-1,o=E.length-1;1<=s&&0<=o&&S[s]!==E[o];)o--;for(;1<=s&&0<=o;s--,o--)if(S[s]!==E[o]){if(s!==1||o!==1)do if(s--,o--,0>o||S[s]!==E[o]){var w=`
`+S[s].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=s&&0<=o);break}}}finally{fl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ts(a):""}function uv(e,t){switch(e.tag){case 26:case 27:case 5:return ts(e.type);case 16:return ts("Lazy");case 13:return e.child!==t&&t!==null?ts("Suspense Fallback"):ts("Suspense");case 19:return ts("SuspenseList");case 0:case 15:return gl(e.type,!1);case 11:return gl(e.type.render,!1);case 1:return gl(e.type,!0);case 31:return ts("Activity");default:return""}}function Pc(e){try{var t="",a=null;do t+=uv(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var hl=Object.prototype.hasOwnProperty,vl=n.unstable_scheduleCallback,bl=n.unstable_cancelCallback,cv=n.unstable_shouldYield,dv=n.unstable_requestPaint,bt=n.unstable_now,mv=n.unstable_getCurrentPriorityLevel,kc=n.unstable_ImmediatePriority,Uc=n.unstable_UserBlockingPriority,Mi=n.unstable_NormalPriority,pv=n.unstable_LowPriority,Ic=n.unstable_IdlePriority,fv=n.log,gv=n.unstable_setDisableYieldValue,xn=null,xt=null;function Ca(e){if(typeof fv=="function"&&gv(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(xn,e)}catch{}}var yt=Math.clz32?Math.clz32:bv,hv=Math.log,vv=Math.LN2;function bv(e){return e>>>=0,e===0?32:31-(hv(e)/vv|0)|0}var Ei=256,Ni=262144,Li=4194304;function as(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ri(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var x=s&134217727;return x!==0?(s=x&~u,s!==0?o=as(s):(f&=x,f!==0?o=as(f):a||(a=x&~e,a!==0&&(o=as(a))))):(x=s&~u,x!==0?o=as(x):f!==0?o=as(f):a||(a=s&~e,a!==0&&(o=as(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function yn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function xv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bc(){var e=Li;return Li<<=1,(Li&62914560)===0&&(Li=4194304),e}function xl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Sn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yv(e,t,a,s,o,u){var f=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var x=e.entanglements,S=e.expirationTimes,E=e.hiddenUpdates;for(a=f&~a;0<a;){var w=31-yt(a),U=1<<w;x[w]=0,S[w]=-1;var N=E[w];if(N!==null)for(E[w]=null,w=0;w<N.length;w++){var z=N[w];z!==null&&(z.lane&=-536870913)}a&=~U}s!==0&&Hc(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(f&~t))}function Hc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-yt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Gc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-yt(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function Jc(e,t){var a=t&-t;return a=(a&42)!==0?1:yl(a),(a&(e.suspendedLanes|t))!==0?0:a}function yl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fc(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Lf(e.type))}function Qc(e,t){var a=G.p;try{return G.p=e,t()}finally{G.p=a}}var Aa=Math.random().toString(36).slice(2),et="__reactFiber$"+Aa,ct="__reactProps$"+Aa,Cs="__reactContainer$"+Aa,_l="__reactEvents$"+Aa,Sv="__reactListeners$"+Aa,_v="__reactHandles$"+Aa,Yc="__reactResources$"+Aa,_n="__reactMarker$"+Aa;function ql(e){delete e[et],delete e[ct],delete e[_l],delete e[Sv],delete e[_v]}function As(e){var t=e[et];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Cs]||a[et]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=hf(e);e!==null;){if(a=e[et])return a;e=hf(e)}return t}e=a,a=e.parentNode}return null}function Ts(e){if(e=e[et]||e[Cs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function qn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function js(e){var t=e[Yc];return t||(t=e[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[_n]=!0}var $c=new Set,Kc={};function ss(e,t){Ds(e,t),Ds(e+"Capture",t)}function Ds(e,t){for(Kc[e]=t,e=0;e<t.length;e++)$c.add(t[e])}var qv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xc={},Zc={};function Cv(e){return hl.call(Zc,e)?!0:hl.call(Xc,e)?!1:qv.test(e)?Zc[e]=!0:(Xc[e]=!0,!1)}function zi(e,t,a){if(Cv(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Oi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Wt(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Av(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){a=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cl(e){if(!e._valueTracker){var t=Wc(e)?"checked":"value";e._valueTracker=Av(e,t,""+e[t])}}function ed(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Wc(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tv=/[\n"\\]/g;function Lt(e){return e.replace(Tv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Al(e,t,a,s,o,u,f,x){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Nt(t)):e.value!==""+Nt(t)&&(e.value=""+Nt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Tl(e,f,Nt(t)):a!=null?Tl(e,f,Nt(a)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Nt(x):e.removeAttribute("name")}function td(e,t,a,s,o,u,f,x){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Cl(e);return}a=a!=null?""+Nt(a):"",t=t!=null?""+Nt(t):a,x||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=x?e.checked:!!s,e.defaultChecked=!!s,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),Cl(e)}function Tl(e,t,a){t==="number"&&wi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ms(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Nt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ad(e,t,a){if(t!=null&&(t=""+Nt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Nt(a):""}function sd(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(ke(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Nt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Cl(e)}function Es(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var jv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nd(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||jv.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function id(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&nd(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&nd(e,u,t[u])}function jl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(e){return Mv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ea(){}var Dl=null;function Ml(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ns=null,Ls=null;function rd(e){var t=Ts(e);if(t&&(e=t.stateNode)){var a=e[ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(Al(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[ct]||null;if(!o)throw Error(l(90));Al(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&ed(s)}break e;case"textarea":ad(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ms(e,!!a.multiple,t,!1)}}}var El=!1;function ld(e,t,a){if(El)return e(t,a);El=!0;try{var s=e(t);return s}finally{if(El=!1,(Ns!==null||Ls!==null)&&(Cr(),Ns&&(t=Ns,e=Ls,Ls=Ns=null,rd(t),e)))for(t=0;t<e.length;t++)rd(e[t])}}function Cn(e,t){var a=e.stateNode;if(a===null)return null;var s=a[ct]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=!1;if(ta)try{var An={};Object.defineProperty(An,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{Nl=!1}var Ta=null,Ll=null,Pi=null;function od(){if(Pi)return Pi;var e,t=Ll,a=t.length,s,o="value"in Ta?Ta.value:Ta.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var f=a-e;for(s=1;s<=f&&t[a-s]===o[u-s];s++);return Pi=o.slice(e,1<s?1-s:void 0)}function ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function ud(){return!1}function dt(e){function t(a,s,o,u,f){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(a=e[x],this[x]=a?a(u):u[x]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ui:ud,this.isPropagationStopped=ud,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),t}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=dt(ns),Tn=b({},ns,{view:0,detail:0}),Ev=dt(Tn),Rl,zl,jn,Bi=b({},Tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jn&&(jn&&e.type==="mousemove"?(Rl=e.screenX-jn.screenX,zl=e.screenY-jn.screenY):zl=Rl=0,jn=e),Rl)},movementY:function(e){return"movementY"in e?e.movementY:zl}}),cd=dt(Bi),Nv=b({},Bi,{dataTransfer:0}),Lv=dt(Nv),Rv=b({},Tn,{relatedTarget:0}),Ol=dt(Rv),zv=b({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Ov=dt(zv),wv=b({},ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vv=dt(wv),Pv=b({},ns,{data:0}),dd=dt(Pv),kv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Iv[e])?!!t[e]:!1}function wl(){return Bv}var Hv=b({},Tn,{key:function(e){if(e.key){var t=kv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(e){return e.type==="keypress"?ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gv=dt(Hv),Jv=b({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=dt(Jv),Fv=b({},Tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),Qv=dt(Fv),Yv=b({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),$v=dt(Yv),Kv=b({},Bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xv=dt(Kv),Zv=b({},ns,{newState:0,oldState:0}),Wv=dt(Zv),e1=[9,13,27,32],Vl=ta&&"CompositionEvent"in window,Dn=null;ta&&"documentMode"in document&&(Dn=document.documentMode);var t1=ta&&"TextEvent"in window&&!Dn,pd=ta&&(!Vl||Dn&&8<Dn&&11>=Dn),fd=" ",gd=!1;function hd(e,t){switch(e){case"keyup":return e1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rs=!1;function a1(e,t){switch(e){case"compositionend":return vd(t);case"keypress":return t.which!==32?null:(gd=!0,fd);case"textInput":return e=t.data,e===fd&&gd?null:e;default:return null}}function s1(e,t){if(Rs)return e==="compositionend"||!Vl&&hd(e,t)?(e=od(),Pi=Ll=Ta=null,Rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pd&&t.locale!=="ko"?null:t.data;default:return null}}var n1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!n1[e.type]:t==="textarea"}function xd(e,t,a,s){Ns?Ls?Ls.push(s):Ls=[s]:Ns=s,t=Nr(t,"onChange"),0<t.length&&(a=new Ii("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Mn=null,En=null;function i1(e){tf(e,0)}function Hi(e){var t=qn(e);if(ed(t))return e}function yd(e,t){if(e==="change")return t}var Sd=!1;if(ta){var Pl;if(ta){var kl="oninput"in document;if(!kl){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),kl=typeof _d.oninput=="function"}Pl=kl}else Pl=!1;Sd=Pl&&(!document.documentMode||9<document.documentMode)}function qd(){Mn&&(Mn.detachEvent("onpropertychange",Cd),En=Mn=null)}function Cd(e){if(e.propertyName==="value"&&Hi(En)){var t=[];xd(t,En,e,Ml(e)),ld(i1,t)}}function r1(e,t,a){e==="focusin"?(qd(),Mn=t,En=a,Mn.attachEvent("onpropertychange",Cd)):e==="focusout"&&qd()}function l1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hi(En)}function o1(e,t){if(e==="click")return Hi(t)}function u1(e,t){if(e==="input"||e==="change")return Hi(t)}function c1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:c1;function Nn(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!hl.call(t,o)||!St(e[o],t[o]))return!1}return!0}function Ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Td(e,t){var a=Ad(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ad(a)}}function jd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=wi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=wi(e.document)}return t}function Ul(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var d1=ta&&"documentMode"in document&&11>=document.documentMode,zs=null,Il=null,Ln=null,Bl=!1;function Md(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bl||zs==null||zs!==wi(s)||(s=zs,"selectionStart"in s&&Ul(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ln&&Nn(Ln,s)||(Ln=s,s=Nr(Il,"onSelect"),0<s.length&&(t=new Ii("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=zs)))}function is(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Os={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},Hl={},Ed={};ta&&(Ed=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function rs(e){if(Hl[e])return Hl[e];if(!Os[e])return e;var t=Os[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Ed)return Hl[e]=t[a];return e}var Nd=rs("animationend"),Ld=rs("animationiteration"),Rd=rs("animationstart"),m1=rs("transitionrun"),p1=rs("transitionstart"),f1=rs("transitioncancel"),zd=rs("transitionend"),Od=new Map,Gl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gl.push("scrollEnd");function Bt(e,t){Od.set(e,t),ss(t,[e])}var Gi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rt=[],ws=0,Jl=0;function Ji(){for(var e=ws,t=Jl=ws=0;t<e;){var a=Rt[t];Rt[t++]=null;var s=Rt[t];Rt[t++]=null;var o=Rt[t];Rt[t++]=null;var u=Rt[t];if(Rt[t++]=null,s!==null&&o!==null){var f=s.pending;f===null?o.next=o:(o.next=f.next,f.next=o),s.pending=o}u!==0&&wd(a,o,u)}}function Fi(e,t,a,s){Rt[ws++]=e,Rt[ws++]=t,Rt[ws++]=a,Rt[ws++]=s,Jl|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Fl(e,t,a,s){return Fi(e,t,a,s),Qi(e)}function ls(e,t){return Fi(e,null,null,t),Qi(e)}function wd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,s=u.alternate,s!==null&&(s.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-yt(a),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),u):null}function Qi(e){if(50<ei)throw ei=0,au=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Vs={};function g1(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,a,s){return new g1(e,t,a,s)}function Ql(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aa(e,t){var a=e.alternate;return a===null?(a=_t(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Vd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Yi(e,t,a,s,o,u){var f=0;if(s=e,typeof e=="function")Ql(e)&&(f=1);else if(typeof e=="string")f=yb(e,a,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=_t(31,a,t,o),e.elementType=W,e.lanes=u,e;case L:return os(a.children,o,u,t);case V:f=8,o|=24;break;case H:return e=_t(12,a,t,o|2),e.elementType=H,e.lanes=u,e;case Y:return e=_t(13,a,t,o),e.elementType=Y,e.lanes=u,e;case ae:return e=_t(19,a,t,o),e.elementType=ae,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:f=10;break e;case B:f=9;break e;case J:f=11;break e;case Q:f=14;break e;case he:f=16,s=null;break e}f=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=_t(f,a,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function os(e,t,a,s){return e=_t(7,e,s,t),e.lanes=a,e}function Yl(e,t,a){return e=_t(6,e,null,t),e.lanes=a,e}function Pd(e){var t=_t(18,null,null,0);return t.stateNode=e,t}function $l(e,t,a){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var kd=new WeakMap;function zt(e,t){if(typeof e=="object"&&e!==null){var a=kd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Pc(t)},kd.set(e,t),t)}return{value:e,source:t,stack:Pc(t)}}var Ps=[],ks=0,$i=null,Rn=0,Ot=[],wt=0,ja=null,Jt=1,Ft="";function sa(e,t){Ps[ks++]=Rn,Ps[ks++]=$i,$i=e,Rn=t}function Ud(e,t,a){Ot[wt++]=Jt,Ot[wt++]=Ft,Ot[wt++]=ja,ja=e;var s=Jt;e=Ft;var o=32-yt(s)-1;s&=~(1<<o),a+=1;var u=32-yt(t)+o;if(30<u){var f=o-o%5;u=(s&(1<<f)-1).toString(32),s>>=f,o-=f,Jt=1<<32-yt(t)+o|a<<o|s,Ft=u+e}else Jt=1<<u|a<<o|s,Ft=e}function Kl(e){e.return!==null&&(sa(e,1),Ud(e,1,0))}function Xl(e){for(;e===$i;)$i=Ps[--ks],Ps[ks]=null,Rn=Ps[--ks],Ps[ks]=null;for(;e===ja;)ja=Ot[--wt],Ot[wt]=null,Ft=Ot[--wt],Ot[wt]=null,Jt=Ot[--wt],Ot[wt]=null}function Id(e,t){Ot[wt++]=Jt,Ot[wt++]=Ft,Ot[wt++]=ja,Jt=t.id,Ft=t.overflow,ja=e}var tt=null,we=null,_e=!1,Da=null,Vt=!1,Zl=Error(l(519));function Ma(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zn(zt(t,e)),Zl}function Bd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[et]=e,t[ct]=s,a){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(a=0;a<ai.length;a++)xe(ai[a],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),td(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),sd(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||rf(t.textContent,a)?(s.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),s.onScroll!=null&&xe("scroll",t),s.onScrollEnd!=null&&xe("scrollend",t),s.onClick!=null&&(t.onclick=ea),t=!0):t=!1,t||Ma(e,!0)}function Hd(e){for(tt=e.return;tt;)switch(tt.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:tt=tt.return}}function Us(e){if(e!==tt)return!1;if(!_e)return Hd(e),_e=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vu(e.type,e.memoizedProps)),a=!a),a&&we&&Ma(e),Hd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));we=gf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));we=gf(e)}else t===27?(t=we,Ha(e.type)?(e=_u,_u=null,we=e):we=t):we=tt?kt(e.stateNode.nextSibling):null;return!0}function us(){we=tt=null,_e=!1}function Wl(){var e=Da;return e!==null&&(gt===null?gt=e:gt.push.apply(gt,e),Da=null),e}function zn(e){Da===null?Da=[e]:Da.push(e)}var eo=q(null),cs=null,na=null;function Ea(e,t,a){F(eo,t._currentValue),t._currentValue=a}function ia(e){e._currentValue=eo.current,P(eo)}function to(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function ao(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var f=o.child;u=u.firstContext;e:for(;u!==null;){var x=u;u=o;for(var S=0;S<t.length;S++)if(x.context===t[S]){u.lanes|=a,x=u.alternate,x!==null&&(x.lanes|=a),to(u.return,a,e),s||(f=null);break e}u=x.next}}else if(o.tag===18){if(f=o.return,f===null)throw Error(l(341));f.lanes|=a,u=f.alternate,u!==null&&(u.lanes|=a),to(f,a,e),f=null}else f=o.child;if(f!==null)f.return=o;else for(f=o;f!==null;){if(f===e){f=null;break}if(o=f.sibling,o!==null){o.return=f.return,f=o;break}f=f.return}o=f}}function Is(e,t,a,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var f=o.alternate;if(f===null)throw Error(l(387));if(f=f.memoizedProps,f!==null){var x=o.type;St(o.pendingProps.value,f.value)||(e!==null?e.push(x):e=[x])}}else if(o===je.current){if(f=o.alternate,f===null)throw Error(l(387));f.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(li):e=[li])}o=o.return}e!==null&&ao(t,e,a,s),t.flags|=262144}function Ki(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ds(e){cs=e,na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return Gd(cs,e)}function Xi(e,t){return cs===null&&ds(e),Gd(e,t)}function Gd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},na===null){if(e===null)throw Error(l(308));na=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else na=na.next=t;return a}var h1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},v1=n.unstable_scheduleCallback,b1=n.unstable_NormalPriority,Qe={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function so(){return{controller:new h1,data:new Map,refCount:0}}function On(e){e.refCount--,e.refCount===0&&v1(b1,function(){e.controller.abort()})}var wn=null,no=0,Bs=0,Hs=null;function x1(e,t){if(wn===null){var a=wn=[];no=0,Bs=ou(),Hs={status:"pending",value:void 0,then:function(s){a.push(s)}}}return no++,t.then(Jd,Jd),t}function Jd(){if(--no===0&&wn!==null){Hs!==null&&(Hs.status="fulfilled");var e=wn;wn=null,Bs=0,Hs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function y1(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var Fd=R.S;R.S=function(e,t){Mp=bt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&x1(e,t),Fd!==null&&Fd(e,t)};var ms=q(null);function io(){var e=ms.current;return e!==null?e:ze.pooledCache}function Zi(e,t){t===null?F(ms,ms.current):F(ms,t.pool)}function Qd(){var e=io();return e===null?null:{parent:Qe._currentValue,pool:e}}var Gs=Error(l(460)),ro=Error(l(474)),Wi=Error(l(542)),er={then:function(){}};function Yd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $d(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ea,ea),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xd(e),e;default:if(typeof t.status=="string")t.then(ea,ea);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xd(e),e}throw fs=t,Gs}}function ps(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fs=a,Gs):a}}var fs=null;function Kd(){if(fs===null)throw Error(l(459));var e=fs;return fs=null,e}function Xd(e){if(e===Gs||e===Wi)throw Error(l(483))}var Js=null,Vn=0;function tr(e){var t=Vn;return Vn+=1,Js===null&&(Js=[]),$d(Js,e,t)}function Pn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ar(e,t){throw t.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Zd(e){function t(T,C){if(e){var M=T.deletions;M===null?(T.deletions=[C],T.flags|=16):M.push(C)}}function a(T,C){if(!e)return null;for(;C!==null;)t(T,C),C=C.sibling;return null}function s(T){for(var C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function o(T,C){return T=aa(T,C),T.index=0,T.sibling=null,T}function u(T,C,M){return T.index=M,e?(M=T.alternate,M!==null?(M=M.index,M<C?(T.flags|=67108866,C):M):(T.flags|=67108866,C)):(T.flags|=1048576,C)}function f(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function x(T,C,M,k){return C===null||C.tag!==6?(C=Yl(M,T.mode,k),C.return=T,C):(C=o(C,M),C.return=T,C)}function S(T,C,M,k){var te=M.type;return te===L?w(T,C,M.props.children,k,M.key):C!==null&&(C.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===he&&ps(te)===C.type)?(C=o(C,M.props),Pn(C,M),C.return=T,C):(C=Yi(M.type,M.key,M.props,null,T.mode,k),Pn(C,M),C.return=T,C)}function E(T,C,M,k){return C===null||C.tag!==4||C.stateNode.containerInfo!==M.containerInfo||C.stateNode.implementation!==M.implementation?(C=$l(M,T.mode,k),C.return=T,C):(C=o(C,M.children||[]),C.return=T,C)}function w(T,C,M,k,te){return C===null||C.tag!==7?(C=os(M,T.mode,k,te),C.return=T,C):(C=o(C,M),C.return=T,C)}function U(T,C,M){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Yl(""+C,T.mode,M),C.return=T,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case A:return M=Yi(C.type,C.key,C.props,null,T.mode,M),Pn(M,C),M.return=T,M;case D:return C=$l(C,T.mode,M),C.return=T,C;case he:return C=ps(C),U(T,C,M)}if(ke(C)||$(C))return C=os(C,T.mode,M,null),C.return=T,C;if(typeof C.then=="function")return U(T,tr(C),M);if(C.$$typeof===I)return U(T,Xi(T,C),M);ar(T,C)}return null}function N(T,C,M,k){var te=C!==null?C.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return te!==null?null:x(T,C,""+M,k);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return M.key===te?S(T,C,M,k):null;case D:return M.key===te?E(T,C,M,k):null;case he:return M=ps(M),N(T,C,M,k)}if(ke(M)||$(M))return te!==null?null:w(T,C,M,k,null);if(typeof M.then=="function")return N(T,C,tr(M),k);if(M.$$typeof===I)return N(T,C,Xi(T,M),k);ar(T,M)}return null}function z(T,C,M,k,te){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return T=T.get(M)||null,x(C,T,""+k,te);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return T=T.get(k.key===null?M:k.key)||null,S(C,T,k,te);case D:return T=T.get(k.key===null?M:k.key)||null,E(C,T,k,te);case he:return k=ps(k),z(T,C,M,k,te)}if(ke(k)||$(k))return T=T.get(M)||null,w(C,T,k,te,null);if(typeof k.then=="function")return z(T,C,M,tr(k),te);if(k.$$typeof===I)return z(T,C,M,Xi(C,k),te);ar(C,k)}return null}function X(T,C,M,k){for(var te=null,Ce=null,Z=C,me=C=0,Se=null;Z!==null&&me<M.length;me++){Z.index>me?(Se=Z,Z=null):Se=Z.sibling;var Ae=N(T,Z,M[me],k);if(Ae===null){Z===null&&(Z=Se);break}e&&Z&&Ae.alternate===null&&t(T,Z),C=u(Ae,C,me),Ce===null?te=Ae:Ce.sibling=Ae,Ce=Ae,Z=Se}if(me===M.length)return a(T,Z),_e&&sa(T,me),te;if(Z===null){for(;me<M.length;me++)Z=U(T,M[me],k),Z!==null&&(C=u(Z,C,me),Ce===null?te=Z:Ce.sibling=Z,Ce=Z);return _e&&sa(T,me),te}for(Z=s(Z);me<M.length;me++)Se=z(Z,T,me,M[me],k),Se!==null&&(e&&Se.alternate!==null&&Z.delete(Se.key===null?me:Se.key),C=u(Se,C,me),Ce===null?te=Se:Ce.sibling=Se,Ce=Se);return e&&Z.forEach(function(Ya){return t(T,Ya)}),_e&&sa(T,me),te}function ne(T,C,M,k){if(M==null)throw Error(l(151));for(var te=null,Ce=null,Z=C,me=C=0,Se=null,Ae=M.next();Z!==null&&!Ae.done;me++,Ae=M.next()){Z.index>me?(Se=Z,Z=null):Se=Z.sibling;var Ya=N(T,Z,Ae.value,k);if(Ya===null){Z===null&&(Z=Se);break}e&&Z&&Ya.alternate===null&&t(T,Z),C=u(Ya,C,me),Ce===null?te=Ya:Ce.sibling=Ya,Ce=Ya,Z=Se}if(Ae.done)return a(T,Z),_e&&sa(T,me),te;if(Z===null){for(;!Ae.done;me++,Ae=M.next())Ae=U(T,Ae.value,k),Ae!==null&&(C=u(Ae,C,me),Ce===null?te=Ae:Ce.sibling=Ae,Ce=Ae);return _e&&sa(T,me),te}for(Z=s(Z);!Ae.done;me++,Ae=M.next())Ae=z(Z,T,me,Ae.value,k),Ae!==null&&(e&&Ae.alternate!==null&&Z.delete(Ae.key===null?me:Ae.key),C=u(Ae,C,me),Ce===null?te=Ae:Ce.sibling=Ae,Ce=Ae);return e&&Z.forEach(function(Nb){return t(T,Nb)}),_e&&sa(T,me),te}function Le(T,C,M,k){if(typeof M=="object"&&M!==null&&M.type===L&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case A:e:{for(var te=M.key;C!==null;){if(C.key===te){if(te=M.type,te===L){if(C.tag===7){a(T,C.sibling),k=o(C,M.props.children),k.return=T,T=k;break e}}else if(C.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===he&&ps(te)===C.type){a(T,C.sibling),k=o(C,M.props),Pn(k,M),k.return=T,T=k;break e}a(T,C);break}else t(T,C);C=C.sibling}M.type===L?(k=os(M.props.children,T.mode,k,M.key),k.return=T,T=k):(k=Yi(M.type,M.key,M.props,null,T.mode,k),Pn(k,M),k.return=T,T=k)}return f(T);case D:e:{for(te=M.key;C!==null;){if(C.key===te)if(C.tag===4&&C.stateNode.containerInfo===M.containerInfo&&C.stateNode.implementation===M.implementation){a(T,C.sibling),k=o(C,M.children||[]),k.return=T,T=k;break e}else{a(T,C);break}else t(T,C);C=C.sibling}k=$l(M,T.mode,k),k.return=T,T=k}return f(T);case he:return M=ps(M),Le(T,C,M,k)}if(ke(M))return X(T,C,M,k);if($(M)){if(te=$(M),typeof te!="function")throw Error(l(150));return M=te.call(M),ne(T,C,M,k)}if(typeof M.then=="function")return Le(T,C,tr(M),k);if(M.$$typeof===I)return Le(T,C,Xi(T,M),k);ar(T,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,C!==null&&C.tag===6?(a(T,C.sibling),k=o(C,M),k.return=T,T=k):(a(T,C),k=Yl(M,T.mode,k),k.return=T,T=k),f(T)):a(T,C)}return function(T,C,M,k){try{Vn=0;var te=Le(T,C,M,k);return Js=null,te}catch(Z){if(Z===Gs||Z===Wi)throw Z;var Ce=_t(29,Z,null,T.mode);return Ce.lanes=k,Ce.return=T,Ce}}}var gs=Zd(!0),Wd=Zd(!1),Na=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function La(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Te&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Qi(e),wd(e,null,a),t}return Fi(e,s,t,a),Qi(e)}function kn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Gc(e,a)}}function uo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var f={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=f:u=u.next=f,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var co=!1;function Un(){if(co){var e=Hs;if(e!==null)throw e}}function In(e,t,a,s){co=!1;var o=e.updateQueue;Na=!1;var u=o.firstBaseUpdate,f=o.lastBaseUpdate,x=o.shared.pending;if(x!==null){o.shared.pending=null;var S=x,E=S.next;S.next=null,f===null?u=E:f.next=E,f=S;var w=e.alternate;w!==null&&(w=w.updateQueue,x=w.lastBaseUpdate,x!==f&&(x===null?w.firstBaseUpdate=E:x.next=E,w.lastBaseUpdate=S))}if(u!==null){var U=o.baseState;f=0,w=E=S=null,x=u;do{var N=x.lane&-536870913,z=N!==x.lane;if(z?(ye&N)===N:(s&N)===N){N!==0&&N===Bs&&(co=!0),w!==null&&(w=w.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var X=e,ne=x;N=t;var Le=a;switch(ne.tag){case 1:if(X=ne.payload,typeof X=="function"){U=X.call(Le,U,N);break e}U=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ne.payload,N=typeof X=="function"?X.call(Le,U,N):X,N==null)break e;U=b({},U,N);break e;case 2:Na=!0}}N=x.callback,N!==null&&(e.flags|=64,z&&(e.flags|=8192),z=o.callbacks,z===null?o.callbacks=[N]:z.push(N))}else z={lane:N,tag:x.tag,payload:x.payload,callback:x.callback,next:null},w===null?(E=w=z,S=U):w=w.next=z,f|=N;if(x=x.next,x===null){if(x=o.shared.pending,x===null)break;z=x,x=z.next,z.next=null,o.lastBaseUpdate=z,o.shared.pending=null}}while(!0);w===null&&(S=U),o.baseState=S,o.firstBaseUpdate=E,o.lastBaseUpdate=w,u===null&&(o.shared.lanes=0),Pa|=f,e.lanes=f,e.memoizedState=U}}function em(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function tm(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)em(a[e],t)}var Fs=q(null),sr=q(0);function am(e,t){e=fa,F(sr,e),F(Fs,t),fa=e|t.baseLanes}function mo(){F(sr,fa),F(Fs,Fs.current)}function po(){fa=sr.current,P(Fs),P(sr)}var qt=q(null),Pt=null;function za(e){var t=e.alternate;F(Je,Je.current&1),F(qt,e),Pt===null&&(t===null||Fs.current!==null||t.memoizedState!==null)&&(Pt=e)}function fo(e){F(Je,Je.current),F(qt,e),Pt===null&&(Pt=e)}function sm(e){e.tag===22?(F(Je,Je.current),F(qt,e),Pt===null&&(Pt=e)):Oa()}function Oa(){F(Je,Je.current),F(qt,qt.current)}function Ct(e){P(qt),Pt===e&&(Pt=null),P(Je)}var Je=q(0);function nr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||yu(a)||Su(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=0,ce=null,Ee=null,Ye=null,ir=!1,Qs=!1,hs=!1,rr=0,Bn=0,Ys=null,S1=0;function Be(){throw Error(l(321))}function go(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!St(e[a],t[a]))return!1;return!0}function ho(e,t,a,s,o,u){return ra=u,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?Um:No,hs=!1,u=a(s,o),hs=!1,Qs&&(u=im(t,a,s,o)),nm(e),u}function nm(e){R.H=Jn;var t=Ee!==null&&Ee.next!==null;if(ra=0,Ye=Ee=ce=null,ir=!1,Bn=0,Ys=null,t)throw Error(l(300));e===null||$e||(e=e.dependencies,e!==null&&Ki(e)&&($e=!0))}function im(e,t,a,s){ce=e;var o=0;do{if(Qs&&(Ys=null),Bn=0,Qs=!1,25<=o)throw Error(l(301));if(o+=1,Ye=Ee=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}R.H=Im,u=t(a,s)}while(Qs);return u}function _1(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?Hn(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(ce.flags|=1024),t}function vo(){var e=rr!==0;return rr=0,e}function bo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function xo(e){if(ir){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ir=!1}ra=0,Ye=Ee=ce=null,Qs=!1,Bn=rr=0,Ys=null}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ce.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Fe(){if(Ee===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Ye===null?ce.memoizedState:Ye.next;if(t!==null)Ye=t,Ee=e;else{if(e===null)throw ce.alternate===null?Error(l(467)):Error(l(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ye===null?ce.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function lr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hn(e){var t=Bn;return Bn+=1,Ys===null&&(Ys=[]),e=$d(Ys,e,t),t=ce,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?Um:No),e}function or(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hn(e);if(e.$$typeof===I)return at(e)}throw Error(l(438,String(e)))}function yo(e){var t=null,a=ce.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ce.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=lr(),ce.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=se;return t.index++,a}function la(e,t){return typeof t=="function"?t(e):t}function ur(e){var t=Fe();return So(t,Ee,e)}function So(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var f=o.next;o.next=u.next,u.next=f}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var x=f=null,S=null,E=t,w=!1;do{var U=E.lane&-536870913;if(U!==E.lane?(ye&U)===U:(ra&U)===U){var N=E.revertLane;if(N===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null}),U===Bs&&(w=!0);else if((ra&N)===N){E=E.next,N===Bs&&(w=!0);continue}else U={lane:0,revertLane:E.revertLane,gesture:null,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},S===null?(x=S=U,f=u):S=S.next=U,ce.lanes|=N,Pa|=N;U=E.action,hs&&a(u,U),u=E.hasEagerState?E.eagerState:a(u,U)}else N={lane:U,revertLane:E.revertLane,gesture:E.gesture,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},S===null?(x=S=N,f=u):S=S.next=N,ce.lanes|=U,Pa|=U;E=E.next}while(E!==null&&E!==t);if(S===null?f=u:S.next=x,!St(u,e.memoizedState)&&($e=!0,w&&(a=Hs,a!==null)))throw a;e.memoizedState=u,e.baseState=f,e.baseQueue=S,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function _o(e){var t=Fe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var f=o=o.next;do u=e(u,f.action),f=f.next;while(f!==o);St(u,t.memoizedState)||($e=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function rm(e,t,a){var s=ce,o=Fe(),u=_e;if(u){if(a===void 0)throw Error(l(407));a=a()}else a=t();var f=!St((Ee||o).memoizedState,a);if(f&&(o.memoizedState=a,$e=!0),o=o.queue,Ao(um.bind(null,s,o,e),[e]),o.getSnapshot!==t||f||Ye!==null&&Ye.memoizedState.tag&1){if(s.flags|=2048,$s(9,{destroy:void 0},om.bind(null,s,o,a,t),null),ze===null)throw Error(l(349));u||(ra&127)!==0||lm(s,t,a)}return a}function lm(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ce.updateQueue,t===null?(t=lr(),ce.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function om(e,t,a,s){t.value=a,t.getSnapshot=s,cm(t)&&dm(e)}function um(e,t,a){return a(function(){cm(t)&&dm(e)})}function cm(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!St(e,a)}catch{return!0}}function dm(e){var t=ls(e,2);t!==null&&ht(t,e,2)}function qo(e){var t=lt();if(typeof e=="function"){var a=e;if(e=a(),hs){Ca(!0);try{a()}finally{Ca(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t}function mm(e,t,a,s){return e.baseState=a,So(e,Ee,typeof s=="function"?s:la)}function q1(e,t,a,s,o){if(mr(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){u.listeners.push(f)}};R.T!==null?a(!0):u.isTransition=!1,s(u),a=t.pending,a===null?(u.next=t.pending=u,pm(t,u)):(u.next=a.next,t.pending=a.next=u)}}function pm(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=R.T,f={};R.T=f;try{var x=a(o,s),S=R.S;S!==null&&S(f,x),fm(e,t,x)}catch(E){Co(e,t,E)}finally{u!==null&&f.types!==null&&(u.types=f.types),R.T=u}}else try{u=a(o,s),fm(e,t,u)}catch(E){Co(e,t,E)}}function fm(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){gm(e,t,s)},function(s){return Co(e,t,s)}):gm(e,t,a)}function gm(e,t,a){t.status="fulfilled",t.value=a,hm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,pm(e,a)))}function Co(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,hm(t),t=t.next;while(t!==s)}e.action=null}function hm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function vm(e,t){return t}function bm(e,t){if(_e){var a=ze.formState;if(a!==null){e:{var s=ce;if(_e){if(we){t:{for(var o=we,u=Vt;o.nodeType!==8;){if(!u){o=null;break t}if(o=kt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){we=kt(o.nextSibling),s=o.data==="F!";break e}}Ma(s)}s=!1}s&&(t=a[0])}}return a=lt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vm,lastRenderedState:t},a.queue=s,a=Vm.bind(null,ce,s),s.dispatch=a,s=qo(!1),u=Eo.bind(null,ce,!1,s.queue),s=lt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=q1.bind(null,ce,o,u,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function xm(e){var t=Fe();return ym(t,Ee,e)}function ym(e,t,a){if(t=So(e,t,vm)[0],e=ur(la)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Hn(t)}catch(f){throw f===Gs?Wi:f}else s=t;t=Fe();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(ce.flags|=2048,$s(9,{destroy:void 0},C1.bind(null,o,a),null)),[s,u,e]}function C1(e,t){e.action=t}function Sm(e){var t=Fe(),a=Ee;if(a!==null)return ym(t,a,e);Fe(),t=t.memoizedState,a=Fe();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function $s(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ce.updateQueue,t===null&&(t=lr(),ce.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function _m(){return Fe().memoizedState}function cr(e,t,a,s){var o=lt();ce.flags|=e,o.memoizedState=$s(1|t,{destroy:void 0},a,s===void 0?null:s)}function dr(e,t,a,s){var o=Fe();s=s===void 0?null:s;var u=o.memoizedState.inst;Ee!==null&&s!==null&&go(s,Ee.memoizedState.deps)?o.memoizedState=$s(t,u,a,s):(ce.flags|=e,o.memoizedState=$s(1|t,u,a,s))}function qm(e,t){cr(8390656,8,e,t)}function Ao(e,t){dr(2048,8,e,t)}function A1(e){ce.flags|=4;var t=ce.updateQueue;if(t===null)t=lr(),ce.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Cm(e){var t=Fe().memoizedState;return A1({ref:t,nextImpl:e}),function(){if((Te&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Am(e,t){return dr(4,2,e,t)}function Tm(e,t){return dr(4,4,e,t)}function jm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dm(e,t,a){a=a!=null?a.concat([e]):null,dr(4,4,jm.bind(null,t,e),a)}function To(){}function Mm(e,t){var a=Fe();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&go(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Em(e,t){var a=Fe();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&go(t,s[1]))return s[0];if(s=e(),hs){Ca(!0);try{e()}finally{Ca(!1)}}return a.memoizedState=[s,t],s}function jo(e,t,a){return a===void 0||(ra&1073741824)!==0&&(ye&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Np(),ce.lanes|=e,Pa|=e,a)}function Nm(e,t,a,s){return St(a,t)?a:Fs.current!==null?(e=jo(e,a,s),St(e,t)||($e=!0),e):(ra&42)===0||(ra&1073741824)!==0&&(ye&261930)===0?($e=!0,e.memoizedState=a):(e=Np(),ce.lanes|=e,Pa|=e,t)}function Lm(e,t,a,s,o){var u=G.p;G.p=u!==0&&8>u?u:8;var f=R.T,x={};R.T=x,Eo(e,!1,t,a);try{var S=o(),E=R.S;if(E!==null&&E(x,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var w=y1(S,s);Gn(e,t,w,jt(e))}else Gn(e,t,s,jt(e))}catch(U){Gn(e,t,{then:function(){},status:"rejected",reason:U},jt())}finally{G.p=u,f!==null&&x.types!==null&&(f.types=x.types),R.T=f}}function T1(){}function Do(e,t,a,s){if(e.tag!==5)throw Error(l(476));var o=Rm(e).queue;Lm(e,o,t,ee,a===null?T1:function(){return zm(e),a(s)})}function Rm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function zm(e){var t=Rm(e);t.next===null&&(t=e.alternate.memoizedState),Gn(e,t.next.queue,{},jt())}function Mo(){return at(li)}function Om(){return Fe().memoizedState}function wm(){return Fe().memoizedState}function j1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=jt();e=La(a);var s=Ra(t,e,a);s!==null&&(ht(s,t,a),kn(s,t,a)),t={cache:so()},e.payload=t;return}t=t.return}}function D1(e,t,a){var s=jt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mr(e)?Pm(t,a):(a=Fl(e,t,a,s),a!==null&&(ht(a,e,s),km(a,t,s)))}function Vm(e,t,a){var s=jt();Gn(e,t,a,s)}function Gn(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mr(e))Pm(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,x=u(f,a);if(o.hasEagerState=!0,o.eagerState=x,St(x,f))return Fi(e,t,o,0),ze===null&&Ji(),!1}catch{}if(a=Fl(e,t,o,s),a!==null)return ht(a,e,s),km(a,t,s),!0}return!1}function Eo(e,t,a,s){if(s={lane:2,revertLane:ou(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},mr(e)){if(t)throw Error(l(479))}else t=Fl(e,a,s,2),t!==null&&ht(t,e,2)}function mr(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Pm(e,t){Qs=ir=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function km(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Gc(e,a)}}var Jn={readContext:at,use:or,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Jn.useEffectEvent=Be;var Um={readContext:at,use:or,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:qm,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,cr(4194308,4,jm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return cr(4194308,4,e,t)},useInsertionEffect:function(e,t){cr(4,2,e,t)},useMemo:function(e,t){var a=lt();t=t===void 0?null:t;var s=e();if(hs){Ca(!0);try{e()}finally{Ca(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=lt();if(a!==void 0){var o=a(t);if(hs){Ca(!0);try{a(t)}finally{Ca(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=D1.bind(null,ce,e),[s.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:function(e){e=qo(e);var t=e.queue,a=Vm.bind(null,ce,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:To,useDeferredValue:function(e,t){var a=lt();return jo(a,e,t)},useTransition:function(){var e=qo(!1);return e=Lm.bind(null,ce,e.queue,!0,!1),lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ce,o=lt();if(_e){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),ze===null)throw Error(l(349));(ye&127)!==0||lm(s,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,qm(um.bind(null,s,u,e),[e]),s.flags|=2048,$s(9,{destroy:void 0},om.bind(null,s,u,a,t),null),a},useId:function(){var e=lt(),t=ze.identifierPrefix;if(_e){var a=Ft,s=Jt;a=(s&~(1<<32-yt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=rr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=S1++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Mo,useFormState:bm,useActionState:bm,useOptimistic:function(e){var t=lt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Eo.bind(null,ce,!0,a),a.dispatch=t,[e,t]},useMemoCache:yo,useCacheRefresh:function(){return lt().memoizedState=j1.bind(null,ce)},useEffectEvent:function(e){var t=lt(),a={impl:e};return t.memoizedState=a,function(){if((Te&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},No={readContext:at,use:or,useCallback:Mm,useContext:at,useEffect:Ao,useImperativeHandle:Dm,useInsertionEffect:Am,useLayoutEffect:Tm,useMemo:Em,useReducer:ur,useRef:_m,useState:function(){return ur(la)},useDebugValue:To,useDeferredValue:function(e,t){var a=Fe();return Nm(a,Ee.memoizedState,e,t)},useTransition:function(){var e=ur(la)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Hn(e),t]},useSyncExternalStore:rm,useId:Om,useHostTransitionStatus:Mo,useFormState:xm,useActionState:xm,useOptimistic:function(e,t){var a=Fe();return mm(a,Ee,e,t)},useMemoCache:yo,useCacheRefresh:wm};No.useEffectEvent=Cm;var Im={readContext:at,use:or,useCallback:Mm,useContext:at,useEffect:Ao,useImperativeHandle:Dm,useInsertionEffect:Am,useLayoutEffect:Tm,useMemo:Em,useReducer:_o,useRef:_m,useState:function(){return _o(la)},useDebugValue:To,useDeferredValue:function(e,t){var a=Fe();return Ee===null?jo(a,e,t):Nm(a,Ee.memoizedState,e,t)},useTransition:function(){var e=_o(la)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Hn(e),t]},useSyncExternalStore:rm,useId:Om,useHostTransitionStatus:Mo,useFormState:Sm,useActionState:Sm,useOptimistic:function(e,t){var a=Fe();return Ee!==null?mm(a,Ee,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:yo,useCacheRefresh:wm};Im.useEffectEvent=Cm;function Lo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ro={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=jt(),o=La(s);o.payload=t,a!=null&&(o.callback=a),t=Ra(e,o,s),t!==null&&(ht(t,e,s),kn(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=jt(),o=La(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Ra(e,o,s),t!==null&&(ht(t,e,s),kn(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=jt(),s=La(a);s.tag=2,t!=null&&(s.callback=t),t=Ra(e,s,a),t!==null&&(ht(t,e,a),kn(t,e,a))}};function Bm(e,t,a,s,o,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,f):t.prototype&&t.prototype.isPureReactComponent?!Nn(a,s)||!Nn(o,u):!0}function Hm(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Ro.enqueueReplaceState(t,t.state,null)}function vs(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Gm(e){Gi(e)}function Jm(e){console.error(e)}function Fm(e){Gi(e)}function pr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Qm(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function zo(e,t,a){return a=La(a),a.tag=3,a.payload={element:null},a.callback=function(){pr(e,t)},a}function Ym(e){return e=La(e),e.tag=3,e}function $m(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){Qm(t,a,s)}}var f=a.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Qm(t,a,s),typeof o!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function M1(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Is(t,a,o,!0),a=qt.current,a!==null){switch(a.tag){case 31:case 13:return Pt===null?Ar():a.alternate===null&&He===0&&(He=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===er?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),iu(e,s,o)),!1;case 22:return a.flags|=65536,s===er?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),iu(e,s,o)),!1}throw Error(l(435,a.tag))}return iu(e,s,o),Ar(),!1}if(_e)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Zl&&(e=Error(l(422),{cause:s}),zn(zt(e,a)))):(s!==Zl&&(t=Error(l(423),{cause:s}),zn(zt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=zt(s,a),o=zo(e.stateNode,s,o),uo(e,o),He!==4&&(He=2)),!1;var u=Error(l(520),{cause:s});if(u=zt(u,a),Wn===null?Wn=[u]:Wn.push(u),He!==4&&(He=2),t===null)return!0;s=zt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=zo(a.stateNode,s,e),uo(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ka===null||!ka.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Ym(o),$m(o,e,a,s),uo(a,o),!1}a=a.return}while(a!==null);return!1}var Oo=Error(l(461)),$e=!1;function st(e,t,a,s){t.child=e===null?Wd(t,null,a,s):gs(t,e.child,a,s)}function Km(e,t,a,s,o){a=a.render;var u=t.ref;if("ref"in s){var f={};for(var x in s)x!=="ref"&&(f[x]=s[x])}else f=s;return ds(t),s=ho(e,t,a,f,u,o),x=vo(),e!==null&&!$e?(bo(e,t,o),oa(e,t,o)):(_e&&x&&Kl(t),t.flags|=1,st(e,t,s,o),t.child)}function Xm(e,t,a,s,o){if(e===null){var u=a.type;return typeof u=="function"&&!Ql(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Zm(e,t,u,s,o)):(e=Yi(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Ho(e,o)){var f=u.memoizedProps;if(a=a.compare,a=a!==null?a:Nn,a(f,s)&&e.ref===t.ref)return oa(e,t,o)}return t.flags|=1,e=aa(u,s),e.ref=t.ref,e.return=t,t.child=e}function Zm(e,t,a,s,o){if(e!==null){var u=e.memoizedProps;if(Nn(u,s)&&e.ref===t.ref)if($e=!1,t.pendingProps=s=u,Ho(e,o))(e.flags&131072)!==0&&($e=!0);else return t.lanes=e.lanes,oa(e,t,o)}return wo(e,t,a,s,o)}function Wm(e,t,a,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return ep(e,t,u,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zi(t,u!==null?u.cachePool:null),u!==null?am(t,u):mo(),sm(t);else return s=t.lanes=536870912,ep(e,t,u!==null?u.baseLanes|a:a,a,s)}else u!==null?(Zi(t,u.cachePool),am(t,u),Oa(),t.memoizedState=null):(e!==null&&Zi(t,null),mo(),Oa());return st(e,t,o,a),t.child}function Fn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ep(e,t,a,s,o){var u=io();return u=u===null?null:{parent:Qe._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Zi(t,null),mo(),sm(t),e!==null&&Is(e,t,s,!0),t.childLanes=o,null}function fr(e,t){return t=hr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function tp(e,t,a){return gs(t,e.child,null,a),e=fr(t,t.pendingProps),e.flags|=2,Ct(t),t.memoizedState=null,e}function E1(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(s.mode==="hidden")return e=fr(t,s),t.lanes=536870912,Fn(null,e);if(fo(t),(e=we)?(e=ff(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ja!==null?{id:Jt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},a=Pd(e),a.return=t,t.child=a,tt=t,we=null)):e=null,e===null)throw Ma(t);return t.lanes=536870912,null}return fr(t,s)}var u=e.memoizedState;if(u!==null){var f=u.dehydrated;if(fo(t),o)if(t.flags&256)t.flags&=-257,t=tp(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if($e||Is(e,t,a,!1),o=(a&e.childLanes)!==0,$e||o){if(s=ze,s!==null&&(f=Jc(s,a),f!==0&&f!==u.retryLane))throw u.retryLane=f,ls(e,f),ht(s,e,f),Oo;Ar(),t=tp(e,t,a)}else e=u.treeContext,we=kt(f.nextSibling),tt=t,_e=!0,Da=null,Vt=!1,e!==null&&Id(t,e),t=fr(t,s),t.flags|=4096;return t}return e=aa(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function gr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function wo(e,t,a,s,o){return ds(t),a=ho(e,t,a,s,void 0,o),s=vo(),e!==null&&!$e?(bo(e,t,o),oa(e,t,o)):(_e&&s&&Kl(t),t.flags|=1,st(e,t,a,o),t.child)}function ap(e,t,a,s,o,u){return ds(t),t.updateQueue=null,a=im(t,s,a,o),nm(e),s=vo(),e!==null&&!$e?(bo(e,t,u),oa(e,t,u)):(_e&&s&&Kl(t),t.flags|=1,st(e,t,a,u),t.child)}function sp(e,t,a,s,o){if(ds(t),t.stateNode===null){var u=Vs,f=a.contextType;typeof f=="object"&&f!==null&&(u=at(f)),u=new a(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ro,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},lo(t),f=a.contextType,u.context=typeof f=="object"&&f!==null?at(f):Vs,u.state=t.memoizedState,f=a.getDerivedStateFromProps,typeof f=="function"&&(Lo(t,a,f,s),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(f=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),f!==u.state&&Ro.enqueueReplaceState(u,u.state,null),In(t,s,u,o),Un(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var x=t.memoizedProps,S=vs(a,x);u.props=S;var E=u.context,w=a.contextType;f=Vs,typeof w=="object"&&w!==null&&(f=at(w));var U=a.getDerivedStateFromProps;w=typeof U=="function"||typeof u.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,w||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x||E!==f)&&Hm(t,u,s,f),Na=!1;var N=t.memoizedState;u.state=N,In(t,s,u,o),Un(),E=t.memoizedState,x||N!==E||Na?(typeof U=="function"&&(Lo(t,a,U,s),E=t.memoizedState),(S=Na||Bm(t,a,S,s,N,E,f))?(w||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=E),u.props=s,u.state=E,u.context=f,s=S):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,oo(e,t),f=t.memoizedProps,w=vs(a,f),u.props=w,U=t.pendingProps,N=u.context,E=a.contextType,S=Vs,typeof E=="object"&&E!==null&&(S=at(E)),x=a.getDerivedStateFromProps,(E=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==U||N!==S)&&Hm(t,u,s,S),Na=!1,N=t.memoizedState,u.state=N,In(t,s,u,o),Un();var z=t.memoizedState;f!==U||N!==z||Na||e!==null&&e.dependencies!==null&&Ki(e.dependencies)?(typeof x=="function"&&(Lo(t,a,x,s),z=t.memoizedState),(w=Na||Bm(t,a,w,s,N,z,S)||e!==null&&e.dependencies!==null&&Ki(e.dependencies))?(E||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,z,S),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,z,S)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=z),u.props=s,u.state=z,u.context=S,s=w):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,gr(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=gs(t,e.child,null,o),t.child=gs(t,null,a,o)):st(e,t,a,o),t.memoizedState=u.state,e=t.child):e=oa(e,t,o),e}function np(e,t,a,s){return us(),t.flags|=256,st(e,t,a,s),t.child}var Vo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Po(e){return{baseLanes:e,cachePool:Qd()}}function ko(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Tt),e}function ip(e,t,a){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),f&&(o=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(o?za(t):Oa(),(e=we)?(e=ff(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ja!==null?{id:Jt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},a=Pd(e),a.return=t,t.child=a,tt=t,we=null)):e=null,e===null)throw Ma(t);return Su(e)?t.lanes=32:t.lanes=536870912,null}var x=s.children;return s=s.fallback,o?(Oa(),o=t.mode,x=hr({mode:"hidden",children:x},o),s=os(s,o,a,null),x.return=t,s.return=t,x.sibling=s,t.child=x,s=t.child,s.memoizedState=Po(a),s.childLanes=ko(e,f,a),t.memoizedState=Vo,Fn(null,s)):(za(t),Uo(t,x))}var S=e.memoizedState;if(S!==null&&(x=S.dehydrated,x!==null)){if(u)t.flags&256?(za(t),t.flags&=-257,t=Io(e,t,a)):t.memoizedState!==null?(Oa(),t.child=e.child,t.flags|=128,t=null):(Oa(),x=s.fallback,o=t.mode,s=hr({mode:"visible",children:s.children},o),x=os(x,o,a,null),x.flags|=2,s.return=t,x.return=t,s.sibling=x,t.child=s,gs(t,e.child,null,a),s=t.child,s.memoizedState=Po(a),s.childLanes=ko(e,f,a),t.memoizedState=Vo,t=Fn(null,s));else if(za(t),Su(x)){if(f=x.nextSibling&&x.nextSibling.dataset,f)var E=f.dgst;f=E,s=Error(l(419)),s.stack="",s.digest=f,zn({value:s,source:null,stack:null}),t=Io(e,t,a)}else if($e||Is(e,t,a,!1),f=(a&e.childLanes)!==0,$e||f){if(f=ze,f!==null&&(s=Jc(f,a),s!==0&&s!==S.retryLane))throw S.retryLane=s,ls(e,s),ht(f,e,s),Oo;yu(x)||Ar(),t=Io(e,t,a)}else yu(x)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,we=kt(x.nextSibling),tt=t,_e=!0,Da=null,Vt=!1,e!==null&&Id(t,e),t=Uo(t,s.children),t.flags|=4096);return t}return o?(Oa(),x=s.fallback,o=t.mode,S=e.child,E=S.sibling,s=aa(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,E!==null?x=aa(E,x):(x=os(x,o,a,null),x.flags|=2),x.return=t,s.return=t,s.sibling=x,t.child=s,Fn(null,s),s=t.child,x=e.child.memoizedState,x===null?x=Po(a):(o=x.cachePool,o!==null?(S=Qe._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=Qd(),x={baseLanes:x.baseLanes|a,cachePool:o}),s.memoizedState=x,s.childLanes=ko(e,f,a),t.memoizedState=Vo,Fn(e.child,s)):(za(t),a=e.child,e=a.sibling,a=aa(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=a,t.memoizedState=null,a)}function Uo(e,t){return t=hr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function hr(e,t){return e=_t(22,e,null,t),e.lanes=0,e}function Io(e,t,a){return gs(t,e.child,null,a),e=Uo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rp(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),to(e.return,t,a)}function Bo(e,t,a,s,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=a,f.tailMode=o,f.treeForkCount=u)}function lp(e,t,a){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var f=Je.current,x=(f&2)!==0;if(x?(f=f&1|2,t.flags|=128):f&=1,F(Je,f),st(e,t,s,a),s=_e?Rn:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rp(e,a,t);else if(e.tag===19)rp(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&nr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Bo(t,!1,o,a,u,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&nr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Bo(t,!0,a,null,u,s);break;case"together":Bo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function oa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Pa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Is(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=aa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=aa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ho(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ki(e)))}function N1(e,t,a){switch(t.tag){case 3:rt(t,t.stateNode.containerInfo),Ea(t,Qe,e.memoizedState.cache),us();break;case 27:case 5:bn(t);break;case 4:rt(t,t.stateNode.containerInfo);break;case 10:Ea(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,fo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(za(t),t.flags|=128,null):(a&t.child.childLanes)!==0?ip(e,t,a):(za(t),e=oa(e,t,a),e!==null?e.sibling:null);za(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Is(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return lp(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),F(Je,Je.current),s)break;return null;case 22:return t.lanes=0,Wm(e,t,a,t.pendingProps);case 24:Ea(t,Qe,e.memoizedState.cache)}return oa(e,t,a)}function op(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)$e=!0;else{if(!Ho(e,a)&&(t.flags&128)===0)return $e=!1,N1(e,t,a);$e=(e.flags&131072)!==0}else $e=!1,_e&&(t.flags&1048576)!==0&&Ud(t,Rn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ps(t.elementType),t.type=e,typeof e=="function")Ql(e)?(s=vs(e,s),t.tag=1,t=sp(null,t,e,s,a)):(t.tag=0,t=wo(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===J){t.tag=11,t=Km(null,t,e,s,a);break e}else if(o===Q){t.tag=14,t=Xm(null,t,e,s,a);break e}}throw t=de(e)||e,Error(l(306,t,""))}}return t;case 0:return wo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=vs(s,t.pendingProps),sp(e,t,s,o,a);case 3:e:{if(rt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,oo(e,t),In(t,s,null,a);var f=t.memoizedState;if(s=f.cache,Ea(t,Qe,s),s!==u.cache&&ao(t,[Qe],a,!0),Un(),s=f.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=np(e,t,s,a);break e}else if(s!==o){o=zt(Error(l(424)),t),zn(o),t=np(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,we=kt(e.firstChild),tt=t,_e=!0,Da=null,Vt=!0,a=Wd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(us(),s===o){t=oa(e,t,a);break e}st(e,t,s,a)}t=t.child}return t;case 26:return gr(e,t),e===null?(a=yf(t.type,null,t.pendingProps,null))?t.memoizedState=a:_e||(a=t.type,e=t.pendingProps,s=Lr(ve.current).createElement(a),s[et]=t,s[ct]=e,nt(s,a,e),Ze(s),t.stateNode=s):t.memoizedState=yf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return bn(t),e===null&&_e&&(s=t.stateNode=vf(t.type,t.pendingProps,ve.current),tt=t,Vt=!0,o=we,Ha(t.type)?(_u=o,we=kt(s.firstChild)):we=o),st(e,t,t.pendingProps.children,a),gr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((o=s=we)&&(s=lb(s,t.type,t.pendingProps,Vt),s!==null?(t.stateNode=s,tt=t,we=kt(s.firstChild),Vt=!1,o=!0):o=!1),o||Ma(t)),bn(t),o=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,s=u.children,vu(o,u)?s=null:f!==null&&vu(o,f)&&(t.flags|=32),t.memoizedState!==null&&(o=ho(e,t,_1,null,null,a),li._currentValue=o),gr(e,t),st(e,t,s,a),t.child;case 6:return e===null&&_e&&((e=a=we)&&(a=ob(a,t.pendingProps,Vt),a!==null?(t.stateNode=a,tt=t,we=null,e=!0):e=!1),e||Ma(t)),null;case 13:return ip(e,t,a);case 4:return rt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=gs(t,null,s,a):st(e,t,s,a),t.child;case 11:return Km(e,t,t.type,t.pendingProps,a);case 7:return st(e,t,t.pendingProps,a),t.child;case 8:return st(e,t,t.pendingProps.children,a),t.child;case 12:return st(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Ea(t,t.type,s.value),st(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,ds(t),o=at(o),s=s(o),t.flags|=1,st(e,t,s,a),t.child;case 14:return Xm(e,t,t.type,t.pendingProps,a);case 15:return Zm(e,t,t.type,t.pendingProps,a);case 19:return lp(e,t,a);case 31:return E1(e,t,a);case 22:return Wm(e,t,a,t.pendingProps);case 24:return ds(t),s=at(Qe),e===null?(o=io(),o===null&&(o=ze,u=so(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:s,cache:o},lo(t),Ea(t,Qe,o)):((e.lanes&a)!==0&&(oo(e,t),In(t,null,null,a),Un()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ea(t,Qe,s)):(s=u.cache,Ea(t,Qe,s),s!==o.cache&&ao(t,[Qe],a,!0))),st(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ua(e){e.flags|=4}function Go(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Op())e.flags|=8192;else throw fs=er,ro}else e.flags&=-16777217}function up(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Af(t))if(Op())e.flags|=8192;else throw fs=er,ro}function vr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Bc():536870912,e.lanes|=t,Ws|=t)}function Qn(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function L1(e,t,a){var s=t.pendingProps;switch(Xl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ia(Qe),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Us(t)?ua(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Wl())),Ve(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(ua(t),u!==null?(Ve(t),up(t,u)):(Ve(t),Go(t,o,null,s,a))):u?u!==e.memoizedState?(ua(t),Ve(t),up(t,u)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ua(t),Ve(t),Go(t,o,e,s,a)),null;case 27:if(Di(t),a=ve.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ua(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Ve(t),null}e=K.current,Us(t)?Bd(t):(e=vf(o,s,a),t.stateNode=e,ua(t))}return Ve(t),null;case 5:if(Di(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ua(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Ve(t),null}if(u=K.current,Us(t))Bd(t);else{var f=Lr(ve.current);switch(u){case 1:u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=f.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?f.createElement("select",{is:s.is}):f.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?f.createElement(o,{is:s.is}):f.createElement(o)}}u[et]=t,u[ct]=s;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)u.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=u;e:switch(nt(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ua(t)}}return Ve(t),Go(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ua(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=ve.current,Us(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=tt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[et]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||rf(e.nodeValue,a)),e||Ma(t,!0)}else e=Lr(e).createTextNode(s),e[et]=t,t.stateNode=e}return Ve(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Us(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[et]=t}else us(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else a=Wl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ct(t),t):(Ct(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ve(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Us(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[et]=t}else us(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),o=!1}else o=Wl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ct(t),t):(Ct(t),null)}return Ct(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),vr(t,t.updateQueue),Ve(t),null);case 4:return Ge(),e===null&&mu(t.stateNode.containerInfo),Ve(t),null;case 10:return ia(t.type),Ve(t),null;case 19:if(P(Je),s=t.memoizedState,s===null)return Ve(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)Qn(s,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=nr(e),u!==null){for(t.flags|=128,Qn(s,!1),e=u.updateQueue,t.updateQueue=e,vr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Vd(a,e),a=a.sibling;return F(Je,Je.current&1|2),_e&&sa(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&bt()>_r&&(t.flags|=128,o=!0,Qn(s,!1),t.lanes=4194304)}else{if(!o)if(e=nr(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,vr(t,e),Qn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!_e)return Ve(t),null}else 2*bt()-s.renderingStartTime>_r&&a!==536870912&&(t.flags|=128,o=!0,Qn(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bt(),e.sibling=null,a=Je.current,F(Je,o?a&1|2:a&1),_e&&sa(t,s.treeForkCount),e):(Ve(t),null);case 22:case 23:return Ct(t),po(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),a=t.updateQueue,a!==null&&vr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&P(ms),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ia(Qe),Ve(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function R1(e,t){switch(Xl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ia(Qe),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Di(t),null;case 31:if(t.memoizedState!==null){if(Ct(t),t.alternate===null)throw Error(l(340));us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ct(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return P(Je),null;case 4:return Ge(),null;case 10:return ia(t.type),null;case 22:case 23:return Ct(t),po(),e!==null&&P(ms),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ia(Qe),null;case 25:return null;default:return null}}function cp(e,t){switch(Xl(t),t.tag){case 3:ia(Qe),Ge();break;case 26:case 27:case 5:Di(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&Ct(t);break;case 13:Ct(t);break;case 19:P(Je);break;case 10:ia(t.type);break;case 22:case 23:Ct(t),po(),e!==null&&P(ms);break;case 24:ia(Qe)}}function Yn(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var u=a.create,f=a.inst;s=u(),f.destroy=s}a=a.next}while(a!==o)}}catch(x){Me(t,t.return,x)}}function wa(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var f=s.inst,x=f.destroy;if(x!==void 0){f.destroy=void 0,o=t;var S=a,E=x;try{E()}catch(w){Me(o,S,w)}}}s=s.next}while(s!==u)}}catch(w){Me(t,t.return,w)}}function dp(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{tm(t,a)}catch(s){Me(e,e.return,s)}}}function mp(e,t,a){a.props=vs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Me(e,t,s)}}function $n(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){Me(e,t,o)}}function Qt(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Me(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Me(e,t,o)}else a.current=null}function pp(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Me(e,e.return,o)}}function Jo(e,t,a){try{var s=e.stateNode;tb(s,e.type,a,t),s[ct]=t}catch(o){Me(e,e.return,o)}}function fp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function Fo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ea));else if(s!==4&&(s===27&&Ha(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Qo(e,t,a),e=e.sibling;e!==null;)Qo(e,t,a),e=e.sibling}function br(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Ha(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(br(e,t,a),e=e.sibling;e!==null;)br(e,t,a),e=e.sibling}function gp(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);nt(t,s,a),t[et]=e,t[ct]=a}catch(u){Me(e,e.return,u)}}var ca=!1,Ke=!1,Yo=!1,hp=typeof WeakSet=="function"?WeakSet:Set,We=null;function z1(e,t){if(e=e.containerInfo,gu=kr,e=Dd(e),Ul(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var f=0,x=-1,S=-1,E=0,w=0,U=e,N=null;t:for(;;){for(var z;U!==a||o!==0&&U.nodeType!==3||(x=f+o),U!==u||s!==0&&U.nodeType!==3||(S=f+s),U.nodeType===3&&(f+=U.nodeValue.length),(z=U.firstChild)!==null;)N=U,U=z;for(;;){if(U===e)break t;if(N===a&&++E===o&&(x=f),N===u&&++w===s&&(S=f),(z=U.nextSibling)!==null)break;U=N,N=U.parentNode}U=z}a=x===-1||S===-1?null:{start:x,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(hu={focusedElem:e,selectionRange:a},kr=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){switch(t=We,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,s=a.stateNode;try{var X=vs(a.type,o);e=s.getSnapshotBeforeUpdate(X,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(ne){Me(a,a.return,ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)xu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}}function vp(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:ma(e,a),s&4&&Yn(5,a);break;case 1:if(ma(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(f){Me(a,a.return,f)}else{var o=vs(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Me(a,a.return,f)}}s&64&&dp(a),s&512&&$n(a,a.return);break;case 3:if(ma(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{tm(e,t)}catch(f){Me(a,a.return,f)}}break;case 27:t===null&&s&4&&gp(a);case 26:case 5:ma(e,a),t===null&&s&4&&pp(a),s&512&&$n(a,a.return);break;case 12:ma(e,a);break;case 31:ma(e,a),s&4&&yp(e,a);break;case 13:ma(e,a),s&4&&Sp(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=H1.bind(null,a),ub(e,a))));break;case 22:if(s=a.memoizedState!==null||ca,!s){t=t!==null&&t.memoizedState!==null||Ke,o=ca;var u=Ke;ca=s,(Ke=t)&&!u?pa(e,a,(a.subtreeFlags&8772)!==0):ma(e,a),ca=o,Ke=u}break;case 30:break;default:ma(e,a)}}function bp(e){var t=e.alternate;t!==null&&(e.alternate=null,bp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ql(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,mt=!1;function da(e,t,a){for(a=a.child;a!==null;)xp(e,t,a),a=a.sibling}function xp(e,t,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(xn,a)}catch{}switch(a.tag){case 26:Ke||Qt(a,t),da(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ke||Qt(a,t);var s=Ue,o=mt;Ha(a.type)&&(Ue=a.stateNode,mt=!1),da(e,t,a),ni(a.stateNode),Ue=s,mt=o;break;case 5:Ke||Qt(a,t);case 6:if(s=Ue,o=mt,Ue=null,da(e,t,a),Ue=s,mt=o,Ue!==null)if(mt)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(a.stateNode)}catch(u){Me(a,t,u)}else try{Ue.removeChild(a.stateNode)}catch(u){Me(a,t,u)}break;case 18:Ue!==null&&(mt?(e=Ue,mf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),on(e)):mf(Ue,a.stateNode));break;case 4:s=Ue,o=mt,Ue=a.stateNode.containerInfo,mt=!0,da(e,t,a),Ue=s,mt=o;break;case 0:case 11:case 14:case 15:wa(2,a,t),Ke||wa(4,a,t),da(e,t,a);break;case 1:Ke||(Qt(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&mp(a,t,s)),da(e,t,a);break;case 21:da(e,t,a);break;case 22:Ke=(s=Ke)||a.memoizedState!==null,da(e,t,a),Ke=s;break;default:da(e,t,a)}}function yp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{on(e)}catch(a){Me(t,t.return,a)}}}function Sp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{on(e)}catch(a){Me(t,t.return,a)}}function O1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hp),t;default:throw Error(l(435,e.tag))}}function xr(e,t){var a=O1(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=G1.bind(null,e,s);s.then(o,o)}})}function pt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],u=e,f=t,x=f;e:for(;x!==null;){switch(x.tag){case 27:if(Ha(x.type)){Ue=x.stateNode,mt=!1;break e}break;case 5:Ue=x.stateNode,mt=!1;break e;case 3:case 4:Ue=x.stateNode.containerInfo,mt=!0;break e}x=x.return}if(Ue===null)throw Error(l(160));xp(u,f,o),Ue=null,mt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)_p(t,e),t=t.sibling}var Ht=null;function _p(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(t,e),ft(e),s&4&&(wa(3,e,e.return),Yn(3,e),wa(5,e,e.return));break;case 1:pt(t,e),ft(e),s&512&&(Ke||a===null||Qt(a,a.return)),s&64&&ca&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=Ht;if(pt(t,e),ft(e),s&512&&(Ke||a===null||Qt(a,a.return)),s&4){var u=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[_n]||u[et]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),nt(u,s,a),u[et]=e,Ze(u),s=u;break e;case"link":var f=qf("link","href",o).get(s+(a.href||""));if(f){for(var x=0;x<f.length;x++)if(u=f[x],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){f.splice(x,1);break t}}u=o.createElement(s),nt(u,s,a),o.head.appendChild(u);break;case"meta":if(f=qf("meta","content",o).get(s+(a.content||""))){for(x=0;x<f.length;x++)if(u=f[x],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){f.splice(x,1);break t}}u=o.createElement(s),nt(u,s,a),o.head.appendChild(u);break;default:throw Error(l(468,s))}u[et]=e,Ze(u),s=u}e.stateNode=s}else Cf(o,e.type,e.stateNode);else e.stateNode=_f(o,s,e.memoizedProps);else u!==s?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,s===null?Cf(o,e.type,e.stateNode):_f(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Jo(e,e.memoizedProps,a.memoizedProps)}break;case 27:pt(t,e),ft(e),s&512&&(Ke||a===null||Qt(a,a.return)),a!==null&&s&4&&Jo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(pt(t,e),ft(e),s&512&&(Ke||a===null||Qt(a,a.return)),e.flags&32){o=e.stateNode;try{Es(o,"")}catch(X){Me(e,e.return,X)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Jo(e,o,a!==null?a.memoizedProps:o)),s&1024&&(Yo=!0);break;case 6:if(pt(t,e),ft(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(X){Me(e,e.return,X)}}break;case 3:if(Or=null,o=Ht,Ht=Rr(t.containerInfo),pt(t,e),Ht=o,ft(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{on(t.containerInfo)}catch(X){Me(e,e.return,X)}Yo&&(Yo=!1,qp(e));break;case 4:s=Ht,Ht=Rr(e.stateNode.containerInfo),pt(t,e),ft(e),Ht=s;break;case 12:pt(t,e),ft(e);break;case 31:pt(t,e),ft(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,xr(e,s)));break;case 13:pt(t,e),ft(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sr=bt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,xr(e,s)));break;case 22:o=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,E=ca,w=Ke;if(ca=E||o,Ke=w||S,pt(t,e),Ke=w,ca=E,ft(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||S||ca||Ke||bs(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(u=S.stateNode,o)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{x=S.stateNode;var U=S.memoizedProps.style,N=U!=null&&U.hasOwnProperty("display")?U.display:null;x.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(X){Me(S,S.return,X)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(X){Me(S,S.return,X)}}}else if(t.tag===18){if(a===null){S=t;try{var z=S.stateNode;o?pf(z,!0):pf(S.stateNode,!1)}catch(X){Me(S,S.return,X)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,xr(e,a))));break;case 19:pt(t,e),ft(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,xr(e,s)));break;case 30:break;case 21:break;default:pt(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(fp(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,u=Fo(e);br(e,u,o);break;case 5:var f=a.stateNode;a.flags&32&&(Es(f,""),a.flags&=-33);var x=Fo(e);br(e,x,f);break;case 3:case 4:var S=a.stateNode.containerInfo,E=Fo(e);Qo(e,E,S);break;default:throw Error(l(161))}}catch(w){Me(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;qp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ma(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vp(e,t.alternate,t),t=t.sibling}function bs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:wa(4,t,t.return),bs(t);break;case 1:Qt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&mp(t,t.return,a),bs(t);break;case 27:ni(t.stateNode);case 26:case 5:Qt(t,t.return),bs(t);break;case 22:t.memoizedState===null&&bs(t);break;case 30:bs(t);break;default:bs(t)}e=e.sibling}}function pa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,f=u.flags;switch(u.tag){case 0:case 11:case 15:pa(o,u,a),Yn(4,u);break;case 1:if(pa(o,u,a),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(E){Me(s,s.return,E)}if(s=u,o=s.updateQueue,o!==null){var x=s.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)em(S[o],x)}catch(E){Me(s,s.return,E)}}a&&f&64&&dp(u),$n(u,u.return);break;case 27:gp(u);case 26:case 5:pa(o,u,a),a&&s===null&&f&4&&pp(u),$n(u,u.return);break;case 12:pa(o,u,a);break;case 31:pa(o,u,a),a&&f&4&&yp(o,u);break;case 13:pa(o,u,a),a&&f&4&&Sp(o,u);break;case 22:u.memoizedState===null&&pa(o,u,a),$n(u,u.return);break;case 30:break;default:pa(o,u,a)}t=t.sibling}}function $o(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&On(a))}function Ko(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&On(e))}function Gt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cp(e,t,a,s),t=t.sibling}function Cp(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Gt(e,t,a,s),o&2048&&Yn(9,t);break;case 1:Gt(e,t,a,s);break;case 3:Gt(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&On(e)));break;case 12:if(o&2048){Gt(e,t,a,s),e=t.stateNode;try{var u=t.memoizedProps,f=u.id,x=u.onPostCommit;typeof x=="function"&&x(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Me(t,t.return,S)}}else Gt(e,t,a,s);break;case 31:Gt(e,t,a,s);break;case 13:Gt(e,t,a,s);break;case 23:break;case 22:u=t.stateNode,f=t.alternate,t.memoizedState!==null?u._visibility&2?Gt(e,t,a,s):Kn(e,t):u._visibility&2?Gt(e,t,a,s):(u._visibility|=2,Ks(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&$o(f,t);break;case 24:Gt(e,t,a,s),o&2048&&Ko(t.alternate,t);break;default:Gt(e,t,a,s)}}function Ks(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,f=t,x=a,S=s,E=f.flags;switch(f.tag){case 0:case 11:case 15:Ks(u,f,x,S,o),Yn(8,f);break;case 23:break;case 22:var w=f.stateNode;f.memoizedState!==null?w._visibility&2?Ks(u,f,x,S,o):Kn(u,f):(w._visibility|=2,Ks(u,f,x,S,o)),o&&E&2048&&$o(f.alternate,f);break;case 24:Ks(u,f,x,S,o),o&&E&2048&&Ko(f.alternate,f);break;default:Ks(u,f,x,S,o)}t=t.sibling}}function Kn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:Kn(a,s),o&2048&&$o(s.alternate,s);break;case 24:Kn(a,s),o&2048&&Ko(s.alternate,s);break;default:Kn(a,s)}t=t.sibling}}var Xn=8192;function Xs(e,t,a){if(e.subtreeFlags&Xn)for(e=e.child;e!==null;)Ap(e,t,a),e=e.sibling}function Ap(e,t,a){switch(e.tag){case 26:Xs(e,t,a),e.flags&Xn&&e.memoizedState!==null&&Sb(a,Ht,e.memoizedState,e.memoizedProps);break;case 5:Xs(e,t,a);break;case 3:case 4:var s=Ht;Ht=Rr(e.stateNode.containerInfo),Xs(e,t,a),Ht=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Xn,Xn=16777216,Xs(e,t,a),Xn=s):Xs(e,t,a));break;default:Xs(e,t,a)}}function Tp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Zn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];We=s,Dp(s,e)}Tp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jp(e),e=e.sibling}function jp(e){switch(e.tag){case 0:case 11:case 15:Zn(e),e.flags&2048&&wa(9,e,e.return);break;case 3:Zn(e);break;case 12:Zn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yr(e)):Zn(e);break;default:Zn(e)}}function yr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];We=s,Dp(s,e)}Tp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:wa(8,t,t.return),yr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,yr(t));break;default:yr(t)}e=e.sibling}}function Dp(e,t){for(;We!==null;){var a=We;switch(a.tag){case 0:case 11:case 15:wa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:On(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,We=s;else e:for(a=e;We!==null;){s=We;var o=s.sibling,u=s.return;if(bp(s),s===a){We=null;break e}if(o!==null){o.return=u,We=o;break e}We=u}}}var w1={getCacheForType:function(e){var t=at(Qe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return at(Qe).controller.signal}},V1=typeof WeakMap=="function"?WeakMap:Map,Te=0,ze=null,be=null,ye=0,De=0,At=null,Va=!1,Zs=!1,Xo=!1,fa=0,He=0,Pa=0,xs=0,Zo=0,Tt=0,Ws=0,Wn=null,gt=null,Wo=!1,Sr=0,Mp=0,_r=1/0,qr=null,ka=null,Xe=0,Ua=null,en=null,ga=0,eu=0,tu=null,Ep=null,ei=0,au=null;function jt(){return(Te&2)!==0&&ye!==0?ye&-ye:R.T!==null?ou():Fc()}function Np(){if(Tt===0)if((ye&536870912)===0||_e){var e=Ni;Ni<<=1,(Ni&3932160)===0&&(Ni=262144),Tt=e}else Tt=536870912;return e=qt.current,e!==null&&(e.flags|=32),Tt}function ht(e,t,a){(e===ze&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(tn(e,0),Ia(e,ye,Tt,!1)),Sn(e,a),((Te&2)===0||e!==ze)&&(e===ze&&((Te&2)===0&&(xs|=a),He===4&&Ia(e,ye,Tt,!1)),Yt(e))}function Lp(e,t,a){if((Te&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||yn(e,t),o=s?U1(e,t):nu(e,t,!0),u=s;do{if(o===0){Zs&&!s&&Ia(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!P1(a)){o=nu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var x=e;o=Wn;var S=x.current.memoizedState.isDehydrated;if(S&&(tn(x,f).flags|=256),f=nu(x,f,!1),f!==2){if(Xo&&!S){x.errorRecoveryDisabledLanes|=u,xs|=u,o=4;break e}u=gt,gt=o,u!==null&&(gt===null?gt=u:gt.push.apply(gt,u))}o=f}if(u=!1,o!==2)continue}}if(o===1){tn(e,0),Ia(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ia(s,t,Tt,!Va);break e;case 2:gt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Sr+300-bt(),10<o)){if(Ia(s,t,Tt,!Va),Ri(s,0,!0)!==0)break e;ga=t,s.timeoutHandle=cf(Rp.bind(null,s,a,gt,qr,Wo,t,Tt,xs,Ws,Va,u,"Throttled",-0,0),o);break e}Rp(s,a,gt,qr,Wo,t,Tt,xs,Ws,Va,u,null,-0,0)}}break}while(!0);Yt(e)}function Rp(e,t,a,s,o,u,f,x,S,E,w,U,N,z){if(e.timeoutHandle=-1,U=t.subtreeFlags,U&8192||(U&16785408)===16785408){U={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},Ap(t,u,U);var X=(u&62914560)===u?Sr-bt():(u&4194048)===u?Mp-bt():0;if(X=_b(U,X),X!==null){ga=u,e.cancelPendingCommit=X(Ip.bind(null,e,t,u,a,s,o,f,x,S,w,U,null,N,z)),Ia(e,u,f,!E);return}}Ip(e,t,u,a,s,o,f,x,S)}function P1(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],u=o.getSnapshot;o=o.value;try{if(!St(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ia(e,t,a,s){t&=~Zo,t&=~xs,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-yt(o),f=1<<u;s[u]=-1,o&=~f}a!==0&&Hc(e,a,t)}function Cr(){return(Te&6)===0?(ti(0),!1):!0}function su(){if(be!==null){if(De===0)var e=be.return;else e=be,na=cs=null,xo(e),Js=null,Vn=0,e=be;for(;e!==null;)cp(e.alternate,e),e=e.return;be=null}}function tn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,nb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ga=0,su(),ze=e,be=a=aa(e.current,null),ye=t,De=0,At=null,Va=!1,Zs=yn(e,t),Xo=!1,Ws=Tt=Zo=xs=Pa=He=0,gt=Wn=null,Wo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-yt(s),u=1<<o;t|=e[o],s&=~u}return fa=t,Ji(),a}function zp(e,t){ce=null,R.H=Jn,t===Gs||t===Wi?(t=Kd(),De=3):t===ro?(t=Kd(),De=4):De=t===Oo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,be===null&&(He=1,pr(e,zt(t,e.current)))}function Op(){var e=qt.current;return e===null?!0:(ye&4194048)===ye?Pt===null:(ye&62914560)===ye||(ye&536870912)!==0?e===Pt:!1}function wp(){var e=R.H;return R.H=Jn,e===null?Jn:e}function Vp(){var e=R.A;return R.A=w1,e}function Ar(){He=4,Va||(ye&4194048)!==ye&&qt.current!==null||(Zs=!0),(Pa&134217727)===0&&(xs&134217727)===0||ze===null||Ia(ze,ye,Tt,!1)}function nu(e,t,a){var s=Te;Te|=2;var o=wp(),u=Vp();(ze!==e||ye!==t)&&(qr=null,tn(e,t)),t=!1;var f=He;e:do try{if(De!==0&&be!==null){var x=be,S=At;switch(De){case 8:su(),f=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var E=De;if(De=0,At=null,an(e,x,S,E),a&&Zs){f=0;break e}break;default:E=De,De=0,At=null,an(e,x,S,E)}}k1(),f=He;break}catch(w){zp(e,w)}while(!0);return t&&e.shellSuspendCounter++,na=cs=null,Te=s,R.H=o,R.A=u,be===null&&(ze=null,ye=0,Ji()),f}function k1(){for(;be!==null;)Pp(be)}function U1(e,t){var a=Te;Te|=2;var s=wp(),o=Vp();ze!==e||ye!==t?(qr=null,_r=bt()+500,tn(e,t)):Zs=yn(e,t);e:do try{if(De!==0&&be!==null){t=be;var u=At;t:switch(De){case 1:De=0,At=null,an(e,t,u,1);break;case 2:case 9:if(Yd(u)){De=0,At=null,kp(t);break}t=function(){De!==2&&De!==9||ze!==e||(De=7),Yt(e)},u.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Yd(u)?(De=0,At=null,kp(t)):(De=0,At=null,an(e,t,u,7));break;case 5:var f=null;switch(be.tag){case 26:f=be.memoizedState;case 5:case 27:var x=be;if(f?Af(f):x.stateNode.complete){De=0,At=null;var S=x.sibling;if(S!==null)be=S;else{var E=x.return;E!==null?(be=E,Tr(E)):be=null}break t}}De=0,At=null,an(e,t,u,5);break;case 6:De=0,At=null,an(e,t,u,6);break;case 8:su(),He=6;break e;default:throw Error(l(462))}}I1();break}catch(w){zp(e,w)}while(!0);return na=cs=null,R.H=s,R.A=o,Te=a,be!==null?0:(ze=null,ye=0,Ji(),He)}function I1(){for(;be!==null&&!cv();)Pp(be)}function Pp(e){var t=op(e.alternate,e,fa);e.memoizedProps=e.pendingProps,t===null?Tr(e):be=t}function kp(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=ap(a,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=ap(a,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:xo(t);default:cp(a,t),t=be=Vd(t,fa),t=op(a,t,fa)}e.memoizedProps=e.pendingProps,t===null?Tr(e):be=t}function an(e,t,a,s){na=cs=null,xo(t),Js=null,Vn=0;var o=t.return;try{if(M1(e,o,t,a,ye)){He=1,pr(e,zt(a,e.current)),be=null;return}}catch(u){if(o!==null)throw be=o,u;He=1,pr(e,zt(a,e.current)),be=null;return}t.flags&32768?(_e||s===1?e=!0:Zs||(ye&536870912)!==0?e=!1:(Va=e=!0,(s===2||s===9||s===3||s===6)&&(s=qt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Up(t,e)):Tr(t)}function Tr(e){var t=e;do{if((t.flags&32768)!==0){Up(t,Va);return}e=t.return;var a=L1(t.alternate,t,fa);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);He===0&&(He=5)}function Up(e,t){do{var a=R1(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);He=6,be=null}function Ip(e,t,a,s,o,u,f,x,S){e.cancelPendingCommit=null;do jr();while(Xe!==0);if((Te&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=Jl,yv(e,a,u,f,x,S),e===ze&&(be=ze=null,ye=0),en=t,Ua=e,ga=a,eu=u,tu=o,Ep=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,J1(Mi,function(){return Fp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=R.T,R.T=null,o=G.p,G.p=2,f=Te,Te|=4;try{z1(e,t,a)}finally{Te=f,G.p=o,R.T=s}}Xe=1,Bp(),Hp(),Gp()}}function Bp(){if(Xe===1){Xe=0;var e=Ua,t=en,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var s=G.p;G.p=2;var o=Te;Te|=4;try{_p(t,e);var u=hu,f=Dd(e.containerInfo),x=u.focusedElem,S=u.selectionRange;if(f!==x&&x&&x.ownerDocument&&jd(x.ownerDocument.documentElement,x)){if(S!==null&&Ul(x)){var E=S.start,w=S.end;if(w===void 0&&(w=E),"selectionStart"in x)x.selectionStart=E,x.selectionEnd=Math.min(w,x.value.length);else{var U=x.ownerDocument||document,N=U&&U.defaultView||window;if(N.getSelection){var z=N.getSelection(),X=x.textContent.length,ne=Math.min(S.start,X),Le=S.end===void 0?ne:Math.min(S.end,X);!z.extend&&ne>Le&&(f=Le,Le=ne,ne=f);var T=Td(x,ne),C=Td(x,Le);if(T&&C&&(z.rangeCount!==1||z.anchorNode!==T.node||z.anchorOffset!==T.offset||z.focusNode!==C.node||z.focusOffset!==C.offset)){var M=U.createRange();M.setStart(T.node,T.offset),z.removeAllRanges(),ne>Le?(z.addRange(M),z.extend(C.node,C.offset)):(M.setEnd(C.node,C.offset),z.addRange(M))}}}}for(U=[],z=x;z=z.parentNode;)z.nodeType===1&&U.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<U.length;x++){var k=U[x];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}kr=!!gu,hu=gu=null}finally{Te=o,G.p=s,R.T=a}}e.current=t,Xe=2}}function Hp(){if(Xe===2){Xe=0;var e=Ua,t=en,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var s=G.p;G.p=2;var o=Te;Te|=4;try{vp(e,t.alternate,t)}finally{Te=o,G.p=s,R.T=a}}Xe=3}}function Gp(){if(Xe===4||Xe===3){Xe=0,dv();var e=Ua,t=en,a=ga,s=Ep;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xe=5:(Xe=0,en=Ua=null,Jp(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ka=null),Sl(a),t=t.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(xn,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=R.T,o=G.p,G.p=2,R.T=null;try{for(var u=e.onRecoverableError,f=0;f<s.length;f++){var x=s[f];u(x.value,{componentStack:x.stack})}}finally{R.T=t,G.p=o}}(ga&3)!==0&&jr(),Yt(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===au?ei++:(ei=0,au=e):ei=0,ti(0)}}function Jp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,On(t)))}function jr(){return Bp(),Hp(),Gp(),Fp()}function Fp(){if(Xe!==5)return!1;var e=Ua,t=eu;eu=0;var a=Sl(ga),s=R.T,o=G.p;try{G.p=32>a?32:a,R.T=null,a=tu,tu=null;var u=Ua,f=ga;if(Xe=0,en=Ua=null,ga=0,(Te&6)!==0)throw Error(l(331));var x=Te;if(Te|=4,jp(u.current),Cp(u,u.current,f,a),Te=x,ti(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(xn,u)}catch{}return!0}finally{G.p=o,R.T=s,Jp(e,t)}}function Qp(e,t,a){t=zt(a,t),t=zo(e.stateNode,t,2),e=Ra(e,t,2),e!==null&&(Sn(e,2),Yt(e))}function Me(e,t,a){if(e.tag===3)Qp(e,e,a);else for(;t!==null;){if(t.tag===3){Qp(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ka===null||!ka.has(s))){e=zt(a,e),a=Ym(2),s=Ra(t,a,2),s!==null&&($m(a,s,t,e),Sn(s,2),Yt(s));break}}t=t.return}}function iu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new V1;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(Xo=!0,o.add(a),e=B1.bind(null,e,t,a),t.then(e,e))}function B1(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ze===e&&(ye&a)===a&&(He===4||He===3&&(ye&62914560)===ye&&300>bt()-Sr?(Te&2)===0&&tn(e,0):Zo|=a,Ws===ye&&(Ws=0)),Yt(e)}function Yp(e,t){t===0&&(t=Bc()),e=ls(e,t),e!==null&&(Sn(e,t),Yt(e))}function H1(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Yp(e,a)}function G1(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Yp(e,a)}function J1(e,t){return vl(e,t)}var Dr=null,sn=null,ru=!1,Mr=!1,lu=!1,Ba=0;function Yt(e){e!==sn&&e.next===null&&(sn===null?Dr=sn=e:sn=sn.next=e),Mr=!0,ru||(ru=!0,Q1())}function ti(e,t){if(!lu&&Mr){lu=!0;do for(var a=!1,s=Dr;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var f=s.suspendedLanes,x=s.pingedLanes;u=(1<<31-yt(42|e)+1)-1,u&=o&~(f&~x),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Zp(s,u))}else u=ye,u=Ri(s,s===ze?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||yn(s,u)||(a=!0,Zp(s,u));s=s.next}while(a);lu=!1}}function F1(){$p()}function $p(){Mr=ru=!1;var e=0;Ba!==0&&sb()&&(e=Ba);for(var t=bt(),a=null,s=Dr;s!==null;){var o=s.next,u=Kp(s,t);u===0?(s.next=null,a===null?Dr=o:a.next=o,o===null&&(sn=a)):(a=s,(e!==0||(u&3)!==0)&&(Mr=!0)),s=o}Xe!==0&&Xe!==5||ti(e),Ba!==0&&(Ba=0)}function Kp(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var f=31-yt(u),x=1<<f,S=o[f];S===-1?((x&a)===0||(x&s)!==0)&&(o[f]=xv(x,t)):S<=t&&(e.expiredLanes|=x),u&=~x}if(t=ze,a=ye,a=Ri(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&bl(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||yn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&bl(s),Sl(a)){case 2:case 8:a=Uc;break;case 32:a=Mi;break;case 268435456:a=Ic;break;default:a=Mi}return s=Xp.bind(null,e),a=vl(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&bl(s),e.callbackPriority=2,e.callbackNode=null,2}function Xp(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(jr()&&e.callbackNode!==a)return null;var s=ye;return s=Ri(e,e===ze?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Lp(e,s,t),Kp(e,bt()),e.callbackNode!=null&&e.callbackNode===a?Xp.bind(null,e):null)}function Zp(e,t){if(jr())return null;Lp(e,t,!0)}function Q1(){ib(function(){(Te&6)!==0?vl(kc,F1):$p()})}function ou(){if(Ba===0){var e=Bs;e===0&&(e=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),Ba=e}return Ba}function Wp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vi(""+e)}function ef(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Y1(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var u=Wp((o[ct]||null).action),f=s.submitter;f&&(t=(t=f[ct]||null)?Wp(t.formAction):f.getAttribute("formAction"),t!==null&&(u=t,f=null));var x=new Ii("action","action",null,s,o);e.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ba!==0){var S=f?ef(o,f):new FormData(o);Do(a,{pending:!0,data:S,method:o.method,action:u},null,S)}}else typeof u=="function"&&(x.preventDefault(),S=f?ef(o,f):new FormData(o),Do(a,{pending:!0,data:S,method:o.method,action:u},u,S))},currentTarget:o}]})}}for(var uu=0;uu<Gl.length;uu++){var cu=Gl[uu],$1=cu.toLowerCase(),K1=cu[0].toUpperCase()+cu.slice(1);Bt($1,"on"+K1)}Bt(Nd,"onAnimationEnd"),Bt(Ld,"onAnimationIteration"),Bt(Rd,"onAnimationStart"),Bt("dblclick","onDoubleClick"),Bt("focusin","onFocus"),Bt("focusout","onBlur"),Bt(m1,"onTransitionRun"),Bt(p1,"onTransitionStart"),Bt(f1,"onTransitionCancel"),Bt(zd,"onTransitionEnd"),Ds("onMouseEnter",["mouseout","mouseover"]),Ds("onMouseLeave",["mouseout","mouseover"]),Ds("onPointerEnter",["pointerout","pointerover"]),Ds("onPointerLeave",["pointerout","pointerover"]),ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ai));function tf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var f=s.length-1;0<=f;f--){var x=s[f],S=x.instance,E=x.currentTarget;if(x=x.listener,S!==u&&o.isPropagationStopped())break e;u=x,o.currentTarget=E;try{u(o)}catch(w){Gi(w)}o.currentTarget=null,u=S}else for(f=0;f<s.length;f++){if(x=s[f],S=x.instance,E=x.currentTarget,x=x.listener,S!==u&&o.isPropagationStopped())break e;u=x,o.currentTarget=E;try{u(o)}catch(w){Gi(w)}o.currentTarget=null,u=S}}}}function xe(e,t){var a=t[_l];a===void 0&&(a=t[_l]=new Set);var s=e+"__bubble";a.has(s)||(af(t,e,2,!1),a.add(s))}function du(e,t,a){var s=0;t&&(s|=4),af(a,e,s,t)}var Er="_reactListening"+Math.random().toString(36).slice(2);function mu(e){if(!e[Er]){e[Er]=!0,$c.forEach(function(a){a!=="selectionchange"&&(X1.has(a)||du(a,!1,e),du(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Er]||(t[Er]=!0,du("selectionchange",!1,t))}}function af(e,t,a,s){switch(Lf(t)){case 2:var o=Ab;break;case 8:o=Tb;break;default:o=ju}a=o.bind(null,t,a,e),o=void 0,!Nl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function pu(e,t,a,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var f=s.tag;if(f===3||f===4){var x=s.stateNode.containerInfo;if(x===o)break;if(f===4)for(f=s.return;f!==null;){var S=f.tag;if((S===3||S===4)&&f.stateNode.containerInfo===o)return;f=f.return}for(;x!==null;){if(f=As(x),f===null)return;if(S=f.tag,S===5||S===6||S===26||S===27){s=u=f;continue e}x=x.parentNode}}s=s.return}ld(function(){var E=u,w=Ml(a),U=[];e:{var N=Od.get(e);if(N!==void 0){var z=Ii,X=e;switch(e){case"keypress":if(ki(a)===0)break e;case"keydown":case"keyup":z=Gv;break;case"focusin":X="focus",z=Ol;break;case"focusout":X="blur",z=Ol;break;case"beforeblur":case"afterblur":z=Ol;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Qv;break;case Nd:case Ld:case Rd:z=Ov;break;case zd:z=$v;break;case"scroll":case"scrollend":z=Ev;break;case"wheel":z=Xv;break;case"copy":case"cut":case"paste":z=Vv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=md;break;case"toggle":case"beforetoggle":z=Wv}var ne=(t&4)!==0,Le=!ne&&(e==="scroll"||e==="scrollend"),T=ne?N!==null?N+"Capture":null:N;ne=[];for(var C=E,M;C!==null;){var k=C;if(M=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||M===null||T===null||(k=Cn(C,T),k!=null&&ne.push(si(C,k,M))),Le)break;C=C.return}0<ne.length&&(N=new z(N,X,null,a,w),U.push({event:N,listeners:ne}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",N&&a!==Dl&&(X=a.relatedTarget||a.fromElement)&&(As(X)||X[Cs]))break e;if((z||N)&&(N=w.window===w?w:(N=w.ownerDocument)?N.defaultView||N.parentWindow:window,z?(X=a.relatedTarget||a.toElement,z=E,X=X?As(X):null,X!==null&&(Le=d(X),ne=X.tag,X!==Le||ne!==5&&ne!==27&&ne!==6)&&(X=null)):(z=null,X=E),z!==X)){if(ne=cd,k="onMouseLeave",T="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(ne=md,k="onPointerLeave",T="onPointerEnter",C="pointer"),Le=z==null?N:qn(z),M=X==null?N:qn(X),N=new ne(k,C+"leave",z,a,w),N.target=Le,N.relatedTarget=M,k=null,As(w)===E&&(ne=new ne(T,C+"enter",X,a,w),ne.target=M,ne.relatedTarget=Le,k=ne),Le=k,z&&X)t:{for(ne=Z1,T=z,C=X,M=0,k=T;k;k=ne(k))M++;k=0;for(var te=C;te;te=ne(te))k++;for(;0<M-k;)T=ne(T),M--;for(;0<k-M;)C=ne(C),k--;for(;M--;){if(T===C||C!==null&&T===C.alternate){ne=T;break t}T=ne(T),C=ne(C)}ne=null}else ne=null;z!==null&&sf(U,N,z,ne,!1),X!==null&&Le!==null&&sf(U,Le,X,ne,!0)}}e:{if(N=E?qn(E):window,z=N.nodeName&&N.nodeName.toLowerCase(),z==="select"||z==="input"&&N.type==="file")var Ce=yd;else if(bd(N))if(Sd)Ce=u1;else{Ce=l1;var Z=r1}else z=N.nodeName,!z||z.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?E&&jl(E.elementType)&&(Ce=yd):Ce=o1;if(Ce&&(Ce=Ce(e,E))){xd(U,Ce,a,w);break e}Z&&Z(e,N,E),e==="focusout"&&E&&N.type==="number"&&E.memoizedProps.value!=null&&Tl(N,"number",N.value)}switch(Z=E?qn(E):window,e){case"focusin":(bd(Z)||Z.contentEditable==="true")&&(zs=Z,Il=E,Ln=null);break;case"focusout":Ln=Il=zs=null;break;case"mousedown":Bl=!0;break;case"contextmenu":case"mouseup":case"dragend":Bl=!1,Md(U,a,w);break;case"selectionchange":if(d1)break;case"keydown":case"keyup":Md(U,a,w)}var me;if(Vl)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Rs?hd(e,a)&&(Se="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(pd&&a.locale!=="ko"&&(Rs||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Rs&&(me=od()):(Ta=w,Ll="value"in Ta?Ta.value:Ta.textContent,Rs=!0)),Z=Nr(E,Se),0<Z.length&&(Se=new dd(Se,e,null,a,w),U.push({event:Se,listeners:Z}),me?Se.data=me:(me=vd(a),me!==null&&(Se.data=me)))),(me=t1?a1(e,a):s1(e,a))&&(Se=Nr(E,"onBeforeInput"),0<Se.length&&(Z=new dd("onBeforeInput","beforeinput",null,a,w),U.push({event:Z,listeners:Se}),Z.data=me)),Y1(U,e,E,a,w)}tf(U,t)})}function si(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Nr(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Cn(e,a),o!=null&&s.unshift(si(e,o,u)),o=Cn(e,t),o!=null&&s.push(si(e,o,u))),e.tag===3)return s;e=e.return}return[]}function Z1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function sf(e,t,a,s,o){for(var u=t._reactName,f=[];a!==null&&a!==s;){var x=a,S=x.alternate,E=x.stateNode;if(x=x.tag,S!==null&&S===s)break;x!==5&&x!==26&&x!==27||E===null||(S=E,o?(E=Cn(a,u),E!=null&&f.unshift(si(a,E,S))):o||(E=Cn(a,u),E!=null&&f.push(si(a,E,S)))),a=a.return}f.length!==0&&e.push({event:t,listeners:f})}var W1=/\r\n?/g,eb=/\u0000|\uFFFD/g;function nf(e){return(typeof e=="string"?e:""+e).replace(W1,`
`).replace(eb,"")}function rf(e,t){return t=nf(t),nf(e)===t}function Ne(e,t,a,s,o,u){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Es(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Es(e,""+s);break;case"className":Oi(e,"class",s);break;case"tabIndex":Oi(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Oi(e,a,s);break;case"style":id(e,s,u);break;case"data":if(t!=="object"){Oi(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Vi(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Ne(e,t,"name",o.name,o,null),Ne(e,t,"formEncType",o.formEncType,o,null),Ne(e,t,"formMethod",o.formMethod,o,null),Ne(e,t,"formTarget",o.formTarget,o,null)):(Ne(e,t,"encType",o.encType,o,null),Ne(e,t,"method",o.method,o,null),Ne(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Vi(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=ea);break;case"onScroll":s!=null&&xe("scroll",e);break;case"onScrollEnd":s!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Vi(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":xe("beforetoggle",e),xe("toggle",e),zi(e,"popover",s);break;case"xlinkActuate":Wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Wt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Wt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Wt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Wt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":zi(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Dv.get(a)||a,zi(e,a,s))}}function fu(e,t,a,s,o,u){switch(a){case"style":id(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Es(e,s):(typeof s=="number"||typeof s=="bigint")&&Es(e,""+s);break;case"onScroll":s!=null&&xe("scroll",e);break;case"onScrollEnd":s!=null&&xe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[ct]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):zi(e,a,s)}}}function nt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var s=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var f=a[u];if(f!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,u,f,a,null)}}o&&Ne(e,t,"srcSet",a.srcSet,a,null),s&&Ne(e,t,"src",a.src,a,null);return;case"input":xe("invalid",e);var x=u=f=o=null,S=null,E=null;for(s in a)if(a.hasOwnProperty(s)){var w=a[s];if(w!=null)switch(s){case"name":o=w;break;case"type":f=w;break;case"checked":S=w;break;case"defaultChecked":E=w;break;case"value":u=w;break;case"defaultValue":x=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(l(137,t));break;default:Ne(e,t,s,w,a,null)}}td(e,u,x,S,E,f,o,!1);return;case"select":xe("invalid",e),s=f=u=null;for(o in a)if(a.hasOwnProperty(o)&&(x=a[o],x!=null))switch(o){case"value":u=x;break;case"defaultValue":f=x;break;case"multiple":s=x;default:Ne(e,t,o,x,a,null)}t=u,a=f,e.multiple=!!s,t!=null?Ms(e,!!s,t,!1):a!=null&&Ms(e,!!s,a,!0);return;case"textarea":xe("invalid",e),u=o=s=null;for(f in a)if(a.hasOwnProperty(f)&&(x=a[f],x!=null))switch(f){case"value":s=x;break;case"defaultValue":o=x;break;case"children":u=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:Ne(e,t,f,x,a,null)}sd(e,s,o,u);return;case"option":for(S in a)a.hasOwnProperty(S)&&(s=a[S],s!=null)&&(S==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Ne(e,t,S,s,a,null));return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(s=0;s<ai.length;s++)xe(ai[s],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(E in a)if(a.hasOwnProperty(E)&&(s=a[E],s!=null))switch(E){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,E,s,a,null)}return;default:if(jl(t)){for(w in a)a.hasOwnProperty(w)&&(s=a[w],s!==void 0&&fu(e,t,w,s,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(s=a[x],s!=null&&Ne(e,t,x,s,a,null))}function tb(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,f=null,x=null,S=null,E=null,w=null;for(z in a){var U=a[z];if(a.hasOwnProperty(z)&&U!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":S=U;default:s.hasOwnProperty(z)||Ne(e,t,z,null,s,U)}}for(var N in s){var z=s[N];if(U=a[N],s.hasOwnProperty(N)&&(z!=null||U!=null))switch(N){case"type":u=z;break;case"name":o=z;break;case"checked":E=z;break;case"defaultChecked":w=z;break;case"value":f=z;break;case"defaultValue":x=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:z!==U&&Ne(e,t,N,z,s,U)}}Al(e,f,x,S,E,w,u,o);return;case"select":z=f=x=N=null;for(u in a)if(S=a[u],a.hasOwnProperty(u)&&S!=null)switch(u){case"value":break;case"multiple":z=S;default:s.hasOwnProperty(u)||Ne(e,t,u,null,s,S)}for(o in s)if(u=s[o],S=a[o],s.hasOwnProperty(o)&&(u!=null||S!=null))switch(o){case"value":N=u;break;case"defaultValue":x=u;break;case"multiple":f=u;default:u!==S&&Ne(e,t,o,u,s,S)}t=x,a=f,s=z,N!=null?Ms(e,!!a,N,!1):!!s!=!!a&&(t!=null?Ms(e,!!a,t,!0):Ms(e,!!a,a?[]:"",!1));return;case"textarea":z=N=null;for(x in a)if(o=a[x],a.hasOwnProperty(x)&&o!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ne(e,t,x,null,s,o)}for(f in s)if(o=s[f],u=a[f],s.hasOwnProperty(f)&&(o!=null||u!=null))switch(f){case"value":N=o;break;case"defaultValue":z=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&Ne(e,t,f,o,s,u)}ad(e,N,z);return;case"option":for(var X in a)N=a[X],a.hasOwnProperty(X)&&N!=null&&!s.hasOwnProperty(X)&&(X==="selected"?e.selected=!1:Ne(e,t,X,null,s,N));for(S in s)N=s[S],z=a[S],s.hasOwnProperty(S)&&N!==z&&(N!=null||z!=null)&&(S==="selected"?e.selected=N&&typeof N!="function"&&typeof N!="symbol":Ne(e,t,S,N,s,z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in a)N=a[ne],a.hasOwnProperty(ne)&&N!=null&&!s.hasOwnProperty(ne)&&Ne(e,t,ne,null,s,N);for(E in s)if(N=s[E],z=a[E],s.hasOwnProperty(E)&&N!==z&&(N!=null||z!=null))switch(E){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(137,t));break;default:Ne(e,t,E,N,s,z)}return;default:if(jl(t)){for(var Le in a)N=a[Le],a.hasOwnProperty(Le)&&N!==void 0&&!s.hasOwnProperty(Le)&&fu(e,t,Le,void 0,s,N);for(w in s)N=s[w],z=a[w],!s.hasOwnProperty(w)||N===z||N===void 0&&z===void 0||fu(e,t,w,N,s,z);return}}for(var T in a)N=a[T],a.hasOwnProperty(T)&&N!=null&&!s.hasOwnProperty(T)&&Ne(e,t,T,null,s,N);for(U in s)N=s[U],z=a[U],!s.hasOwnProperty(U)||N===z||N==null&&z==null||Ne(e,t,U,N,s,z)}function lf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ab(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],u=o.transferSize,f=o.initiatorType,x=o.duration;if(u&&x&&lf(f)){for(f=0,x=o.responseEnd,s+=1;s<a.length;s++){var S=a[s],E=S.startTime;if(E>x)break;var w=S.transferSize,U=S.initiatorType;w&&lf(U)&&(S=S.responseEnd,f+=w*(S<x?1:(x-E)/(S-E)))}if(--s,t+=8*(u+f)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gu=null,hu=null;function Lr(e){return e.nodeType===9?e:e.ownerDocument}function of(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bu=null;function sb(){var e=window.event;return e&&e.type==="popstate"?e===bu?!1:(bu=e,!0):(bu=null,!1)}var cf=typeof setTimeout=="function"?setTimeout:void 0,nb=typeof clearTimeout=="function"?clearTimeout:void 0,df=typeof Promise=="function"?Promise:void 0,ib=typeof queueMicrotask=="function"?queueMicrotask:typeof df<"u"?function(e){return df.resolve(null).then(e).catch(rb)}:cf;function rb(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function mf(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),on(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")ni(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ni(a);for(var u=a.firstChild;u;){var f=u.nextSibling,x=u.nodeName;u[_n]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=f}}else a==="body"&&ni(e.ownerDocument.body);a=o}while(a);on(t)}function pf(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function xu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xu(a),ql(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function lb(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[_n])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=kt(e.nextSibling),e===null)break}return null}function ob(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kt(e.nextSibling),e===null))return null;return e}function ff(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=kt(e.nextSibling),e===null))return null;return e}function yu(e){return e.data==="$?"||e.data==="$~"}function Su(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ub(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var _u=null;function gf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return kt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function hf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function vf(e,t,a){switch(t=Lr(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ni(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ql(e)}var Ut=new Map,bf=new Set;function Rr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ha=G.d;G.d={f:cb,r:db,D:mb,C:pb,L:fb,m:gb,X:vb,S:hb,M:bb};function cb(){var e=ha.f(),t=Cr();return e||t}function db(e){var t=Ts(e);t!==null&&t.tag===5&&t.type==="form"?zm(t):ha.r(e)}var nn=typeof document>"u"?null:document;function xf(e,t,a){var s=nn;if(s&&typeof t=="string"&&t){var o=Lt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),bf.has(o)||(bf.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),nt(t,"link",e),Ze(t),s.head.appendChild(t)))}}function mb(e){ha.D(e),xf("dns-prefetch",e,null)}function pb(e,t){ha.C(e,t),xf("preconnect",e,t)}function fb(e,t,a){ha.L(e,t,a);var s=nn;if(s&&e&&t){var o='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Lt(a.imageSizes)+'"]')):o+='[href="'+Lt(e)+'"]';var u=o;switch(t){case"style":u=rn(e);break;case"script":u=ln(e)}Ut.has(u)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ut.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(ii(u))||t==="script"&&s.querySelector(ri(u))||(t=s.createElement("link"),nt(t,"link",e),Ze(t),s.head.appendChild(t)))}}function gb(e,t){ha.m(e,t);var a=nn;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Lt(s)+'"][href="'+Lt(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ln(e)}if(!Ut.has(u)&&(e=b({rel:"modulepreload",href:e},t),Ut.set(u,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ri(u)))return}s=a.createElement("link"),nt(s,"link",e),Ze(s),a.head.appendChild(s)}}}function hb(e,t,a){ha.S(e,t,a);var s=nn;if(s&&e){var o=js(s).hoistableStyles,u=rn(e);t=t||"default";var f=o.get(u);if(!f){var x={loading:0,preload:null};if(f=s.querySelector(ii(u)))x.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ut.get(u))&&qu(e,a);var S=f=s.createElement("link");Ze(S),nt(S,"link",e),S._p=new Promise(function(E,w){S.onload=E,S.onerror=w}),S.addEventListener("load",function(){x.loading|=1}),S.addEventListener("error",function(){x.loading|=2}),x.loading|=4,zr(f,t,s)}f={type:"stylesheet",instance:f,count:1,state:x},o.set(u,f)}}}function vb(e,t){ha.X(e,t);var a=nn;if(a&&e){var s=js(a).hoistableScripts,o=ln(e),u=s.get(o);u||(u=a.querySelector(ri(o)),u||(e=b({src:e,async:!0},t),(t=Ut.get(o))&&Cu(e,t),u=a.createElement("script"),Ze(u),nt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function bb(e,t){ha.M(e,t);var a=nn;if(a&&e){var s=js(a).hoistableScripts,o=ln(e),u=s.get(o);u||(u=a.querySelector(ri(o)),u||(e=b({src:e,async:!0,type:"module"},t),(t=Ut.get(o))&&Cu(e,t),u=a.createElement("script"),Ze(u),nt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function yf(e,t,a,s){var o=(o=ve.current)?Rr(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=rn(a.href),a=js(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=rn(a.href);var u=js(o).hoistableStyles,f=u.get(e);if(f||(o=o.ownerDocument||o,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,f),(u=o.querySelector(ii(e)))&&!u._p&&(f.instance=u,f.state.loading=5),Ut.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ut.set(e,a),u||xb(o,e,a,f.state))),t&&s===null)throw Error(l(528,""));return f}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ln(a),a=js(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function rn(e){return'href="'+Lt(e)+'"'}function ii(e){return'link[rel="stylesheet"]['+e+"]"}function Sf(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function xb(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),nt(t,"link",a),Ze(t),e.head.appendChild(t))}function ln(e){return'[src="'+Lt(e)+'"]'}function ri(e){return"script[async]"+e}function _f(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Lt(a.href)+'"]');if(s)return t.instance=s,Ze(s),s;var o=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ze(s),nt(s,"style",o),zr(s,a.precedence,e),t.instance=s;case"stylesheet":o=rn(a.href);var u=e.querySelector(ii(o));if(u)return t.state.loading|=4,t.instance=u,Ze(u),u;s=Sf(a),(o=Ut.get(o))&&qu(s,o),u=(e.ownerDocument||e).createElement("link"),Ze(u);var f=u;return f._p=new Promise(function(x,S){f.onload=x,f.onerror=S}),nt(u,"link",s),t.state.loading|=4,zr(u,a.precedence,e),t.instance=u;case"script":return u=ln(a.src),(o=e.querySelector(ri(u)))?(t.instance=o,Ze(o),o):(s=a,(o=Ut.get(u))&&(s=b({},a),Cu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),Ze(o),nt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,zr(s,a.precedence,e));return t.instance}function zr(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,f=0;f<s.length;f++){var x=s[f];if(x.dataset.precedence===t)u=x;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Or=null;function qf(e,t,a){if(Or===null){var s=new Map,o=Or=new Map;o.set(a,s)}else o=Or,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[_n]||u[et]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var f=u.getAttribute(t)||"";f=e+f;var x=s.get(f);x?x.push(u):s.set(f,[u])}}return s}function Cf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function yb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Af(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Sb(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=rn(s.href),u=t.querySelector(ii(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=wr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,Ze(u);return}u=t.ownerDocument||t,s=Sf(s),(o=Ut.get(o))&&qu(s,o),u=u.createElement("link"),Ze(u);var f=u;f._p=new Promise(function(x,S){f.onload=x,f.onerror=S}),nt(u,"link",s),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=wr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Au=0;function _b(e,t){return e.stylesheets&&e.count===0&&Pr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Pr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Au===0&&(Au=62500*ab());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Pr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Au?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function wr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vr=null;function Pr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vr=new Map,t.forEach(qb,e),Vr=null,wr.call(e))}function qb(e,t){if(!(t.state.loading&4)){var a=Vr.get(e);if(a)var s=a.get(null);else{a=new Map,Vr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var f=o[u];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(a.set(f.dataset.precedence,f),s=f)}s&&a.set(null,s)}o=t.instance,f=o.getAttribute("data-precedence"),u=a.get(f)||s,u===s&&a.set(null,o),a.set(f,o),this.count++,s=wr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var li={$$typeof:I,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Cb(e,t,a,s,o,u,f,x,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.hiddenUpdates=xl(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Tf(e,t,a,s,o,u,f,x,S,E,w,U){return e=new Cb(e,t,a,f,S,E,w,U,x),t=1,u===!0&&(t|=24),u=_t(3,null,null,t),e.current=u,u.stateNode=e,t=so(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:a,cache:t},lo(u),e}function jf(e){return e?(e=Vs,e):Vs}function Df(e,t,a,s,o,u){o=jf(o),s.context===null?s.context=o:s.pendingContext=o,s=La(t),s.payload={element:a},u=u===void 0?null:u,u!==null&&(s.callback=u),a=Ra(e,s,t),a!==null&&(ht(a,e,t),kn(a,e,t))}function Mf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Tu(e,t){Mf(e,t),(e=e.alternate)&&Mf(e,t)}function Ef(e){if(e.tag===13||e.tag===31){var t=ls(e,67108864);t!==null&&ht(t,e,67108864),Tu(e,67108864)}}function Nf(e){if(e.tag===13||e.tag===31){var t=jt();t=yl(t);var a=ls(e,t);a!==null&&ht(a,e,t),Tu(e,t)}}var kr=!0;function Ab(e,t,a,s){var o=R.T;R.T=null;var u=G.p;try{G.p=2,ju(e,t,a,s)}finally{G.p=u,R.T=o}}function Tb(e,t,a,s){var o=R.T;R.T=null;var u=G.p;try{G.p=8,ju(e,t,a,s)}finally{G.p=u,R.T=o}}function ju(e,t,a,s){if(kr){var o=Du(s);if(o===null)pu(e,t,s,Ur,a),Rf(e,s);else if(Db(o,e,t,a,s))s.stopPropagation();else if(Rf(e,s),t&4&&-1<jb.indexOf(e)){for(;o!==null;){var u=Ts(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=as(u.pendingLanes);if(f!==0){var x=u;for(x.pendingLanes|=2,x.entangledLanes|=2;f;){var S=1<<31-yt(f);x.entanglements[1]|=S,f&=~S}Yt(u),(Te&6)===0&&(_r=bt()+500,ti(0))}}break;case 31:case 13:x=ls(u,2),x!==null&&ht(x,u,2),Cr(),Tu(u,2)}if(u=Du(s),u===null&&pu(e,t,s,Ur,a),u===o)break;o=u}o!==null&&s.stopPropagation()}else pu(e,t,s,null,a)}}function Du(e){return e=Ml(e),Mu(e)}var Ur=null;function Mu(e){if(Ur=null,e=As(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=p(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ur=e,null}function Lf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mv()){case kc:return 2;case Uc:return 8;case Mi:case pv:return 32;case Ic:return 268435456;default:return 32}default:return 32}}var Eu=!1,Ga=null,Ja=null,Fa=null,oi=new Map,ui=new Map,Qa=[],jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rf(e,t){switch(e){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ui.delete(t.pointerId)}}function ci(e,t,a,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Ts(t),t!==null&&Ef(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Db(e,t,a,s,o){switch(t){case"focusin":return Ga=ci(Ga,e,t,a,s,o),!0;case"dragenter":return Ja=ci(Ja,e,t,a,s,o),!0;case"mouseover":return Fa=ci(Fa,e,t,a,s,o),!0;case"pointerover":var u=o.pointerId;return oi.set(u,ci(oi.get(u)||null,e,t,a,s,o)),!0;case"gotpointercapture":return u=o.pointerId,ui.set(u,ci(ui.get(u)||null,e,t,a,s,o)),!0}return!1}function zf(e){var t=As(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=p(a),t!==null){e.blockedOn=t,Qc(e.priority,function(){Nf(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,Qc(e.priority,function(){Nf(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ir(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Du(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Dl=s,a.target.dispatchEvent(s),Dl=null}else return t=Ts(a),t!==null&&Ef(t),e.blockedOn=a,!1;t.shift()}return!0}function Of(e,t,a){Ir(e)&&a.delete(t)}function Mb(){Eu=!1,Ga!==null&&Ir(Ga)&&(Ga=null),Ja!==null&&Ir(Ja)&&(Ja=null),Fa!==null&&Ir(Fa)&&(Fa=null),oi.forEach(Of),ui.forEach(Of)}function Br(e,t){e.blockedOn===t&&(e.blockedOn=null,Eu||(Eu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Mb)))}var Hr=null;function wf(e){Hr!==e&&(Hr=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Hr===e&&(Hr=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Mu(s||a)===null)continue;break}var u=Ts(a);u!==null&&(e.splice(t,3),t-=3,Do(u,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function on(e){function t(S){return Br(S,e)}Ga!==null&&Br(Ga,e),Ja!==null&&Br(Ja,e),Fa!==null&&Br(Fa,e),oi.forEach(t),ui.forEach(t);for(var a=0;a<Qa.length;a++){var s=Qa[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Qa.length&&(a=Qa[0],a.blockedOn===null);)zf(a),a.blockedOn===null&&Qa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],u=a[s+1],f=o[ct]||null;if(typeof u=="function")f||wf(a);else if(f){var x=null;if(u&&u.hasAttribute("formAction")){if(o=u,f=u[ct]||null)x=f.formAction;else if(Mu(o)!==null)continue}else x=f.action;typeof x=="function"?a[s+1]=x:(a.splice(s,3),s-=3),wf(a)}}}function Vf(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(f){return o=f})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Nu(e){this._internalRoot=e}Gr.prototype.render=Nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=jt();Df(a,s,e,t,null,null)},Gr.prototype.unmount=Nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Df(e.current,2,null,e,null,null),Cr(),t[Cs]=null}};function Gr(e){this._internalRoot=e}Gr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Qa.length&&t!==0&&t<Qa[a].priority;a++);Qa.splice(a,0,e),a===0&&zf(e)}};var Pf=i.version;if(Pf!=="19.2.3")throw Error(l(527,Pf,"19.2.3"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=h(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Eb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jr.isDisabled&&Jr.supportsFiber)try{xn=Jr.inject(Eb),xt=Jr}catch{}}return mi.createRoot=function(e,t){if(!c(e))throw Error(l(299));var a=!1,s="",o=Gm,u=Jm,f=Fm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Tf(e,1,!1,null,null,a,s,null,o,u,f,Vf),e[Cs]=t.current,mu(e),new Nu(t)},mi.hydrateRoot=function(e,t,a){if(!c(e))throw Error(l(299));var s=!1,o="",u=Gm,f=Jm,x=Fm,S=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=Tf(e,1,!0,t,a??null,s,o,S,u,f,x,Vf),t.context=jf(null),a=t.current,s=jt(),s=yl(s),o=La(s),o.callback=null,Ra(a,o,s),a=s,t.current.lanes=a,Sn(t,a),Yt(t),e[Cs]=t.current,mu(e),new Gr(t)},mi.version="19.2.3",mi}var Yf;function Ub(){if(Yf)return zu.exports;Yf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),zu.exports=kb(),zu.exports}var Ib=Ub();const Bb=bc(Ib);var $f="popstate";function Hb(n={}){function i(c,d){let{pathname:p="/",search:g="",hash:v=""}=qs(c.location.hash.substring(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),ac("",{pathname:p,search:g,hash:v},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function r(c,d){let p=c.document.querySelector("base"),g="";if(p&&p.getAttribute("href")){let v=c.location.href,h=v.indexOf("#");g=h===-1?v:v.slice(0,h)}return g+"#"+(typeof d=="string"?d:xi(d))}function l(c,d){vt(c.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(d)})`)}return Jb(i,r,l,n)}function Ie(n,i){if(n===!1||n===null||typeof n>"u")throw new Error(i)}function vt(n,i){if(!n){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function Gb(){return Math.random().toString(36).substring(2,10)}function Kf(n,i){return{usr:n.state,key:n.key,idx:i}}function ac(n,i,r=null,l){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof i=="string"?qs(i):i,state:r,key:i&&i.key||l||Gb()}}function xi({pathname:n="/",search:i="",hash:r=""}){return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function qs(n){let i={};if(n){let r=n.indexOf("#");r>=0&&(i.hash=n.substring(r),n=n.substring(0,r));let l=n.indexOf("?");l>=0&&(i.search=n.substring(l),n=n.substring(0,l)),n&&(i.pathname=n)}return i}function Jb(n,i,r,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,p=c.history,g="POP",v=null,h=y();h==null&&(h=0,p.replaceState({...p.state,idx:h},""));function y(){return(p.state||{idx:null}).idx}function b(){g="POP";let V=y(),H=V==null?null:V-h;h=V,v&&v({action:g,location:L.location,delta:H})}function _(V,H){g="PUSH";let B=ac(L.location,V,H);r&&r(B,V),h=y()+1;let I=Kf(B,h),J=L.createHref(B);try{p.pushState(I,"",J)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;c.location.assign(J)}d&&v&&v({action:g,location:L.location,delta:1})}function A(V,H){g="REPLACE";let B=ac(L.location,V,H);r&&r(B,V),h=y();let I=Kf(B,h),J=L.createHref(B);p.replaceState(I,"",J),d&&v&&v({action:g,location:L.location,delta:0})}function D(V){return Fb(V)}let L={get action(){return g},get location(){return n(c,p)},listen(V){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener($f,b),v=V,()=>{c.removeEventListener($f,b),v=null}},createHref(V){return i(c,V)},createURL:D,encodeLocation(V){let H=D(V);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:_,replace:A,go(V){return p.go(V)}};return L}function Fb(n,i=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(r,"No window.location.(origin|href) available to create URL");let l=typeof n=="string"?n:xi(n);return l=l.replace(/ $/,"%20"),!i&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function wg(n,i,r="/"){return Qb(n,i,r,!1)}function Qb(n,i,r,l){let c=typeof i=="string"?qs(i):i,d=_a(c.pathname||"/",r);if(d==null)return null;let p=Vg(n);Yb(p);let g=null;for(let v=0;g==null&&v<p.length;++v){let h=i0(d);g=s0(p[v],h,l)}return g}function Vg(n,i=[],r=[],l="",c=!1){let d=(p,g,v=c,h)=>{let y={relativePath:h===void 0?p.path||"":h,caseSensitive:p.caseSensitive===!0,childrenIndex:g,route:p};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(l)&&v)return;Ie(y.relativePath.startsWith(l),`Absolute route path "${y.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(l.length)}let b=Sa([l,y.relativePath]),_=r.concat(y);p.children&&p.children.length>0&&(Ie(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Vg(p.children,i,_,b,v)),!(p.path==null&&!p.index)&&i.push({path:b,score:t0(b,p.index),routesMeta:_})};return n.forEach((p,g)=>{if(p.path===""||!p.path?.includes("?"))d(p,g);else for(let v of Pg(p.path))d(p,g,!0,v)}),i}function Pg(n){let i=n.split("/");if(i.length===0)return[];let[r,...l]=i,c=r.endsWith("?"),d=r.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let p=Pg(l.join("/")),g=[];return g.push(...p.map(v=>v===""?d:[d,v].join("/"))),c&&g.push(...p),g.map(v=>n.startsWith("/")&&v===""?"/":v)}function Yb(n){n.sort((i,r)=>i.score!==r.score?r.score-i.score:a0(i.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var $b=/^:[\w-]+$/,Kb=3,Xb=2,Zb=1,Wb=10,e0=-2,Xf=n=>n==="*";function t0(n,i){let r=n.split("/"),l=r.length;return r.some(Xf)&&(l+=e0),i&&(l+=Xb),r.filter(c=>!Xf(c)).reduce((c,d)=>c+($b.test(d)?Kb:d===""?Zb:Wb),l)}function a0(n,i){return n.length===i.length&&n.slice(0,-1).every((l,c)=>l===i[c])?n[n.length-1]-i[i.length-1]:0}function s0(n,i,r=!1){let{routesMeta:l}=n,c={},d="/",p=[];for(let g=0;g<l.length;++g){let v=l[g],h=g===l.length-1,y=d==="/"?i:i.slice(d.length)||"/",b=Xr({path:v.relativePath,caseSensitive:v.caseSensitive,end:h},y),_=v.route;if(!b&&h&&r&&!l[l.length-1].route.index&&(b=Xr({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},y)),!b)return null;Object.assign(c,b.params),p.push({params:c,pathname:Sa([d,b.pathname]),pathnameBase:u0(Sa([d,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(d=Sa([d,b.pathnameBase]))}return p}function Xr(n,i){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,l]=n0(n.path,n.caseSensitive,n.end),c=i.match(r);if(!c)return null;let d=c[0],p=d.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:l.reduce((h,{paramName:y,isOptional:b},_)=>{if(y==="*"){let D=g[_]||"";p=d.slice(0,d.length-D.length).replace(/(.)\/+$/,"$1")}const A=g[_];return b&&!A?h[y]=void 0:h[y]=(A||"").replace(/%2F/g,"/"),h},{}),pathname:d,pathnameBase:p,pattern:n}}function n0(n,i=!1,r=!0){vt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let l=[],c="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,g,v)=>(l.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(l.push({paramName:"*"}),c+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":n!==""&&n!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),l]}function i0(n){try{return n.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return vt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),n}}function _a(n,i){if(i==="/")return n;if(!n.toLowerCase().startsWith(i.toLowerCase()))return null;let r=i.endsWith("/")?i.length-1:i.length,l=n.charAt(r);return l&&l!=="/"?null:n.slice(r)||"/"}var kg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r0=n=>kg.test(n);function l0(n,i="/"){let{pathname:r,search:l="",hash:c=""}=typeof n=="string"?qs(n):n,d;if(r)if(r0(r))d=r;else{if(r.includes("//")){let p=r;r=r.replace(/\/\/+/g,"/"),vt(!1,`Pathnames cannot have embedded double slashes - normalizing ${p} -> ${r}`)}r.startsWith("/")?d=Zf(r.substring(1),"/"):d=Zf(r,i)}else d=i;return{pathname:d,search:c0(l),hash:d0(c)}}function Zf(n,i){let r=i.replace(/\/+$/,"").split("/");return n.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function Pu(n,i,r,l){return`Cannot include a '${n}' character in a manually specified \`to.${i}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o0(n){return n.filter((i,r)=>r===0||i.route.path&&i.route.path.length>0)}function xc(n){let i=o0(n);return i.map((r,l)=>l===i.length-1?r.pathname:r.pathnameBase)}function yc(n,i,r,l=!1){let c;typeof n=="string"?c=qs(n):(c={...n},Ie(!c.pathname||!c.pathname.includes("?"),Pu("?","pathname","search",c)),Ie(!c.pathname||!c.pathname.includes("#"),Pu("#","pathname","hash",c)),Ie(!c.search||!c.search.includes("#"),Pu("#","search","hash",c)));let d=n===""||c.pathname==="",p=d?"/":c.pathname,g;if(p==null)g=r;else{let b=i.length-1;if(!l&&p.startsWith("..")){let _=p.split("/");for(;_[0]==="..";)_.shift(),b-=1;c.pathname=_.join("/")}g=b>=0?i[b]:"/"}let v=l0(c,g),h=p&&p!=="/"&&p.endsWith("/"),y=(d||p===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(h||y)&&(v.pathname+="/"),v}var Sa=n=>n.join("/").replace(/\/\/+/g,"/"),u0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),c0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,d0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,m0=class{constructor(n,i,r,l=!1){this.status=n,this.statusText=i||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function p0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function f0(n){return n.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ug=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ig(n,i){let r=n;if(typeof r!="string"||!kg.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let l=r,c=!1;if(Ug)try{let d=new URL(window.location.href),p=r.startsWith("//")?new URL(d.protocol+r):new URL(r),g=_a(p.pathname,i);p.origin===d.origin&&g!=null?r=g+p.search+p.hash:c=!0}catch{vt(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:c,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Bg=["POST","PUT","PATCH","DELETE"];new Set(Bg);var g0=["GET",...Bg];new Set(g0);var pn=j.createContext(null);pn.displayName="DataRouter";var nl=j.createContext(null);nl.displayName="DataRouterState";var h0=j.createContext(!1),Hg=j.createContext({isTransitioning:!1});Hg.displayName="ViewTransition";var v0=j.createContext(new Map);v0.displayName="Fetchers";var b0=j.createContext(null);b0.displayName="Await";var Et=j.createContext(null);Et.displayName="Navigation";var Si=j.createContext(null);Si.displayName="Location";var It=j.createContext({outlet:null,matches:[],isDataRoute:!1});It.displayName="Route";var Sc=j.createContext(null);Sc.displayName="RouteError";var Gg="REACT_ROUTER_ERROR",x0="REDIRECT",y0="ROUTE_ERROR_RESPONSE";function S0(n){if(n.startsWith(`${Gg}:${x0}:{`))try{let i=JSON.parse(n.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function _0(n){if(n.startsWith(`${Gg}:${y0}:{`))try{let i=JSON.parse(n.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new m0(i.status,i.statusText,i.data)}catch{}}function q0(n,{relative:i}={}){Ie(fn(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=j.useContext(Et),{hash:c,pathname:d,search:p}=_i(n,{relative:i}),g=d;return r!=="/"&&(g=d==="/"?r:Sa([r,d])),l.createHref({pathname:g,search:p,hash:c})}function fn(){return j.useContext(Si)!=null}function Zt(){return Ie(fn(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Si).location}var Jg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fg(n){j.useContext(Et).static||j.useLayoutEffect(n)}function il(){let{isDataRoute:n}=j.useContext(It);return n?k0():C0()}function C0(){Ie(fn(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(pn),{basename:i,navigator:r}=j.useContext(Et),{matches:l}=j.useContext(It),{pathname:c}=Zt(),d=JSON.stringify(xc(l)),p=j.useRef(!1);return Fg(()=>{p.current=!0}),j.useCallback((v,h={})=>{if(vt(p.current,Jg),!p.current)return;if(typeof v=="number"){r.go(v);return}let y=yc(v,JSON.parse(d),c,h.relative==="path");n==null&&i!=="/"&&(y.pathname=y.pathname==="/"?i:Sa([i,y.pathname])),(h.replace?r.replace:r.push)(y,h.state,h)},[i,r,d,c,n])}var A0=j.createContext(null);function T0(n){let i=j.useContext(It).outlet;return j.useMemo(()=>i&&j.createElement(A0.Provider,{value:n},i),[i,n])}function j0(){let{matches:n}=j.useContext(It),i=n[n.length-1];return i?i.params:{}}function _i(n,{relative:i}={}){let{matches:r}=j.useContext(It),{pathname:l}=Zt(),c=JSON.stringify(xc(r));return j.useMemo(()=>yc(n,JSON.parse(c),l,i==="path"),[n,c,l,i])}function D0(n,i){return Qg(n,i)}function Qg(n,i,r,l,c){Ie(fn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=j.useContext(Et),{matches:p}=j.useContext(It),g=p[p.length-1],v=g?g.params:{},h=g?g.pathname:"/",y=g?g.pathnameBase:"/",b=g&&g.route;{let B=b&&b.path||"";$g(h,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let _=Zt(),A;if(i){let B=typeof i=="string"?qs(i):i;Ie(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),A=B}else A=_;let D=A.pathname||"/",L=D;if(y!=="/"){let B=y.replace(/^\//,"").split("/");L="/"+D.replace(/^\//,"").split("/").slice(B.length).join("/")}let V=wg(n,{pathname:L});vt(b||V!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),vt(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=R0(V&&V.map(B=>Object.assign({},B,{params:Object.assign({},v,B.params),pathname:Sa([y,d.encodeLocation?d.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Sa([y,d.encodeLocation?d.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),p,r,l,c);return i&&H?j.createElement(Si.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},H):H}function M0(){let n=P0(),i=p0(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},p=null;return console.error("Error handled by React Router default ErrorBoundary:",n),p=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:d},"ErrorBoundary")," or"," ",j.createElement("code",{style:d},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},i),r?j.createElement("pre",{style:c},r):null,p)}var E0=j.createElement(M0,null),Yg=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,i){return i.location!==n.location||i.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:i.error,location:i.location,revalidation:n.revalidation||i.revalidation}}componentDidCatch(n,i){this.props.onError?this.props.onError(n,i):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const r=_0(n.digest);r&&(n=r)}let i=n!==void 0?j.createElement(It.Provider,{value:this.props.routeContext},j.createElement(Sc.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?j.createElement(N0,{error:n},i):i}};Yg.contextType=h0;var ku=new WeakMap;function N0({children:n,error:i}){let{basename:r}=j.useContext(Et);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let l=S0(i.digest);if(l){let c=ku.get(i);if(c)throw c;let d=Ig(l.location,r);if(Ug&&!ku.get(i))if(d.isExternal||l.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:l.replace}));throw ku.set(i,p),p}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return n}function L0({routeContext:n,match:i,children:r}){let l=j.useContext(pn);return l&&l.static&&l.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=i.route.id),j.createElement(It.Provider,{value:n},r)}function R0(n,i=[],r=null,l=null,c=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(i.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let d=n,p=r?.errors;if(p!=null){let y=d.findIndex(b=>b.route.id&&p?.[b.route.id]!==void 0);Ie(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),d=d.slice(0,Math.min(d.length,y+1))}let g=!1,v=-1;if(r)for(let y=0;y<d.length;y++){let b=d[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(v=y),b.route.id){let{loaderData:_,errors:A}=r,D=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||D){g=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}let h=r&&l?(y,b)=>{l(y,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:f0(r.matches),errorInfo:b})}:void 0;return d.reduceRight((y,b,_)=>{let A,D=!1,L=null,V=null;r&&(A=p&&b.route.id?p[b.route.id]:void 0,L=b.route.errorElement||E0,g&&(v<0&&_===0?($g("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,V=null):v===_&&(D=!0,V=b.route.hydrateFallbackElement||null)));let H=i.concat(d.slice(0,_+1)),B=()=>{let I;return A?I=L:D?I=V:b.route.Component?I=j.createElement(b.route.Component,null):b.route.element?I=b.route.element:I=y,j.createElement(L0,{match:b,routeContext:{outlet:y,matches:H,isDataRoute:r!=null},children:I})};return r&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?j.createElement(Yg,{location:r.location,revalidation:r.revalidation,component:L,error:A,children:B(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:h}):B()},null)}function _c(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z0(n){let i=j.useContext(pn);return Ie(i,_c(n)),i}function O0(n){let i=j.useContext(nl);return Ie(i,_c(n)),i}function w0(n){let i=j.useContext(It);return Ie(i,_c(n)),i}function qc(n){let i=w0(n),r=i.matches[i.matches.length-1];return Ie(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function V0(){return qc("useRouteId")}function P0(){let n=j.useContext(Sc),i=O0("useRouteError"),r=qc("useRouteError");return n!==void 0?n:i.errors?.[r]}function k0(){let{router:n}=z0("useNavigate"),i=qc("useNavigate"),r=j.useRef(!1);return Fg(()=>{r.current=!0}),j.useCallback(async(c,d={})=>{vt(r.current,Jg),r.current&&(typeof c=="number"?await n.navigate(c):await n.navigate(c,{fromRouteId:i,...d}))},[n,i])}var Wf={};function $g(n,i,r){!i&&!Wf[n]&&(Wf[n]=!0,vt(!1,r))}j.memo(U0);function U0({routes:n,future:i,state:r,onError:l}){return Qg(n,void 0,r,l,i)}function eg({to:n,replace:i,state:r,relative:l}){Ie(fn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=j.useContext(Et);vt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=j.useContext(It),{pathname:p}=Zt(),g=il(),v=yc(n,xc(d),p,l==="path"),h=JSON.stringify(v);return j.useEffect(()=>{g(JSON.parse(h),{replace:i,state:r,relative:l})},[g,h,l,i,r]),null}function I0(n){return T0(n.context)}function ba(n){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B0({basename:n="/",children:i=null,location:r,navigationType:l="POP",navigator:c,static:d=!1,unstable_useTransitions:p}){Ie(!fn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=n.replace(/^\/*/,"/"),v=j.useMemo(()=>({basename:g,navigator:c,static:d,unstable_useTransitions:p,future:{}}),[g,c,d,p]);typeof r=="string"&&(r=qs(r));let{pathname:h="/",search:y="",hash:b="",state:_=null,key:A="default"}=r,D=j.useMemo(()=>{let L=_a(h,g);return L==null?null:{location:{pathname:L,search:y,hash:b,state:_,key:A},navigationType:l}},[g,h,y,b,_,A,l]);return vt(D!=null,`<Router basename="${g}"> is not able to match the URL "${h}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:j.createElement(Et.Provider,{value:v},j.createElement(Si.Provider,{children:i,value:D}))}function H0({children:n,location:i}){return D0(sc(n),i)}function sc(n,i=[]){let r=[];return j.Children.forEach(n,(l,c)=>{if(!j.isValidElement(l))return;let d=[...i,c];if(l.type===j.Fragment){r.push.apply(r,sc(l.props.children,d));return}Ie(l.type===ba,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!l.props.index||!l.props.children,"An index route cannot have child routes.");let p={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(p.children=sc(l.props.children,d)),r.push(p)}),r}var $r="get",Kr="application/x-www-form-urlencoded";function rl(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function G0(n){return rl(n)&&n.tagName.toLowerCase()==="button"}function J0(n){return rl(n)&&n.tagName.toLowerCase()==="form"}function F0(n){return rl(n)&&n.tagName.toLowerCase()==="input"}function Q0(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Y0(n,i){return n.button===0&&(!i||i==="_self")&&!Q0(n)}function nc(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((i,r)=>{let l=n[r];return i.concat(Array.isArray(l)?l.map(c=>[r,c]):[[r,l]])},[]))}function $0(n,i){let r=nc(n);return i&&i.forEach((l,c)=>{r.has(c)||i.getAll(c).forEach(d=>{r.append(c,d)})}),r}var Fr=null;function K0(){if(Fr===null)try{new FormData(document.createElement("form"),0),Fr=!1}catch{Fr=!0}return Fr}var X0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uu(n){return n!=null&&!X0.has(n)?(vt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kr}"`),null):n}function Z0(n,i){let r,l,c,d,p;if(J0(n)){let g=n.getAttribute("action");l=g?_a(g,i):null,r=n.getAttribute("method")||$r,c=Uu(n.getAttribute("enctype"))||Kr,d=new FormData(n)}else if(G0(n)||F0(n)&&(n.type==="submit"||n.type==="image")){let g=n.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=n.getAttribute("formaction")||g.getAttribute("action");if(l=v?_a(v,i):null,r=n.getAttribute("formmethod")||g.getAttribute("method")||$r,c=Uu(n.getAttribute("formenctype"))||Uu(g.getAttribute("enctype"))||Kr,d=new FormData(g,n),!K0()){let{name:h,type:y,value:b}=n;if(y==="image"){let _=h?`${h}.`:"";d.append(`${_}x`,"0"),d.append(`${_}y`,"0")}else h&&d.append(h,b)}}else{if(rl(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=$r,l=null,c=Kr,p=n}return d&&c==="text/plain"&&(p=d,d=void 0),{action:l,method:r.toLowerCase(),encType:c,formData:d,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cc(n,i){if(n===!1||n===null||typeof n>"u")throw new Error(i)}function W0(n,i,r,l){let c=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${l}`:c.pathname=`${c.pathname}.${l}`:c.pathname==="/"?c.pathname=`_root.${l}`:i&&_a(c.pathname,i)==="/"?c.pathname=`${i.replace(/\/$/,"")}/_root.${l}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${l}`,c}async function ex(n,i){if(n.id in i)return i[n.id];try{let r=await import(n.module);return i[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ax(n,i,r){let l=await Promise.all(n.map(async c=>{let d=i.routes[c.route.id];if(d){let p=await ex(d,r);return p.links?p.links():[]}return[]}));return rx(l.flat(1).filter(tx).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function tg(n,i,r,l,c,d){let p=(v,h)=>r[h]?v.route.id!==r[h].route.id:!0,g=(v,h)=>r[h].pathname!==v.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==v.params["*"];return d==="assets"?i.filter((v,h)=>p(v,h)||g(v,h)):d==="data"?i.filter((v,h)=>{let y=l.routes[v.route.id];if(!y||!y.hasLoader)return!1;if(p(v,h)||g(v,h))return!0;if(v.route.shouldRevalidate){let b=v.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function sx(n,i,{includeHydrateFallback:r}={}){return nx(n.map(l=>{let c=i.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),r&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function nx(n){return[...new Set(n)]}function ix(n){let i={},r=Object.keys(n).sort();for(let l of r)i[l]=n[l];return i}function rx(n,i){let r=new Set;return new Set(i),n.reduce((l,c)=>{let d=JSON.stringify(ix(c));return r.has(d)||(r.add(d),l.push({key:d,link:c})),l},[])}function Kg(){let n=j.useContext(pn);return Cc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function lx(){let n=j.useContext(nl);return Cc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ac=j.createContext(void 0);Ac.displayName="FrameworkContext";function Xg(){let n=j.useContext(Ac);return Cc(n,"You must render this element inside a <HydratedRouter> element"),n}function ox(n,i){let r=j.useContext(Ac),[l,c]=j.useState(!1),[d,p]=j.useState(!1),{onFocus:g,onBlur:v,onMouseEnter:h,onMouseLeave:y,onTouchStart:b}=i,_=j.useRef(null);j.useEffect(()=>{if(n==="render"&&p(!0),n==="viewport"){let L=H=>{H.forEach(B=>{p(B.isIntersecting)})},V=new IntersectionObserver(L,{threshold:.5});return _.current&&V.observe(_.current),()=>{V.disconnect()}}},[n]),j.useEffect(()=>{if(l){let L=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(L)}}},[l]);let A=()=>{c(!0)},D=()=>{c(!1),p(!1)};return r?n!=="intent"?[d,_,{}]:[d,_,{onFocus:pi(g,A),onBlur:pi(v,D),onMouseEnter:pi(h,A),onMouseLeave:pi(y,D),onTouchStart:pi(b,A)}]:[!1,_,{}]}function pi(n,i){return r=>{n&&n(r),r.defaultPrevented||i(r)}}function ux({page:n,...i}){let{router:r}=Kg(),l=j.useMemo(()=>wg(r.routes,n,r.basename),[r.routes,n,r.basename]);return l?j.createElement(dx,{page:n,matches:l,...i}):null}function cx(n){let{manifest:i,routeModules:r}=Xg(),[l,c]=j.useState([]);return j.useEffect(()=>{let d=!1;return ax(n,i,r).then(p=>{d||c(p)}),()=>{d=!0}},[n,i,r]),l}function dx({page:n,matches:i,...r}){let l=Zt(),{future:c,manifest:d,routeModules:p}=Xg(),{basename:g}=Kg(),{loaderData:v,matches:h}=lx(),y=j.useMemo(()=>tg(n,i,h,d,l,"data"),[n,i,h,d,l]),b=j.useMemo(()=>tg(n,i,h,d,l,"assets"),[n,i,h,d,l]),_=j.useMemo(()=>{if(n===l.pathname+l.search+l.hash)return[];let L=new Set,V=!1;if(i.forEach(B=>{let I=d.routes[B.route.id];!I||!I.hasLoader||(!y.some(J=>J.route.id===B.route.id)&&B.route.id in v&&p[B.route.id]?.shouldRevalidate||I.hasClientLoader?V=!0:L.add(B.route.id))}),L.size===0)return[];let H=W0(n,g,c.unstable_trailingSlashAwareDataRequests,"data");return V&&L.size>0&&H.searchParams.set("_routes",i.filter(B=>L.has(B.route.id)).map(B=>B.route.id).join(",")),[H.pathname+H.search]},[g,c.unstable_trailingSlashAwareDataRequests,v,l,d,y,i,n,p]),A=j.useMemo(()=>sx(b,d),[b,d]),D=cx(b);return j.createElement(j.Fragment,null,_.map(L=>j.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...r})),A.map(L=>j.createElement("link",{key:L,rel:"modulepreload",href:L,...r})),D.map(({key:L,link:V})=>j.createElement("link",{key:L,nonce:r.nonce,...V})))}function mx(...n){return i=>{n.forEach(r=>{typeof r=="function"?r(i):r!=null&&(r.current=i)})}}var px=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{px&&(window.__reactRouterVersion="7.12.0")}catch{}function fx({basename:n,children:i,unstable_useTransitions:r,window:l}){let c=j.useRef();c.current==null&&(c.current=Hb({window:l,v5Compat:!0}));let d=c.current,[p,g]=j.useState({action:d.action,location:d.location}),v=j.useCallback(h=>{r===!1?g(h):j.startTransition(()=>g(h))},[r]);return j.useLayoutEffect(()=>d.listen(v),[d,v]),j.createElement(B0,{basename:n,children:i,location:p.location,navigationType:p.action,navigator:d,unstable_useTransitions:r})}var Zg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=j.forwardRef(function({onClick:i,discover:r="render",prefetch:l="none",relative:c,reloadDocument:d,replace:p,state:g,target:v,to:h,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_,...A},D){let{basename:L,unstable_useTransitions:V}=j.useContext(Et),H=typeof h=="string"&&Zg.test(h),B=Ig(h,L);h=B.to;let I=q0(h,{relative:c}),[J,Y,ae]=ox(l,A),Q=vx(h,{replace:p,state:g,target:v,preventScrollReset:y,relative:c,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:V});function he(se){i&&i(se),se.defaultPrevented||Q(se)}let W=j.createElement("a",{...A,...ae,href:B.absoluteURL||I,onClick:B.isExternal||d?i:he,ref:mx(D,Y),target:v,"data-discover":!H&&r==="render"?"true":void 0});return J&&!H?j.createElement(j.Fragment,null,W,j.createElement(ux,{page:I})):W});Xt.displayName="Link";var ic=j.forwardRef(function({"aria-current":i="page",caseSensitive:r=!1,className:l="",end:c=!1,style:d,to:p,viewTransition:g,children:v,...h},y){let b=_i(p,{relative:h.relative}),_=Zt(),A=j.useContext(nl),{navigator:D,basename:L}=j.useContext(Et),V=A!=null&&_x(b)&&g===!0,H=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,B=_.pathname,I=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;r||(B=B.toLowerCase(),I=I?I.toLowerCase():null,H=H.toLowerCase()),I&&L&&(I=_a(I,L)||I);const J=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let Y=B===H||!c&&B.startsWith(H)&&B.charAt(J)==="/",ae=I!=null&&(I===H||!c&&I.startsWith(H)&&I.charAt(H.length)==="/"),Q={isActive:Y,isPending:ae,isTransitioning:V},he=Y?i:void 0,W;typeof l=="function"?W=l(Q):W=[l,Y?"active":null,ae?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let se=typeof d=="function"?d(Q):d;return j.createElement(Xt,{...h,"aria-current":he,className:W,ref:y,style:se,to:p,viewTransition:g},typeof v=="function"?v(Q):v)});ic.displayName="NavLink";var gx=j.forwardRef(({discover:n="render",fetcherKey:i,navigate:r,reloadDocument:l,replace:c,state:d,method:p=$r,action:g,onSubmit:v,relative:h,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_,...A},D)=>{let{unstable_useTransitions:L}=j.useContext(Et),V=yx(),H=Sx(g,{relative:h}),B=p.toLowerCase()==="get"?"get":"post",I=typeof g=="string"&&Zg.test(g),J=Y=>{if(v&&v(Y),Y.defaultPrevented)return;Y.preventDefault();let ae=Y.nativeEvent.submitter,Q=ae?.getAttribute("formmethod")||p,he=()=>V(ae||Y.currentTarget,{fetcherKey:i,method:Q,navigate:r,replace:c,state:d,relative:h,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_});L&&r!==!1?j.startTransition(()=>he()):he()};return j.createElement("form",{ref:D,method:B,action:H,onSubmit:l?v:J,...A,"data-discover":!I&&n==="render"?"true":void 0})});gx.displayName="Form";function hx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wg(n){let i=j.useContext(pn);return Ie(i,hx(n)),i}function vx(n,{target:i,replace:r,state:l,preventScrollReset:c,relative:d,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:v}={}){let h=il(),y=Zt(),b=_i(n,{relative:d});return j.useCallback(_=>{if(Y0(_,i)){_.preventDefault();let A=r!==void 0?r:xi(y)===xi(b),D=()=>h(n,{replace:A,state:l,preventScrollReset:c,relative:d,viewTransition:p,unstable_defaultShouldRevalidate:g});v?j.startTransition(()=>D()):D()}},[y,h,b,r,l,i,n,c,d,p,g,v])}function Tc(n){vt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=j.useRef(nc(n)),r=j.useRef(!1),l=Zt(),c=j.useMemo(()=>$0(l.search,r.current?null:i.current),[l.search]),d=il(),p=j.useCallback((g,v)=>{const h=nc(typeof g=="function"?g(new URLSearchParams(c)):g);r.current=!0,d("?"+h,v)},[d,c]);return[c,p]}var bx=0,xx=()=>`__${String(++bx)}__`;function yx(){let{router:n}=Wg("useSubmit"),{basename:i}=j.useContext(Et),r=V0(),l=n.fetch,c=n.navigate;return j.useCallback(async(d,p={})=>{let{action:g,method:v,encType:h,formData:y,body:b}=Z0(d,i);if(p.navigate===!1){let _=p.fetcherKey||xx();await l(_,r,p.action||g,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:y,body:b,formMethod:p.method||v,formEncType:p.encType||h,flushSync:p.flushSync})}else await c(p.action||g,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:y,body:b,formMethod:p.method||v,formEncType:p.encType||h,replace:p.replace,state:p.state,fromRouteId:r,flushSync:p.flushSync,viewTransition:p.viewTransition})},[l,c,i,r])}function Sx(n,{relative:i}={}){let{basename:r}=j.useContext(Et),l=j.useContext(It);Ie(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={..._i(n||".",{relative:i})},p=Zt();if(n==null){d.search=p.search;let g=new URLSearchParams(d.search),v=g.getAll("index");if(v.some(y=>y==="")){g.delete("index"),v.filter(b=>b).forEach(b=>g.append("index",b));let y=g.toString();d.search=y?`?${y}`:""}}return(!n||n===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(d.pathname=d.pathname==="/"?r:Sa([r,d.pathname])),xi(d)}function _x(n,{relative:i}={}){let r=j.useContext(Hg);Ie(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Wg("useViewTransitionState"),c=_i(n,{relative:i});if(!r.isTransitioning)return!1;let d=_a(r.currentLocation.pathname,l)||r.currentLocation.pathname,p=_a(r.nextLocation.pathname,l)||r.nextLocation.pathname;return Xr(c.pathname,p)!=null||Xr(c.pathname,d)!=null}const qx=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cx=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,r,l)=>l?l.toUpperCase():r.toLowerCase()),ag=n=>{const i=Cx(n);return i.charAt(0).toUpperCase()+i.slice(1)},eh=(...n)=>n.filter((i,r,l)=>!!i&&i.trim()!==""&&l.indexOf(i)===r).join(" ").trim(),Ax=n=>{for(const i in n)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};var Tx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jx=j.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:p,...g},v)=>j.createElement("svg",{ref:v,...Tx,width:i,height:i,stroke:n,strokeWidth:l?Number(r)*24/Number(i):r,className:eh("lucide",c),...!d&&!Ax(g)&&{"aria-hidden":"true"},...g},[...p.map(([h,y])=>j.createElement(h,y)),...Array.isArray(d)?d:[d]]));const oe=(n,i)=>{const r=j.forwardRef(({className:l,...c},d)=>j.createElement(jx,{ref:d,iconNode:i,className:eh(`lucide-${qx(ag(n))}`,`lucide-${n}`,l),...c}));return r.displayName=ag(n),r};const Dx=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],qi=oe("book-open",Dx);const Mx=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Ex=oe("brain",Mx);const Nx=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],th=oe("building-2",Nx);const Lx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rx=oe("circle-alert",Lx);const zx=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],ll=oe("cloud",zx);const Ox=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wx=oe("compass",Ox);const Vx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Iu=oe("crosshair",Vx);const Px=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kx=oe("download",Px);const Ux=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ix=oe("eye",Ux);const Bx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hx=oe("file-text",Bx);const Gx=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],Jx=oe("ghost",Gx);const Fx=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Qx=oe("gift",Fx);const Yx=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ah=oe("heart",Yx);const $x=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],jc=oe("hexagon",$x);const Kx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Xx=oe("history",Kx);const Zx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Wx=oe("info",Zx);const ey=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],ty=oe("key-round",ey);const ay=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],sh=oe("landmark",ay);const sy=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ny=oe("layers",sy);const iy=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ry=oe("list",iy);const ly=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mn=oe("map-pin",ly);const oy=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],nh=oe("map",oy);const uy=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],cy=oe("menu",uy);const dy=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],ih=oe("mountain",dy);const my=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],py=oe("palette",my);const fy=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3L11 9.999",key:"1lw9ds"}],["path",{d:"M15.973 4.027A13 13 0 0 0 5.902 2.373c-1.398.342-1.092 2.158.277 2.601a19.9 19.9 0 0 1 5.822 3.024",key:"ffj4ej"}],["path",{d:"M16.001 11.999a19.9 19.9 0 0 1 3.024 5.824c.444 1.369 2.26 1.676 2.603.278A13 13 0 0 0 20 8.069",key:"8tj4zw"}],["path",{d:"M18.352 3.352a1.205 1.205 0 0 0-1.704 0l-5.296 5.296a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l5.296-5.296a1.205 1.205 0 0 0 0-1.704z",key:"hh6h97"}]],rh=oe("pickaxe",fy);const gy=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],hy=oe("quote",gy);const vy=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],by=oe("scroll-text",vy);const xy=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],yy=oe("scroll",xy);const Sy=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lh=oe("search",Sy);const _y=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qy=oe("settings",_y);const Cy=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],Ay=oe("shield-off",Cy);const Ty=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ci=oe("shield",Ty);const jy=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Ai=oe("skull",jy);const Dy=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ti=oe("sparkles",Dy);const My=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],ol=oe("swords",My);const Ey=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Dc=oe("target",Ey);const Ny=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ly=oe("trash-2",Ny);const Ry=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oh=oe("triangle-alert",Ry);const zy=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Oy=oe("upload",zy);const wy=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vy=oe("user",wy);const Py=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ss=oe("users",Py);const ky=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uh=oe("x",ky);const Uy=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ch=oe("zap",Uy);function dh(n){var i,r,l="";if(typeof n=="string"||typeof n=="number")l+=n;else if(typeof n=="object")if(Array.isArray(n)){var c=n.length;for(i=0;i<c;i++)n[i]&&(r=dh(n[i]))&&(l&&(l+=" "),l+=r)}else for(r in n)n[r]&&(l&&(l+=" "),l+=r);return l}function Iy(){for(var n,i,r=0,l="",c=arguments.length;r<c;r++)(n=arguments[r])&&(i=dh(n))&&(l&&(l+=" "),l+=i);return l}const Mc="-",By=n=>{const i=Gy(n),{conflictingClassGroups:r,conflictingClassGroupModifiers:l}=n;return{getClassGroupId:p=>{const g=p.split(Mc);return g[0]===""&&g.length!==1&&g.shift(),mh(g,i)||Hy(p)},getConflictingClassGroupIds:(p,g)=>{const v=r[p]||[];return g&&l[p]?[...v,...l[p]]:v}}},mh=(n,i)=>{if(n.length===0)return i.classGroupId;const r=n[0],l=i.nextPart.get(r),c=l?mh(n.slice(1),l):void 0;if(c)return c;if(i.validators.length===0)return;const d=n.join(Mc);return i.validators.find(({validator:p})=>p(d))?.classGroupId},sg=/^\[(.+)\]$/,Hy=n=>{if(sg.test(n)){const i=sg.exec(n)[1],r=i?.substring(0,i.indexOf(":"));if(r)return"arbitrary.."+r}},Gy=n=>{const{theme:i,prefix:r}=n,l={nextPart:new Map,validators:[]};return Fy(Object.entries(n.classGroups),r).forEach(([d,p])=>{rc(p,l,d,i)}),l},rc=(n,i,r,l)=>{n.forEach(c=>{if(typeof c=="string"){const d=c===""?i:ng(i,c);d.classGroupId=r;return}if(typeof c=="function"){if(Jy(c)){rc(c(l),i,r,l);return}i.validators.push({validator:c,classGroupId:r});return}Object.entries(c).forEach(([d,p])=>{rc(p,ng(i,d),r,l)})})},ng=(n,i)=>{let r=n;return i.split(Mc).forEach(l=>{r.nextPart.has(l)||r.nextPart.set(l,{nextPart:new Map,validators:[]}),r=r.nextPart.get(l)}),r},Jy=n=>n.isThemeGetter,Fy=(n,i)=>i?n.map(([r,l])=>{const c=l.map(d=>typeof d=="string"?i+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([p,g])=>[i+p,g])):d);return[r,c]}):n,Qy=n=>{if(n<1)return{get:()=>{},set:()=>{}};let i=0,r=new Map,l=new Map;const c=(d,p)=>{r.set(d,p),i++,i>n&&(i=0,l=r,r=new Map)};return{get(d){let p=r.get(d);if(p!==void 0)return p;if((p=l.get(d))!==void 0)return c(d,p),p},set(d,p){r.has(d)?r.set(d,p):c(d,p)}}},ph="!",Yy=n=>{const{separator:i,experimentalParseClassName:r}=n,l=i.length===1,c=i[0],d=i.length,p=g=>{const v=[];let h=0,y=0,b;for(let V=0;V<g.length;V++){let H=g[V];if(h===0){if(H===c&&(l||g.slice(V,V+d)===i)){v.push(g.slice(y,V)),y=V+d;continue}if(H==="/"){b=V;continue}}H==="["?h++:H==="]"&&h--}const _=v.length===0?g:g.substring(y),A=_.startsWith(ph),D=A?_.substring(1):_,L=b&&b>y?b-y:void 0;return{modifiers:v,hasImportantModifier:A,baseClassName:D,maybePostfixModifierPosition:L}};return r?g=>r({className:g,parseClassName:p}):p},$y=n=>{if(n.length<=1)return n;const i=[];let r=[];return n.forEach(l=>{l[0]==="["?(i.push(...r.sort(),l),r=[]):r.push(l)}),i.push(...r.sort()),i},Ky=n=>({cache:Qy(n.cacheSize),parseClassName:Yy(n),...By(n)}),Xy=/\s+/,Zy=(n,i)=>{const{parseClassName:r,getClassGroupId:l,getConflictingClassGroupIds:c}=i,d=[],p=n.trim().split(Xy);let g="";for(let v=p.length-1;v>=0;v-=1){const h=p[v],{modifiers:y,hasImportantModifier:b,baseClassName:_,maybePostfixModifierPosition:A}=r(h);let D=!!A,L=l(D?_.substring(0,A):_);if(!L){if(!D){g=h+(g.length>0?" "+g:g);continue}if(L=l(_),!L){g=h+(g.length>0?" "+g:g);continue}D=!1}const V=$y(y).join(":"),H=b?V+ph:V,B=H+L;if(d.includes(B))continue;d.push(B);const I=c(L,D);for(let J=0;J<I.length;++J){const Y=I[J];d.push(H+Y)}g=h+(g.length>0?" "+g:g)}return g};function Wy(){let n=0,i,r,l="";for(;n<arguments.length;)(i=arguments[n++])&&(r=fh(i))&&(l&&(l+=" "),l+=r);return l}const fh=n=>{if(typeof n=="string")return n;let i,r="";for(let l=0;l<n.length;l++)n[l]&&(i=fh(n[l]))&&(r&&(r+=" "),r+=i);return r};function e2(n,...i){let r,l,c,d=p;function p(v){const h=i.reduce((y,b)=>b(y),n());return r=Ky(h),l=r.cache.get,c=r.cache.set,d=g,g(v)}function g(v){const h=l(v);if(h)return h;const y=Zy(v,r);return c(v,y),y}return function(){return d(Wy.apply(null,arguments))}}const Pe=n=>{const i=r=>r[n]||[];return i.isThemeGetter=!0,i},gh=/^\[(?:([a-z-]+):)?(.+)\]$/i,t2=/^\d+\/\d+$/,a2=new Set(["px","full","screen"]),s2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,i2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,r2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,l2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,va=n=>dn(n)||a2.has(n)||t2.test(n),$a=n=>gn(n,"length",g2),dn=n=>!!n&&!Number.isNaN(Number(n)),Bu=n=>gn(n,"number",dn),fi=n=>!!n&&Number.isInteger(Number(n)),o2=n=>n.endsWith("%")&&dn(n.slice(0,-1)),pe=n=>gh.test(n),Ka=n=>s2.test(n),u2=new Set(["length","size","percentage"]),c2=n=>gn(n,u2,hh),d2=n=>gn(n,"position",hh),m2=new Set(["image","url"]),p2=n=>gn(n,m2,v2),f2=n=>gn(n,"",h2),gi=()=>!0,gn=(n,i,r)=>{const l=gh.exec(n);return l?l[1]?typeof i=="string"?l[1]===i:i.has(l[1]):r(l[2]):!1},g2=n=>n2.test(n)&&!i2.test(n),hh=()=>!1,h2=n=>r2.test(n),v2=n=>l2.test(n),b2=()=>{const n=Pe("colors"),i=Pe("spacing"),r=Pe("blur"),l=Pe("brightness"),c=Pe("borderColor"),d=Pe("borderRadius"),p=Pe("borderSpacing"),g=Pe("borderWidth"),v=Pe("contrast"),h=Pe("grayscale"),y=Pe("hueRotate"),b=Pe("invert"),_=Pe("gap"),A=Pe("gradientColorStops"),D=Pe("gradientColorStopPositions"),L=Pe("inset"),V=Pe("margin"),H=Pe("opacity"),B=Pe("padding"),I=Pe("saturate"),J=Pe("scale"),Y=Pe("sepia"),ae=Pe("skew"),Q=Pe("space"),he=Pe("translate"),W=()=>["auto","contain","none"],se=()=>["auto","hidden","clip","visible","scroll"],fe=()=>["auto",pe,i],$=()=>[pe,i],Re=()=>["",va,$a],de=()=>["auto",dn,pe],ke=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>["start","end","center","between","around","evenly","stretch"],ge=()=>["","0",pe],qe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[dn,pe];return{cacheSize:500,separator:":",theme:{colors:[gi],spacing:[va,$a],blur:["none","",Ka,pe],brightness:q(),borderColor:[n],borderRadius:["none","","full",Ka,pe],borderSpacing:$(),borderWidth:Re(),contrast:q(),grayscale:ge(),hueRotate:q(),invert:ge(),gap:$(),gradientColorStops:[n],gradientColorStopPositions:[o2,$a],inset:fe(),margin:fe(),opacity:q(),padding:$(),saturate:q(),scale:q(),sepia:ge(),skew:q(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Ka]}],"break-after":[{"break-after":qe()}],"break-before":[{"break-before":qe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ke(),pe]}],overflow:[{overflow:se()}],"overflow-x":[{"overflow-x":se()}],"overflow-y":[{"overflow-y":se()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[L]}],"inset-x":[{"inset-x":[L]}],"inset-y":[{"inset-y":[L]}],start:[{start:[L]}],end:[{end:[L]}],top:[{top:[L]}],right:[{right:[L]}],bottom:[{bottom:[L]}],left:[{left:[L]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fi,pe]}],basis:[{basis:fe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:ge()}],shrink:[{shrink:ge()}],order:[{order:["first","last","none",fi,pe]}],"grid-cols":[{"grid-cols":[gi]}],"col-start-end":[{col:["auto",{span:["full",fi,pe]},pe]}],"col-start":[{"col-start":de()}],"col-end":[{"col-end":de()}],"grid-rows":[{"grid-rows":[gi]}],"row-start-end":[{row:["auto",{span:[fi,pe]},pe]}],"row-start":[{"row-start":de()}],"row-end":[{"row-end":de()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[B]}],px:[{px:[B]}],py:[{py:[B]}],ps:[{ps:[B]}],pe:[{pe:[B]}],pt:[{pt:[B]}],pr:[{pr:[B]}],pb:[{pb:[B]}],pl:[{pl:[B]}],m:[{m:[V]}],mx:[{mx:[V]}],my:[{my:[V]}],ms:[{ms:[V]}],me:[{me:[V]}],mt:[{mt:[V]}],mr:[{mr:[V]}],mb:[{mb:[V]}],ml:[{ml:[V]}],"space-x":[{"space-x":[Q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,i]}],"min-w":[{"min-w":[pe,i,"min","max","fit"]}],"max-w":[{"max-w":[pe,i,"none","full","min","max","fit","prose",{screen:[Ka]},Ka]}],h:[{h:[pe,i,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,i,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,i,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,i,"auto","min","max","fit"]}],"font-size":[{text:["base",Ka,$a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bu]}],"font-family":[{font:[gi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",dn,Bu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",va,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[H]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[H]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",va,$a]}],"underline-offset":[{"underline-offset":["auto",va,pe]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[H]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ke(),d2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",c2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},p2]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[D]}],"gradient-via-pos":[{via:[D]}],"gradient-to-pos":[{to:[D]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[H]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[H]}],"divide-style":[{divide:R()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-s":[{"border-s":[c]}],"border-color-e":[{"border-e":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[va,pe]}],"outline-w":[{outline:[va,$a]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:Re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[H]}],"ring-offset-w":[{"ring-offset":[va,$a]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Ka,f2]}],"shadow-color":[{shadow:[gi]}],opacity:[{opacity:[H]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[l]}],contrast:[{contrast:[v]}],"drop-shadow":[{"drop-shadow":["","none",Ka,pe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[b]}],saturate:[{saturate:[I]}],sepia:[{sepia:[Y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[l]}],"backdrop-contrast":[{"backdrop-contrast":[v]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[H]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[Y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[p]}],"border-spacing-x":[{"border-spacing-x":[p]}],"border-spacing-y":[{"border-spacing-y":[p]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[J]}],"scale-x":[{"scale-x":[J]}],"scale-y":[{"scale-y":[J]}],rotate:[{rotate:[fi,pe]}],"translate-x":[{"translate-x":[he]}],"translate-y":[{"translate-y":[he]}],"skew-x":[{"skew-x":[ae]}],"skew-y":[{"skew-y":[ae]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[va,$a,Bu]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},x2=e2(b2);function y2(...n){return x2(Iy(n))}const Oe=y2;var Hu={exports:{}},Gu,ig;function S2(){if(ig)return Gu;ig=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gu=n,Gu}var Ju,rg;function _2(){if(rg)return Ju;rg=1;var n=S2();function i(){}function r(){}return r.resetWarningCache=i,Ju=function(){function l(p,g,v,h,y,b){if(b!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}l.isRequired=l;function c(){return l}var d={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:c,element:l,elementType:l,instanceOf:c,node:l,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:r,resetWarningCache:i};return d.PropTypes=d,d},Ju}var lg;function q2(){return lg||(lg=1,Hu.exports=_2()()),Hu.exports}var C2=q2();const O=bc(C2),ie=n=>typeof n=="string",hi=()=>{let n,i;const r=new Promise((l,c)=>{n=l,i=c});return r.resolve=n,r.reject=i,r},og=n=>n==null?"":""+n,A2=(n,i,r)=>{n.forEach(l=>{i[l]&&(r[l]=i[l])})},T2=/###/g,ug=n=>n&&n.indexOf("###")>-1?n.replace(T2,"."):n,cg=n=>!n||ie(n),vi=(n,i,r)=>{const l=ie(i)?i.split("."):i;let c=0;for(;c<l.length-1;){if(cg(n))return{};const d=ug(l[c]);!n[d]&&r&&(n[d]=new r),Object.prototype.hasOwnProperty.call(n,d)?n=n[d]:n={},++c}return cg(n)?{}:{obj:n,k:ug(l[c])}},dg=(n,i,r)=>{const{obj:l,k:c}=vi(n,i,Object);if(l!==void 0||i.length===1){l[c]=r;return}let d=i[i.length-1],p=i.slice(0,i.length-1),g=vi(n,p,Object);for(;g.obj===void 0&&p.length;)d=`${p[p.length-1]}.${d}`,p=p.slice(0,p.length-1),g=vi(n,p,Object),g?.obj&&typeof g.obj[`${g.k}.${d}`]<"u"&&(g.obj=void 0);g.obj[`${g.k}.${d}`]=r},j2=(n,i,r,l)=>{const{obj:c,k:d}=vi(n,i,Object);c[d]=c[d]||[],c[d].push(r)},Zr=(n,i)=>{const{obj:r,k:l}=vi(n,i);if(r&&Object.prototype.hasOwnProperty.call(r,l))return r[l]},D2=(n,i,r)=>{const l=Zr(n,r);return l!==void 0?l:Zr(i,r)},vh=(n,i,r)=>{for(const l in i)l!=="__proto__"&&l!=="constructor"&&(l in n?ie(n[l])||n[l]instanceof String||ie(i[l])||i[l]instanceof String?r&&(n[l]=i[l]):vh(n[l],i[l],r):n[l]=i[l]);return n},un=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var M2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const E2=n=>ie(n)?n.replace(/[&<>"'\/]/g,i=>M2[i]):n;class N2{constructor(i){this.capacity=i,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(i){const r=this.regExpMap.get(i);if(r!==void 0)return r;const l=new RegExp(i);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(i,l),this.regExpQueue.push(i),l}}const L2=[" ",",","?","!",";"],R2=new N2(20),z2=(n,i,r)=>{i=i||"",r=r||"";const l=L2.filter(p=>i.indexOf(p)<0&&r.indexOf(p)<0);if(l.length===0)return!0;const c=R2.getRegExp(`(${l.map(p=>p==="?"?"\\?":p).join("|")})`);let d=!c.test(n);if(!d){const p=n.indexOf(r);p>0&&!c.test(n.substring(0,p))&&(d=!0)}return d},lc=(n,i,r=".")=>{if(!n)return;if(n[i])return Object.prototype.hasOwnProperty.call(n,i)?n[i]:void 0;const l=i.split(r);let c=n;for(let d=0;d<l.length;){if(!c||typeof c!="object")return;let p,g="";for(let v=d;v<l.length;++v)if(v!==d&&(g+=r),g+=l[v],p=c[g],p!==void 0){if(["string","number","boolean"].indexOf(typeof p)>-1&&v<l.length-1)continue;d+=v-d+1;break}c=p}return c},yi=n=>n?.replace("_","-"),O2={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,i){console?.[n]?.apply?.(console,i)}};class Wr{constructor(i,r={}){this.init(i,r)}init(i,r={}){this.prefix=r.prefix||"i18next:",this.logger=i||O2,this.options=r,this.debug=r.debug}log(...i){return this.forward(i,"log","",!0)}warn(...i){return this.forward(i,"warn","",!0)}error(...i){return this.forward(i,"error","")}deprecate(...i){return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(i,r,l,c){return c&&!this.debug?null:(ie(i[0])&&(i[0]=`${l}${this.prefix} ${i[0]}`),this.logger[r](i))}create(i){return new Wr(this.logger,{prefix:`${this.prefix}:${i}:`,...this.options})}clone(i){return i=i||this.options,i.prefix=i.prefix||this.prefix,new Wr(this.logger,i)}}var $t=new Wr;class ul{constructor(){this.observers={}}on(i,r){return i.split(" ").forEach(l=>{this.observers[l]||(this.observers[l]=new Map);const c=this.observers[l].get(r)||0;this.observers[l].set(r,c+1)}),this}off(i,r){if(this.observers[i]){if(!r){delete this.observers[i];return}this.observers[i].delete(r)}}emit(i,...r){this.observers[i]&&Array.from(this.observers[i].entries()).forEach(([c,d])=>{for(let p=0;p<d;p++)c(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([c,d])=>{for(let p=0;p<d;p++)c.apply(c,[i,...r])})}}class mg extends ul{constructor(i,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=i||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}removeNamespaces(i){const r=this.options.ns.indexOf(i);r>-1&&this.options.ns.splice(r,1)}getResource(i,r,l,c={}){const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,p=c.ignoreJSONStructure!==void 0?c.ignoreJSONStructure:this.options.ignoreJSONStructure;let g;i.indexOf(".")>-1?g=i.split("."):(g=[i,r],l&&(Array.isArray(l)?g.push(...l):ie(l)&&d?g.push(...l.split(d)):g.push(l)));const v=Zr(this.data,g);return!v&&!r&&!l&&i.indexOf(".")>-1&&(i=g[0],r=g[1],l=g.slice(2).join(".")),v||!p||!ie(l)?v:lc(this.data?.[i]?.[r],l,d)}addResource(i,r,l,c,d={silent:!1}){const p=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator;let g=[i,r];l&&(g=g.concat(p?l.split(p):l)),i.indexOf(".")>-1&&(g=i.split("."),c=r,r=g[1]),this.addNamespaces(r),dg(this.data,g,c),d.silent||this.emit("added",i,r,l,c)}addResources(i,r,l,c={silent:!1}){for(const d in l)(ie(l[d])||Array.isArray(l[d]))&&this.addResource(i,r,d,l[d],{silent:!0});c.silent||this.emit("added",i,r,l)}addResourceBundle(i,r,l,c,d,p={silent:!1,skipCopy:!1}){let g=[i,r];i.indexOf(".")>-1&&(g=i.split("."),c=l,l=r,r=g[1]),this.addNamespaces(r);let v=Zr(this.data,g)||{};p.skipCopy||(l=JSON.parse(JSON.stringify(l))),c?vh(v,l,d):v={...v,...l},dg(this.data,g,v),p.silent||this.emit("added",i,r,l)}removeResourceBundle(i,r){this.hasResourceBundle(i,r)&&delete this.data[i][r],this.removeNamespaces(r),this.emit("removed",i,r)}hasResourceBundle(i,r){return this.getResource(i,r)!==void 0}getResourceBundle(i,r){return r||(r=this.options.defaultNS),this.getResource(i,r)}getDataByLanguage(i){return this.data[i]}hasLanguageSomeTranslations(i){const r=this.getDataByLanguage(i);return!!(r&&Object.keys(r)||[]).find(c=>r[c]&&Object.keys(r[c]).length>0)}toJSON(){return this.data}}var bh={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,i,r,l,c){return n.forEach(d=>{i=this.processors[d]?.process(i,r,l,c)??i}),i}};const xh=Symbol("i18next/PATH_KEY");function w2(){const n=[],i=Object.create(null);let r;return i.get=(l,c)=>(r?.revoke?.(),c===xh?n:(n.push(c),r=Proxy.revocable(l,i),r.proxy)),Proxy.revocable(Object.create(null),i).proxy}function oc(n,i){const{[xh]:r}=n(w2());return r.join(i?.keySeparator??".")}const pg={},Fu=n=>!ie(n)&&typeof n!="boolean"&&typeof n!="number";class el extends ul{constructor(i,r={}){super(),A2(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=$t.create("translator")}changeLanguage(i){i&&(this.language=i)}exists(i,r={interpolation:{}}){const l={...r};if(i==null)return!1;const c=this.resolve(i,l);if(c?.res===void 0)return!1;const d=Fu(c.res);return!(l.returnObjects===!1&&d)}extractFromKey(i,r){let l=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;l===void 0&&(l=":");const c=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let d=r.ns||this.options.defaultNS||[];const p=l&&i.indexOf(l)>-1,g=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!z2(i,l,c);if(p&&!g){const v=i.match(this.interpolator.nestingRegexp);if(v&&v.length>0)return{key:i,namespaces:ie(d)?[d]:d};const h=i.split(l);(l!==c||l===c&&this.options.ns.indexOf(h[0])>-1)&&(d=h.shift()),i=h.join(c)}return{key:i,namespaces:ie(d)?[d]:d}}translate(i,r,l){let c=typeof r=="object"?{...r}:r;if(typeof c!="object"&&this.options.overloadTranslationOptionHandler&&(c=this.options.overloadTranslationOptionHandler(arguments)),typeof c=="object"&&(c={...c}),c||(c={}),i==null)return"";typeof i=="function"&&(i=oc(i,{...this.options,...c})),Array.isArray(i)||(i=[String(i)]);const d=c.returnDetails!==void 0?c.returnDetails:this.options.returnDetails,p=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,{key:g,namespaces:v}=this.extractFromKey(i[i.length-1],c),h=v[v.length-1];let y=c.nsSeparator!==void 0?c.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const b=c.lng||this.language,_=c.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(b?.toLowerCase()==="cimode")return _?d?{res:`${h}${y}${g}`,usedKey:g,exactUsedKey:g,usedLng:b,usedNS:h,usedParams:this.getUsedParamsDetails(c)}:`${h}${y}${g}`:d?{res:g,usedKey:g,exactUsedKey:g,usedLng:b,usedNS:h,usedParams:this.getUsedParamsDetails(c)}:g;const A=this.resolve(i,c);let D=A?.res;const L=A?.usedKey||g,V=A?.exactUsedKey||g,H=["[object Number]","[object Function]","[object RegExp]"],B=c.joinArrays!==void 0?c.joinArrays:this.options.joinArrays,I=!this.i18nFormat||this.i18nFormat.handleAsObject,J=c.count!==void 0&&!ie(c.count),Y=el.hasDefaultValue(c),ae=J?this.pluralResolver.getSuffix(b,c.count,c):"",Q=c.ordinal&&J?this.pluralResolver.getSuffix(b,c.count,{ordinal:!1}):"",he=J&&!c.ordinal&&c.count===0,W=he&&c[`defaultValue${this.options.pluralSeparator}zero`]||c[`defaultValue${ae}`]||c[`defaultValue${Q}`]||c.defaultValue;let se=D;I&&!D&&Y&&(se=W);const fe=Fu(se),$=Object.prototype.toString.apply(se);if(I&&se&&fe&&H.indexOf($)<0&&!(ie(B)&&Array.isArray(se))){if(!c.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Re=this.options.returnedObjectHandler?this.options.returnedObjectHandler(L,se,{...c,ns:v}):`key '${g} (${this.language})' returned an object instead of string.`;return d?(A.res=Re,A.usedParams=this.getUsedParamsDetails(c),A):Re}if(p){const Re=Array.isArray(se),de=Re?[]:{},ke=Re?V:L;for(const R in se)if(Object.prototype.hasOwnProperty.call(se,R)){const G=`${ke}${p}${R}`;Y&&!D?de[R]=this.translate(G,{...c,defaultValue:Fu(W)?W[R]:void 0,joinArrays:!1,ns:v}):de[R]=this.translate(G,{...c,joinArrays:!1,ns:v}),de[R]===G&&(de[R]=se[R])}D=de}}else if(I&&ie(B)&&Array.isArray(D))D=D.join(B),D&&(D=this.extendTranslation(D,i,c,l));else{let Re=!1,de=!1;!this.isValidLookup(D)&&Y&&(Re=!0,D=W),this.isValidLookup(D)||(de=!0,D=g);const R=(c.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&de?void 0:D,G=Y&&W!==D&&this.options.updateMissing;if(de||Re||G){if(this.logger.log(G?"updateKey":"missingKey",b,h,g,G?W:D),p){const q=this.resolve(g,{...c,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const ge=this.languageUtils.getFallbackCodes(this.options.fallbackLng,c.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ge&&ge[0])for(let q=0;q<ge.length;q++)ee.push(ge[q]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(c.lng||this.language):ee.push(c.lng||this.language);const qe=(q,P,F)=>{const K=Y&&F!==D?F:R;this.options.missingKeyHandler?this.options.missingKeyHandler(q,h,P,K,G,c):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(q,h,P,K,G,c),this.emit("missingKey",q,h,P,D)};this.options.saveMissing&&(this.options.saveMissingPlurals&&J?ee.forEach(q=>{const P=this.pluralResolver.getSuffixes(q,c);he&&c[`defaultValue${this.options.pluralSeparator}zero`]&&P.indexOf(`${this.options.pluralSeparator}zero`)<0&&P.push(`${this.options.pluralSeparator}zero`),P.forEach(F=>{qe([q],g+F,c[`defaultValue${F}`]||W)})}):qe(ee,g,W))}D=this.extendTranslation(D,i,c,A,l),de&&D===g&&this.options.appendNamespaceToMissingKey&&(D=`${h}${y}${g}`),(de||Re)&&this.options.parseMissingKeyHandler&&(D=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${y}${g}`:g,Re?D:void 0,c))}return d?(A.res=D,A.usedParams=this.getUsedParamsDetails(c),A):D}extendTranslation(i,r,l,c,d){if(this.i18nFormat?.parse)i=this.i18nFormat.parse(i,{...this.options.interpolation.defaultVariables,...l},l.lng||this.language||c.usedLng,c.usedNS,c.usedKey,{resolved:c});else if(!l.skipInterpolation){l.interpolation&&this.interpolator.init({...l,interpolation:{...this.options.interpolation,...l.interpolation}});const v=ie(i)&&(l?.interpolation?.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(v){const b=i.match(this.interpolator.nestingRegexp);h=b&&b.length}let y=l.replace&&!ie(l.replace)?l.replace:l;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),i=this.interpolator.interpolate(i,y,l.lng||this.language||c.usedLng,l),v){const b=i.match(this.interpolator.nestingRegexp),_=b&&b.length;h<_&&(l.nest=!1)}!l.lng&&c&&c.res&&(l.lng=this.language||c.usedLng),l.nest!==!1&&(i=this.interpolator.nest(i,(...b)=>d?.[0]===b[0]&&!l.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${r[0]}`),null):this.translate(...b,r),l)),l.interpolation&&this.interpolator.reset()}const p=l.postProcess||this.options.postProcess,g=ie(p)?[p]:p;return i!=null&&g?.length&&l.applyPostProcessor!==!1&&(i=bh.handle(g,i,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...c,usedParams:this.getUsedParamsDetails(l)},...l}:l,this)),i}resolve(i,r={}){let l,c,d,p,g;return ie(i)&&(i=[i]),i.forEach(v=>{if(this.isValidLookup(l))return;const h=this.extractFromKey(v,r),y=h.key;c=y;let b=h.namespaces;this.options.fallbackNS&&(b=b.concat(this.options.fallbackNS));const _=r.count!==void 0&&!ie(r.count),A=_&&!r.ordinal&&r.count===0,D=r.context!==void 0&&(ie(r.context)||typeof r.context=="number")&&r.context!=="",L=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);b.forEach(V=>{this.isValidLookup(l)||(g=V,!pg[`${L[0]}-${V}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(g)&&(pg[`${L[0]}-${V}`]=!0,this.logger.warn(`key "${c}" for languages "${L.join(", ")}" won't get resolved as namespace "${g}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),L.forEach(H=>{if(this.isValidLookup(l))return;p=H;const B=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(B,y,H,V,r);else{let J;_&&(J=this.pluralResolver.getSuffix(H,r.count,r));const Y=`${this.options.pluralSeparator}zero`,ae=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(r.ordinal&&J.indexOf(ae)===0&&B.push(y+J.replace(ae,this.options.pluralSeparator)),B.push(y+J),A&&B.push(y+Y)),D){const Q=`${y}${this.options.contextSeparator||"_"}${r.context}`;B.push(Q),_&&(r.ordinal&&J.indexOf(ae)===0&&B.push(Q+J.replace(ae,this.options.pluralSeparator)),B.push(Q+J),A&&B.push(Q+Y))}}let I;for(;I=B.pop();)this.isValidLookup(l)||(d=I,l=this.getResource(H,V,I,r))}))})}),{res:l,usedKey:c,exactUsedKey:d,usedLng:p,usedNS:g}}isValidLookup(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}getResource(i,r,l,c={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(i,r,l,c):this.resourceStore.getResource(i,r,l,c)}getUsedParamsDetails(i={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],l=i.replace&&!ie(i.replace);let c=l?i.replace:i;if(l&&typeof i.count<"u"&&(c.count=i.count),this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),!l){c={...c};for(const d of r)delete c[d]}return c}static hasDefaultValue(i){const r="defaultValue";for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)&&r===l.substring(0,r.length)&&i[l]!==void 0)return!0;return!1}}class fg{constructor(i){this.options=i,this.supportedLngs=this.options.supportedLngs||!1,this.logger=$t.create("languageUtils")}getScriptPartFromCode(i){if(i=yi(i),!i||i.indexOf("-")<0)return null;const r=i.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(i){if(i=yi(i),!i||i.indexOf("-")<0)return i;const r=i.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(i){if(ie(i)&&i.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(i)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?i.toLowerCase():i)}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}isSupportedCode(i){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}getBestMatchFromCodes(i){if(!i)return null;let r;return i.forEach(l=>{if(r)return;const c=this.formatLanguageCode(l);(!this.options.supportedLngs||this.isSupportedCode(c))&&(r=c)}),!r&&this.options.supportedLngs&&i.forEach(l=>{if(r)return;const c=this.getScriptPartFromCode(l);if(this.isSupportedCode(c))return r=c;const d=this.getLanguagePartFromCode(l);if(this.isSupportedCode(d))return r=d;r=this.options.supportedLngs.find(p=>{if(p===d)return p;if(!(p.indexOf("-")<0&&d.indexOf("-")<0)&&(p.indexOf("-")>0&&d.indexOf("-")<0&&p.substring(0,p.indexOf("-"))===d||p.indexOf(d)===0&&d.length>1))return p})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(i,r){if(!i)return[];if(typeof i=="function"&&(i=i(r)),ie(i)&&(i=[i]),Array.isArray(i))return i;if(!r)return i.default||[];let l=i[r];return l||(l=i[this.getScriptPartFromCode(r)]),l||(l=i[this.formatLanguageCode(r)]),l||(l=i[this.getLanguagePartFromCode(r)]),l||(l=i.default),l||[]}toResolveHierarchy(i,r){const l=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],i),c=[],d=p=>{p&&(this.isSupportedCode(p)?c.push(p):this.logger.warn(`rejecting language code not found in supportedLngs: ${p}`))};return ie(i)&&(i.indexOf("-")>-1||i.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(i)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(i)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(i))):ie(i)&&d(this.formatLanguageCode(i)),l.forEach(p=>{c.indexOf(p)<0&&d(this.formatLanguageCode(p))}),c}}const gg={zero:0,one:1,two:2,few:3,many:4,other:5},hg={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class V2{constructor(i,r={}){this.languageUtils=i,this.options=r,this.logger=$t.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(i,r={}){const l=yi(i==="dev"?"en":i),c=r.ordinal?"ordinal":"cardinal",d=JSON.stringify({cleanedCode:l,type:c});if(d in this.pluralRulesCache)return this.pluralRulesCache[d];let p;try{p=new Intl.PluralRules(l,{type:c})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),hg;if(!i.match(/-|_/))return hg;const v=this.languageUtils.getLanguagePartFromCode(i);p=this.getRule(v,r)}return this.pluralRulesCache[d]=p,p}needsPlural(i,r={}){let l=this.getRule(i,r);return l||(l=this.getRule("dev",r)),l?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(i,r,l={}){return this.getSuffixes(i,l).map(c=>`${r}${c}`)}getSuffixes(i,r={}){let l=this.getRule(i,r);return l||(l=this.getRule("dev",r)),l?l.resolvedOptions().pluralCategories.sort((c,d)=>gg[c]-gg[d]).map(c=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${c}`):[]}getSuffix(i,r,l={}){const c=this.getRule(i,l);return c?`${this.options.prepend}${l.ordinal?`ordinal${this.options.prepend}`:""}${c.select(r)}`:(this.logger.warn(`no plural rule found for: ${i}`),this.getSuffix("dev",r,l))}}const vg=(n,i,r,l=".",c=!0)=>{let d=D2(n,i,r);return!d&&c&&ie(r)&&(d=lc(n,r,l),d===void 0&&(d=lc(i,r,l))),d},Qu=n=>n.replace(/\$/g,"$$$$");class bg{constructor(i={}){this.logger=$t.create("interpolator"),this.options=i,this.format=i?.interpolation?.format||(r=>r),this.init(i)}init(i={}){i.interpolation||(i.interpolation={escapeValue:!0});const{escape:r,escapeValue:l,useRawValueToEscape:c,prefix:d,prefixEscaped:p,suffix:g,suffixEscaped:v,formatSeparator:h,unescapeSuffix:y,unescapePrefix:b,nestingPrefix:_,nestingPrefixEscaped:A,nestingSuffix:D,nestingSuffixEscaped:L,nestingOptionsSeparator:V,maxReplaces:H,alwaysFormat:B}=i.interpolation;this.escape=r!==void 0?r:E2,this.escapeValue=l!==void 0?l:!0,this.useRawValueToEscape=c!==void 0?c:!1,this.prefix=d?un(d):p||"{{",this.suffix=g?un(g):v||"}}",this.formatSeparator=h||",",this.unescapePrefix=y?"":b||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=_?un(_):A||un("$t("),this.nestingSuffix=D?un(D):L||un(")"),this.nestingOptionsSeparator=V||",",this.maxReplaces=H||1e3,this.alwaysFormat=B!==void 0?B:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const i=(r,l)=>r?.source===l?(r.lastIndex=0,r):new RegExp(l,"g");this.regexp=i(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=i(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=i(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(i,r,l,c){let d,p,g;const v=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=A=>{if(A.indexOf(this.formatSeparator)<0){const H=vg(r,v,A,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(H,void 0,l,{...c,...r,interpolationkey:A}):H}const D=A.split(this.formatSeparator),L=D.shift().trim(),V=D.join(this.formatSeparator).trim();return this.format(vg(r,v,L,this.options.keySeparator,this.options.ignoreJSONStructure),V,l,{...c,...r,interpolationkey:L})};this.resetRegExp();const y=c?.missingInterpolationHandler||this.options.missingInterpolationHandler,b=c?.interpolation?.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:A=>Qu(A)},{regex:this.regexp,safeValue:A=>this.escapeValue?Qu(this.escape(A)):Qu(A)}].forEach(A=>{for(g=0;d=A.regex.exec(i);){const D=d[1].trim();if(p=h(D),p===void 0)if(typeof y=="function"){const V=y(i,d,c);p=ie(V)?V:""}else if(c&&Object.prototype.hasOwnProperty.call(c,D))p="";else if(b){p=d[0];continue}else this.logger.warn(`missed to pass in variable ${D} for interpolating ${i}`),p="";else!ie(p)&&!this.useRawValueToEscape&&(p=og(p));const L=A.safeValue(p);if(i=i.replace(d[0],L),b?(A.regex.lastIndex+=p.length,A.regex.lastIndex-=d[0].length):A.regex.lastIndex=0,g++,g>=this.maxReplaces)break}}),i}nest(i,r,l={}){let c,d,p;const g=(v,h)=>{const y=this.nestingOptionsSeparator;if(v.indexOf(y)<0)return v;const b=v.split(new RegExp(`${y}[ ]*{`));let _=`{${b[1]}`;v=b[0],_=this.interpolate(_,p);const A=_.match(/'/g),D=_.match(/"/g);((A?.length??0)%2===0&&!D||D.length%2!==0)&&(_=_.replace(/'/g,'"'));try{p=JSON.parse(_),h&&(p={...h,...p})}catch(L){return this.logger.warn(`failed parsing options string in nesting for key ${v}`,L),`${v}${y}${_}`}return p.defaultValue&&p.defaultValue.indexOf(this.prefix)>-1&&delete p.defaultValue,v};for(;c=this.nestingRegexp.exec(i);){let v=[];p={...l},p=p.replace&&!ie(p.replace)?p.replace:p,p.applyPostProcessor=!1,delete p.defaultValue;const h=/{.*}/.test(c[1])?c[1].lastIndexOf("}")+1:c[1].indexOf(this.formatSeparator);if(h!==-1&&(v=c[1].slice(h).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),c[1]=c[1].slice(0,h)),d=r(g.call(this,c[1].trim(),p),p),d&&c[0]===i&&!ie(d))return d;ie(d)||(d=og(d)),d||(this.logger.warn(`missed to resolve ${c[1]} for nesting ${i}`),d=""),v.length&&(d=v.reduce((y,b)=>this.format(y,b,l.lng,{...l,interpolationkey:c[1].trim()}),d.trim())),i=i.replace(c[0],d),this.regexp.lastIndex=0}return i}}const P2=n=>{let i=n.toLowerCase().trim();const r={};if(n.indexOf("(")>-1){const l=n.split("(");i=l[0].toLowerCase().trim();const c=l[1].substring(0,l[1].length-1);i==="currency"&&c.indexOf(":")<0?r.currency||(r.currency=c.trim()):i==="relativetime"&&c.indexOf(":")<0?r.range||(r.range=c.trim()):c.split(";").forEach(p=>{if(p){const[g,...v]=p.split(":"),h=v.join(":").trim().replace(/^'+|'+$/g,""),y=g.trim();r[y]||(r[y]=h),h==="false"&&(r[y]=!1),h==="true"&&(r[y]=!0),isNaN(h)||(r[y]=parseInt(h,10))}})}return{formatName:i,formatOptions:r}},xg=n=>{const i={};return(r,l,c)=>{let d=c;c&&c.interpolationkey&&c.formatParams&&c.formatParams[c.interpolationkey]&&c[c.interpolationkey]&&(d={...d,[c.interpolationkey]:void 0});const p=l+JSON.stringify(d);let g=i[p];return g||(g=n(yi(l),c),i[p]=g),g(r)}},k2=n=>(i,r,l)=>n(yi(r),l)(i);class U2{constructor(i={}){this.logger=$t.create("formatter"),this.options=i,this.init(i)}init(i,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const l=r.cacheInBuiltFormats?xg:k2;this.formats={number:l((c,d)=>{const p=new Intl.NumberFormat(c,{...d});return g=>p.format(g)}),currency:l((c,d)=>{const p=new Intl.NumberFormat(c,{...d,style:"currency"});return g=>p.format(g)}),datetime:l((c,d)=>{const p=new Intl.DateTimeFormat(c,{...d});return g=>p.format(g)}),relativetime:l((c,d)=>{const p=new Intl.RelativeTimeFormat(c,{...d});return g=>p.format(g,d.range||"day")}),list:l((c,d)=>{const p=new Intl.ListFormat(c,{...d});return g=>p.format(g)})}}add(i,r){this.formats[i.toLowerCase().trim()]=r}addCached(i,r){this.formats[i.toLowerCase().trim()]=xg(r)}format(i,r,l,c={}){const d=r.split(this.formatSeparator);if(d.length>1&&d[0].indexOf("(")>1&&d[0].indexOf(")")<0&&d.find(g=>g.indexOf(")")>-1)){const g=d.findIndex(v=>v.indexOf(")")>-1);d[0]=[d[0],...d.splice(1,g)].join(this.formatSeparator)}return d.reduce((g,v)=>{const{formatName:h,formatOptions:y}=P2(v);if(this.formats[h]){let b=g;try{const _=c?.formatParams?.[c.interpolationkey]||{},A=_.locale||_.lng||c.locale||c.lng||l;b=this.formats[h](g,A,{...y,...c,..._})}catch(_){this.logger.warn(_)}return b}else this.logger.warn(`there was no format function for ${h}`);return g},i)}}const I2=(n,i)=>{n.pending[i]!==void 0&&(delete n.pending[i],n.pendingCount--)};class B2 extends ul{constructor(i,r,l,c={}){super(),this.backend=i,this.store=r,this.services=l,this.languageUtils=l.languageUtils,this.options=c,this.logger=$t.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=c.maxParallelReads||10,this.readingCalls=0,this.maxRetries=c.maxRetries>=0?c.maxRetries:5,this.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(l,c.backend,c)}queueLoad(i,r,l,c){const d={},p={},g={},v={};return i.forEach(h=>{let y=!0;r.forEach(b=>{const _=`${h}|${b}`;!l.reload&&this.store.hasResourceBundle(h,b)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?p[_]===void 0&&(p[_]=!0):(this.state[_]=1,y=!1,p[_]===void 0&&(p[_]=!0),d[_]===void 0&&(d[_]=!0),v[b]===void 0&&(v[b]=!0)))}),y||(g[h]=!0)}),(Object.keys(d).length||Object.keys(p).length)&&this.queue.push({pending:p,pendingCount:Object.keys(p).length,loaded:{},errors:[],callback:c}),{toLoad:Object.keys(d),pending:Object.keys(p),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(v)}}loaded(i,r,l){const c=i.split("|"),d=c[0],p=c[1];r&&this.emit("failedLoading",d,p,r),!r&&l&&this.store.addResourceBundle(d,p,l,void 0,void 0,{skipCopy:!0}),this.state[i]=r?-1:2,r&&l&&(this.state[i]=0);const g={};this.queue.forEach(v=>{j2(v.loaded,[d],p),I2(v,i),r&&v.errors.push(r),v.pendingCount===0&&!v.done&&(Object.keys(v.loaded).forEach(h=>{g[h]||(g[h]={});const y=v.loaded[h];y.length&&y.forEach(b=>{g[h][b]===void 0&&(g[h][b]=!0)})}),v.done=!0,v.errors.length?v.callback(v.errors):v.callback())}),this.emit("loaded",g),this.queue=this.queue.filter(v=>!v.done)}read(i,r,l,c=0,d=this.retryTimeout,p){if(!i.length)return p(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:r,fcName:l,tried:c,wait:d,callback:p});return}this.readingCalls++;const g=(h,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const b=this.waitingReads.shift();this.read(b.lng,b.ns,b.fcName,b.tried,b.wait,b.callback)}if(h&&y&&c<this.maxRetries){setTimeout(()=>{this.read.call(this,i,r,l,c+1,d*2,p)},d);return}p(h,y)},v=this.backend[l].bind(this.backend);if(v.length===2){try{const h=v(i,r);h&&typeof h.then=="function"?h.then(y=>g(null,y)).catch(g):g(null,h)}catch(h){g(h)}return}return v(i,r,g)}prepareLoading(i,r,l={},c){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();ie(i)&&(i=this.languageUtils.toResolveHierarchy(i)),ie(r)&&(r=[r]);const d=this.queueLoad(i,r,l,c);if(!d.toLoad.length)return d.pending.length||c(),null;d.toLoad.forEach(p=>{this.loadOne(p)})}load(i,r,l){this.prepareLoading(i,r,{},l)}reload(i,r,l){this.prepareLoading(i,r,{reload:!0},l)}loadOne(i,r=""){const l=i.split("|"),c=l[0],d=l[1];this.read(c,d,"read",void 0,void 0,(p,g)=>{p&&this.logger.warn(`${r}loading namespace ${d} for language ${c} failed`,p),!p&&g&&this.logger.log(`${r}loaded namespace ${d} for language ${c}`,g),this.loaded(i,p,g)})}saveMissing(i,r,l,c,d,p={},g=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${l}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(l==null||l==="")){if(this.backend?.create){const v={...p,isUpdate:d},h=this.backend.create.bind(this.backend);if(h.length<6)try{let y;h.length===5?y=h(i,r,l,c,v):y=h(i,r,l,c),y&&typeof y.then=="function"?y.then(b=>g(null,b)).catch(g):g(null,y)}catch(y){g(y)}else h(i,r,l,c,g,v)}!i||!i[0]||this.store.addResource(i[0],r,l,c)}}}const Yu=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let i={};if(typeof n[1]=="object"&&(i=n[1]),ie(n[1])&&(i.defaultValue=n[1]),ie(n[2])&&(i.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const r=n[3]||n[2];Object.keys(r).forEach(l=>{i[l]=r[l]})}return i},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),yg=n=>(ie(n.ns)&&(n.ns=[n.ns]),ie(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),ie(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),Qr=()=>{},H2=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(r=>{typeof n[r]=="function"&&(n[r]=n[r].bind(n))})};class bi extends ul{constructor(i={},r){if(super(),this.options=yg(i),this.services={},this.logger=$t,this.modules={external:[]},H2(this),r&&!this.isInitialized&&!i.isClone){if(!this.options.initAsync)return this.init(i,r),this;setTimeout(()=>{this.init(i,r)},0)}}init(i={},r){this.isInitializing=!0,typeof i=="function"&&(r=i,i={}),i.defaultNS==null&&i.ns&&(ie(i.ns)?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));const l=Yu();this.options={...l,...this.options,...yg(i)},this.options.interpolation={...l.interpolation,...this.options.interpolation},i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=l.overloadTranslationOptionHandler);const c=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?$t.init(c(this.modules.logger),this.options):$t.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=U2;const y=new fg(this.options);this.store=new mg(this.options.resources,this.options);const b=this.services;b.logger=$t,b.resourceStore=this.store,b.languageUtils=y,b.pluralResolver=new V2(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==l.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===l.interpolation.format)&&(b.formatter=c(h),b.formatter.init&&b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new bg(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new B2(c(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",(A,...D)=>{this.emit(A,...D)}),this.modules.languageDetector&&(b.languageDetector=c(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=c(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new el(this.services,this.options),this.translator.on("*",(A,...D)=>{this.emit(A,...D)}),this.modules.external.forEach(A=>{A.init&&A.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Qr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...y)=>this.store[h](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...y)=>(this.store[h](...y),this)});const g=hi(),v=()=>{const h=(y,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),g.resolve(b),r(y,b)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?v():setTimeout(v,0),g}loadResources(i,r=Qr){let l=r;const c=ie(i)?i:this.language;if(typeof i=="function"&&(l=i),!this.options.resources||this.options.partialBundledLanguages){if(c?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return l();const d=[],p=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(h=>{h!=="cimode"&&d.indexOf(h)<0&&d.push(h)})};c?p(c):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(v=>p(v)),this.options.preload?.forEach?.(g=>p(g)),this.services.backendConnector.load(d,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),l(g)})}else l(null)}reloadResources(i,r,l){const c=hi();return typeof i=="function"&&(l=i,i=void 0),typeof r=="function"&&(l=r,r=void 0),i||(i=this.languages),r||(r=this.options.ns),l||(l=Qr),this.services.backendConnector.reload(i,r,d=>{c.resolve(),l(d)}),c}use(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&bh.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}setResolvedLanguage(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1)){for(let r=0;r<this.languages.length;r++){const l=this.languages[r];if(!(["cimode","dev"].indexOf(l)>-1)&&this.store.hasLanguageSomeTranslations(l)){this.resolvedLanguage=l;break}}!this.resolvedLanguage&&this.languages.indexOf(i)<0&&this.store.hasLanguageSomeTranslations(i)&&(this.resolvedLanguage=i,this.languages.unshift(i))}}changeLanguage(i,r){this.isLanguageChangingTo=i;const l=hi();this.emit("languageChanging",i);const c=g=>{this.language=g,this.languages=this.services.languageUtils.toResolveHierarchy(g),this.resolvedLanguage=void 0,this.setResolvedLanguage(g)},d=(g,v)=>{v?this.isLanguageChangingTo===i&&(c(v),this.translator.changeLanguage(v),this.isLanguageChangingTo=void 0,this.emit("languageChanged",v),this.logger.log("languageChanged",v)):this.isLanguageChangingTo=void 0,l.resolve((...h)=>this.t(...h)),r&&r(g,(...h)=>this.t(...h))},p=g=>{!i&&!g&&this.services.languageDetector&&(g=[]);const v=ie(g)?g:g&&g[0],h=this.store.hasLanguageSomeTranslations(v)?v:this.services.languageUtils.getBestMatchFromCodes(ie(g)?[g]:g);h&&(this.language||c(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,y=>{d(y,h)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?p(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(p):this.services.languageDetector.detect(p):p(i),l}getFixedT(i,r,l){const c=(d,p,...g)=>{let v;typeof p!="object"?v=this.options.overloadTranslationOptionHandler([d,p].concat(g)):v={...p},v.lng=v.lng||c.lng,v.lngs=v.lngs||c.lngs,v.ns=v.ns||c.ns,v.keyPrefix!==""&&(v.keyPrefix=v.keyPrefix||l||c.keyPrefix);const h=this.options.keySeparator||".";let y;return v.keyPrefix&&Array.isArray(d)?y=d.map(b=>(typeof b=="function"&&(b=oc(b,{...this.options,...p})),`${v.keyPrefix}${h}${b}`)):(typeof d=="function"&&(d=oc(d,{...this.options,...p})),y=v.keyPrefix?`${v.keyPrefix}${h}${d}`:d),this.t(y,v)};return ie(i)?c.lng=i:c.lngs=i,c.ns=r,c.keyPrefix=l,c}t(...i){return this.translator?.translate(...i)}exists(...i){return this.translator?.exists(...i)}setDefaultNamespace(i){this.options.defaultNS=i}hasLoadedNamespace(i,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const l=r.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(l.toLowerCase()==="cimode")return!0;const p=(g,v)=>{const h=this.services.backendConnector.state[`${g}|${v}`];return h===-1||h===0||h===2};if(r.precheck){const g=r.precheck(this,p);if(g!==void 0)return g}return!!(this.hasResourceBundle(l,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||p(l,i)&&(!c||p(d,i)))}loadNamespaces(i,r){const l=hi();return this.options.ns?(ie(i)&&(i=[i]),i.forEach(c=>{this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}),this.loadResources(c=>{l.resolve(),r&&r(c)}),l):(r&&r(),Promise.resolve())}loadLanguages(i,r){const l=hi();ie(i)&&(i=[i]);const c=this.options.preload||[],d=i.filter(p=>c.indexOf(p)<0&&this.services.languageUtils.isSupportedCode(p));return d.length?(this.options.preload=c.concat(d),this.loadResources(p=>{l.resolve(),r&&r(p)}),l):(r&&r(),Promise.resolve())}dir(i){if(i||(i=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!i)return"rtl";try{const c=new Intl.Locale(i);if(c&&c.getTextInfo){const d=c.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],l=this.services?.languageUtils||new fg(Yu());return i.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(l.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(i={},r){const l=new bi(i,r);return l.createInstance=bi.createInstance,l}cloneInstance(i={},r=Qr){const l=i.forkResourceStore;l&&delete i.forkResourceStore;const c={...this.options,...i,isClone:!0},d=new bi(c);if((i.debug!==void 0||i.prefix!==void 0)&&(d.logger=d.logger.clone(i)),["store","services","language"].forEach(g=>{d[g]=this[g]}),d.services={...this.services},d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},l){const g=Object.keys(this.store.data).reduce((v,h)=>(v[h]={...this.store.data[h]},v[h]=Object.keys(v[h]).reduce((y,b)=>(y[b]={...v[h][b]},y),v[h]),v),{});d.store=new mg(g,c),d.services.resourceStore=d.store}if(i.interpolation){const v={...Yu().interpolation,...this.options.interpolation,...i.interpolation},h={...c,interpolation:v};d.services.interpolator=new bg(h)}return d.translator=new el(d.services,c),d.translator.on("*",(g,...v)=>{d.emit(g,...v)}),d.init(c,r),d.translator.options=c,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ut=bi.createInstance();ut.createInstance;ut.dir;ut.init;ut.loadResources;ut.reloadResources;ut.use;ut.changeLanguage;ut.getFixedT;ut.t;ut.exists;ut.setDefaultNamespace;ut.hasLoadedNamespace;ut.loadNamespaces;ut.loadLanguages;const G2=(n,i,r,l)=>{const c=[r,{code:i,...l||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(c,"warn","react-i18next::",!0);_s(c[0])&&(c[0]=`react-i18next:: ${c[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...c):console?.warn&&console.warn(...c)},Sg={},yh=(n,i,r,l)=>{_s(r)&&Sg[r]||(_s(r)&&(Sg[r]=new Date),G2(n,i,r,l))},Sh=(n,i)=>()=>{if(n.isInitialized)i();else{const r=()=>{setTimeout(()=>{n.off("initialized",r)},0),i()};n.on("initialized",r)}},uc=(n,i,r)=>{n.loadNamespaces(i,Sh(n,r))},_g=(n,i,r,l)=>{if(_s(r)&&(r=[r]),n.options.preload&&n.options.preload.indexOf(i)>-1)return uc(n,r,l);r.forEach(c=>{n.options.ns.indexOf(c)<0&&n.options.ns.push(c)}),n.loadLanguages(i,Sh(n,l))},J2=(n,i,r={})=>!i.languages||!i.languages.length?(yh(i,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:i.languages}),!0):i.hasLoadedNamespace(n,{lng:r.lng,precheck:(l,c)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&l.services.backendConnector.backend&&l.isLanguageChangingTo&&!c(l.isLanguageChangingTo,n))return!1}}),_s=n=>typeof n=="string",F2=n=>typeof n=="object"&&n!==null,Q2=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Y2={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},$2=n=>Y2[n],K2=n=>n.replace(Q2,$2);let cc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:K2,transDefaultProps:void 0};const X2=(n={})=>{cc={...cc,...n}},Z2=()=>cc;let _h;const W2=n=>{_h=n},eS=()=>_h,tS={type:"3rdParty",init(n){X2(n.options.react),W2(n)}},aS=j.createContext();class sS{constructor(){this.usedNamespaces={}}addUsedNamespaces(i){i.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var $u={exports:{}},Ku={};var qg;function nS(){if(qg)return Ku;qg=1;var n=sl();function i(b,_){return b===_&&(b!==0||1/b===1/_)||b!==b&&_!==_}var r=typeof Object.is=="function"?Object.is:i,l=n.useState,c=n.useEffect,d=n.useLayoutEffect,p=n.useDebugValue;function g(b,_){var A=_(),D=l({inst:{value:A,getSnapshot:_}}),L=D[0].inst,V=D[1];return d(function(){L.value=A,L.getSnapshot=_,v(L)&&V({inst:L})},[b,A,_]),c(function(){return v(L)&&V({inst:L}),b(function(){v(L)&&V({inst:L})})},[b]),p(A),A}function v(b){var _=b.getSnapshot;b=b.value;try{var A=_();return!r(b,A)}catch{return!0}}function h(b,_){return _()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:g;return Ku.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,Ku}var Cg;function iS(){return Cg||(Cg=1,$u.exports=nS()),$u.exports}var rS=iS();const lS=(n,i)=>_s(i)?i:F2(i)&&_s(i.defaultValue)?i.defaultValue:Array.isArray(n)?n[n.length-1]:n,oS={t:lS,ready:!1},uS=()=>()=>{},qh=(n,i={})=>{const{i18n:r}=i,{i18n:l,defaultNS:c}=j.useContext(aS)||{},d=r||l||eS();d&&!d.reportNamespaces&&(d.reportNamespaces=new sS),d||yh(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const p=j.useMemo(()=>({...Z2(),...d?.options?.react,...i}),[d,i]),{useSuspense:g,keyPrefix:v}=p,h=c||d?.options?.defaultNS,y=_s(h)?[h]:h||["translation"],b=j.useMemo(()=>y,y);d?.reportNamespaces?.addUsedNamespaces?.(b);const _=j.useRef(0),A=j.useCallback(W=>{if(!d)return uS;const{bindI18n:se,bindI18nStore:fe}=p,$=()=>{_.current+=1,W()};return se&&d.on(se,$),fe&&d.store.on(fe,$),()=>{se&&se.split(" ").forEach(Re=>d.off(Re,$)),fe&&fe.split(" ").forEach(Re=>d.store.off(Re,$))}},[d,p]),D=j.useRef(),L=j.useCallback(()=>{if(!d)return oS;const W=!!(d.isInitialized||d.initializedStoreOnce)&&b.every(ke=>J2(ke,d,p)),se=i.lng||d.language,fe=_.current,$=D.current;if($&&$.ready===W&&$.lng===se&&$.keyPrefix===v&&$.revision===fe)return $;const de={t:d.getFixedT(se,p.nsMode==="fallback"?b:b[0],v),ready:W,lng:se,keyPrefix:v,revision:fe};return D.current=de,de},[d,b,v,p,i.lng]),[V,H]=j.useState(0),{t:B,ready:I}=rS.useSyncExternalStore(A,L,L);j.useEffect(()=>{if(d&&!I&&!g){const W=()=>H(se=>se+1);i.lng?_g(d,i.lng,b,W):uc(d,b,W)}},[d,i.lng,b,I,g,V]);const J=d||{},Y=j.useRef(null),ae=j.useRef(),Q=W=>{const se=Object.getOwnPropertyDescriptors(W);se.__original&&delete se.__original;const fe=Object.create(Object.getPrototypeOf(W),se);if(!Object.prototype.hasOwnProperty.call(fe,"__original"))try{Object.defineProperty(fe,"__original",{value:W,writable:!1,enumerable:!1,configurable:!1})}catch{}return fe},he=j.useMemo(()=>{const W=J,se=W?.language;let fe=W;W&&(Y.current&&Y.current.__original===W?ae.current!==se?(fe=Q(W),Y.current=fe,ae.current=se):fe=Y.current:(fe=Q(W),Y.current=fe,ae.current=se));const $=[B,fe,I];return $.t=B,$.i18n=fe,$.ready=I,$},[B,J,I,J.resolvedLanguage,J.language,J.languages]);if(d&&g&&!I)throw new Promise(W=>{const se=()=>W();i.lng?_g(d,i.lng,b,se):uc(d,b,se)});return he};function tl({valeur:n,auChangement:i,placeholder:r,nomClasse:l}){const{t:c}=qh();return m.jsxs("div",{className:Oe("relative flex items-center gap-3 px-4 py-2.5 transition-all duration-200","bg-gradient-to-b from-surface to-surface-raised","border border-surface-border","focus-within:border-accent-dark/70 focus-within:shadow-glow","before:absolute before:inset-0 before:bg-gradient-to-b before:from-white/[0.02] before:to-transparent before:pointer-events-none",l),children:[m.jsx(lh,{size:16,className:"text-content-subtle flex-shrink-0","aria-hidden":"true"}),m.jsx("input",{type:"search",value:n,onChange:d=>i(d.target.value),placeholder:r||c("search.placeholder"),className:"bg-transparent outline-none w-full text-sm text-content placeholder:text-content-subtle/70 tracking-wide","aria-label":r||c("search.placeholder")}),m.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 border-l border-t border-accent-dark/30"}),m.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-r border-t border-accent-dark/30"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-l border-b border-accent-dark/30"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 border-r border-b border-accent-dark/30"})]})}tl.propTypes={valeur:O.string.isRequired,auChangement:O.func.isRequired,placeholder:O.string,nomClasse:O.string};tl.defaultProps={placeholder:"Rechercher...",nomClasse:""};function qa(n){return Array.isArray?Array.isArray(n):Th(n)==="[object Array]"}function cS(n){if(typeof n=="string")return n;let i=n+"";return i=="0"&&1/n==-1/0?"-0":i}function dS(n){return n==null?"":cS(n)}function Kt(n){return typeof n=="string"}function Ch(n){return typeof n=="number"}function mS(n){return n===!0||n===!1||pS(n)&&Th(n)=="[object Boolean]"}function Ah(n){return typeof n=="object"}function pS(n){return Ah(n)&&n!==null}function Mt(n){return n!=null}function Xu(n){return!n.trim().length}function Th(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const fS="Incorrect 'index' type",gS=n=>`Invalid value for key ${n}`,hS=n=>`Pattern length exceeds max of ${n}.`,vS=n=>`Missing ${n} property in key`,bS=n=>`Property 'weight' in key '${n}' must be a positive integer`,Ag=Object.prototype.hasOwnProperty;class xS{constructor(i){this._keys=[],this._keyMap={};let r=0;i.forEach(l=>{let c=jh(l);r+=c.weight,this._keys.push(c),this._keyMap[c.id]=c,r+=c.weight}),this._keys.forEach(l=>{l.weight/=r})}get(i){return this._keyMap[i]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function jh(n){let i=null,r=null,l=null,c=1,d=null;if(Kt(n)||qa(n))l=n,i=Tg(n),r=dc(n);else{if(!Ag.call(n,"name"))throw new Error(vS("name"));const p=n.name;if(l=p,Ag.call(n,"weight")&&(c=n.weight,c<=0))throw new Error(bS(p));i=Tg(p),r=dc(p),d=n.getFn}return{path:i,id:r,weight:c,src:l,getFn:d}}function Tg(n){return qa(n)?n:n.split(".")}function dc(n){return qa(n)?n.join("."):n}function yS(n,i){let r=[],l=!1;const c=(d,p,g)=>{if(Mt(d))if(!p[g])r.push(d);else{let v=p[g];const h=d[v];if(!Mt(h))return;if(g===p.length-1&&(Kt(h)||Ch(h)||mS(h)))r.push(dS(h));else if(qa(h)){l=!0;for(let y=0,b=h.length;y<b;y+=1)c(h[y],p,g+1)}else p.length&&c(h,p,g+1)}};return c(n,Kt(i)?i.split("."):i,0),l?r:r[0]}const SS={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},_S={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,i)=>n.score===i.score?n.idx<i.idx?-1:1:n.score<i.score?-1:1},qS={location:0,threshold:.6,distance:100},CS={useExtendedSearch:!1,getFn:yS,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var re={..._S,...SS,...qS,...CS};const AS=/[^ ]+/g;function TS(n=1,i=3){const r=new Map,l=Math.pow(10,i);return{get(c){const d=c.match(AS).length;if(r.has(d))return r.get(d);const p=1/Math.pow(d,.5*n),g=parseFloat(Math.round(p*l)/l);return r.set(d,g),g},clear(){r.clear()}}}class Ec{constructor({getFn:i=re.getFn,fieldNormWeight:r=re.fieldNormWeight}={}){this.norm=TS(r,3),this.getFn=i,this.isCreated=!1,this.setIndexRecords()}setSources(i=[]){this.docs=i}setIndexRecords(i=[]){this.records=i}setKeys(i=[]){this.keys=i,this._keysMap={},i.forEach((r,l)=>{this._keysMap[r.id]=l})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Kt(this.docs[0])?this.docs.forEach((i,r)=>{this._addString(i,r)}):this.docs.forEach((i,r)=>{this._addObject(i,r)}),this.norm.clear())}add(i){const r=this.size();Kt(i)?this._addString(i,r):this._addObject(i,r)}removeAt(i){this.records.splice(i,1);for(let r=i,l=this.size();r<l;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(i,r){return i[this._keysMap[r]]}size(){return this.records.length}_addString(i,r){if(!Mt(i)||Xu(i))return;let l={v:i,i:r,n:this.norm.get(i)};this.records.push(l)}_addObject(i,r){let l={i:r,$:{}};this.keys.forEach((c,d)=>{let p=c.getFn?c.getFn(i):this.getFn(i,c.path);if(Mt(p)){if(qa(p)){let g=[];const v=[{nestedArrIndex:-1,value:p}];for(;v.length;){const{nestedArrIndex:h,value:y}=v.pop();if(Mt(y))if(Kt(y)&&!Xu(y)){let b={v:y,i:h,n:this.norm.get(y)};g.push(b)}else qa(y)&&y.forEach((b,_)=>{v.push({nestedArrIndex:_,value:b})})}l.$[d]=g}else if(Kt(p)&&!Xu(p)){let g={v:p,n:this.norm.get(p)};l.$[d]=g}}}),this.records.push(l)}toJSON(){return{keys:this.keys,records:this.records}}}function Dh(n,i,{getFn:r=re.getFn,fieldNormWeight:l=re.fieldNormWeight}={}){const c=new Ec({getFn:r,fieldNormWeight:l});return c.setKeys(n.map(jh)),c.setSources(i),c.create(),c}function jS(n,{getFn:i=re.getFn,fieldNormWeight:r=re.fieldNormWeight}={}){const{keys:l,records:c}=n,d=new Ec({getFn:i,fieldNormWeight:r});return d.setKeys(l),d.setIndexRecords(c),d}function Yr(n,{errors:i=0,currentLocation:r=0,expectedLocation:l=0,distance:c=re.distance,ignoreLocation:d=re.ignoreLocation}={}){const p=i/n.length;if(d)return p;const g=Math.abs(l-r);return c?p+g/c:g?1:p}function DS(n=[],i=re.minMatchCharLength){let r=[],l=-1,c=-1,d=0;for(let p=n.length;d<p;d+=1){let g=n[d];g&&l===-1?l=d:!g&&l!==-1&&(c=d-1,c-l+1>=i&&r.push([l,c]),l=-1)}return n[d-1]&&d-l>=i&&r.push([l,d-1]),r}const ys=32;function MS(n,i,r,{location:l=re.location,distance:c=re.distance,threshold:d=re.threshold,findAllMatches:p=re.findAllMatches,minMatchCharLength:g=re.minMatchCharLength,includeMatches:v=re.includeMatches,ignoreLocation:h=re.ignoreLocation}={}){if(i.length>ys)throw new Error(hS(ys));const y=i.length,b=n.length,_=Math.max(0,Math.min(l,b));let A=d,D=_;const L=g>1||v,V=L?Array(b):[];let H;for(;(H=n.indexOf(i,D))>-1;){let Q=Yr(i,{currentLocation:H,expectedLocation:_,distance:c,ignoreLocation:h});if(A=Math.min(Q,A),D=H+y,L){let he=0;for(;he<y;)V[H+he]=1,he+=1}}D=-1;let B=[],I=1,J=y+b;const Y=1<<y-1;for(let Q=0;Q<y;Q+=1){let he=0,W=J;for(;he<W;)Yr(i,{errors:Q,currentLocation:_+W,expectedLocation:_,distance:c,ignoreLocation:h})<=A?he=W:J=W,W=Math.floor((J-he)/2+he);J=W;let se=Math.max(1,_-W+1),fe=p?b:Math.min(_+W,b)+y,$=Array(fe+2);$[fe+1]=(1<<Q)-1;for(let de=fe;de>=se;de-=1){let ke=de-1,R=r[n.charAt(ke)];if(L&&(V[ke]=+!!R),$[de]=($[de+1]<<1|1)&R,Q&&($[de]|=(B[de+1]|B[de])<<1|1|B[de+1]),$[de]&Y&&(I=Yr(i,{errors:Q,currentLocation:ke,expectedLocation:_,distance:c,ignoreLocation:h}),I<=A)){if(A=I,D=ke,D<=_)break;se=Math.max(1,2*_-D)}}if(Yr(i,{errors:Q+1,currentLocation:_,expectedLocation:_,distance:c,ignoreLocation:h})>A)break;B=$}const ae={isMatch:D>=0,score:Math.max(.001,I)};if(L){const Q=DS(V,g);Q.length?v&&(ae.indices=Q):ae.isMatch=!1}return ae}function ES(n){let i={};for(let r=0,l=n.length;r<l;r+=1){const c=n.charAt(r);i[c]=(i[c]||0)|1<<l-r-1}return i}class Mh{constructor(i,{location:r=re.location,threshold:l=re.threshold,distance:c=re.distance,includeMatches:d=re.includeMatches,findAllMatches:p=re.findAllMatches,minMatchCharLength:g=re.minMatchCharLength,isCaseSensitive:v=re.isCaseSensitive,ignoreLocation:h=re.ignoreLocation}={}){if(this.options={location:r,threshold:l,distance:c,includeMatches:d,findAllMatches:p,minMatchCharLength:g,isCaseSensitive:v,ignoreLocation:h},this.pattern=v?i:i.toLowerCase(),this.chunks=[],!this.pattern.length)return;const y=(_,A)=>{this.chunks.push({pattern:_,alphabet:ES(_),startIndex:A})},b=this.pattern.length;if(b>ys){let _=0;const A=b%ys,D=b-A;for(;_<D;)y(this.pattern.substr(_,ys),_),_+=ys;if(A){const L=b-ys;y(this.pattern.substr(L),L)}}else y(this.pattern,0)}searchIn(i){const{isCaseSensitive:r,includeMatches:l}=this.options;if(r||(i=i.toLowerCase()),this.pattern===i){let D={isMatch:!0,score:0};return l&&(D.indices=[[0,i.length-1]]),D}const{location:c,distance:d,threshold:p,findAllMatches:g,minMatchCharLength:v,ignoreLocation:h}=this.options;let y=[],b=0,_=!1;this.chunks.forEach(({pattern:D,alphabet:L,startIndex:V})=>{const{isMatch:H,score:B,indices:I}=MS(i,D,L,{location:c+V,distance:d,threshold:p,findAllMatches:g,minMatchCharLength:v,includeMatches:l,ignoreLocation:h});H&&(_=!0),b+=B,H&&I&&(y=[...y,...I])});let A={isMatch:_,score:_?b/this.chunks.length:1};return _&&l&&(A.indices=y),A}}class es{constructor(i){this.pattern=i}static isMultiMatch(i){return jg(i,this.multiRegex)}static isSingleMatch(i){return jg(i,this.singleRegex)}search(){}}function jg(n,i){const r=n.match(i);return r?r[1]:null}class NS extends es{constructor(i){super(i)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(i){const r=i===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class LS extends es{constructor(i){super(i)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(i){const l=i.indexOf(this.pattern)===-1;return{isMatch:l,score:l?0:1,indices:[0,i.length-1]}}}class RS extends es{constructor(i){super(i)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(i){const r=i.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class zS extends es{constructor(i){super(i)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(i){const r=!i.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,i.length-1]}}}class OS extends es{constructor(i){super(i)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(i){const r=i.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[i.length-this.pattern.length,i.length-1]}}}class wS extends es{constructor(i){super(i)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(i){const r=!i.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,i.length-1]}}}class Eh extends es{constructor(i,{location:r=re.location,threshold:l=re.threshold,distance:c=re.distance,includeMatches:d=re.includeMatches,findAllMatches:p=re.findAllMatches,minMatchCharLength:g=re.minMatchCharLength,isCaseSensitive:v=re.isCaseSensitive,ignoreLocation:h=re.ignoreLocation}={}){super(i),this._bitapSearch=new Mh(i,{location:r,threshold:l,distance:c,includeMatches:d,findAllMatches:p,minMatchCharLength:g,isCaseSensitive:v,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(i){return this._bitapSearch.searchIn(i)}}class Nh extends es{constructor(i){super(i)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(i){let r=0,l;const c=[],d=this.pattern.length;for(;(l=i.indexOf(this.pattern,r))>-1;)r=l+d,c.push([l,r-1]);const p=!!c.length;return{isMatch:p,score:p?0:1,indices:c}}}const mc=[NS,Nh,RS,zS,wS,OS,LS,Eh],Dg=mc.length,VS=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,PS="|";function kS(n,i={}){return n.split(PS).map(r=>{let l=r.trim().split(VS).filter(d=>d&&!!d.trim()),c=[];for(let d=0,p=l.length;d<p;d+=1){const g=l[d];let v=!1,h=-1;for(;!v&&++h<Dg;){const y=mc[h];let b=y.isMultiMatch(g);b&&(c.push(new y(b,i)),v=!0)}if(!v)for(h=-1;++h<Dg;){const y=mc[h];let b=y.isSingleMatch(g);if(b){c.push(new y(b,i));break}}}return c})}const US=new Set([Eh.type,Nh.type]);class IS{constructor(i,{isCaseSensitive:r=re.isCaseSensitive,includeMatches:l=re.includeMatches,minMatchCharLength:c=re.minMatchCharLength,ignoreLocation:d=re.ignoreLocation,findAllMatches:p=re.findAllMatches,location:g=re.location,threshold:v=re.threshold,distance:h=re.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:l,minMatchCharLength:c,findAllMatches:p,ignoreLocation:d,location:g,threshold:v,distance:h},this.pattern=r?i:i.toLowerCase(),this.query=kS(this.pattern,this.options)}static condition(i,r){return r.useExtendedSearch}searchIn(i){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:l,isCaseSensitive:c}=this.options;i=c?i:i.toLowerCase();let d=0,p=[],g=0;for(let v=0,h=r.length;v<h;v+=1){const y=r[v];p.length=0,d=0;for(let b=0,_=y.length;b<_;b+=1){const A=y[b],{isMatch:D,indices:L,score:V}=A.search(i);if(D){if(d+=1,g+=V,l){const H=A.constructor.type;US.has(H)?p=[...p,...L]:p.push(L)}}else{g=0,d=0,p.length=0;break}}if(d){let b={isMatch:!0,score:g/d};return l&&(b.indices=p),b}}return{isMatch:!1,score:1}}}const pc=[];function BS(...n){pc.push(...n)}function fc(n,i){for(let r=0,l=pc.length;r<l;r+=1){let c=pc[r];if(c.condition(n,i))return new c(n,i)}return new Mh(n,i)}const al={AND:"$and",OR:"$or"},gc={PATH:"$path",PATTERN:"$val"},hc=n=>!!(n[al.AND]||n[al.OR]),HS=n=>!!n[gc.PATH],GS=n=>!qa(n)&&Ah(n)&&!hc(n),Mg=n=>({[al.AND]:Object.keys(n).map(i=>({[i]:n[i]}))});function Lh(n,i,{auto:r=!0}={}){const l=c=>{let d=Object.keys(c);const p=HS(c);if(!p&&d.length>1&&!hc(c))return l(Mg(c));if(GS(c)){const v=p?c[gc.PATH]:d[0],h=p?c[gc.PATTERN]:c[v];if(!Kt(h))throw new Error(gS(v));const y={keyId:dc(v),pattern:h};return r&&(y.searcher=fc(h,i)),y}let g={children:[],operator:d[0]};return d.forEach(v=>{const h=c[v];qa(h)&&h.forEach(y=>{g.children.push(l(y))})}),g};return hc(n)||(n=Mg(n)),l(n)}function JS(n,{ignoreFieldNorm:i=re.ignoreFieldNorm}){n.forEach(r=>{let l=1;r.matches.forEach(({key:c,norm:d,score:p})=>{const g=c?c.weight:null;l*=Math.pow(p===0&&g?Number.EPSILON:p,(g||1)*(i?1:d))}),r.score=l})}function FS(n,i){const r=n.matches;i.matches=[],Mt(r)&&r.forEach(l=>{if(!Mt(l.indices)||!l.indices.length)return;const{indices:c,value:d}=l;let p={indices:c,value:d};l.key&&(p.key=l.key.src),l.idx>-1&&(p.refIndex=l.idx),i.matches.push(p)})}function QS(n,i){i.score=n.score}function YS(n,i,{includeMatches:r=re.includeMatches,includeScore:l=re.includeScore}={}){const c=[];return r&&c.push(FS),l&&c.push(QS),n.map(d=>{const{idx:p}=d,g={item:i[p],refIndex:p};return c.length&&c.forEach(v=>{v(d,g)}),g})}class hn{constructor(i,r={},l){this.options={...re,...r},this.options.useExtendedSearch,this._keyStore=new xS(this.options.keys),this.setCollection(i,l)}setCollection(i,r){if(this._docs=i,r&&!(r instanceof Ec))throw new Error(fS);this._myIndex=r||Dh(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(i){Mt(i)&&(this._docs.push(i),this._myIndex.add(i))}remove(i=()=>!1){const r=[];for(let l=0,c=this._docs.length;l<c;l+=1){const d=this._docs[l];i(d,l)&&(this.removeAt(l),l-=1,c-=1,r.push(d))}return r}removeAt(i){this._docs.splice(i,1),this._myIndex.removeAt(i)}getIndex(){return this._myIndex}search(i,{limit:r=-1}={}){const{includeMatches:l,includeScore:c,shouldSort:d,sortFn:p,ignoreFieldNorm:g}=this.options;let v=Kt(i)?Kt(this._docs[0])?this._searchStringList(i):this._searchObjectList(i):this._searchLogical(i);return JS(v,{ignoreFieldNorm:g}),d&&v.sort(p),Ch(r)&&r>-1&&(v=v.slice(0,r)),YS(v,this._docs,{includeMatches:l,includeScore:c})}_searchStringList(i){const r=fc(i,this.options),{records:l}=this._myIndex,c=[];return l.forEach(({v:d,i:p,n:g})=>{if(!Mt(d))return;const{isMatch:v,score:h,indices:y}=r.searchIn(d);v&&c.push({item:d,idx:p,matches:[{score:h,value:d,norm:g,indices:y}]})}),c}_searchLogical(i){const r=Lh(i,this.options),l=(g,v,h)=>{if(!g.children){const{keyId:b,searcher:_}=g,A=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(v,b),searcher:_});return A&&A.length?[{idx:h,item:v,matches:A}]:[]}const y=[];for(let b=0,_=g.children.length;b<_;b+=1){const A=g.children[b],D=l(A,v,h);if(D.length)y.push(...D);else if(g.operator===al.AND)return[]}return y},c=this._myIndex.records,d={},p=[];return c.forEach(({$:g,i:v})=>{if(Mt(g)){let h=l(r,g,v);h.length&&(d[v]||(d[v]={idx:v,item:g,matches:[]},p.push(d[v])),h.forEach(({matches:y})=>{d[v].matches.push(...y)}))}}),p}_searchObjectList(i){const r=fc(i,this.options),{keys:l,records:c}=this._myIndex,d=[];return c.forEach(({$:p,i:g})=>{if(!Mt(p))return;let v=[];l.forEach((h,y)=>{v.push(...this._findMatches({key:h,value:p[y],searcher:r}))}),v.length&&d.push({idx:g,item:p,matches:v})}),d}_findMatches({key:i,value:r,searcher:l}){if(!Mt(r))return[];let c=[];if(qa(r))r.forEach(({v:d,i:p,n:g})=>{if(!Mt(d))return;const{isMatch:v,score:h,indices:y}=l.searchIn(d);v&&c.push({score:h,key:i,value:d,idx:p,norm:g,indices:y})});else{const{v:d,n:p}=r,{isMatch:g,score:v,indices:h}=l.searchIn(d);g&&c.push({score:v,key:i,value:d,norm:p,indices:h})}return c}}hn.version="6.6.2";hn.createIndex=Dh;hn.parseIndex=jS;hn.config=re;hn.parseQuery=Lh;BS(IS);const $S={id:"val_dombre_setting",title:"VAL-D'OMBRE",intro:"Une cit minire construite sur une faille arcanique. Les clans nains extraient le minerai pendant que l'Universit exploite la puissance arcanique des lieux.",context:"Tensions extrmes entre la Guilde des Mineurs (nains) et le Conseil Arcane (humains) suite aux rcents accidents dans les niveaux infrieurs.",sections:[{title:"Environnement de Jeu",icon:"settings",content:["Cit verticale : tages relis par des monte-charges  vapeur et des passerelles.","Climat : Froid constant, visibilit rduite par les vapeurs de forge et la poussire de charbon.","Loi : La Garde assure l'ordre en surface, mais les profondeurs sont gres par les syndicats nains."]},{title:"La Spirale (Anomalie Gologique)",icon:"warning",content:["Structure cylindrique d'origine inconnue fore dans la montagne.","Proprits : Distorsion de l'espace-temps. Les boussoles et la magie de dtection y sont instables.","Usage : L'Universit y puise de l'nergie brute via des collecteurs de mana."]},{title:"Forces en Prsence",icon:"groups",content:["Clans Nains : Veulent scuriser les mines et stopper les expriences dangereuses.","L'Universit : Cherche  stabiliser la Spirale pour garantir l'autonomie nergtique de la ville.","Professeur Thade : Utilise les fonds universitaires pour tester la viabilit de 'greffes arcaniques' sur des sujets vivants."]},{title:"Enjeux du Scnario",icon:"priority_high",content:["La Spirale s'tend : les niveaux de mine les plus proches commencent  muter.","Instabilit politique : Si les nains ferment les accs, l'Universit s'effondre conomiquement.","Le Secret : Les disparitions d'tudiants (Jaren, Ilse) sont lies  des tests de fusion avec l'architecture de la Spirale."]}],gameplayPillars:[{name:"Cynisme Acadmique",desc:"La science passe avant la morale. Les PNJ de l'Universit sont froids et pragmatiques."},{name:"Verticalit tactique",desc:"L'environnement joue sur la hauteur (chutes, escaliers, passerelles fragiles)."},{name:"Tension inter-clans",desc:"Chaque action des PJ peut faire basculer l'opinion des Nains ou des Mages."}]},KS={id:"quartier_des_mineurs",name:"Quartier des Mineurs",summary:"Niveau du sol au pied de la falaise, quartier ouvrier nain o la tension sociale est permanente.",details:["Ambiance : Bruyant, satur de poussire et de jurons nains.","Tension : Piquets de grve, charrettes renverses, familles prtes  tout pour quitter la ville.","Focus : Cur du conflit social entre la Guilde des Mineurs, le Conseil et la Guilde des Mages.","Opportunits : Recruter des allis temporaires, provoquer des meutes ou organiser des actions de sabotage."],locations:[{id:"quartier_des_mineurs_place",name:"Place Centrale du Quartier",summary:"Carrefour bruyant o se croisent mineurs, contrematres et familles puises.",details:["Ambiance : Cris, odeur de sueur et de charbon, fume des forges en arrire-plan.","Tests : Diplomatie / Intimidation pour calmer ou enflammer la foule.","Ennemis potentiels : Casseurs ou briseurs de grve manipuls par Thade.","Opportunits : Lancer des rumeurs, organiser une manifestation, ngocier avec les meneurs de grve."],npcIds:["durnik_chef_mineur","contremaitre_humain"]},{id:"quartier_artisan_patrouille",name:"Alle des Artisans",summary:"Rue principale borde d'ateliers mtallurgiques, devenue terrain de rafles improvises.",details:["Ambiance : Vapeur brlante, marteaux arrts net, torches renverses.","Tests : Discrtion / Acrobaties pour se faufiler entre les barrages de caisses.","Danger : Patrouilles mixtes (gardes humains, automates de la Guilde), dnonciations forces.","Usage : Montrer la violence de la Loi Martiale et les arrestations ciblant les Nains."],npcIds:["patrouille_mixte_conseil"]},{id:"entree_mine_valdombre",name:"Entre de la Mine",summary:"Palissade garde et cage de descente massive, point de passage oblig entre la surface et les profondeurs.",details:["Ambiance : Rugissement du treuil, fume de torches, martlement des boucliers des gardes.","Tests : Diplomatie / Intimidation pour franchir le piquet de grve sans violence.","Danger : Risque d'meute, sabotage latent, surveillants prts  dclencher l'alarme.","Usage : Contrle d'accs vers la Mine d'Argent, ngociations entre Guildes et PJ."],npcIds:["garde_portail_mine"]},{id:"forge_thorgar_refuge",name:"Forge-Refuge de Thorgar",summary:"Atelier latral du Temple-Forgeron converti en sanctuaire provisoire pour les blesss et chefs nains.",details:["Ambiance : Chaleur touffante des fours, murmures de prires, odeur d'huile brle.","Tests : Premiers secours / Artisanat (forge) pour stabiliser les dfenses improvises.","Danger : Effondrement possible si les glyphes sont sabords de l'intrieur.","Usage : Lieu des dcisions morales, confrontation directe avec Thorgar sur la stratgie."],npcIds:["thorgar_pretre_nain"]},{id:"temple_forgeron",name:"Temple-Forgeron des Nains",summary:"Forteresse-temple creuse dans la roche, cur spirituel et militaire des Nains.",details:["Ambiance : Chant religieux sourd ml au martlement des marteaux sur l'enclume sacre.","Tests : Religion / Histoire pour comprendre les runes de protection graves dans la pierre.","Ennemis : Pendant la Nuit des Longs Couteaux, assaillants morts-vivants et fanatiques de Thade.","Loot : Reliques naines, armes bnies contre les morts-vivants, accs  des bndictions temporaires."],npcIds:["thorgar_pretre_nain","capitaine_garde_temple"]},{id:"egouts_val_dombre",name:"gouts de Val-d'Ombre",summary:"Rseau ancien reliant quartiers pauvres, Temple-Forgeron et Cimetire.",details:["Ambiance : Souterrains sombres, odeurs pestilentielles, eau stagnante.","Tests : Survie / Perception pour viter de se perdre ou tomber dans des fosses caches.","Ennemis : Rats gants, charognards, expriences rates de ncromancie.","Usage : Voie de fuite, terrain de gurilla naine et d'infiltration discrte."],npcIds:["sniv_kobold"]},{id:"taverne_fumees_rouges",name:"Taverne des Fumes Rouges",summary:"Bouge enfum frquent par contrematres, dockers et mercenaires sans contrat.",details:["Ambiance : Fume paisse, tables collantes, rires gras et bagarres rgulires.","Tests : Perception / Intuition pour reprer les vrais informateurs parmi les ivrognes.","Ennemis potentiels : Brutes locales, collecteurs de dettes.","Opportunits : Recruter des mercenaires, rgler des dettes, provoquer une diversion."],npcIds:["tenancier_taverne"]}]},XS={id:"quartier_du_savoir",name:"Quartier du Savoir",summary:"Quartier en terrasses ddi au savoir, aux bibliothques et aux expriences secrtes.",details:["Ambiance : De jour, agitation studieuse ; de nuit, complots en robe noire.","Tension : Rivalits entre tudiants, professeurs et cabales secrtes.","Focus : Point d'entre idal pour enquter sur la Spirale et les expriences de ncromancie.","Opportunits : Accs aux archives interdites,  des mentors ou  des ennemis puissants."],locations:[{id:"quartier_du_savoir_coeur",name:"Cur du Quartier du Savoir",summary:"Terrasses de tours fines relies par des passerelles couvertes.",details:["Ambiance : Odeur d'encre, de parchemin et d'ozone magique.","Tests : Connaissances / Investigation pour glaner des informations discrtes.","Danger : Espions de Thade  l'afft de toute curiosit mal place.","Usage : Lieu de rencontres rapides avec diffrents rudits et tudiants."],npcIds:["etudiante_cabale"]},{id:"tour_des_mages_toit",name:"Toit de la Tour des Mages",summary:"Plateforme d'affrontement final, balaye par les vents et les clairs arcaniques.",details:["Quatre pylnes alimentent un bouclier de force sur le boss.","Vue panoramique sur Val-d'Ombre en ruine.","Terrain : risque de chute, clairs, gravit instable lors de la fusion.","Climax : lieu de la confrontation contre Thade et la Spirale."],npcIds:["kaelen_vampire"]},{id:"valdombre_sommet_tour_mage",name:"Sommet ventr de la Tour des Mages",summary:"Crte brise o le tunnel de la Spirale ventre le toit, thtre d'irruptions violentes.",details:["Ambiance : Pluie de gravats, clairs arcaniques, vue panoramique sur la ville en flammes.","Tests : Acrobaties / Volont pour rester debout sous les rafales magiques.","Danger : Gardes d'lite, champs de force instables, arrive possible de Thade.","Usage : Transition entre la Spirale et l'affrontement final  la surface."],npcIds:[]},{id:"tour_des_mages",name:"Tour des Mages",summary:"Symbole de la Guilde des Mages, cur du pouvoir magique de la ville.",details:["Ambiance : Brume violette, clairs arcaniques, silhouettes en robes observant la ville.","Tests : Arcane / Politique pour naviguer entre les diffrentes factions de mages.","Ennemis : Apprentis fanatiss, lmentaires lis, gardiens magiques.","Climax : Devient thtre du combat final contre Thade dans la campagne."],npcIds:["thade_coren","archimage_defecteur","magi_tuteur_loyal"]},{id:"bureau_thade_coren",name:"Bureau de Thade Coren",summary:"Appartement panoramique o Thade orchestre la guerre : bibliothques en peau, cartes arcaniques et relais vers la Spirale.",details:["Ambiance : Parfums d'encens froid, instruments de mesure sifflants, vitraux irradiant une lueur violette.","Tests : Investigation / Magie pour dcoder les plans gravs sur les murs et dtecter les glyphes de dfense.","Danger : Serviteurs spectraux, cristaux-judas relis  la Spirale, piges qui inversent la gravit.","Usage : Pice cl pour dcouvrir les complots de Thade, voler ses recherches ou affronter sa projection."],npcIds:["thade_coren"]},{id:"universite_arcane",name:"Universit Arcane et Bibliothques",summary:"Complexe d'amphithtres, de salles de cours et d'archives interdites.",details:["Ambiance : Chuchotements, pages tournes, chandelles vacillantes.","Tests : Recherche / Investigation pour dnicher des informations sur la Spirale et la ncromancie.","Ennemis : Bibliothcaires zls, sorts de dfense animant les livres et les tagres.","Loot : Grimoires, parchemins de sorts, notes de recherches compromettantes."],npcIds:["etudiant_universite","bibliothecaire_interdits"]},{id:"place_marche_noir",name:"Place du March Noir",summary:"Place couverte  l'cart des patrouilles, ddie aux transactions interdites.",details:["Ambiance : Torches bleutres, voix basses, marchandises caches sous des bches.","Tests : Ngociation / Intimidation pour obtenir des objets rares sans se faire dpouiller.","Ennemis potentiels : Voleurs, assassins, espions.","Loot : Composants ncromantiques, artefacts de la Spirale, informations vendues au plus offrant."],npcIds:["marchand_gris"]}]},ZS={id:"hauteurs_brumeuses",name:"Hauteurs Brumeuses",summary:"Plateaux suprieurs plongs dans la brume, domaine des nobles et des industriels.",details:["Ambiance : Brume froide, jardins suspendus, balcons dominant la ville.","Tension : Dcalage extrme entre le confort des hauteurs et la misre du bas.","Focus : Lieu des dcisions politiques et des complots  grande chelle.","Opportunits : Infiltration, espionnage, renversement d'alliances."],locations:[{id:"hauteurs_brumeuses_quartier",name:"Quartier des Nobles",summary:"Manoirs murs, alles silencieuses et gardes blass.",details:["Ambiance : Silence feutr, parfums coteux, lumire tamise par la brume.","Tests : Discrtion / Bluff pour se faire passer pour des invits.","Ennemis : Gardes privs, mages de cour.","Usage : Rencontres diplomatiques, chantages, soires qui peuvent tourner au massacre."],npcIds:["bourgmestre"]},{id:"manoir_bourgmestre",name:"Manoir du Bourgmestre",summary:"Rsidence officielle, mlange de luxe fatigu et de paranoa.",details:["Ambiance : Couloirs chargs de portraits svres, pices de rception rarement utilises.","Tests : Investigation pour trouver des archives caches sur la gestion de la ville.","Ennemis : Espions infiltrs, gardes loyaux au Conseil plutt qu'au Bourgmestre.","Loot : Documents compromettants, lettres codes mentionnant la Spirale."],npcIds:["secretaire_bourgmestre"]},{id:"chapelle_oublies",name:"Chapelle des Oublis",summary:"Petit sanctuaire oubli coinc entre deux demeures nobles.",details:["Ambiance : Silence pais, cierges presque consums, statues de saints oublis.","Tests : Religion / Intuition pour percevoir la lassitude du clerg local.","Ennemis potentiels : Fanatiques isols, esprits amers.","Usage : Refuge discret pour les PJ, lieu de confessions et de complots nocturnes."],npcIds:["clerc_desabuse"]},{id:"balcons_brumeux",name:"Balcons du Brumeux",summary:"Passerelles dominant le vide, idales pour rencontres secrtes et chutes spectaculaires.",details:["Ambiance : Brume paisse, vent glac, vue plongeante sur le Cimetire et la Mine.","Tests : Acrobatie / Discrtion lors de filatures en hauteur.","Ennemis : Assassins, agents de Thade, cratures volantes invoques.","Usage : Scnes dramatiques de confrontation, de trahison ou de sacrifice."],npcIds:["assassin_masque"]}]},WS={id:"vieille_ville",name:"Vieille Ville",summary:"Quartier le plus ancien, labyrinthe de ruelles troites et de maisons penches.",details:["Ambiance : Linge humide suspendu, pavs glissants, odeur de moisi.","Tension : Refuge des marginaux, des apprentis mages en fuite et des contrebandiers.","Focus : Terrain idal pour les filatures, embuscades et planques secrtes.","Opportunits : Rseaux d'information parallles, caches d'objets illicites."],locations:[{id:"vieille_ville_ruelles",name:"Vieille Ville et Ruelles Basses",summary:"Rseau de ruelles serres o l'on se perd facilement.",details:["Ambiance : Obscurit, murs humides, voix touffes derrire les volets.","Tests : Discrtion / Perception pour viter les embuscades.","Ennemis : Bandits, espions, cratures tapis dans l'ombre.","Usage : Terrain de jeu des criminels et des complots mineurs."],npcIds:["chef_bandes_ruelles"]},{id:"auberge_pic_brise",name:'Auberge "Le Pic Bris"',summary:"Grande auberge de bois sombre, point de dpart idal de la campagne.",details:["Ambiance : Rires fatigus, odeur de bire, feu chaleureux dans l'tre.","Tests : Renseignements pour glaner les premires rumeurs sur le Cimetire et la Mine.","Ennemis potentiels : Ivrognes agressifs, collecteurs de dettes.","Usage : Point de rencontre initial, lieu o les PJ reoivent leurs premires offres de mission."],npcIds:["aubergiste_pic_brise"]}]},e_={id:"centre_civique",name:"Centre Civique",summary:"Cur administratif de Val-d'Ombre, sige du pouvoir civil et judiciaire.",details:["Ambiance : Places paves, btiments officiels imposants, drapeaux flottant dans la brume.","Tension : Dcisions impopulaires, rassemblements qui dgnrent, prsence policire forte.","Focus : Lieu des annonces, des procs et des conseils de crise.","Opportunits : Plaidoyer politique, renversement d'alliances, actions spectaculaires en public."],locations:[{id:"hotel_de_ville_valdombre",name:"Htel de Ville de Val-d'Ombre",summary:"Sige administratif et salle du Conseil, cur des dcisions politiques.",details:["Ambiance : Couloirs tendus, odeur d'encre et de fume de torches.","Tests : Diplomatie / Intimidation pour influer sur les votes et discours.","Dangers : Gardes du Conseil, mages asserments, complots de Thade.","Usage : Scnes de crise, dclarations de loi martiale, assassinats politiques."],npcIds:["bourgmestre"]},{id:"hotel_de_ville_conseil",name:"Salle du Conseil Sanglant",summary:"Salle ovale aux vitraux rouges o se runissent les dirigeants lors des crises.",details:["Ambiance : Cloche d'alarme, tables couvertes de cartes, odeur de sang sch.","Tests : Diplomatie / Bluff pour survivre aux accusations croises.","Danger : Gardes du Conseil prts  dgainer, mages de Thade dissimuls.","Usage : Dclencher le massacre du Sommet et isoler les PJ politiquement."],npcIds:["bourgmestre"]},{id:"hotel_ville_place_conseil",name:"Htel de Ville et Place du Conseil",summary:"Esplanade officielle o se tiennent discours et rassemblements.",details:["Ambiance : Statues austres, estrades pour les orateurs, foule potentiellement explosive.","Tests : Discours / Intimidation pour orienter l'opinion publique.","Ennemis : Gardes du Conseil, agitateurs pays, agents de Thade.","Usage : Scnes de crise politique, dclarations de loi martiale, excutions publiques."],npcIds:["capitaine_garde_urbaine"]},{id:"rues_valdombre_nuit",name:"Rues de Val-d'Ombre (nuit)",summary:"Rseau de ruelles plonges dans la brume, patrouilles par les forces du Conseil.",details:["Ambiance : Brume lourde, lanternes sporadiques, cris touffs.","Dangers : Patrouilles mixtes (gardiens, golems de chair), embuscades.","Tests : Discrtion / Survie urbaine pour viter arrestations et rafles.","Usage : Fuites nocturnes, purges, embuscades orchestres par Thade."],npcIds:[]},{id:"rues_valdombre_brume",name:"Rues Brumeuses Ranimes",summary:"Artres noyes de brume violette o les cadavres se relvent instantanment.",details:["Ambiance : Cloches funbres, silhouettes titubantes, parfums de chair brle.","Tests : Survie / Perception pour anticiper les foyers de ranimation.","Danger : veil simultan de zombies et de golems de chair.","Usage : Mettre en scne l'veil de la Ncropole et les premires pertes massives."],npcIds:["capitaine_garde_urbaine"]},{id:"prison_conseil",name:"Prison du Conseil",summary:"Bloc de pierre sans fentres, symbole de la rpression politique.",details:["Ambiance : Couloirs troits, odeur de sueur et de dsinfectant, gravures de prires et d'insultes sur les murs.","Tests : vasion / Infiltration pour faire sortir ou entrer quelqu'un discrtement.","Ennemis : Geliers brutaux, interrogateurs, mages asserments.","Usage : Faux procs, interrogatoires politiques, vasions spectaculaires."],npcIds:["geolier_principal"]}]},t_={id:"cimetiere_et_seuil",name:"Cimetire et Seuil",summary:"Ncropole en terrasses relies par des escaliers troits, seuil vers la Spirale.",details:["Ambiance : Brume paisse, statues gothiques, lanternes mourantes.","Tension : Profanations rcentes, veilles inquites, intervention de la Garde.","Focus : Point de dpart du premier scnario, lieu de passage vers la Spirale.","Opportunits : Enqutes, combats contre les morts-vivants, rvlations sur la cabale ncromancienne."],locations:[{id:"cimetiere_terrasse",name:"Cimetire en Terrasse",summary:"Gradins funraires taills dans la falaise.",details:["Ambiance : Brouillard, silence, bruit lointain de la ville.","Tests : Perception / Investigation pour reprer les tombes profanes.","Ennemis : Pilleurs de tombes, morts-vivants, gardes nerveux.","Usage : Scnes d'enqute, de garde de nuit, de premiers combats contre la ncromancie."],npcIds:["gardien_cimetiere"]},{id:"mausolee_seuil",name:"Mausole Secret du Seuil",summary:"Tombeau scell servant de sas vers la Spirale.",details:["Ambiance : Froid mordant, silence touff, runes d'interdiction partiellement effaces.","Tests : Religion / Arcane pour comprendre les runes naines de confinement.","Ennemis : Chevaliers morts-vivants, gardiens de l'ancien ordre.","Usage : Point de non-retour de la campagne, ouverture du puits vers la Spirale."],npcIds:["spectre_ancien_heros"]},{id:"mausolee_pont_secret",name:"Pont Secret des Mausoles",summary:"Passerelle troite reliant deux terrasses funraires, pige par les ncromanciens.",details:["Ambiance : Chanes grinantes, poussire de pierre, runes fissures sous les pieds.","Tests : Acrobaties / Perception pour viter les sections sabotes.","Danger : Gardiens gargouilles, charges explosives poses par Durnik.","Usage : Lieu du sacrifice hroque bloquant l'accs au Seuil."],npcIds:["durnik_chef_mineur"]},{id:"puits_spirale_abime",name:"Puits de l'Abme Spirale",summary:"Ouverture verticale noire o l'on ressent l'appel de la Spirale.",details:["Ambiance : Vent froid venant d'en bas, chuchotements lointains.","Tests : Volont / Escalade pour affronter le vertige et descendre en rappel.","Danger : Tourbillons d'nergie attirant armes et mes, assauts d'ombres.","Usage : Dernire tape avant la fuite vers la Spirale lors de la chute de la ville."],npcIds:[]}]},a_={id:"profondeurs_mine",name:"Profondeurs de la Mine",summary:"Rseau de galeries profondes, poumon conomique et porte brise vers la Spirale.",details:["Ambiance : Grincement des cages de descente, chaleur touffante, poussire de roche.","Tension : Mineurs terroriss par les hurlements de la pierre.","Focus : Dcouverte de la paroi de la Spirale au niveau -8.","Opportunits : Exploration, survie, sabotage, ngociations avec la Guilde des Mineurs."],locations:[{id:"mine_argent",name:"La Mine d'Argent",summary:"Galeries principales et niveaux de travail ordinaires.",details:["Ambiance : Lumire de lanternes, claquement des pioches, rails grinants.","Tests : Survie / Ingnierie pour viter les effondrements et poches de gaz.","Ennemis : Monstres fouisseurs, cratures attires par la magie de la Spirale.","Usage : Lieu d'introduction  la menace surnaturelle dans les profondeurs."],npcIds:["contremaitre_nain_mine"]},{id:"galeries_silencieuses",name:"Galeries Silencieuses",summary:"Niveaux -1  -7 abandonns aprs les premiers hurlements de la pierre.",details:["Ambiance : Tables renverses, repas  moiti mangs, outils abandonns.","Tests : Perception / Sang-froid pour affronter l'atmosphre oppressante.","Ennemis : Monstres rouilleurs, ankhegs, morts oublis.","Usage : Exploration horrifique et pistes vers la paroi de la Spirale."],npcIds:["geometre_fou"]}]},s_={id:"spirale",name:"La Spirale",summary:"Donjon invers aux lois changeantes, accessible par la brche dans la mine.",details:["Ambiance : Murmures lointains, gravit capricieuse, lumire violette sourde.","Tension : L'architecture se reconfigure, rien n'est fiable longtemps.","Focus : Les premiers cercles testent la rsilience et la prudence des explorateurs.","Opportunits : Dcouvrir la source des rsonances, isoler la gode chantante, comprendre la conscience du lieu."],locations:[{id:"spirale_premier_cercle",name:"Premier Cercle de la Spirale",summary:"Anfractuosits initiales aprs la fissure, couloirs qui se rcrivent derrire soi.",details:["Rgle :  chaque sortie d'une salle, le couloir prcdent change de topologie.","Dangers : Goules mineurs gares, cubes nettoyeurs, instabilit gravitationnelle lgre.","Indices : Veines cristallines pulsant au rythme des rsonances, inscriptions naines partiellement effaces.","Usage : Premire zone pour prouver les rgles de la Spirale et affronter la Gode chantante."],npcIds:["sentinelle_reliee","lysa_exploratrice_perdue"]},{id:"spirale_engrenages_plenaires",name:"Engrenages Plnaires",summary:"Segment de contrle o les engrenages modulent la gravit des niveaux suprieurs.",details:["Ambiance : clairs d'nergie pure, vibrations continues, champ magntique dsorientant.","Tests : Ingnierie / Acrobaties pour actionner les leviers synchroniss.","Danger : Compression brutale pour ceux qui ratent le rythme, arcs lectriques alatoires.","Usage : Dsamorcer le mcanisme avant de pntrer dans la Salle des Engrenages principale."],npcIds:[]},{id:"spirale_balcon_inverse",name:"Balcon Invers",summary:"Corniche donnant sur le vide, surplombant les structures retournes de la Spirale.",details:["Vertige constant, pluie de poussire cristalline tombant vers le haut.","Point d'observation idal pour reprer des passerelles mouvantes.","Risque : Chutes imprvisibles si la gravit change brusquement.","Indice : On entend le chant de la Gode rsonner plus fort ici."],npcIds:[]},{id:"spirale_coeur_geode",name:"Cur de la Gode Chantante",summary:"Salle cristalline o l'nergie de la Spirale se condense.",details:["Pulsations lumineuses violettes synchronises avec le cristal de Thade.","Chant harmoniquement discordant, fatigue mentale accrue.","Structure semi-organique : la gode se dfend en modifiant l'espace.","But : Dtruire ou canaliser l'nergie pour stabiliser la mine."],npcIds:["geode_avatar"]},{id:"spirale_zone_dechets",name:"Zone de Dchets",summary:"lots instables d'boulis et de gravats, premire halte aprs la chute.",details:["Gravit erratique, brume violette, clats cristallins tranchants.","Le sol se dsagrge si l'on s'y repose trop longtemps.","Point d'entre pour les survivants jects vers la Spirale.","Vestiges nains indiquant que d'autres sont dj tombs ici."],npcIds:["charognard_errant"]},{id:"spirale_couloirs_ether",name:"Couloirs de l'ther",summary:"Galeries translucides suspendues dans le vide, parcourues de vents inverses.",details:["Ambiance : Lumire blanche diffuse, poussire flottant  contresens, chos mtalliques dforms.","Tests : Acrobaties / Volont pour garder son orientation quand la gravit pivote de 90.","Dangers : Prdateurs thrs, bourrasques aspirant vers le plafond devenu sol.","Usage : Terrain d'introduction aux rgles physiques absurdes avant de rejoindre les couloirs organiques."],npcIds:[]},{id:"spirale_couloirs_chair",name:"Couloirs de Chair",summary:"Vaisseaux organiques pulsants, ragissant aux motions et au sang.",details:["Parois veineuses, yeux incrusts, chuchotements humides.","Gravit changeante, sols visqueux, escaliers de cartilage.","La Spirale observe : tests de volont et de sang-froid.","Accs vers le laboratoire secret plus bas."],npcIds:["marchand_fou_mercane"]},{id:"spirale_carrefour_mercane",name:"Carrefour du Mercane",summary:"Plateforme hexagonale o convergent six veines vivantes, transforme en bazar interdit.",details:["Ambiance : Odeur d'ozone et de trbenthine, cliquetis d'artefacts suspendus autour d'un brasero violet.","Tests : Marchandage / Bluff (souvenirs contre ressources).","Danger : Contrats pigs qui siphonnent des niveaux ou des souvenirs des PJ.","Usage : Rencontre avec le Marchand Fou, accs  des informations sur les niveaux infrieurs."],npcIds:["marchand_fou_mercane"]},{id:"spirale_salle_miroirs",name:"Salle des Miroirs du Regret",summary:"Cylindre tapiss de miroirs liquides refltant des futurs possibles.",details:["Ambiance : Chuchotements familiers, battements de cur amplifis, froid psychique.","Tests : Volont / Bluff contre soi-mme pour accepter un secret ou subir des dgts mentaux.","Danger : Reflets qui sortent des miroirs si l'on ment.","Usage : Confronter les PJ  leurs regrets avant d'accder au mcanisme d'ascenseur."],npcIds:[]},{id:"spirale_labo_secret",name:"Laboratoire Secret de Thade",summary:"Complexe technomagique enchss dans la paroi, cur des expriences de Thade.",details:["Portes runiques, odeur d'ozone et de formol, bassins d'mes.","Production de corps rassembls et d'artefacts de contrle.","Archives prouvant l'usage d'clats de Spirale sur le cur de Thade.","Pont vers les zones mcaniques plus profondes."],npcIds:["sujet_zero"]},{id:"spirale_bibliotheque_ames",name:"Bibliothque de Cristal des mes",summary:"Galerie d'tagres faites d'os et de quartz, contenant des souvenirs pigs.",details:["Ambiance : Bourdonnement harmonique, lueurs prisonnires dans chaque fiole.","Tests : Connaissance / Utilisation d'objets magiques pour consulter sans librer les esprits.","Danger : Fantmes archivistes, surtension mentale en cas de lecture prolonge.","Usage : Rvler le plan d'immortalit de Thade et des indices sur la Spirale."],npcIds:[]},{id:"spirale_laboratoire_clonage",name:"Laboratoire de Clonage",summary:"Chane de montage charnelle o des corps recomposs sont assembls.",details:["Ambiance : Pistons organiques, odeur d'aldhyde, clats de mtal ensanglants.","Tests : Sabotage / Artisanat (alchimie) pour drgler les cuves.","Danger : Berserkers frachement sortis des cuves, alarmes appelant Sujet Zro.","Usage : Prouver que Thade produit ses armes artificielles."],npcIds:[]},{id:"spirale_salle_engrenages",name:"Salle des Engrenages",summary:"Cathdrale mcanique d'engrenages gants suspendus dans le vide.",details:["Bruit assourdissant, vents tranchants, plateformes en rotation.","Flux d'nergie alimentant la surface et les pylnes de Thade.","Passerelles ncessitant synchronisation et sang-froid.","Point de sabotage critique pour affaiblir Thade."],npcIds:["inevitable_contremetre"]},{id:"spirale_tunnel_teleport",name:"Tunnel de Tlportation",summary:"Colonne luminescente propulsant vers la surface, protge par des ombres.",details:["Flux d'nergie vertical, salles-tampons cycles par la Spirale.","Purge rgulire des intrus par dcharges d'ombre et de vide.","Permet d'intercepter Thade pendant la remonte.","Termine sur la Tour des Mages si le flux est invers."],npcIds:[]}]},n_=[KS,XS,ZS,WS,e_,t_,a_,s_],Dt={...$S,zones:n_},i_={id:1,title:"SCNARIO 1 : L'APPEL DES PROFONDEURS",level:"Niveaux 1-3",system:"D&D 3.5",synopsis:"Le cimetire nain de Val-d'Ombre est la cible de profanations inquitantes. Ces actes, maquills en pillages, dissimulent les expriences interdites de Jaren, un tudiant manipul par le Professeur Thade Coren. Les aventuriers sont engags pour rsoudre l'affaire, sans savoir qu'ils servent en ralit  effacer les traces du vritable marionnettiste."},r_={title:"ACTE 1 : L'INCIDENT DU CIMETIRE",stake:"Identifier l'auteur des profanations du cimetire nain et dterminer ses motivations. avant une escalade de violence entre nains et humains.",location:"L'Auberge du Pic Bris & Le Cimetire des Terrasses.",scenes:[{title:"Scne 1 : L'Offre du Prtre",type:"Social",image:"./images/scenes/auberge_pic_brise.jpg",locationId:"auberge_pic_brise",npcIds:["thorgar_pretre_nain","aubergiste_pic_brise"],description:{resume:"Thorgar mandate les PJ pour enquter sur des profanations de tombes naines rcentes et rcuprer les restes drobs.",visuel:"Poutres basses en chne noirci, fume de pipe paisse, clats de voix graves. Un panneau  MAGIE INTERDITE  est clou au mur.",audio:"Le choc des chopes, le crpitement du foyer, et un silence pesant  l'entre des trangers.",odeur:"Bire brune forte, viande rtie et sueur de travail.",lumiere:"Tamise par la fume, foyer central ardent aux reflets orangs."},narration:{declencheur:"Thorgar, le visage marqu par la fatigue, vous fait signe de vous asseoir sans crmonie.",texte_a_lire:"Thorgar nettoie distraitement une tache de bire sur la table. Il ne vous regarde pas directement.  On a ouvert les tombes des Thanes. La garde s'en moque, mais le clan est  bout de nerfs. Si je ne trouve pas des extrieurs pour rgler a discrtement, mes frres vont descendre dans la rue et brler le quartier humain. Retrouvez les os. Le reste, je m'en fiche. ",contexte_mj:"Thorgar engage des humains (les PJ) parce qu'il sait que si un Nain s'en occupe, a finira en lynchage public. Il est nerveux, surveille les autres tables du coin de l'il et parle  voix basse.",objectif:"Accepter le contrat et obtenir des informations sur les tombes vises."},mecaniques:{defis:["Diplomatie (DD 15) : Ngocier une avance ou une prime supplmentaire (50 po).","Connaissances (Folklore) (DD 12) : Apprendre que les tombes vises sont celles de la ligne des Thanes (chefs de clan)."],indices:["Les tombes ne sont pas vides de leur or, mais seul certains os sont prlevs."],recompenses:"200  300 po (groupe) + Amulette de protection contre les morts-vivants (1 usage)."},transitions:{success:"Thorgar offre une avance et indique le chemin du cimetire.",fail:"Thorgar les engage par ncessit mais les fait surveiller par un mineur."}},{title:"Scne 2 : Un Cimetire dans la Brume",type:"Social",image:"./images/scenes/gardien_cimetiere.jpg",locationId:"cimetiere_terrasse",npcIds:["gardien_cimetiere"],description:{resume:"Les PJ ngocient l'accs au cimetire avec le gardien et recueillent des informations sur les mthodes et la cible des profanateurs.",visuel:"Une grille monumentale en fer forg. Une silhouette massive (le Gardien) surveille l'entre, arbalte au poing.",audio:"Grincement des chanes et le cliquetis mtallique du mcanisme d'arbalte.",odeur:"un parfum de terre noire sature d'eau et de pierre moisie.",lumiere:"Le halo jaune et vacillant d'une lanterne sourde."},narration:{declencheur:"Les PJ s'approchent du portail principal.",texte_a_lire:"Un carreau d'arbalte vient se planter dans la terre,  un mtre de vos bottes. Une voix rauque merge de l'obscurit :  Le prochain est pour vos genoux. Reculez. ",contexte_mj:"Le Gardien ne sort jamais totalement de l'ombre de sa gurite ; on ne voit que le reflet de sa lanterne sur la pointe de son arbalte. Jouez-le comme un homme au bout du rouleau qui voit des ennemis partout. Chaque geste brusque des PJ doit tre ponctu par un grognement ou un doigt qui se crispe sur la dtente.",objectif:"Gagner l'accs et reprer la zone de la prochaine profanation."},mecaniques:{defis:["Diplomatie (DD 12) : Calmer le Gardien. Succs : Il offre des carreaux d'arbalte en argent (x5).","Dtection (DD 14) : Reprer des traces de pas lgres (bottes de citadins) prs de la crypte Nord.","Art de la Magie (DD 15) : Identifier l'odeur d'ozone comme une trace de ncromancie de  conservation ."],indices:["Le Gardien confirme :  Ils ont emport le fmur gauche de l'ancien Thane. Pourquoi un fmur ? "],recompenses:"Avantage tactique (Surprise) pour la scne suivante. Le Gardien peut prter main-forte (Guerrier Niv 2)."},transitions:{success:"Les PJ se mettent en embuscade prs de la crypte.",fail:"Le Gardien refuse l'entre. Les PJ arrivent trop tard : le combat commence alors que les pilleurs s'enfuient."}},{title:"Scne 3 : Les Pilleurs",type:"Combat",image:"./images/scenes/scene_3.jpg",locationId:"cimetiere_terrasse",npcIds:["etudiant_renvoye","homme_armes_lvl1","squelette","gardien_cimetiere"],description:{resume:"Les PJ interceptent un groupe de pilleurs en activit et dcouvrent que l'opration est dirige par Jaren, un ancien tudiant en magie.",visuel:"Trois mercenaires creusent sous l'il vigilant d'un jeune homme en robe d'tudiant. Celui-ci, qui semble diriger les oprations, examine un crne  la lumire de sa lanterne",audio:"Bruit des pelles contre la pierre et rire nerveux de l'tudiant.",odeur:"Une odeur de terre grasse et d'humus tremp s'lve du trou frachement creus.",lumiere:"Lumire crue de la lampe-tempte au centre de la scne."},narration:{declencheur:"L'assaut des PJ ou une maladresse.",texte_a_lire:"L'tudiant lche son crne de surprise. Il bouscule l'un des mercenaires pour se mettre  couvert et hurle d'une voix suraigu :  Protgez-moi ! Ils ne doivent pas voir a ! ",contexte_mj:"Jaren incarne l'arrogance de l'tudiant gt. Il aboie des ordres, mais se cache derrire ses mercenaires au moindre danger. Jouez le contraste entre les mercenaires, silencieux et efficaces, et Jaren qui devient de plus en plus hystrique. Il n'est pas courageux, s'il est accul, il tentera d'acheter sa vie, abandonnant toute dignit.",objectif:"Neutraliser les gardes et capturer Jaren vivant."},mecaniques:{defis:["Combat : 3 Brutes (Guerrier 1) et Jaren (Magicien 1 - Spcialisation Ncromancie).","Intimidation (DD 13) : Faire fuir les mercenaires si Jaren est bless.","Magie Instable : Tout sort de zone a 20% de chance de ranimer un tas d'os (Squelette simple) qui attaque tout le monde."],indices:["Jaren porte une broche de la Fraternit Nyx.","Une liste de noms nains avec la mention  Compatible ."],recompenses:"Bourse de 50 po + Baguette de Lecture de la Magie (5 charges)."},transitions:{success:"Jaren est captur, prt  parler.",fail:"Jaren s'enfuit dans les bois, laissant sa sacoche derrire lui."}},{title:"Scne 4 : L'Autopsie du Crime",type:"Investigation",image:"./images/scenes/jaren_death.jpg",locationId:"cimetiere_terrasse",npcIds:["etudiant_renvoye","gardien_cimetiere"],description:{resume:"Jaren meurt sous l'effet d'un sceau magique avant de pouvoir tmoigner, laissant des indices reliant l'affaire  l'Universit.",visuel:"Jaren tremble violemment. Ses yeux brillent d'une lueur arcanique instable.",audio:"Un bourdonnement haute frquence qui fait siffler les oreilles.",odeur:"Ozone et brl.",lumiere:"Flashs intermittents provenant des veines du cou de Jaren."},narration:{declencheur:"Les PJ posent une question sur  Le Matre .",texte_a_lire:"Ds que vous mentionnez son matre, Jaren se fige. Une veine noire pulse violemment sur sa tempe. Il n'a mme pas le temps de crier : ses yeux se rvulsent, du sang coule de son nez et il s'effondre comme une marionnette dont on a coup les fils.",contexte_mj:"L'objectif est de choquer les joueurs. La mort de Jaren doit ressembler  une excution. Dcrivez la violence soudaine du sort, le corps qui lche sous une pression invisible. Cela doit installer un climat de paranoa.",objectif:"Comprendre que l'ennemi est au sein de l'Universit."},mecaniques:{defis:["Art de la Magie (DD 16) : Identifier le sort comme une variante interdite de  Vu de Silence .","Premiers Secours (DD 15) : Constater que la mort est d'origine magique et instantane.","Perception (DD 12) : Trouver sur le corps une invitation pour une confrence prive au nom du Professeur Thade Coren."],indices:["La broche de la Fraternit Nyx est un laissez-passer pour les quartiers tudiants."],recompenses:"XP d'investigation. Gratitude de Thorgar pour la rcupration des restes."},transitions:{success:"Fin de l'Acte 1. Les PJ ont un nom (Coren) et une destination (l'Universit)."}}]},l_={title:"ACTE 2 : LA PISTE ARCANIQUE",stake:"tablir les liens entre Jaren, la Fraternit Nyx et l'Universit, et localiser ses travaux et ses soutiens.",location:"Universit de Magie de Val-d'Ombre.",scenes:[{title:"Scne 1 : La Fraternit Dissoute",type:"Social",image:"./images/scenes/universite_arcane.jpg",locationId:"universite_arcane",npcIds:["etudiant_universite"],description:{resume:"Les PJ enqutent sur la Fraternit Nyx au sein de l'Universit et apprennent son lien avec Jaren et le Professeur Coren.",visuel:"Niche au cur d'une cit de pierre, la Tour des Mages se dresse comme un monolithe de marbre blanc grav de runes lumineuses, une anomalie verticale s'levant en spirales impossibles. Des passerelles de verre liquide relient les btiments entre eux, tandis que des orbes lumineux patrouillent silencieusement autour des plus hautes flches, projetant une lumire froide et clinique.",audio:"Le bourdonnement lectrique des barrires de mana, ponctu par le son cristallin des pas sur le verre et des chos de voix dsincarnes.",odeur:"Poussire de bibliothque, encre frache et th  la bergamote.",lumiere:"Une luminescence blanche et strile manant des murs eux-mmes, gommant les reliefs et donnant aux visages un aspect cireux."},narration:{declencheur:"Les PJ prsentent la broche de Nyx  un tudiant dans la cour.",texte_a_lire:"L'apprenti blmit instantanment. Il jette un coup d'il nerveux aux alentours et baisse la voix :  Rangez a. Si les recteurs vous voient avec un sceau de la Nyx, vous finirez au cachot. Allez voir le Professeur Coren, c'est lui qui gre le... nettoyage. Et oubliez que vous m'avez vu. ",contexte_mj:"L'Universit est un lieu d'ordre et de silence. L'tudiant ne veut pas d'ennuis. Jouez sur la paranoa,  il chuchote, regarde par-dessus son paule. La simple vue de la broche doit le faire paniquer. Il dirige les PJ vers Thade non pas pour les aider, mais pour se dbarrasser d'eux.",objectif:"Localiser le bureau de Thade Coren et recueillir les bruits de couloir."},mecaniques:{defis:["Diplomatie (DD 13) : Convaincre l'tudiant de parler davantage.","Renseignements (DD 15) : Apprendre que Jaren tait le protg de Coren."],indices:["Rumeurs : On raconte que Jaren n'a pas quitt les lieux en silence. Il hurlait que son expulsion tait une  erreur monumentale  et que bientt, mme le Conseil des Mages devra se mettre  genoux devant son prochain matre."],recompenses:"Localisation du bureau de Thade."},transitions:{success:"Rencontre avec Thade (Scne 2).",fail:"Les PJ sont escorts par la garde universitaire jusqu'au bureau de Coren pour  interrogatoire ."}},{title:"Scne 2 : Le Professeur Bienveillant",type:"Social",image:"./images/scenes/thade_coren.jpg",locationId:"bureau_thade_coren",npcIds:["thade_coren"],description:{resume:"Thade Coren confirme l'expulsion de Jaren et charge les PJ de localiser ses travaux afin de les scuriser.",visuel:"Murs tapisss de grimoires impeccables. Thade est assis derrire un bureau de chne, lgant et calme.",audio:"Le grattement d'une plume de phnix et le tic-tac d'une horloge astronomique.",odeur:"Cire de bougie chaude et lavande sche.",lumiere:"Tamise par des vitraux illustrant les lois de la magie."},narration:{declencheur:"Aborder le sujet de Jaren.",texte_a_lire:"Thade ne touche pas la broche. Il continue d'crire, sans lever les yeux.  Jaren... Un esprit brillant, hlas bris par sa propre ambition. La ncromancie n'est pas un jeu. S'il a continu ses expriences, il est un danger pour lui-mme et pour la ville. Retrouvez-le. Je me chargerai de scuriser ses travaux. ",contexte_mj:"Thade est le masque parfait de l'autorit bienveillante. Il ne doit jamais paratre suspect. Il parle avec une tristesse feinte, comme un pre du par un fils prodigue. Il ne nie pas les faits, il les rinterprte. La folie de Jaren est une tragdie personnelle. Il manipule les PJ en flattant leur ego et en leur donnant une mission 'noble' scuriser des connaissances dangereuses.",objectif:"Accepter la mission de localiser le laboratoire et les notes de Jaren."},mecaniques:{defis:["Psychologie (DD 18) : Thade semble sincre, mais son dtachement face aux menaces contre le Conseil est troublant.","Ngociation (DD 14) : Obtenir 100 po d'avance pour  frais d'enqute ."],indices:["Le rapport d'expulsion de Jaren. En marge, l'criture lgante de Thade note :  Instabilit prvisible. Manque de discipline. "],recompenses:"Sauf-conduit de l'Universit + 1 parchemin de Dissipation de la Magie."},transitions:{success:"Vers le taudis de Jaren (Scne 3)."}},{title:"Scne 3 : La Descente aux Enfers",type:"Exploration",image:"./images/scenes/taudis_jaren.jpg",locationId:"vieille_ville_taudis_jaren",npcIds:[],description:{resume:"Les PJ explorent le logement de Jaren, dcouvrent des signes de rcupration rcente et identifient un accs vers un laboratoire souterrain.",visuel:"Une mansarde o la folie s'est inscrite sur les murs. Des parchemins forment une spirale obsessionnelle de croquis anatomiques nains. Au centre, les planches du parquet ont vol en clats autour d'une trappe bante.",audio:"Le claquement sec d'un volet mal fix et le grondement sourd, presque organique, de l'eau dans les profondeurs.",odeur:"Un mlange curant de papier jauni, de moisissure et l'odeur mtallique de la magie brute.",lumiere:"Des lames de lumire grise dcoupent l'obscurit, rvlant la poussire qui danse au-dessus du chaos."},narration:{declencheur:"Fouille approfondie de la pice.",texte_a_lire:`Ce qui rgne ici n'a rien du simple dsordre d'un tudiant. On sent qu'une rage dsespre a retourn chaque meuble, chaque papier, avec une frnsie presque palpable. Sur le mur, la paranoa s'est mue en obsession : une seule phrase s'y tale partout, griffonne  s'en briser les ongles :  Mensonge. Tout n'est que mensonge. Il a menti. IL A MENTI.  

Au milieu de ce chaos, le regard est invitablement attir par le sol. La trappe n'a pas t simplement ouverte ; elle a t littralement arrache, le bois pulvris et les gonds sauts sous l'impact d'une force magique brutale. On ignore qui a forc le passage, mais la violence de l'effraction trahit une urgence telle qu'on n'a mme pas cherch la cl.`,contexte_mj:"L'ambiance doit basculer dans l'horreur. Ce n'est plus une chambre d'tudiant, c'est l'esprit de Jaren tal sur les murs. Insistez sur l'obsession. L'lment cl est l'effraction de la trappe, c'e n'est pas l'uvre d'un tudiant fou, mais d'un professionnel (Ilse). Les PJ doivent sentir qu'ils arrivent quelques minutes trop tard. La trace est chaude, l'ennemi est proche.",objectif:"S'enfoncer dans les gouts pour traquer Kaela et dcouvrir le laboratoire secret."},mecaniques:{defis:["Fouille (DD 12) : Dnicher sous un tas de linge sale un plan partiel des gouts, avec une croix rouge marquant une zone sous le vieux manoir.","Art de la Magie (DD 14) : Analyser les traces de brlures sur la trappe. Ce n'est pas la magie du niveau de Jaren, mais une force plus puissante (celle de Kaela)."],indices:["Un journal intime brl dont il ne reste qu'une page :  Tout ce qu'on a construit n'est qu'un immense mensonge pour nourrir son ambition."],recompenses:"Accs  l'Acte 3. Si le plan est trouv, les PJ ont un Avantage sur les jets de Survie dans les gouts."},transitions:{success:"Dbut de l'Acte 3 : Les gouts et le Labyrinthe."}}]},o_={title:"ACTE 3 : LES GOUTS ET LE LABYRINTHE",stake:"Accder au laboratoire souterrain associ  Jaren en suivant les indices disponibles.",location:"gouts de Val-d'Ombre & Fondations du vieux manoir.",scenes:[{title:"Scne 1 : Le Kobold Tmoin",type:"Social",image:"./images/scenes/sniv_kobold.jpg",locationId:"egouts_croisement",npcIds:["sniv_kobold"],description:{resume:"Un kobold informe les PJ qu'une nouvelle responsable a pris le contrle du laboratoire et dcrit les changements rcents.",visuel:"Des tunnels de briques suintantes. Deux petits yeux jaunes brillent de terreur dans un conduit de trop-plein.",audio:"Le clapotis de l'eau noire.",odeur:"Soufre, eaux croupie.",lumiere:"La lumire des PJ projette des ombres dformes sur les murs incurvs."},narration:{declencheur:"Les PJ entendent des pleurs touffs derrire une grille de fer.",texte_a_lire:" Pas taper ! Sniv rien fait ! La femme... la sorcire aux yeux fous ! Elle est arrive et l'autre... le Matre Jaren... il ne vient plus. Il ne donne plus d'ordres. Elle est pire ! Elle a pris les autres... mais les frres reviennent jamais. Pourquoi ils reviennent jamais ?",contexte_mj:"Sniv a vu la transition de pouvoir. Il servait Jaren, mais Kaela a pris le relais avec une cruaut dcuple pour finir le rituel. Il est traumatis par le changement de rgime.",objectif:"Calmer Sniv pour obtenir des informations sur les piges et l'entre du manoir."},mecaniques:{defis:["Diplomatie (DD 12) : Calmer Sniv (lui offrir de la nourriture rduit le DD  10).","Intimidation (DD 15) : Le forcer  parler, mais il risque de s'enfuir  la premire occasion."],indices:["Sniv rvle :  Elle dit que Jaren tait trop mou. Elle dit que le Matre sera fier d'elle quand le Conseil brlera. "],recompenses:"Arrive Furtive : Ils commencent la scne suivante en mode Discrtion avec un bonus de +2 ou un avantage, car ils arrivent par un endroit que les gardes de Kaela ne surveillent pas."},transitions:{success:"Sniv guide les PJ vers la porte du manoir (Scne 2).",fail:"Sniv s'enfuit dans les tuyaux. Les PJ doivent naviguer  l'aveugle (Survie DD 15) pour viter de se perdre."}},{title:"Scne 2 : La Porte du Manoir Englouti",type:"Combat",image:"./images/scenes/egouts_entree_manoir.jpg",locationId:"egouts_entree_manoir",npcIds:["squelettes_nains_gardiens"],description:{resume:"Les PJ affrontent des gardiens squelettiques protgeant l'accs au laboratoire dissimul sous le manoir.",visuel:"Au dtour d'un conduit effondr, la brique suintante laisse place  une arche, sculpte de runes naines marteles. Une lourde porte en fer forg, barre le passage. Deux gardiens squelettiques, draps dans leurs armures, montent la garde.",odeur:"L'air devient soudainement sec, froid tranche avec la puanteur des gouts.",lumiere:"Une lueur violette instable filtre  travers le trou de la serrure.",audio:"Le cliquetis des os et un bourdonnement sourd, comme un battement de cur, qui mane de derriere la porte."},narration:{declencheur:"Les PJ arrivent  porte de vue de la porte.",texte_a_lire:"Ces gardiens ne sont pas des serviteurs anonymes. Sur leurs plastrons briss, vous reconnaissez les blasons des clans fondateurs de Val-d'Ombre.  votre approche, leurs orbites vides s'allument d'une lueur haineuse, et ils lvent leurs haches de guerre dans un silence de mort.",contexte_mj:"C'est un combat symbolique. Les PJ voient ici le rsultat direct des profanations. La porte est scelle magiquement et ragit  la broche de la Fraternit Nyx.",objectif:"Vaincre les gardiens pour accder au mcanisme de la porte."},mecaniques:{defis:["Combat : 2 Squelettes de Thanes (Guerriers Nains lites, CA 16, RD 5/Contondant). Ils utilisent des tactiques militaires coordonnes.","Savoir Arcanique (DD 14) : Remarquer que le flux magique de la porte rpond  la signature de la broche de Nyx."],indices:["Sur le bouclier de l'un d'eux, une gravure rcente et grossire :  Nyx  par-dessus les runes anciennes."],recompenses:"Armes de matre (Haches naines) et ouverture de la porte grce  la broche."},transitions:{success:"La porte s'ouvre sur un escalier montant vers le laboratoire (Acte 4).",fail:"Le combat dure trop longtemps. L'alarme est donne et l'Acte 4 commence en alerte maximale."}}]},u_={title:"ACTE 4 : LE RITUEL DE LA SPIRALE",stake:"Mettre fin aux activits du laboratoire et rcuprer les rsultats des recherches.",location:"Laboratoire secret du Manoir Van Kel.",scenes:[{title:"Scne 1 : L'veil Forc",type:"Combat",image:"./images/scenes/manoir_hall.jpg",locationId:"manoir_hall",npcIds:["ilse_nyx"],description:{resume:"Ilse tente de stabiliser une exprience ncromantique inacheve utilisant le corps de Jaren lorsque les PJ interviennent.",visuel:"Le hall luxueux est profan : un immense cercle de cendres et de sang sch entoure le corps de Jaren. Des fils d'nergie violace relient le cadavre  des ancres d'argent plantes dans le sol.",audio:"Un bourdonnement grave qui fait vibrer les vitraux. Ilse hurle ses incantations pour couvrir le bruit de la magie qui s'emballe.",odeur:"Ozone (magie), fer (sang).",lumiere:"Des clairs de magie noire qui illuminent par intermittence le grand escalier."},narration:{declencheur:"Les PJ entrent dans le Hall.",texte_a_lire:"Ilse von Reiner lve les mains, ignorant les spasmes du cadavre  ses pieds.  Jaren n'tait qu'un mdiocre, un esprit faible qui s'est noy dans ses propres peurs. Le Matre le savait, et je le savais aussi. Il n'tait qu'un brouillon. Mais avec son sang et ma volont, je vais enfin valider les thorie du Matre ! Admirez la naissance d'un dieu ! ",contexte_mj:"Ilse est pragmatique, elle considre Jaren comme une simple ressource magique. Elle traite la ncromancie comme une science exacte. Elle veut stabiliser Jaren pour prouver  Thade qu'elle est plus utile qu'un cadavre.",objectif:"Neutraliser Ilse avant qu'elle ne stabilise la crature."},mecaniques:{defis:["Combat : Ilse (Magicienne Niv 3) protge par 2 Squelettes Instables (anciens serviteurs de Jaren qu'elle a asservis).","Anomalie (DD 12) :  chaque tour, le rituel instable libre une onde. Quiconque est  dcouvert subit 1d4 dgts de froid."],indices:["Une note de Thade dans les poches d'Ilse :  Ilse, ne me dcevez pas comme votre prdcesseur, ou ne revenez pas  l'Universit. "],recompenses:"Bourse (40 po), Bague de protection +1, et les notes de recherche."},transitions:{success:"Ilse s'croule en maudissant l'incomptence de Jaren. Dans un dernier souffle magique, le cercle explose et le 'Sujet J-01' se lve, libr de ses entraves."}},{title:"Scne 2 : Le Sujet J-01",type:"Boss",image:"./images/scenes/jaren_le_maudit.jpg",locationId:"manoir_hall",npcIds:["bleme_fp3"],description:{resume:"La dpouille ranime de Jaren se libre du rituel et doit tre dtruite pour mettre fin  l'anomalie magique.",visuel:"Le corps de Jaren se redresse par saccades, comme une marionnette dont on tire brutalement les fils. La lueur qui s'chappe de ses orbites est blafarde, et sa peau se craquelle sous l'effet d'un froid surnaturel.",audio:"Le bruit sec des os qui se remettent en place et le sifflement de l'air qui s'chappe de ses poumons perfors. Aucun mot, juste un rle mcanique.",odeur:"Ozone et viande putride."},narration:{declencheur:"la dfaite d'Ilse.",texte_a_lire:"La chose qui fut Jaren ne hurle pas. Elle ne vous maudit pas. Elle avance simplement vers vous dans un silence terrifiant, chaque pas laissant une trace de givre sur le marbre du hall.",contexte_mj:"Jaren est incapable de reflechir son me est en train d'tre dvore par le rituel incomplet.",objectif:"Dtruire la dpouille de Jaren pour stopper l'anomalie."},mecaniques:{defis:["Aura de Froid : Toute personne au contact de Jaren subit des dgts de froid au dbut de son tour (Jet de Rflexes DD 12 ou 1d4 dgts).","clats de glace :  50% de ses PV, le corps de Jaren expulse des fragments d'os et de givre (Jet de Rflexes DD 13 ou 1d4 dgts)."],recompenses:"Bague de focalisation brise, fragments d'une gemme d'me (valeur 50 po)."},transitions:{success:"Le corps de Jaren s'effondre et se change instantanment en poussire givre. Le silence revient dans le hall."}},{title:"Scne 3 : Le Bilan du Matre",type:"Conclusion",image:"./images/scenes/thade_coren.jpg",locationId:"manoir_hall",npcIds:["thade_coren"],description:{resume:"Thade Coren arrive pour valuer les rsultats et flicite les PJ pour leur travail, tout en dissimulant sa vritable implication.",visuel:"Thade examine les notes avec une satisfaction feinte. Il ne regarde pas les PJ directement.",audio:"Le silence du hall, seulement bris par le crpitement des cendres qui se refroidissent.",odeur:"L'odeur cre de la magie brute commence  s'estomper, remplace par le parfum de la satisfaction.",lumiere:"La lueur violette des runes s'teint progressivement."},narration:{declencheur:"Arrive de Thade.",texte_a_lire:`Thade se redresse lentement, un sourire nigmatique aux lvres.  Excellent travail. Jaren tait un chec, mais son sacrifice n'a pas t totalement inutile. Ses recherches sur la 'rsonance planaire' ouvrent des perspectives fascinantes. Vous avez servi la ville avec discrtion et efficacit. Le Conseil vous en est reconnaissant. 

Il vous tend une bourse.  Pour vos services. Et oubliez ce que vous avez vu ici. Les secrets de la magie ne sont pas faits pour les profanes. `,contexte_mj:"Thade rcupre les notes cruciales et limine les tmoins gnants. Il donne aux PJ une prime gnreuse pour s'assurer de leur silence et les remercier d'avoir 'nettoy' l'affaire selon sa version des faits.",objectif:"Accepter la rcompense et conclure le scnario."},mecaniques:{defis:["Bluff (DD 15) : Cacher la vrit sur la mort de Jaren et l'implication de Thade.","Psychologie (DD 16) : Dtecter que la satisfaction de Thade est feinte et cache une impatience sous-jacente."],indices:["Les notes de Thade mentionnent des 'applications pratiques' de la rsonance planaire."],recompenses:"500 po (groupe) + XP de scnario + Rputation +1 auprs du Conseil des Mages."},transitions:{success:"Fin du Scnario 1. Les PJ sont rcompenss mais ont vu une facette inquitante du pouvoir de Thade.",fail:"Les PJ sont congdis sans rcompense et avec une mise en garde discrte de Thade."}}]},c_={...i_,acts:[r_,l_,o_,u_]},d_={id:2,title:"SCNARIO 2 : LA MENACE QUI JUSTIFIE",level:"Niveaux 3-4",system:"D&D 3.5",synopsis:"Thade Coren utilise les PJ pour rvler l'existence d'une secte, la Fraternit de Nyx, et justifier sa prise de pouvoir scuritaire. Une fois sa position assure, il envoie les aventuriers dans les mines pour une mission de 'confinement' qui cache en ralit le chargement de son arme nergtique."},m_={title:"ACTE 1 : LA FRATERNIT DE NYX",stake:"Enquter sur la socit secrte mentionne par Thade et infiltrer leur rituel.",location:"Auberge & Bas Quartiers.",scenes:[{title:"Scne 1 : Le Repas Silencieux",type:"Social",image:"./images/scenes/diner_thade.jpg",locationId:"auberge_pic_brise",npcIds:["thade_coren"],description:{resume:"Dner avec Thade Coren qui met les PJ sur la piste d'une socit secrte.",visuel:"Une salle prive d'un restaurant hupp. Thade mange avec une prcision chirurgicale. L'ambiance est feutre mais tendue.",audio:"Le tintement de l'argenterie sur la porcelaine. Thade parle bas.",odeur:"Vin pic et rti de gibier.",lumiere:"Bougies parfumes."},narration:{declencheur:"Invitation de Thade aprs le Scnario 1.",texte_a_lire:"Thade essuie ses lvres.  Jaren n'tait qu'un symptme. Il existe une... organisation. La Fraternit de Nyx. Ils recrutent parmi les dus, les ambitieux. J'ai cru comprendre qu'une de leurs cellules se runit ce soir. Une certaine 'Ursula' serait implique. Je ne peux pas intervenir officiellement sans preuves. Mais vous... vous avez dj prouv votre discrtion. ",contexte_mj:"Thade manipule les PJ pour qu'ils liminent une cellule rivale ou gnante, tout en testant leur loyaut.",objectif:"Obtenir les informations sur le lieu de rendez-vous."},mecaniques:{defis:["Psychologie (DD 15) : Sentir que Thade en sait plus qu'il ne le dit sur Ursula.","Diplomatie (DD 12) : Obtenir des dtails sur les signes de reconnaissance (Lanternes Noires)."],indices:["Lieu : 'Suivez les lanternes noires dans les bas quartiers.'"],recompenses:"Avance de 50 po."},transitions:{success:"Les PJ partent pour les bas quartiers.",fail:"Thade leur donne l'info avec mpris : 'Je pensais que vous tiez plus perspicaces.'"}},{title:"Scne 2 : Le Salon des Lanternes Noires",type:"Investigation",image:"./images/scenes/bas_quartiers_nuit.jpg",locationId:"bas_quartiers",npcIds:["citoyen_suspect"],description:{resume:"Enqute dans les ruelles pour localiser le lieu exact du rituel.",visuel:"Des ruelles sombres, brumeuses. Des lanternes peintes en noir mettent une lueur violette  peine visible.",audio:"Bruits de pas furtifs, chuchotements derrire les volets.",odeur:"Charbon et humidit.",lumiere:"Trs faible, ombres longues."},narration:{declencheur:"Arrive dans la zone indique.",texte_a_lire:"Les bas quartiers semblent dserts. Pourtant, vous sentez des regards. Sur certaines portes, des lanternes ont t grossirement peintes en noir. C'est un jeu de piste macabre.",contexte_mj:"Les cultistes utilisent un code visuel pour se guider. Les PJ doivent le dcrypter.",objectif:"Trouver la cave o se tient la runion."},mecaniques:{defis:["Investigation (DD 14) : Suivre le motif des lanternes noires.","Discrtion (DD 13) : Ne pas alerter les guetteurs.","Intimidation (DD 15) : Faire parler un passant effray."],indices:["Les lanternes convergent vers une ancienne tannerie abandonne."],recompenses:"Effet de surprise pour la scne suivante."},transitions:{success:"Les PJ trouvent l'entre secrte.",fail:"Les PJ trouvent l'entre mais tombent dans une embuscade (2 gardes)."}},{title:"Scne 3 : Le Rituel Interrompu",type:"Combat",image:"./images/scenes/rituel_nyx.jpg",locationId:"tannerie_abandonnee",npcIds:["ursula_cultiste","cultiste_nyx","cultiste_nyx"],description:{resume:"Intervention pendant une messe noire. Combat contre Ursula et ses adeptes.",visuel:"Une cave voute. Des cultistes en robes sombres entourent un autel improvis. Ursula, une femme aux cheveux blancs, lve une dague sacrificielle.",audio:"Chants discordants en langue abyssale.",odeur:"Encens lourd et sang.",lumiere:"Lueur rougeoyante de l'autel."},narration:{declencheur:"Les PJ entrent dans la cave.",texte_a_lire:"Ursula se fige.  Les chiens de garde de l'Universit ! Frres, ne les laissez pas souiller ce lieu sacr ! Nyx, guide nos lames ! ",contexte_mj:"Ursula est une fanatique. Elle prfre mourir que de se rendre. Le rituel visait  contacter une entit, mais il choue  cause de l'interruption.",objectif:"Vaincre Ursula et scuriser les preuves."},mecaniques:{defis:["Combat : Ursula (Prtresse niv 3) + 4 Cultistes.","Mysticisme (DD 14) : Reconnatre que le rituel n'est pas ncromantique, mais dimensionnel (lien avec la Spirale)."],indices:["Documents mentionnant une 'Attaque Prvue' sur un point stratgique de la ville."],recompenses:"Dague rituelle, documents cods, XP."},transitions:{success:"Les PJ rcuprent les preuves et retournent voir Thade."}},{title:"Scne 4 : Le Rapport de Thade",type:"Conclusion",image:"./images/scenes/bureau_thade.jpg",locationId:"bureau_thade_coren",npcIds:["thade_coren"],description:{resume:"Thade analyse les documents trouvs et prpare son discours pour le Conseil.",visuel:"Thade lit les documents avec avidit. Il sourit.",audio:"Le feu qui crpite.",odeur:"Papier vieux.",lumiere:"Chaude et rassurante."},narration:{declencheur:"Retour au bureau de Thade.",texte_a_lire:" Ursula... Une perte tragique, mais ncessaire. Ces documents... Regardez. Ils planifiaient une attaque massive. Grce  vous, nous avons une preuve. La Fraternit de Nyx est une menace existentielle pour Val-d'Ombre. Demain, je prsenterai ceci au Conseil. Prparez-vous  tmoigner. ",contexte_mj:"Thade utilise la menace relle (mais exagre par lui) de Nyx pour consolider son pouvoir.",objectif:"Accepter de soutenir Thade devant le Conseil."},mecaniques:{defis:["Psychologie (DD 16) : Thade semble presque trop content de cette menace."],indices:["Thade mentionne 'La Spirale' pour la premire fois comme un phnomne li  ces cultistes."],recompenses:"Accs  l'Acte 2."},transitions:{success:"Fin de l'Acte 1."}}]},p_={title:"ACTE 2 : LA PROTECTION EFFICACE",stake:"Convaincre le Conseil du danger et repousser l'attaque de la Fraternit de Nyx.",location:"Htel de Ville & Rues de Val-d'Ombre.",scenes:[{title:"Scne 1 : Le Conseil de Crise",type:"Social",image:"./images/scenes/conseil_ville.jpg",locationId:"hotel_de_ville_conseil",npcIds:["bourgmestre_valdombre","thade_coren","thorgar_pretre_nain"],description:{resume:"Thade demande aux PJ de tmoigner devant le Conseil concernant la menace de Nyx.",visuel:"La grande table du Conseil. Le Bourgmestre, sceptique. Thade, grave. Thorgar, mfiant.",audio:"Murmures, grattements de plumes.",odeur:"Cire et vieux bois.",lumiere:"Soleil matinal  travers les hautes fentres."},narration:{declencheur:"Dbut de la sance.",texte_a_lire:"Thade se lve.  Messieurs, la ville est infeste. Ces braves aventuriers ont dmantel une cellule hier soir. Dites-leur ce que vous avez vu. Dites-leur ce qu'Ursula prparait.  Tous les regards se tournent vers vous.",contexte_mj:"Les PJ doivent convaincre le Conseil que la menace est relle et imminente.",objectif:"Russir le test de Persuasion pour valider les mesures de scurit de Thade."},mecaniques:{defis:["Diplomatie (DD 14) : Dcrire la scne du rituel avec conviction.","Intimidation (DD 16) : Faire peur aux conseillers hsitants."],indices:["Thorgar vote contre, se mfiant de Thade, mais est mis en minorit."],recompenses:"Le Conseil vote les pleins pouvoirs temporaires  Thade pour la scurit magique."},transitions:{success:"L'alerte est donne juste avant l'attaque.",fail:"Le Conseil hsite, l'attaque surviendra avec un effet de surprise (malus au prochain combat)."}},{title:"Scne 2 : LAttaque Prvue",type:"Combat",image:"./images/scenes/attaque_banque.jpg",locationId:"place_marche",npcIds:["cultiste_nyx_elite","ombre_zombie"],description:{resume:"Une cellule de Nyx frappe un point stratgique (la Banque ou les Archives). Les PJ interviennent.",visuel:"Explosion magique sur la place. Des ombres s'animent et attaquent les passants. Des cultistes encagouls sortent de la foule.",audio:"Cris de panique, dtonations.",odeur:"Poudre noire et magie corrompue.",lumiere:"Fume noire et clairs violets."},narration:{declencheur:"L'alarme retentit.",texte_a_lire:" C'est exactement comme Thade l'avait prdit !  hurle un garde. Les cultistes de Nyx surgissent, invoquant des ombres pour semer le chaos. Vous tes les seuls  pouvoir les arrter rapidement.",contexte_mj:"L'attaque est relle, mais Thade l'a laisse se produire pour prouver qu'il avait raison. Les PJ doivent limiter les dgts.",objectif:"Repousser l'assaut et sauver les civils."},mecaniques:{defis:["Combat : 2 Cultistes d'lite (Magiciens niv 2) + 3 Ombres Zombies.","Sauvetage : Empcher les civils d'tre tus (compteur de tours)."],indices:["L'un des cultistes porte une carte avec l'itinraire des patrouilles (fournie par qui ?)."],recompenses:"Gratitude publique."},transitions:{success:"La menace est contenue.",fail:"Lourdes pertes civiles, Thade utilise cela pour justifier des mesures encore plus drastiques."}},{title:"Scne 3 : Les Contre-Mesures",type:"Ambiance",image:"./images/scenes/couvre_feu.jpg",locationId:"rues_valdombre",npcIds:["garde_ville"],description:{resume:"Mise en place de l'tat d'urgence : couvre-feu, arrestations.",visuel:"Des affiches 'COUVRE-FEU' sont placardes. La milice patrouille. Des citoyens sont arrts arbitrairement.",audio:"Bottes qui marchent au pas. Portes enfonces.",odeur:"Peur et soumission.",lumiere:"Crpuscule sinistre."},narration:{declencheur:"Soir de l'attaque.",texte_a_lire:"La ville a chang de visage. La peur rgne. Thade a obtenu ce qu'il voulait : le contrle. Les gens murmurent que Nyx est partout. On arrte les 'suspects' - souvent des pauvres ou des trangers.",contexte_mj:"Montrer le glissement autoritaire. Les PJ peuvent se sentir coupables d'avoir aid  cela.",objectif:"Observer les consquences."},mecaniques:{defis:[],indices:["Certains arrts n'ont aucun lien avec Nyx, mais sont des opposants politiques."],recompenses:"Aucune."},transitions:{success:"Transition vers la scne suivante."}},{title:"Scne 4 : La Spirale Mentionne",type:"Rvlation",image:"./images/scenes/conference_spirale.jpg",locationId:"bureau_thade_coren",npcIds:["thade_coren"],description:{resume:"Thade rvle l'existence de la Spirale comme source du pouvoir de Nyx.",visuel:"Thade montre un cristal qui pulse bizarrement. Il a l'air inquiet (comdie).",audio:"Le bourdonnement du cristal.",odeur:"Ozone.",lumiere:"Lueur violette du cristal."},narration:{declencheur:"Convocation par Thade.",texte_a_lire:" L'attaque d'aujourd'hui n'tait qu'une diversion. Le vrai danger est souterrain. Il y a une... anomalie nergtique sous la mine. Ils l'appellent la Spirale. C'est de l qu'ils tirent leur magie noire. Nous devons la contenir avant qu'elle ne dvore la ville. ",contexte_mj:"Thade introduit le concept de la Spirale pour envoyer les PJ en mission suicide/rcupration.",objectif:"Accepter la mission de confinement."},mecaniques:{defis:["Savoir Arcanique (DD 18) : Le terme 'Spirale' est li  des lgendes interdites de prison dimensionnelle."],indices:["Thade ne dit pas toute la vrit sur la nature de la Spirale."],recompenses:"Accs  l'Acte 3."},transitions:{success:"Fin de l'Acte 2."}}]},f_={title:"ACTE 3 : LA DESCENTE",stake:"Descendre au fond de la mine pour utiliser le cristal de confinement sur la source de l'anomalie.",location:"Mine d'Argent de Val-d'Ombre.",scenes:[{title:"Scne 1 : Le Cristal de Confinement",type:"Social / quipement",image:"./images/scenes/don_cristal.jpg",locationId:"bureau_thade_coren",npcIds:["thade_coren"],description:{resume:"Thade confie aux PJ un artefact prsent comme dfensif pour sceller la fuite.",visuel:"Thade sort un cristal complexe d'un coffret plomb. Il est lourd, chaud, et parcouru d'clairs internes.",audio:"Un lger sifflement quand on le touche.",odeur:"Mtal chaud.",lumiere:"Pulsations rythmiques."},narration:{declencheur:"Dbut de la mission.",texte_a_lire:" Voici le Cristal de Confinement. C'est un chef-d'uvre d'artificerie. Il est conu pour absorber les surplus d'nergie ncrotique et colmater la brche. Ne le perdez pas. Sans lui, descendre au niveau -8 serait du suicide. Et rappelez-vous : vous le faites pour la ville. ",contexte_mj:"Le cristal est en fait une 'ponge'  nergie pour charger l'arme de Thade. Il ne colmate rien, il draine.",objectif:"Prendre le cristal et partir pour la mine."},mecaniques:{defis:["Arcanes (DD 20) : Sentir que la structure du sort dans le cristal est... agressive, plus proche d'un siphon que d'un bouchon."],indices:["Thade insiste : 'Il doit tre satur pour fonctionner. N'ayez pas peur de l'exposer  la source.'"],recompenses:"Objet de qute : Cristal de Thade."},transitions:{success:"Dpart pour la mine."}},{title:"Scne 2 : La Mine Condamne",type:"Exploration / Danger",image:"./images/scenes/entree_mine_interdite.jpg",locationId:"mine_argent_entree",npcIds:["garde_mine"],description:{resume:"Descente dans une zone interdite de la mine. Les mineurs ont peur.",visuel:"Barrires 'ACCS INTERDIT'. Mineurs aux visages gris. Le monte-charge grince.",audio:"Le vent s'engouffre dans le puits avec un hurlement.",odeur:"Poussire et uf pourri (soufre).",lumiere:"Lampes frontales vacillantes."},narration:{declencheur:"Arrive  la mine.",texte_a_lire:"Les niveaux suprieurs sont vides. Plus on descend, plus l'air est lourd. Au niveau -6, les parois suintent un liquide noir. Au niveau -7, la roche elle-mme semble gmir. Vous entrez dans la zone interdite.",contexte_mj:"La corruption de la Spirale commence  affecter la ralit physique.",objectif:"Atteindre le fond sans succomber  la pression mentale."},mecaniques:{defis:["Vigueur (DD 12) : Rsister aux nauses.","Volont (DD 12) : Rsister aux hallucinations auditives."],indices:["Des cadavres de rats mutants.","Des outils de mineurs abandonns prcipitamment."],recompenses:"Ambiance et tension."},transitions:{success:"Arrive au niveau -8."}},{title:"Scne 3 : La Fissure du Niveau -8",type:"Action",image:"./images/scenes/fissure_niveau_8.jpg",locationId:"mine_fond",npcIds:[],description:{resume:"Les PJ utilisent le cristal pour ouvrir un passage. Dcouverte de dispositifs anciens sabots.",visuel:"Une faille violette dchire le fond de la mine. Autour, des runes naines anciennes ont t marteles (sabotes).",audio:"Le bourdonnement devient assourdissant.",odeur:"Ozone pur.",lumiere:"La faille claire tout en violet."},narration:{declencheur:"Approche de la faille.",texte_a_lire:"C'est ici. La source. Le cristal de Thade s'affole, tirant votre bras vers la faille. Vous remarquez au sol des plaques de mtal graves de runes : des sceaux de confinement nains. Ils ont t dtruits rcemment,  coups de masse. Quelqu'un a *voulu* que a s'ouvre.",contexte_mj:"Preuve du sabotage. En approchant le cristal, au lieu de fermer la faille, il l'largit brutalement, aspirant les PJ  l'intrieur.",objectif:"Activer le cristal (croyant bien faire) et tre aspir."},mecaniques:{defis:["Investigation (DD 14) : Confirmer que le sabotage est humain et rcent.","Rflexes (DD 15) : Ne pas lcher le cristal lors de l'aspiration."],indices:["Le sabotage porte la marque d'outils magiques."],recompenses:"Passage vers l'Acte 4 (Le Premier Cercle)."},transitions:{success:"Les PJ sont aspirs dans la Spirale.",fail:"Idem, mais avec des dgts de chute/choc."}}]},g_={title:"ACTE 4 : LE PREMIER CERCLE",stake:"Extraire une charge d'nergie exploitable depuis la Spirale et quitter la zone avant la fermeture des protocoles de confinement.",location:"La Spirale (Priphrie).",scenes:[{title:"Scne 1 : La Gomtrie Changeante",type:"Mcanique",image:"./images/scenes/architecture_vivante.jpg",locationId:"spirale_premier_cercle",npcIds:[],description:{resume:"Progression dans une structure instable o l'architecture se modifie continuellement.",visuel:"Des couloirs de mtal gris et de pierre polie. Les angles ne semblent pas droits. Derrire vous, les portes s'effacent pour devenir des murs lisses.",audio:"Un grondement sourd, comme des plaques de mtal qui glissent les unes sur les autres.",odeur:"Air froid, sec, sans aucune particule.",lumiere:"Une lueur bleute provient des jointures entre les murs."},narration:{declencheur:"Dbut de la progression dans la Spirale.",texte_a_lire:"Ce n'est pas un donjon classique. Les couloirs se rorganisent selon une logique qui vous chappe. Si vous quittez une salle des yeux, elle n'est plus la mme quand vous vous retournez. La seule chose stable est la vibration de plus en plus forte du cristal de Thade, qui semble point vers le centre comme une boussole.",contexte_mj:"La prison change de configuration pour dsorienter les prisonniers. Rgle MJ : Le retour en arrire est impossible. Chaque porte franchie est dfinitive.",objectif:"Ne pas perdre le nord magique."},mecaniques:{defis:["Intelligence (DD 14) : Comprendre que la structure suit le mouvement du cristal."],indices:["Le sol vibre diffremment  mesure qu'on approche du centre."],recompenses:"null"},transitions:{success:"Le groupe arrive  la zone d'extraction.",fail:"Errance : le groupe arrive fatigu (malus de -2 en Initiative pour la scne suivante)."}},{title:"Scne 2 : Les Forats de Pierre",type:"Combat",image:"./images/scenes/goules_mineurs.jpg",locationId:"spirale_premier_cercle",npcIds:["elementaire_terre_petit","elementaire_terre_petit","elementaire_terre_petit","elementaire_terre_petit"],description:{resume:"Combat contre des entits animes issues d'anciens prisonniers ou intrus absorbs par la Spirale.",visuel:"Des corps de nains, momifis par l'air sec, sont incrusts dans les murs ou le plafond. Certains s'agitent mcaniquement.",audio:"Le bruit sec d'os qui s'entrechoquent.",odeur:"Poussire et cuir sch.",lumiere:"Lumire violette s'chappant de leurs bouches ouvertes."},narration:{declencheur:"Entre dans une grande salle de stockage.",texte_a_lire:"Vous trouvez des mineurs, mais pas ceux de votre poque. Ces cadavres portent des outils vieux de plusieurs sicles.",contexte_mj:"Ce sont des 'coquilles' vides. Ils n'ont aucune volont propre, ils sont des extensions du systme de dfense.",objectif:"liminer les obstacles physiques."},mecaniques:{defis:["Combat : 4 Marionnettes de la Spirale (Stats de Zombies, mais vitesse normale).","Savoir (Plans) (DD 13) : Comprendre qu'ils sont aliments par la Gode proche."],indices:["Une lumire violette relie les cratures au couloir suivant."],recompenses:"Une cl naine ancienne (objet de collection, 100 po)."},transitions:{success:"Accs au cur de la prison.",fail:"Le combat s'ternise, les PJ perdent des ressources (potions/sorts)."}},{title:"Scne 3 : La Gode de Confinement",type:"Objectif",image:"./images/scenes/geode_chantante.jpg",locationId:"spirale_coeur_geode",npcIds:["geode_avatar","elementaire_terre_petit","elementaire_terre_petit","zombie_humain","zombie_humain"],description:{resume:"Extraction d'nergie depuis la gode centrale afin de saturer le cristal de Thade.",visuel:"Un cristal titanesque, haut de dix mtres, suspendu au-dessus d'un gouffre. Des clairs violets frappent les parois rgulirement.",audio:"Un bourdonnement si grave qu'il fait vibrer la cage thoracique.",odeur:"Ozone satur (piquant le nez).",lumiere:"Flashs violets aveuglants."},narration:{declencheur:"Arrive dans la salle centrale.",texte_a_lire:"C'est ici. La source de tout. Un cristal massif qui semble pomper l'nergie du vide pour maintenir la prison. Votre cristal de Thade devient presque blanc de chaleur. Pour calmer la mine en haut, il faut vous approcher assez prs pour charger votre cristal avec l'nergie de la gode. Mais attention : plus vous vous approchez, plus le rayonnement est dangereux. C'est comme un racteur nuclaire - il faut trouver la bonne distance pour charger rapidement sans mourir.",contexte_mj:"La Gode est un racteur nergtique statique. Les PJ doivent grer leur distance pour charger le cristal tout en survivant aux dgts de rayonnement. Pas de combat direct, c'est un dfi d'endurance et de positionnement.",objectif:"Charger le cristal de Thade au maximum (10 charges) tout en survivant au rayonnement."},mecaniques:{defis:[`PRESSION ENNEMIE : Vagues de cratures attires par l'nergie
 Rounds 1-3 : 2 lmentaires Terre (Petit) - FP 1 chacun
 Rounds 4-6 : 2 Zombies humains - FP 0.5 chacun
 Apparition des parois pour interrompre le chargement
 Les cratures apparaissent chaque dbut de round
 Objectif : distraire les PJ pendant la charge

`,`RAYONNEMENT : Dgts d'nergie par round selon distance
 Zone critique (0-9m) : 2d6 dgts (Vig DD 14 pour demi)
 Zone modre (9-18m) : 1d6 dgts (Vig DD 14 pour demi)
 Zone scurise (18m+) : 0 dgt (hors de porte)
 Surchauffe : +1d6 tous les 3 rounds cumulatifs
 Le rayonnement affecte toutes les cratures dans la zone

`,`RECHARGE : Taux de charge du cristal selon distance
 Zone critique (0-9m) : 1 charge/round (10 rounds = objectif)
 Zone modre (9-18m) : 0.5 charge/round (20 rounds = objectif)
 Zone scurise (18m+) : 0 charge (trop loin)
 La charge s'accumule dans le cristal de Thade
 Objectif final : 10 charges pour saturer le cristal

`,`MAINTIEN : Action requise chaque round
 Utilisation d'objet DD 16 pour maintenir la connexion
 Succs : charge selon zone de distance
 chec critique (1-5) : pas de charge + projection 2d6 dgts
 chec normal (6-15) : pas de charge cette round
 Un seul PJ peut charger  la fois
 L'action de charge occupe toute la round

`],indices:["Le cristal de Thade pulse plus fort quand il se charge.","L'air vibre plus intensment prs de la gode.","Les clairs violets deviennent plus frquents avec la surchauffe."],recompenses:"Le Cristal de Thade est 'Satur' (10 charges)."},transitions:{success:"L'nergie est absorbe. La lumire baisse. Le calme revient.",fail:"La gode explose partiellement : les PJ sont projets (2d6 dgts)."}},{title:"Scne 4 : Le Protocole de Purge",type:"Fuite",image:"./images/scenes/cube_nettoyeur.jpg",locationId:"spirale_premier_cercle",npcIds:["cube_gelatineux"],description:{resume:"Fuite des PJ face  un systme de maintenance automatique dclench aprs l'extraction nergtique.",visuel:"Une masse translucide et visqueuse remplit tout le couloir derrire vous, dissolvant le mtal et la pierre sur son passage.",audio:"Un sifflement acide et une succion lourde.",odeur:"Vinaigre et produits chimiques.",lumiere:"La masse met une faible lueur verdtre."},narration:{declencheur:"Dbut du retour aprs l'objectif.",texte_a_lire:"Le drainage de l'nergie a dclench une alerte. La prison tente de se 'nettoyer'. Une masse de maintenance arrive pour dissoudre tout ce qui ne devrait pas tre ici : vous y compris. Il n'y a pas de discussion possible avec cette chose. Courez.",contexte_mj:"C'est une course-poursuite. Si la masse rattrape un PJ, il subit des dgts d'acide massifs.",objectif:"Atteindre la sortie avant d'tre rattrap."},mecaniques:{defis:["Course (Skill Challenge) : 3 succs avant 3 checs (Athltisme, Acrobaties, Perception).","Dgts d'environnement : Les dbris qui tombent."],indices:["La masse ralentit quand elle doit dissoudre des obstacles plus gros."],recompenses:"Survie."},transitions:{success:"Le groupe voit la fissure de sortie.",fail:"Un PJ est bless ou mort."}},{title:"Scne 5 : L'Expulsion",type:"pilogue",image:"./images/scenes/breche_spirale.jpg",locationId:"spirale_premier_cercle",npcIds:[],description:{resume:"Retour des PJ dans la mine et fermeture progressive de la faille planaire.",visuel:"La faille violette vers la mine. De l'autre ct, la pierre grise familire et la poussire.",audio:"Le silence soudain aprs le chaos.",odeur:"L'odeur de la terre et de l'humidit de la mine.",lumiere:"La lumire faible des lanternes restes de l'autre ct."},narration:{declencheur:"Traverse de la fissure dans le sens inverse.",texte_a_lire:"Vous plongez  travers la dchirure. La sensation d'apesanteur s'arrte net. Vous vous crasez sur le sol dur du niveau -8. Derrire vous, la faille se rtracte et devient une simple ligne sombre sur le mur. Le calme est revenu dans la mine. Le cristal de Thade brille maintenant d'une lueur constante, froide et terrifiante.",contexte_mj:"Les PJ ont russi. Ils sont de nouveau dans la ralit physique. La menace immdiate est passe, mais ils portent maintenant une source d'nergie instable.",objectif:"Reprendre ses esprits."},mecaniques:{defis:["Vigueur (DD 12) : Ne pas s'vanouir sous le choc thermique."],indices:["Le cristal de Thade pse beaucoup plus lourd qu'avant."],recompenses:"Fin de l'Acte 4. Gain d'XP."},transitions:{success:"Vers l'Acte 5 : La Remonte.",fail:"Vers l'Acte 5, mais avec un PJ inconscient."}}]},h_={title:"ACTE 5 : LE PRIX DU SILENCE",stake:"Remonter  la surface avec le cristal et grer les consquences de l'intervention de Thade Coren.",location:"Remonte vers la surface.",scenes:[{title:"Scne 1 : La Trappe de l'Ascenseur",type:"Rpit",image:"./images/scenes/grelm_cage_ascenseur.jpg",locationId:"mine_argent",npcIds:["contremaitre_nain_mine"],description:{resume:"Regroupement des PJ prs de l'ascenseur et constat d'une prsence hostile dans les niveaux suprieurs.",visuel:"Le niveau -1 est plong dans le noir. Grelm est prostr prs du levier d'appel de la cage d'ascenseur.",audio:"Le silence est revenu, mais on entend des bruits de pas lourds dans les tages suprieurs.",odeur:"Huile de lanterne et sueur froide.",lumiere:"Une seule lanterne pose au sol."},narration:{declencheur:"Retour au point de jonction de l'ascenseur.",texte_a_lire:"Vous mergez des profondeurs. Le chant a cess, mais l'ambiance est plus lourde qu' votre dpart. Grelm vous attend, livide. Il murmure : 'Des hommes sont descendus. Ils ne ressemblaient pas  des mineurs. Ils ont pris le contrle de la salle des machines au-dessus.'",contexte_mj:"Grelm a peur. Les mercenaires de Thade ont t envoys pour s'assurer que personne ne remonte avec des questions ou le cristal.",objectif:"Prparer la remonte."},mecaniques:{defis:["Sens de la Magie (DD 12) : Sentir que le cristal de Thade met une chaleur intense, presque radioactive.","Diplomatie (DD 10) : Convaincre Grelm de vous aider  dbloquer l'ascenseur."],indices:["Des cbles de communication ont t sectionns."],recompenses:"Information sur la position des mercenaires."},transitions:{success:"Le groupe active l'ascenseur en restant discret.",fail:"L'ascenseur grince bruyamment, alertant l'tage suprieur."}},{title:"Scne 2 : Les Agents de Nettoyage",type:"Combat",image:"./images/scenes/mercenaires_thade.jpg",locationId:"mine_argent",npcIds:[],description:{resume:"Confrontation avec des mercenaires envoys pour rcuprer le cristal et liminer les tmoins.",visuel:"Trois hommes en cuir sombre barrent l'accs  la sortie. Ils portent des arbaltes charges.",audio:"Le cliquetis des mcanismes de tir.",odeur:"Mtal froid.",lumiere:"Lumire grise venant du puits de jour."},narration:{declencheur:"Arrive  la plateforme intermdiaire.",texte_a_lire:"La cage d'ascenseur s'arrte. Un homme masqu s'avance sur la passerelle. 'Donnez-nous l'artefact et on vous laisse une chance de fuir par les tunnels de service.' Son ton est plat, professionnel. Il n'est pas l pour discuter, mais pour rcuprer la batterie de son matre.",contexte_mj:"Ce sont des professionnels, pas des brutes. Ils visent les mains ou les jambes pour immobiliser, sauf si les PJ ripostent mortellement.",objectif:"Passer de force ou par la ruse."},mecaniques:{defis:["Combat : 3 Mercenaires (Stats de Roublards/Guerriers niv 4).","Intimidation (DD 18) : Les faire douter de leur contrat."],indices:["Ils portent le blason de la famille Coren dissimul sous leurs manteaux."],recompenses:"Leurs ordres crits : 'Rcuprer le cristal, condamner le puits.'"},transitions:{success:"Accs au dernier niveau avant la surface.",fail:"Le combat s'ternise alors que des bruits d'explosions retentissent."}},{title:"Scne 3 : La Mine s'croule",type:"Action / Catastrophe",image:"./images/scenes/effondrement_mine.jpg",locationId:"mine_argent",npcIds:[],description:{resume:"Effondrement contrl de la mine dclench pour sceller dfinitivement la zone infrieure.",visuel:"La poussire tombe du plafond. Des charges de poudre noire explosent sur les piliers de soutien.",audio:"Un grondement qui couvre tous les cris.",odeur:"Soufre et roche broye.",lumiere:"La lumire du jour vacille  travers les dcombres."},narration:{declencheur:"Mort du chef mercenaire ou tentative de fuite.",texte_a_lire:"Thade n'a pas seulement envoy des hommes, il a pig la mine. Des dtonations sourdes font trembler les murs. Il veut enterrer la brche, le cristal et vous avec. Les piliers cdent les uns aprs les autres. Le puits principal est votre seule chance.",contexte_mj:"C'est une preuve de vitesse pure. La mine devient un pige mortel.",objectif:"Sortir avant d'tre enterr vivant."},mecaniques:{defis:["Rflexes (DD 15) : viter les chutes de pierres (2d6 dgts).","Athltisme (DD 14) : Grimper les dernires chelles alors que l'ascenseur lche."],indices:["La sortie est presque obstrue par la poussire."],recompenses:"Survie."},transitions:{success:"Les PJ jaillissent  l'air libre, couverts de poussire.",fail:"Les PJ sortent blesss et perdent une partie de leur inventaire."}},{title:"Scne 4 : La Place du Conseil",type:"Social / Confrontation",image:"./images/scenes/confrontation_surface.jpg",locationId:"quartier_des_mineurs_place",npcIds:["durnik_chef_mineur","thade_coren"],description:{resume:"Affrontement verbal entre les PJ, Thade Coren et les reprsentants des mineurs concernant la responsabilit des vnements.",visuel:"Une foule de mineurs et de gardes de la ville entourent le puits fumant. Thade est l, l'air faussement accabl.",audio:"Le brouhaha d'une foule en colre et inquite.",odeur:"L'air frais de la surface, ml  la fume.",lumiere:"Le soleil couchant, rouge et bas."},narration:{declencheur:"Sortie du puits devant la foule.",texte_a_lire:"La poussire retombe. Thade est l, entour de gardes. Il tend simplement la main, le visage ferm.  Le dispositif. Donnez-le moi. C'est une proprit de l'Universit, et vu les dgts que vous avez causs, c'est la seule chose qui vous vitera la prison. ",contexte_mj:"Thade joue la comdie devant les tmoins. Si les PJ l'accusent sans preuves (ordres crits), il les fera passer pour des traumatiss dlirants. Durnik observe la scne, prt  intervenir.",objectif:"Rvler la vrit ou ngocier sa survie."},mecaniques:{defis:["Bluff (DD 15) : Cacher le fait que le cristal est charg.","Diplomatie (DD 17) : Convaincre Durnik et la foule que Thade a provoqu l'explosion."],indices:["Thade a les mains qui tremblent lgrement : il a peur que vous parliez."],recompenses:"Soutien des mineurs (Rputation +2)."},transitions:{success:"Thade est forc de battre en retraite, discrdit.",fail:"Thade rcupre le cristal et les PJ passent pour des parias."}},{title:"Scne 5 : Lendemain d'Explosion",type:"pilogue",image:"./images/scenes/epilogue_mine.jpg",locationId:"quartier_des_mineurs_place",npcIds:[],description:{resume:"Clture de l'affaire de la mine et mise en place des consquences  moyen terme pour les PJ et la ville.",visuel:"Le puits de la mine est un tas de gravats. Les mineurs se dispersent en silence.",audio:"Le sifflement du vent dans les structures abandonnes.",odeur:"Poussire et dfaite.",lumiere:"La nuit tombe sur Val-d'Ombre."},narration:{declencheur:"Dpart de la place.",texte_a_lire:"La mine d'argent est ferme pour de bon. Thade est parti, mais son ombre plane toujours sur l'Universit. Vous avez empch le chant de rendre la ville folle, mais  quel prix ? Le cristal, s'il est toujours en votre possession, pulse doucement dans le noir. Ce n'tait que le dbut.",contexte_mj:"La mine est scelle, mais la Spirale n'est pas dtruite. Thade a besoin de cette nergie pour une tape ultrieure. Les PJ sont maintenant des cibles ou des allis dangereux.",objectif:"Bilan des gains et prparation de la suite."},mecaniques:{defis:[],indices:["Le cristal semble attirer d'autres nergies planaires."],recompenses:"Gain de niveau (Passage au niveau 5 ou 6)."},transitions:{success:"Fin du Scnario 2. Vers le Scnario 3.",fail:"Fin du Scnario 2. Vers le Scnario 3."}}]},v_={...d_,acts:[m_,p_,f_,g_,h_]},b_={id:3,title:"SCNARIO 3 : LA GRVE DE LA PIOCHE",level:"Niveaux 4-6",system:"D&D 3.5",synopsis:"Thade Coren orchestre une grve violente pour dstabiliser le Conseil et prendre le contrle total de la ville. Les PJ, pris entre les deux camps, assistent  l'assassinat du Grand Prtre et  la chute de Val-d'Ombre dans la guerre civile, avant de devoir fuir vers la Spirale."},x_={title:"ACTE 1 : LES MINEURS RADICAUX",stake:"Infiltrer le mouvement de grve pour identifier les meneurs, tout en naviguant entre les ordres de Thade et la ralit du terrain.",location:"Quartier des Mineurs.",scenes:[{title:"Scne 1 : Quartier Instable",type:"Social",image:"./images/scenes/barricades_mineurs.jpg",locationId:"quartier_des_mineurs_place",npcIds:["thade_coren","meneur_greviste"],description:{resume:"Thade envoie les PJ comme mdiateurs neutres. Officieusement, il demande d'identifier les meneurs radicaux.",visuel:"Les rues sont bloques par des charrettes renverses. Des slogans anti-conseil couvrent les murs. L'ambiance est explosive.",audio:"Cris, chants de grve, bruits de verre bris au loin.",odeur:"Fume de brasero et tension palpable.",lumiere:"Lumire du jour voile par la fume des pneus brls."},narration:{declencheur:"Arrive aux barricades.",texte_a_lire:"Thade a t clair :  Ces radicaux menacent la stabilit de la ville. Je veux des noms.  Mais sur le terrain, la ralit est diffrente. Les mineurs ne sont pas des terroristes, ce sont des pres de famille affams. Ils vous regardent avec mfiance.  Encore des envoys du Conseil ? Dgagez, ou on vous sort par la force ! ",contexte_mj:"Les PJ doivent gagner la confiance des mineurs pour approcher les chefs, tout en jouant le jeu de Thade.",objectif:"Entrer dans le QG des grvistes."},mecaniques:{defis:["Diplomatie (DD 15) : Prouver sa neutralit.","Bluff (DD 18) : Se faire passer pour des sympathisants."],indices:["Les mineurs parlent de 'disparitions' parmi leurs chefs."],recompenses:"Accs au cercle intrieur de la grve."},transitions:{success:"Rencontre avec Mara (Scne 2).",fail:"Les PJ doivent s'infiltrer discrtement ou user de force non-ltale."}},{title:"Scne 2 : Entre deux Feux",type:"Social / Tension",image:"./images/scenes/mara_taverne.jpg",locationId:"taverne_fumees_rouges",npcIds:["mara_aubergiste","thorgar_pretre_nain"],description:{resume:"Thorgar contacte les PJ : les meneurs de la grve sont retrouvs morts. Il demande de protger Mara, la dernire voix influente.",visuel:"L'arrire-salle de la taverne. Thorgar soigne un mineur bless. Mara nettoie nerveusement le comptoir.",audio:"Chuchotements inquiets.",odeur:"Alcool fort et antiseptique.",lumiere:"Sombre, volets clos."},narration:{declencheur:"Rencontre avec Thorgar.",texte_a_lire:"Thorgar vous tire  l'cart.  Ce n'est pas une grve, c'est une excution. Trois chefs de section retrouvs gorgs ce matin. Thade dit que c'est des rglements de compte internes. Mensonges ! Il nettoie le terrain. Mara est la prochaine. Elle sait tenir les ttes brles, si elle tombe, c'est la guerre civile. Protgez-la. ",contexte_mj:"Le double jeu devient dangereux. Thade veut les noms pour les tuer. Thorgar veut protger les noms pour la paix.",objectif:"Organiser la protection de Mara."},mecaniques:{defis:["Perception (DD 16) : Reprer les espions de Thade dans la salle commune.","Stratgie (DD 14) : Mettre en place un primtre de scurit."],indices:["Les morts portent des traces de magie indtectable pour le commun des mortels."],recompenses:"Confiance totale de Thorgar."},transitions:{success:"Fin de l'Acte 1. Explosion au loin (Dbut Acte 2)."}}]},y_={title:"ACTE 2 : LE SABOTAGE",stake:"Enquter sur l'explosion et survivre  la tentative d'limination orchestre par Thade.",location:"Galeries de la Mine.",scenes:[{title:"Scne 1 : L'Incident de la Galerie 4",type:"Action",image:"./images/scenes/explosion_mine.jpg",locationId:"mine_galerie_4",npcIds:[],description:{resume:"Une explosion retentit. Thade accuse les radicaux. Les PJ doivent se rendre sur place.",visuel:"Fume noire sortant d'un puits d'aration. Sirnes d'alarme. Thade arrive, l'air grave.",audio:"Sirnes, toux, cris.",odeur:"Poudre noire.",lumiere:"Lumire rouge des lampes de secours."},narration:{declencheur:"L'explosion.",texte_a_lire:"Thade ne perd pas de temps.  Voil ce que vos amis radicaux ont fait ! Ils ont fait sauter la Galerie 4. Allez l-bas. Confirmez que c'est une bombe artisanale naine. J'ai besoin de preuves pour le Conseil. ",contexte_mj:"Thade envoie les PJ dans un pige. Il a fait sauter la galerie lui-mme.",objectif:"Se rendre sur le lieu de l'explosion."},mecaniques:{defis:["Mdecine (DD 14) : Aider les blesss en chemin."],indices:["L'explosion a eu lieu dans une section vide."],recompenses:"Aucune."},transitions:{success:"Arrive sur le site."}},{title:"Scne 2 : Enqute Sous Tension",type:"Investigation",image:"./images/scenes/decombres_mine.jpg",locationId:"mine_galerie_4",npcIds:[],description:{resume:"Les PJ explorent les dcombres. Ils dcouvrent que la bombe n'tait pas naine.",visuel:"Roche clate. Pas de traces de pioches, mais des traces de brlures magiques.",audio:"Craquements de la roche.",odeur:"Soufre et ozone (pas de poudre noire).",lumiere:"Lampes torches."},narration:{declencheur:"Fouille des dcombres.",texte_a_lire:"Vous cherchez des rsidus de poudre noire, typiques des explosifs miniers. Vous ne trouvez rien. Au contraire, la roche est vitrifie. C'est un sort de 'Dsintgration' scell dans une rune. Seul un mage de haut niveau peut faire a. Et... vous trouvez un fragment de tissu violet coinc sous un rocher.",contexte_mj:"Preuve accablante contre Thade. C'est un coup mont.",objectif:"Comprendre la trahison."},mecaniques:{defis:["Arcanes (DD 16) : Identifier la signature magique de l'explosion.","Investigation (DD 14) : Trouver le fragment de tissu."],indices:["Le tissu provient d'une robe de mage de l'Universit."],recompenses:"Preuve matrielle."},transitions:{success:"Retour vers Mara pour la prvenir."}},{title:"Scne 3 : L'Embuscade des Purificateurs",type:"Combat",image:"./images/scenes/embuscade_nettoyeurs.jpg",locationId:"taverne_fumees_rouges",npcIds:["mara_aubergiste","mercenaire_mage"],description:{resume:"Les PJ retrouvent Mara. Des 'Nettoyeurs' de Thade attaquent pour liminer tous les tmoins.",visuel:"Les fentres de la taverne explosent. Des mages de guerre et des mercenaires entrent.",audio:"Bris de verre, boules de feu.",odeur:"Bois brl.",lumiere:"Les clairs magiques illuminent la taverne."},narration:{declencheur:"Discussion avec Mara.",texte_a_lire:" peine avez-vous montr le tissu  Mara que la faade de la taverne explose. Des hommes en armures noires entrent.  Pas de tmoins. Ordre de Coren. ",contexte_mj:"Le masque tombe. Thade veut nettoyer l'opposition.",objectif:"Survivre et sauver Mara."},mecaniques:{defis:["Combat : 2 Mages de guerre (Niv 3) + 4 Mercenaires.","Protection : Mara ne doit pas mourir."],indices:["Les assaillants portent le sceau des services secrets de l'Universit."],recompenses:"Survie. Mara est maintenant une allie indfectible."},transitions:{success:"Fuite vers le Conseil pour confronter Thade (Acte 3)."}}]},S_={title:"ACTE 3 : LA DTENTE",stake:"Survivre  l'assassinat du Grand Prtre et chapper  l'accusation lors du sommet de rconciliation.",location:"Htel de Ville de Val-d'Ombre.",scenes:[{title:"Scne 1 : Le Sommet de la Rconciliation",type:"Social / Tension",image:"./images/scenes/conseil_sanglant.jpg",locationId:"hotel_de_ville_conseil",npcIds:["bourgmestre_valdombre","grand_pretre_nain","thade_coren","secretaire_bourgmestre"],description:{resume:"Sommet de rconciliation tendu entre nains et humains",visuel:"La grande salle du conseil de l'Htel de Ville. Une table ronde en chne massif. D'un ct, le Bourgmestre Aldric Vorn et Thade Coren, impeccable dans sa robe violette. De l'autre, le Grand Prtre nain Thorin Martelforge, entour de ses gardes du corps. Les PJ sont prsents comme tmoins neutres, invits pour leur rle dans la rsolution de la crise de la mine.",audio:"Murmures tendus. Le craquement des chaises. Dehors, on entend une foule hostile scander des slogans anti-nains.",odeur:"Encens de crmonie, sueur nerveuse, et un parfum subtil de lavande (signature de Thade).",lumiere:"Lumire dore des lustres de cristal. Les ombres des participants s'allongent sur les murs tendus de tapisseries."},narration:{declencheur:"Les PJ sont convoqus comme tmoins d'honneur pour un sommet de rconciliation entre la ville et la communaut naine.",texte_a_lire:"Le Bourgmestre Vorn tente de parler de paix, mais sa voix tremble. Thorin Martelforge ne l'coute mme pas, il fixe Thade.  Mes frres sont morts pour tes expriences, Coren.  Thade ne lve mme pas les yeux de ses parchemins.  Si vous avez une plainte formelle, dposez-la au greffe, Grand Prtre. Nous ne sommes pas ici pour couter des rumeurs de taverne.  L'air dans la salle devient soudainement lectrique, charg d'ozone.",contexte_mj:"Thade a orchestr ce sommet comme un pige. Il va assassiner le Grand Prtre et faire accuser les PJ ou les nains. Les PJ peuvent sentir la tension, mais ne savent pas encore ce qui va se passer. Thade est calme, trop calme. Il a dj gagn.",objectif:"Survivre  ce qui va suivre et comprendre qu'ils sont tombs dans un pige."},mecaniques:{defis:["Psychologie (DD 18) : Raliser que Thade manipule la situation. Il veut que le Grand Prtre l'accuse publiquement.","Perception (DD 20) : Remarquer un apprenti mage dans un coin, les yeux vitreux, murmurant une incantation. Il est sous charme.","Dtection de la magie (DD 16) : Sentir une aura ncromantique puissante qui se concentre dans la salle.","Diplomatie (DD 22) : Tenter de dsamorcer la tension (trs difficile, Thade sabote activement)."],indices:["Thade ne prend aucune note. Il observe, comme un prdateur.","Le Bourgmestre semble nerveux, comme s'il savait quelque chose.","Les gardes nains ont la main sur leurs armes. Ils s'attendent  une trahison.","L'apprenti mage dans le coin est l'un des tudiants de Thade. Il ne devrait pas tre l."],recompenses:"Aucune. C'est une scne de mise en place du drame."},transitions:{success:"Les PJ dtectent le danger une fraction de seconde avant qu'il ne se produise.",fail:"L'assassinat les prend totalement par surprise."}},{title:"Scne 2 : Le Meurtre du Grand Prtre",type:"vnement / Horreur",image:"./images/scenes/mort_grand_pretre.jpg",locationId:"hotel_de_ville_valdombre",npcIds:["grand_pretre_nain","thade_coren","apprenti_charme"],description:{resume:"Assassinat du Grand Prtre par un apprenti charm",visuel:"Le Grand Prtre Thorin se lve pour rpondre  Thade. Soudain, un apprenti mage dans le coin lve les mains. Un rayon d'nergie noire jaillit, frappant Thorin en pleine poitrine. Le nain s'effondre, du sang noir coulant de sa bouche. Ses gardes hurlent. Thade recule, feignant la surprise parfaite.",audio:"Le cri du sort ncromantique, un sifflement aigu. Le choc du corps de Thorin heurtant le sol. Les hurlements des gardes nains. Le chaos.",odeur:"Ozone brl, sang et chair carbonise.",lumiere:"Le rayon noir laisse des tranes d'ombre dans l'air. Les lustres vacillent."},narration:{declencheur:"L'apprenti sous charme lance le sort mortel.",texte_a_lire:"L'apprenti dans le coin lve la main. Un clair noir. Thorin s'effondre, la poitrine ouverte, mort avant de toucher le sol. Les gardes nains hurlent. L'apprenti ouvre la bouche pour parler, mais ses yeux se rvulsent et il tombe raide mort, le cerveau liqufi par un sort de scurit. Thade se lve calmement :  Scurisez la salle. Ces nains sont dangereux. ",contexte_mj:"Thade a orchestr cet assassinat  la perfection. L'apprenti tait sous charme et programm pour se suicider aprs l'acte. Les preuves mnent  l'Universit Arcanique, mais Thade a prpar des boucs missaires. Les PJ sont tmoins, ce qui les rend dangereux pour Thade. Il va les liminer ou les discrditer.",objectif:"Comprendre qu'ils sont dans un pige et que Thade va les accuser."},mecaniques:{defis:["Rflexes (DD 18) : Tenter d'intercepter le rayon (impossible, mais permet de se positionner prs du corps).","Premiers secours (DD 25) : Tenter de sauver Thorin (impossible, il est dj mort, mais permet de constater la magie noire).","Dtection de la magie (DD 14) : L'apprenti porte une marque de charme puissante. Quelqu'un l'a contrl.","Fouille rapide (DD 16) : Trouver sur l'apprenti un mdaillon avec le sceau de Thade (preuve, mais Thade dira qu'il a t vol)."],indices:["L'apprenti tait sous contrle mental. Ce n'tait qu'un outil.","Thade ne semble pas surpris. Son jeu d'acteur est parfait, mais trop parfait.","Le Bourgmestre est en tat de choc. Il ne s'attendait pas  a (ou fait-il semblant ?).","Les gardes nains accusent immdiatement Thade et l'Universit."],recompenses:"Preuve du charme (mdaillon). Mais cette preuve sera retourne contre les PJ."},transitions:{success:"Les PJ rcuprent des preuves avant que la situation n'explose.",fail:"Le chaos clate immdiatement sans qu'ils aient le temps de ragir."}},{title:"Scne 3 : Le Chaos du Conseil",type:"Combat / Chaos",image:"./images/scenes/bataille_conseil.jpg",locationId:"hotel_de_ville_valdombre",npcIds:["gardes_nains","gardes_ville","thade_coren"],description:{resume:"Bataille range dans la salle du conseil",visuel:"La salle du conseil explose en violence. Les gardes nains, fous de rage, dgainent leurs haches et chargent vers Thade. Les gardes de la ville rpondent, pes tires. Le Bourgmestre hurle des ordres que personne n'coute. Tables renverses, tapisseries dchires, sang sur le marbre.",audio:"Fracas d'acier, cris de rage, ordres contradictoires. Le bruit d'une meute qui commence.",odeur:"Sueur, sang, fume (quelqu'un a renvers une lampe).",lumiere:"Chaos de lumires vacillantes. Des ombres dansent sur les murs."},narration:{declencheur:"La mort du Grand Prtre dclenche une bataille range.",texte_a_lire:"C'est le chaos. Les nains chargent. Thade claque des doigts et disparat dans un pli dimensionnel, vous laissant seuls au milieu du massacre. Les gardes de la ville, croyant  un coup d'tat, dgainent leurs pes contre vous.",contexte_mj:"Combat chaotique. Les PJ doivent survivre et protger le Bourgmestre (ou le laisser mourir, ce qui aggrave la situation). Thade s'chappe facilement. Les PJ ralisent qu'ils sont pigs : tmoins d'un assassinat, ils seront accuss de complicit ou d'incomptence.",objectif:"Survivre au chaos et protger le Bourgmestre (optionnel)."},mecaniques:{defis:["Combat : 4 Gardes nains (Guerrier 4) vs 6 Gardes de la ville (Guerrier 3). Les PJ sont au milieu.","Diplomatie (DD 25) : Tenter de calmer la situation (presque impossible dans le chaos).","Acrobaties (DD 14) : Se frayer un chemin vers le Bourgmestre sans tre bless.","Dtection de la magie (DD 16) : Raliser que Thade a lanc plusieurs sorts de prparation avant de partir (il savait)."],indices:["Thade s'chappe sans combattre. Il avait tout prvu.","Le Bourgmestre est en danger. Si les PJ le sauvent, il pourra tmoigner en leur faveur plus tard.","Des renforts arrivent. Les PJ doivent fuir rapidement."],recompenses:"Si le Bourgmestre survit : alli potentiel. Si mort : situation encore pire."},transitions:{success:"Les PJ s'chappent de la salle du conseil avant l'arrive des renforts.",fail:"Les PJ sont blesss ou capturs temporairement."}},{title:"Scne 4 : L'vacuation en Flammes",type:"Fuite / Action",image:"./images/scenes/evacuation_toits.jpg",locationId:"hotel_de_ville_valdombre",npcIds:[],description:{resume:"Fuite de l'Htel de Ville en flammes",visuel:"L'Htel de Ville est en feu. Des flammes magiques (violettes, signature de Thade) dvorent les couloirs. La fume est paisse, toxique. Les escaliers s'effondrent. La seule issue : les toits.",audio:"Craquements du bois qui brle, explosions de fentres, cris de panique des autres occupants.",odeur:"Fume cre, bois brl, chair carbonise.",lumiere:"Lueur orange et violette des flammes. Ombres dansantes."},narration:{declencheur:"Le btiment prend feu (sabotage de Thade).",texte_a_lire:"Des flammes violettes surgissent des murs. Ce n'est pas un incendie normal : c'est de la magie. Thade a pig le btiment. Les escaliers s'effondrent derrire vous. La fume vous brle les poumons. Vous entendez des cris : d'autres personnes sont piges. Devant vous, une fentre donne sur les toits. C'est votre seule chance. Dehors, vous entendez des cloches sonner l'alarme et une voix amplifie magiquement : 'Citoyens de Val-d'Ombre ! Le Grand Prtre nain a t assassin par des agents nains infiltrs ! La loi martiale est dcrte ! Tous les nains doivent se rendre immdiatement !'",contexte_mj:"Scne d'action pure. Les PJ doivent fuir le btiment en feu tout en entendant la propagande de Thade qui retourne la ville contre les nains. Ils ralisent que Val-d'Ombre est en train de basculer dans la folie.",objectif:"S'chapper de l'Htel de Ville en feu."},mecaniques:{defis:["Acrobaties (DD 15) : Sauter par la fentre et atterrir sur le toit adjacent.","Vigueur (DD 14) : Rsister  la fume toxique (chec = 1d6 dgts de poison et tat 'Nauseux').","Escalade (DD 12) : Descendre du toit vers une ruelle.","Choix moral : Sauver des civils pigs (ralentit la fuite mais gagne des allis) ou fuir directement."],indices:["La voix amplifie est celle de Thade. Il contrle dj la narration publique.","Des patrouilles se forment dans les rues. La chasse aux nains a commenc.","Les PJ sont recherchs : 'Tmoins du meurtre, considrs comme complices'."],recompenses:"Si les PJ sauvent des civils : reconnaissance et cachettes potentielles. Sinon : progression plus rapide."},transitions:{success:"Les PJ atteignent les toits et peuvent observer la ville qui bascule dans le chaos.",fail:"Les PJ sont blesss par les flammes ou la chute."}},{title:"Scne 5 : La Ville en Flammes",type:"Observation / Horreur",image:"./images/scenes/loi_martiale.jpg",locationId:"toits_valdombre",npcIds:[],description:{resume:"Val-d'Ombre bascule dans la purge ethnique",visuel:"Depuis les toits, les PJ ont une vue panoramique de Val-d'Ombre. Des incendies clatent dans le quartier nain. Des patrouilles de gardes et d'automates de la Guilde ratissent les rues. Des nains sont trans hors de leurs maisons. Au loin, la Tour Arcanique brille d'une lueur violette malsaine.",audio:"Cloches d'alarme, cris lointains, ordres hurls, le bruit sourd des portes enfonces.",odeur:"Fume porte par le vent, odeur de peur.",lumiere:"Crpuscule. La ville est claire par les incendies et les torches des patrouilles."},narration:{declencheur:"Les PJ atteignent un point d'observation.",texte_a_lire:"Depuis les toits, vous voyez Val-d'Ombre se transformer en enfer. Le quartier des mineurs brle. Des patrouilles de gardes, accompagnes d'automates de combat de la Guilde, enfoncent les portes des maisons naines. Vous voyez des familles entires tranes dans les rues, enchanes. Des affiches sont placardes partout : 'RECHERCHS - Complices de l'assassinat du Grand Prtre. Rcompense : 1000 po.' Vos visages sont dessins dessus. Thade a travaill vite. Au loin, vous voyez la Tour Arcanique briller d'une lueur violette. Quelque chose de terrible se prpare. Une voix magiquement amplifie rsonne : 'Couvre-feu immdiat. Toute personne dans les rues sera considre comme complice. La Guilde des Mages assure votre scurit.' C'est la voix de Thade.",contexte_mj:"Moment de ralisation. Les PJ comprennent l'ampleur du plan de Thade : il a dclench une purge ethnique et pris le contrle de la ville. Ils sont recherchs et ne peuvent plus compter sur les autorits. Leur seul espoir : rejoindre la rsistance naine ou fuir. Mais Thade ne les laissera pas partir vivants.",objectif:"Comprendre la situation et dcider d'un plan d'action."},mecaniques:{defis:["Perception (DD 12) : Reprer des patrouilles qui se dirigent vers leur position.","Connaissance (Locale) (DD 14) : Se souvenir de cachettes ou d'allis potentiels dans la ville.","Survie (DD 16) : Trouver un chemin sr  travers les toits pour rejoindre le quartier nain."],indices:["Le Temple-Forgeron (temple de Moradin) semble encore libre. Des lumires y brillent.","Des groupes de nains se battent dans les rues, tentant de protger leurs familles.","La Tour Arcanique pulse d'nergie. Thade y prpare quelque chose de grand."],recompenses:"Informations sur la situation. Choix de direction pour l'Acte 4."},transitions:{success:"Les PJ dcident de rejoindre la rsistance naine au Temple-Forgeron.",fail:"Les PJ sont reprs et doivent fuir immdiatement, sans plan clair."}}]},__={title:"ACTE 4 : LA NUIT DES LONGS COUTEAUX",stake:"Traverser une ville en guerre civile et rejoindre la rsistance naine.",location:"Rues de Val-d'Ombre (Nuit).",scenes:[{title:"Scne 1 : La Traverse du Quartier Artisan",type:"Infiltration / Discrtion",image:"./images/scenes/rafle_artisan.jpg",locationId:"quartier_artisan_patrouille",npcIds:["patrouilles_mixtes","automates_guilde"],description:{resume:"Infiltration du quartier artisan patrouill",visuel:"Le quartier artisan est mconnaissable. Les ateliers sont scells, les portes marques du sceau de la Guilde. Des patrouilles mixtes (gardes humains et automates de combat) ratissent les rues. Des affiches avec les visages des PJ sont placardes partout. Des civils terrifis se cachent derrire leurs volets.",audio:"Pas lourds des patrouilles, cliquetis mcaniques des automates, ordres aboys, pleurs touffs.",odeur:"Fume de bois brl, huile des automates, peur.",lumiere:"Nuit noire. Seules les torches des patrouilles et les yeux lumineux des automates percent l'obscurit."},narration:{declencheur:"Les PJ descendent des toits et doivent traverser le quartier artisan pour rejoindre le Temple-Forgeron.",texte_a_lire:"Vous descendez dans les ruelles du quartier artisan. Chaque ombre pourrait cacher une patrouille. Devant vous, un groupe de gardes accompagns de deux automates de combat de la Guilde patrouille mthodiquement. Les automates scannent les faades avec leurs yeux de cristal rouge. L'un d'eux s'arrte, pivote vers votre position. A-t-il dtect quelque chose ? Vous retenez votre souffle. Aprs un moment qui semble durer une ternit, il reprend sa marche. Vous devez traverser trois rues principales pour atteindre le quartier nain. Chacune est patrouille.",contexte_mj:"Scne d'infiltration tendue. Les PJ doivent viter les patrouilles ou les neutraliser discrtement. Les automates sont difficiles  tromper (Perception +10). Si l'alarme est donne, des renforts arrivent rapidement. Les PJ peuvent utiliser la magie, la discrtion, ou trouver des passages alternatifs.",objectif:"Traverser le quartier artisan sans tre dtects."},mecaniques:{defis:["Discrtion (DD 16) : Se dplacer sans tre vu par les patrouilles.","Dplacement silencieux (DD 14) : Ne pas faire de bruit sur les pavs.","Connaissance (Ingnierie) (DD 15) : Comprendre les patterns de dtection des automates et les viter.","Bluff (DD 18) : Si reprs, se faire passer pour des citoyens loyaux (trs difficile avec les affiches).","Option magique : Invisibilit, Silence, Forme gazeuse facilitent grandement la traverse."],indices:["Les automates dtectent le mouvement et la chaleur. Rester immobile fonctionne.","Des gouts offrent un passage alternatif, mais ils sont surveills aussi.","Un contact dans une maison pourrait offrir un refuge temporaire."],recompenses:"Traverse russie. Si discrets : aucune alerte. Si dtects : poursuite dans la scne suivante."},transitions:{success:"Les PJ atteignent la limite du quartier nain sans tre dtects.",fail:"Les PJ sont reprs. Des renforts sont appels et les poursuivent."}},{title:"Scne 2 : L'Horreur de la Place des Excutions",type:"Horreur / Rvlation",image:"./images/scenes/necropole_brume.jpg",locationId:"place_executions_valdombre",npcIds:["capitaine_garde_urbaine","executeur_masque"],description:{resume:"Thade transforme les nains excuts en zombies",visuel:"La place centrale du quartier nain. Une scne d'horreur : des dizaines de nains enchans,  genoux. Des gardes en armure noire les excutent un par un. Mais ce qui glace le sang, c'est ce qui suit : les corps ne restent pas morts. Une brume violette s'chappe de la Tour Arcanique au loin et enveloppe les cadavres. Ils se relvent, transforms en zombies, et sont enchans pour former une arme mort-vivante.",audio:"Cris des condamns, choc des lames, puis le silence de mort. Le grognement des zombies qui se lvent. Une incantation ncromantique murmure par un mage masqu.",odeur:"Sang, chair en dcomposition acclre, ozone ncromantique.",lumire:"Torches et la lueur violette malsaine de la brume ncromantique."},narration:{declencheur:"Les PJ arrivent  la place et assistent  l'excution et  la rsurrection.",texte_a_lire:"Vous arrivez  la limite de la place et ce que vous voyez vous glace le sang. Des dizaines de nains, hommes, femmes, mme des enfants, sont aligns, enchans. Un capitaine de la garde lit une proclamation : 'Par ordre de la Guilde des Mages, vous tes reconnus coupables de conspiration contre Val-d'Ombre. Sentence : mort.' Les excutions commencent. Mais ce n'est pas le pire une brume violette s'infiltre dans les cadavres. Ils se relvent, les yeux vides. Un mage masqu les enchane magiquement avant de noter des rsultats sur un carnet. Vous ralisez avec horreur : Thade ne se contente pas de tuer les nains. Il les transforme en arme mort-vivante.",contexte_mj:"Rvlation majeure : le plan de Thade est de transformer Val-d'Ombre en ncropole et les nains en arme de zombies. La brume ncromantique vient de la Tour Arcanique o Thade effectue un rituel de masse. Les PJ doivent dcider : intervenir (risqu, sauver quelques nains) ou continuer discrtement (pragmatique, mais moralement difficile).",objectif:"Comprendre le plan de Thade et dcider d'intervenir ou non."},mecaniques:{defis:["Volont (DD 16) : Rsister  l'horreur de la scne (chec = tat 'Secou' pendant 1 heure).","Connaissance (Religion/Arcanes) (DD 17) : Comprendre que c'est un rituel de masse. Thade canalise l'nergie de la Spirale pour crer des morts-vivants.","Choix moral : Intervenir (combat difficile, sauver 2d6 nains) ou continuer (pas de combat, mais poids moral).","Si intervention : Combat contre 1 Ncromancien (Ensorceleur 6) + 8 Zombies + 4 Gardes."],indices:["La brume vient directement de la Tour Arcanique. Thade y effectue le rituel.","Les zombies sont contrls magiquement. Dtruire le ncromancien les libre (mais ils restent hostiles).","Des survivants peuvent rvler que Durnik et Thorgar organisent la rsistance au Temple-Forgeron."],recompenses:"Si intervention : 2d6 nains sauvs (allis futurs). Informations sur le rituel. Si non : progression rapide mais culpabilit."},transitions:{success:"Les PJ s'chappent de la place, avec ou sans avoir agi.",fail:"Les PJ sont reprs et doivent fuir sous le feu ennemi."}},{title:"Scne 3 : L'Embuscade du Lieutenant",type:"Combat / Boss mineur",image:"./images/scenes/embuscade_nuit.jpg",locationId:"ruelle_sombre_valdombre",npcIds:["kael_ombrelame","squelettes_geants"],description:{resume:"Embuscade de Kael Ombrelame dans la ruelle",visuel:"Une ruelle troite, seul passage vers le Temple-Forgeron. Soudain, les ombres bougent. Un homme en robe noire merge, flanqu de squelettes gants. Kael Ombrelame, lieutenant de Thade, ncromancien de talent. Il sourit : 'Le Matre savait que vous viendriez ici. Il m'a demand de vous... accueillir.'",audio:"Cliquetis d'os, rire froid de Kael, incantations ncromantiques.",odeur:"Mort et magie noire.",lumiere:"Tnbres magiques. Seuls les yeux verts des squelettes et l'aura noire de Kael brillent."},narration:{declencheur:"Les PJ entrent dans la ruelle pige.",texte_a_lire:"Les ombres se solidifient. Kael Ombrelame barre la route. Il ne se prsente pas. Il pointe simplement son bton vers vous et murmure  ses squelettes :  Cibles prioritaires. limination. ",contexte_mj:"Boss fight mineur. Kael est un ncromancien niveau 8, dangereux mais pas imbattable. Il utilise des sorts de contrle et de dgts ncromantiques. Les squelettes gants sont des tanks. Kael fuit si rduit  moins de 20% PV, jurant de revenir. Les PJ peuvent l'interroger s'ils le capturent.",objectif:"Vaincre ou faire fuir Kael Ombrelame."},mecaniques:{defis:["Combat : Kael Ombrelame (Ncromancien 8) + 4 Squelettes Gants (FP 4 chacun).","Kael utilise : Rayon d'affaiblissement, Toucher glacial, Animation des morts, clair.","Tactique : Kael reste en arrire, les squelettes protgent. Il fuit via Porte dimensionnelle si en danger.","Si captur : Intimidation (DD 20) pour le faire parler. Rvle que Thade prpare 'l'Ascension'  la Tour."],indices:["Kael porte un mdaillon avec le sceau de Thade. Preuve de la connexion.","Il mentionne 'l'Ascension' si interrog. Thade veut devenir un liche ou pire.","Les squelettes portent des armures de la garde de Val-d'Ombre. Ce sont d'anciens soldats."],recompenses:"XP du combat. Mdaillon de Kael (preuve). Informations sur le plan de Thade. Bton de Kael (+2 aux jets de Ncromancie)."},transitions:{success:"Kael est vaincu ou fuit. La voie vers le Temple est libre.",fail:"Les PJ sont blesss et doivent se replier, cherchant un autre chemin."}},{title:"Scne 4 : Le Dilemme de la Forge",type:"Choix moral / Action",image:"./images/scenes/forge_thorgar.jpg",locationId:"forge_annexe_thorgar",npcIds:["thorgar_pretre_nain","refugies_nains"],description:{resume:"Dilemme entre sauver les rfugis ou les explosifs",visuel:"L'annexe de la forge de Thorgar, prtre de Moradin. Le btiment est encercl par des gardes et des zombies.  l'intrieur, Thorgar et une vingtaine de rfugis nains (femmes, enfants, vieillards) sont pigs. Dans la cour, des caisses d'explosifs de mine et d'armes. Les deux sont prcieux, mais les PJ ne peuvent pas tout sauver.",audio:"Cris des rfugis, ordres des gardes, grondement des zombies.",odeur:"Poudre  canon, sueur, peur.",lumiere:"Feux des torches des assigeants. L'intrieur de la forge est sombre."},narration:{declencheur:"Les PJ arrivent prs de la forge et constatent la situation.",texte_a_lire:"Vous apercevez la forge de Thorgar. Elle est encercle. Une vingtaine de gardes et autant de zombies bloquent les issues.  l'intrieur, vous voyez des silhouettes : Thorgar et des rfugis. Ils sont pigs. Mais ce n'est pas tout : dans la cour, vous voyez des caisses marques 'EXPLOSIFS - MINE'. Des armes aussi. Durnik avait stock du matriel ici pour la rsistance. Vous ralisez : vous ne pouvez pas tout sauver. Soit vous crez une diversion pour vacuer les rfugis (mais les gardes dtruiront les explosifs), soit vous scurisez les explosifs d'abord (mais les rfugis risquent de mourir). Thorgar vous voit par une fentre. Il vous fait signe : 'Sauvez-les ! Les vies avant le matriel !' Mais sans explosifs, le Temple-Forgeron ne tiendra pas longtemps.",contexte_mj:"Dilemme moral classique. Les PJ doivent choisir entre sauver des vies (rfugis) ou scuriser des ressources (explosifs). Les deux options ont des consquences. Sauver les rfugis gagne la loyaut de Thorgar mais affaiblit la dfense future. Scuriser les explosifs permet de mieux dfendre le Temple mais cote des vies innocentes.",objectif:"Choisir entre sauver les rfugis ou scuriser les explosifs."},mecaniques:{defis:["OPTION A - Sauver les rfugis : Crer une diversion (Bluff DD 16, ou sort de distraction). Combat contre 10 gardes pendant l'vacuation. Les rfugis s'chappent, mais les explosifs sont dtruits.","OPTION B - Scuriser les explosifs : Infiltration (Discrtion DD 18) pour voler les caisses. Les rfugis sont massacrs. Thorgar survit mais est bris moralement.","OPTION C - Tenter les deux : Trs difficile. Ncessite un plan labor et des jets russis. Possible mais risqu."],indices:["Thorgar est un prtre puissant. Si sauv, il sera un alli majeur.","Les explosifs permettront de tenir le Temple plus longtemps et de crer des piges.","Les rfugis incluent des artisans qui peuvent aider  fortifier le Temple."],recompenses:"OPTION A : Thorgar loyal + 20 rfugis sauvs. OPTION B : Explosifs (avantage tactique) mais Thorgar distant. OPTION C : Tout, mais trs difficile."},transitions:{success:"Les PJ accomplissent leur choix et fuient vers le Temple-Forgeron.",fail:"Les PJ chouent et perdent les deux (rfugis morts, explosifs dtruits)."}},{title:"Scne 5 : Le Dernier Bastion",type:"Arrive / Regroupement",image:"./images/scenes/temple_forteresse.jpg",locationId:"temple_forgeron_moradin",npcIds:["thorgar_pretre_nain","durnik_chef_mineur","refugies_nains"],description:{resume:"Arrive au Temple-Forgeron et regroupement",visuel:"Le Temple-Forgeron de Moradin, dieu nain de la forge et de la cration. Une forteresse de pierre massive, barricade. Des nains arms patrouillent les remparts.  l'intrieur, des centaines de rfugis : familles, guerriers blesss, artisans. Durnik, le chef mineur, organise la dfense. Thorgar (s'il a survcu) prie devant l'autel.",audio:"Prires naines, bruits de fortification, pleurs d'enfants, ordres tactiques.",odeur:"Encens de temple, sueur, mtal forg.",lumiere:"Torches et brasiers. L'autel de Moradin brille d'une lueur dore rassurante."},narration:{declencheur:"Les PJ arrivent au Temple-Forgeron.",texte_a_lire:"Vous franchissez les portes massives du Temple-Forgeron.  l'intrieur, c'est le chaos organis. Des centaines de nains s'entassent : familles terrorises, guerriers prparant leurs armes, prtres soignant les blesss. Durnik vous voit et se prcipite : 'Par la barbe de Moradin, vous tes vivants ! On vous croyait morts  l'Htel de Ville.' Il vous serre dans ses bras. 'Bienvenue au dernier bastion libre de Val-d'Ombre. Nous sommes encercls, mais nous tiendrons.' Thorgar (si prsent) s'approche : 'Vous avez fait ce que vous pouviez. Maintenant, nous devons nous prparer. Thade va venir. Et quand il viendra, ce sera avec toute son arme de morts.' Au loin, vous entendez le grondement d'une horde qui approche. Le sige va commencer.",contexte_mj:"Point de regroupement. Les PJ retrouvent des allis (Durnik, Thorgar, rfugis sauvs). C'est le moment de faire le point, de se reposer brivement, et de prparer la dfense. L'Acte 3 sera le sige du Temple. Les choix des PJ dans l'Acte 2 influencent les ressources disponibles.",objectif:"Se regrouper, partager les informations, et prparer la dfense."},mecaniques:{defis:["Aucun dfi immdiat. Scne de roleplay et de prparation.","Les PJ peuvent partager ce qu'ils ont appris (rituel de Thade, zombies, plan de ncropole).","Inventaire des ressources : Combien de combattants ? D'explosifs ? De nourriture ? D'issues de secours ?"],indices:["Durnik rvle qu'il y a un passage secret sous le Temple, menant aux gouts et au cimetire.","Thorgar peut bnir les armes des PJ (+1 contre les morts-vivants pour 24h).","Un claireur rapporte : 'Une arme de zombies approche. Des centaines. Peut-tre des milliers. Ils seront l  l'aube.'"],recompenses:"Repos court. Bndictions de Thorgar. Informations tactiques. Prparation pour l'Acte 3."},transitions:{success:"Les PJ sont prts pour le sige. L'Acte 3 commence avec l'aube.",fail:"Les PJ sont puiss et mal prpars. Le sige sera plus difficile."}}]},q_={title:"ACTE 5 : LE SIGE DU TEMPLE",stake:"Tenir le Temple-Forgeron contre l'arme des morts.",location:"Temple-Forgeron de Moradin.",scenes:[{title:"Scne 1 : L'Aube du Sige",type:"Prparation",image:"./images/scenes/assault_temple.jpg",locationId:"temple_moradin_enceinte",npcIds:["thorgar_pretre_nain","durnik_chef_mineur"],description:{resume:"Prparation stratgique avant le sige",visuel:"L'aube se lve sur le Temple. Une arme de morts-vivants l'entoure.",audio:"Prires, fortifications, ordres tactiques.",odeur:"Encens, mtal, sueur.",lumiere:"Aube grise sous la brume ncromantique."},narration:{declencheur:"L'aube aprs l'arrive.",texte_a_lire:"Durnik : 'Nous avons 200 combattants. Contre a...' Il dsigne l'arme de morts. 'Dites-moi comment nous survivons.'",contexte_mj:"Planification stratgique. Les choix influencent les scnes suivantes.",objectif:"Organiser la dfense."},mecaniques:{defis:["Connaissance (Guerre) DD 14","Tactique DD 16","Placer piges si explosifs"],indices:["Feu efficace","Thorgar peut canaliser nergie","gouts = issue secours"],recompenses:"Bonus tactiques selon plan."},transitions:{success:"Dfenses prtes.",fail:"Dfenses mal organises."}},{title:"Scne 2 : La Premire Vague",type:"Combat",image:"./images/scenes/assaut_zombies.jpg",locationId:"temple_moradin_remparts",npcIds:["hordes_zombies"],description:{resume:"Premire vague de zombies attaque les remparts",visuel:"Centaines de zombies chargent les murs.",audio:"Grondement, cris, chocs.",odeur:"Dcomposition, fume.",lumiere:"Jour sombre, brume."},narration:{declencheur:"L'assaut commence.",texte_a_lire:"Une vague de zombies dferle. Durnik : 'Tenez les remparts !'",contexte_mj:"3 vagues de 10-15 zombies. Systme simplifi.",objectif:"Repousser la premire vague."},mecaniques:{defis:["Combat : 3 vagues zombies","Explosifs : Timing DD 14","Canalisation Thorgar"],indices:["Attaques zone efficaces","Deuxime vague sera pire"],recompenses:"Survie, moral maintenu."},transitions:{success:"Vague repousse.",fail:"Zombies percent dfenses."}},{title:"Scne 3 : Le Tratre",type:"Intrigue",image:"./images/scenes/traitre_temple.jpg",locationId:"temple_forgeron_interieur",npcIds:["galen_traitre"],description:{resume:"Galen sabote les dfenses pour Thade",visuel:"Explosion. Glyphes s'teignent. Galen sabote.",audio:"Explosion, alarme.",odeur:"Ozone, trahison.",lumiere:"Glyphes s'teignent."},narration:{declencheur:"Sabotage entre vagues.",texte_a_lire:"Galen : 'Thade m'a promis la vie ternelle.' Il invoque des spectres.",contexte_mj:"Combat contre tratre (Clerc 5) + 3 Spectres.",objectif:"Neutraliser Galen."},mecaniques:{defis:["Combat Galen + Spectres","Religion DD 14 : ractiver glyphes"],indices:["Mdaillon Thade","Cristal noir affaiblit morts-vivants"],recompenses:"Glyphes restaurs, cristal, infos."},transitions:{success:"Galen vaincu.",fail:"Glyphes dtruits."}},{title:"Scne 4 : L'Assaut des Ombres",type:"Boss",image:"./images/scenes/assaut_ombres.jpg",locationId:"temple_moradin_parvis",npcIds:["ombres","beliers_osseux"],description:{resume:"Ombres et bliers osseux attaquent le Temple",visuel:"Des Ombres traversent les murs. Bliers osseux gants frappent portes.",audio:"Hurlements, fracas.",odeur:"Froid, mort.",lumiere:"Tnbres surnaturelles."},narration:{declencheur:"Assaut final.",texte_a_lire:"Des Ombres et des bliers osseux attaquent. Thorgar : 'Nous tiendrons !'",contexte_mj:"Boss multiple : 3 Bliers + 4 Ombres.",objectif:"Dtruire bliers, repousser les ombres."},mecaniques:{defis:["Combat Bliers FP6 + Ombres FP3","Explosifs dtruisent blier","Canalisation x2 dgts"],indices:["Crne = point faible","Les Ombres drainent la Force"],recompenses:"Victoire, respect nains."},transitions:{success:"Temple tient.",fail:"Portes tombent, vacuation."}},{title:"Scne 5 : Le Dme",type:"Rvlation",image:"./images/scenes/dome_violet.jpg",locationId:"temple_forgeron_remparts",npcIds:["thade_coren_projection"],description:{resume:"Thade enferme Val-d'Ombre sous un dme violet",visuel:"Dme violet enferme la ville. Projection Thade.",audio:"Bourdonnement, voix Thade.",odeur:"Ozone, ncromancie.",lumiere:"Lueur violette."},narration:{declencheur:"Aprs victoire.",texte_a_lire:"Thade : 'Bravo. Mais vous tes pigs. Val-d'Ombre est ma ncropole.'",contexte_mj:"Dme impntrable. Seule issue : Spirale.",objectif:"Comprendre qu'ils doivent fuir."},mecaniques:{defis:["Arcanes DD 18 : analyser dme","Volont DD 14 : pas dsespoir"],indices:["Durnik : passage sous Temple","Spirale = seul espoir"],recompenses:"Connaissance passage secret."},transitions:{success:"Dcident contre-attaque Tour.",fail:"Fuient immdiatement."}}]},C_={title:"ACTE 6 : LA CHUTE DU TEMPLE",stake:"Tenter de stopper le rituel de Thade avant de fuir.",location:"Tour Arcanique et Hauteurs de Val-d'Ombre.",scenes:[{title:"Scne 1 : La Ville Morte",type:"Exploration",image:"./images/scenes/ville_necropole.jpg",locationId:"rues_valdombre_necropole",npcIds:[],description:{resume:"Traverse de la ville transforme en ncropole",visuel:"Brume violette, cadavres se relevant, btiments s'effondrant.",audio:"Silence de mort, grognements, effondrements.",odeur:"Dcomposition, brume acide.",lumiere:"Crpuscule ternel sous dme violet."},narration:{declencheur:"Dpart vers la Tour.",texte_a_lire:"Val-d'Ombre agonise. Durnik : 'Si nous stoppons le rituel, le dme tombera peut-tre.'",contexte_mj:"Traverse atmosphrique. Skill challenge pour atteindre la Tour.",objectif:"Atteindre la Tour Arcanique."},mecaniques:{defis:["Skill Challenge : 5 succs avant 3 checs","Acrobaties, Athltisme, Discrtion, Survie"],indices:["Brume dense prs Tour","Survivants supplient aide","Tour garde"],recompenses:"Arrive Tour selon tat."},transitions:{success:"Arrivent en bon tat.",fail:"Arrivent puiss."}},{title:"Scne 2 : L'Ascension",type:"Infiltration",image:"./images/scenes/tour_arcanique_interieur.jpg",locationId:"tour_arcanique_escaliers",npcIds:["gardes_morts_vivants"],description:{resume:"Ascension de la Tour remplie de morts-vivants",visuel:"Couloirs dserts, cadavres mages, escaliers spirale.",audio:"Incantations lointaines, bourdonnement.",odeur:"Sang, ozone, mort.",lumiere:"Lueur violette pulsante."},narration:{declencheur:"Entre Tour.",texte_a_lire:"La Tour est un tombeau vivant. Des mages morts patrouillent.",contexte_mj:"Infiltration verticale. Les PJ doivent atteindre le sommet.",objectif:"Atteindre le sommet de la Tour."},mecaniques:{defis:["Combats : 3 tages avec 4-6 morts-vivants chacun","Discrtion DD 16 : viter certains combats","Connaissances (Arcanes) DD 15 : comprendre le rituel"],indices:["Rituel au sommet","Thade canalise Spirale","Destruction = libration"],recompenses:"Information sur le rituel, progression vers sommet."},transitions:{success:"Atteignent le sommet.",fail:"Blesss, retards."}},{title:"Scne 3 : Le Cur de l'Ascension",type:"Boss final",image:"./images/scenes/thade_ascension.jpg",locationId:"tour_arcanique_sommet",npcIds:["thade_coren_liche"],description:{resume:"Affrontement final avec Thade en pleine transformation",visuel:"Thade mi-homme mi-liche, entour d'nergie spirale.",audio:"Incantations, clairs, voix dforme.",odeur:"Ncromancie, brl, pouvoir.",lumiere:"clairs violets, aura noire."},narration:{declencheur:"Arrive au sommet.",texte_a_lire:"Thade : 'Vous tes en retard. L'Ascension a commenc.'",contexte_mj:"Boss final. Thade se transforme en liche pendant le combat.",objectif:"Arrter Thade et dtruire le rituel."},mecaniques:{defis:["Combat : Thade (Magicien 10) se transforme progressivement en liche","Phase 1 : Magicien 10 avec sorts de contrle","Phase 2 : Mi-liche (RD 10/contondant, immunit mort froid)","Phase 3 : Liche complte (RD 15, aura de peur)","Rituel : Chaque round, dme se renforce. Dtruire cristal central = arrter rituel"],indices:["Cristal = cur rituel","Thade vulnrable pendant transformation","Destruction cristal = libration"],recompenses:"Victoire, sauvegarde de Val-d'Ombre, XP majeur."},transitions:{success:"Thade vaincu, ville sauve.",fail:"Thade russit, ville perdue."}},{title:"Scne 4 : L'Effondrement",type:"vasion",image:"./images/scenes/effondrement_tour.jpg",locationId:"tour_arcanique_effondrement",npcIds:[],description:{resume:"Fuite de la Tour qui s'effondre",visuel:"Tour s'effondre, dme se fissure, claircies.",audio:"Explosions, craquements, cris de libration.",odeur:"Air frais, poussire, fin de la corruption.",lumire:"Lumire du jour, fissures dans dme."},narration:{declencheur:"Dfaite de Thade.",texte_a_lire:"La Tour s'effondre. Le dme se fissure. La lumire revient.",contexte_mj:"Course-poursuite verticale. Les PJ doivent fuir la Tour qui s'effondre.",objectif:"chapper  la Tour en ruines."},mecaniques:{defis:["Athltisme DD 14 : descendre rapidement","Acrobaties DD 16 : viter dbris","Vigueur DD 12 : rsister  la poussire"],indices:["Passage secret sous Temple = sortie sre","Dme se fissure = espoir"],recompenses:"vasion, fin de la menace."},transitions:{success:"chappent sains et saufs.",fail:"Blesss mais vivants."}},{title:"Scne 5 : L'Aube de la Libration",type:"pilogue",image:"./images/scenes/val_dombre_liberee.jpg",locationId:"val_dombre_reconstruction",npcIds:["durnik_chef_mineur","thorgar_pretre_nain"],description:{resume:"Val-d'Ombre se relve aprs la chute de Thade",visuel:"Ville endommage mais libre. Survivants sortent.",audio:"Cris de joie, travaux de reconstruction.",odeur:"Air frais, espoir, bois coup.",lumire:"Soleil levant sur les ruines."},narration:{declencheur:"Sortie des gouts/ruines.",texte_a_lire:"Le soleil se lve sur Val-d'Ombre. La ville est dvaste mais libre. Durnik : 'Vous l'avez fait. Vous nous avez sauvs.'",contexte_mj:"Conclusion. Les PJ sont des hros. La ville doit reconstruire.",objectif:"Clbrer la victoire et prparer l'avenir."},mecaniques:{defis:["Aucun. Scne de conclusion et rcompenses."],indices:["Thade vaincu mais pas dtruit","Spirale toujours active","Prochain scnario"],recompenses:"Hros de Val-d'Ombre, rcompenses majeures, passage au niveau 10."},transitions:{success:"Fin du Scnario 3. Vers le Scnario 4.",fail:"Fin du Scnario 3. Vers le Scnario 4."}}]},A_={title:"ACTE 7 : LA DESCENTE DANS L'ABME",stake:"Fuir Val-d'Ombre en plongeant dans la Spirale.",location:"gouts, Cimetire, Entre Spirale.",scenes:[{title:"Scne 1 : Le Passage Secret",type:"Urgence",image:"./images/scenes/egouts_temple.jpg",locationId:"egouts_sous_temple",npcIds:["durnik_chef_mineur","thorgar_pretre_nain"],description:{resume:"Guidage des survivants dans les gouts instables",visuel:"gouts anciens, eau monte, structure s'effondre.",audio:"Eau, effondrements, pleurs.",odeur:"gouts, humidit, peur.",lumiere:"Torches vacillantes."},narration:{declencheur:"Descente gouts.",texte_a_lire:"Durnik : 'Passage vers cimetire, puis Spirale.' 50 nains survivants.",contexte_mj:"Skill challenge. Choix difficiles, rfugis perdus si checs.",objectif:"Guider survivants au cimetire."},mecaniques:{defis:["Skill Challenge 5/3","Athltisme, Connaissance Souterrains, Diplomatie"],indices:["gouts instables","Zombies errent","Cimetire proche"],recompenses:"Survivants selon succs."},transitions:{success:"Majorit survit.",fail:"Lourdes pertes."}},{title:"Scne 2 : Le Cimetire",type:"Combat",image:"./images/scenes/cimetiere_maudit.jpg",locationId:"cimetiere_valdombre",npcIds:["morts_vivants_anciens"],description:{resume:"Perce dans le cimetire infest de morts-vivants",visuel:"Brume paisse, tombes brises, hordes morts-vivants.",audio:"Grognements, cliquetis, vent.",odeur:"Terre, dcomposition.",lumiere:"Lune rouge  travers dme."},narration:{declencheur:"Sortie gouts.",texte_a_lire:"Le cimetire est un enfer. Des morts-vivants partout. Thorgar : 'L'entre Spirale est l !'",contexte_mj:"Combat dsespr. Passage vers Spirale.",objectif:"Atteindre l'entre Spirale."},mecaniques:{defis:["Combat : 20+ morts-vivants (skill challenge + combat)","Thorgar : canalisation divine (1/j) protge groupe","Explosifs restants : zone dgts"],indices:["Entre Spirale = seul espoir","Anciens morts-vivants plus forts","Thorgar peut tenir 1 round"],recompenses:"Passage Spirale ouvert."},transitions:{success:"Passent dans Spirale.",fail:"Capturs ou morts."}},{title:"Scne 3 : Le Seuil",type:"Transition",image:"./images/scenes/entree_spirale.jpg",locationId:"entree_spirale",npcIds:[],description:{resume:"Passage dans la Spirale",visuel:"Fissure pulsante, nergie, passage instable.",audio:"Bourdonnement, vent, cho.",odeur:"nergie, autre monde.",lumiere:"Lueur violette aveuglante."},narration:{declencheur:"Entre Spirale.",texte_a_lire:"La Spirale vous aspire. Thade : 'Bienvenue dans mon royaume.'",contexte_mj:"Transition vers Scnario 4. Fin de Val-d'Ombre.",objectif:"Entrer dans la Spirale."},mecaniques:{defis:["Volont DD 15 : rsister  folie","Vigueur DD 14 : rsister nergie"],indices:["Spirale instable","Thade contrle entre","Scnario 4 commence"],recompenses:"Passage Spirale, fin scnario."},transitions:{success:"Entrent dans Spirale.",fail:"Dsorients mais entrent."}}]},T_={...b_,acts:[x_,y_,S_,__,q_,C_,A_]},j_={id:4,title:"SCNARIO 4 : L'COSYSTME ABERRANT",level:"Niveaux 6-8",system:"D&D 3.5",synopsis:"Projets dans la Spirale, les PJ dcouvrent un monde aux lois physiques impossibles. Ils doivent survivre  un environnement hostile, ngocier avec des habitants oublis, et atteindre le Cur Mcanique pour pirater le systme et ouvrir un portail de retour vers Val-d'Ombre, o un mois s'est coul en leur absence."},D_={title:"ACTE 1 : LA CHUTE DANS L'IMPOSSIBLE",stake:"Survivre  la chute et s'adapter aux lois aberrantes de la Spirale.",location:"Zone des Dchets et Priphrie de la Spirale.",scenes:[{title:"Scne 1 : La Chute Infinie",type:"Cinmatique / Action",image:"./images/scenes/chute_spirale_infinie.jpg",locationId:"spirale_puits_entree",npcIds:["thorgar_pretre_nain","refugies_nains"],description:{resume:"Arrive violente dans la prison planaire dsactive.",visuel:"Une chute interminable dans un puits sans fond, puis une inversion brutale de gravit. Le sol devient plafond.",audio:"Le hurlement du vent et les cris des compagnons.",odeur:"Ozone et poussire d'toiles.",lumiere:"Lueurs violettes et bleues tourbillonnantes."},narration:{declencheur:"Entre dans la Spirale.",texte_a_lire:"La chute semble durer une ternit. Puis, le monde se retourne. Vous ne tombez plus, vous glissez sur l'air comme sur de la glace. L'impact n'est pas mortel, mais dsorientant. Autour de vous, des dbris d'architectures impossibles flottent dans le vide.",contexte_mj:"Les PJ doivent russir des jets pour ne pas tre spars ou blesss  l'atterrissage.",objectif:"Se regrouper aprs la chute."},mecaniques:{defis:["Acrobaties (DD 15) : Atterrissage contrl.","Volont (DD 14) : Rsister  la dsorientation spatiale."],indices:["La gravit ici est subjective."],recompenses:"Survie du groupe."},transitions:{success:"Le groupe est runi.",fail:"Le groupe est dispers et subit des dgts."}},{title:"Scne 2 : La Salle de Gravit Variable",type:"Combat / Tactique",image:"./images/scenes/salle_gravite.jpg",locationId:"spirale_salle_gravite",npcIds:["pilleurs_planaires"],description:{resume:"Combat tactique 3D contre des pilleurs planaires.",visuel:"Une immense salle cubique o le haut et le bas changent alatoirement. Des mercenaires tranges avec des bottes magntiques vous attaquent.",audio:"Bruits de bottes mtalliques, lasers ou magie crpitante.",odeur:"Mtal chaud.",lumiere:"Flashs lumineux des changements de gravit."},narration:{declencheur:"Entre dans la salle.",texte_a_lire:"Des pillards, pigs ici depuis longtemps, voient en vous une proie facile. 'De la viande frache !' hurlent-ils en marchant sur les murs.",contexte_mj:"La gravit change  chaque round (1d6 pour la direction). Les ennemis sont quips pour a.",objectif:"Vaincre les pilleurs et voler leur quipement de stabilit."},mecaniques:{defis:["Combat : Pilleurs Planaires (Guerriers niv 3 avec quipement spcial).","Environnement : Gravit changeante (Acrobaties DD 12 pour ne pas tomber)."],indices:["Les pilleurs ont des cartes partielles de la zone."],recompenses:"Bottes de gravit (permettent de marcher sur les murs)."},transitions:{success:"Accs  la zone suivante.",fail:"Fuite dsordonne vers les les."}},{title:"Scne 3 : Les les Flottantes",type:"Exploration / Survie",image:"./images/scenes/iles_flottantes.jpg",locationId:"spirale_iles",npcIds:[],description:{resume:"Survie dans un environnement qui se dsagrge. Indices sur les expditions disparues.",visuel:"Des fragments de paysages (une fort, une ruine, un lac) flottent dans le nant. Ils s'effritent lentement.",audio:"Craquements de la matire qui se dissout.",odeur:"Vgtation pourrissante.",lumiere:"Crpusculaire."},narration:{declencheur:"Arrive sur les les.",texte_a_lire:"Le sol sous vos pieds n'est pas stable. Ces les sont des souvenirs de mondes absorbs par la Spirale, et elles sont en train de mourir. Vous trouvez les restes d'un campement.",contexte_mj:"Zone de plateforme et de recherche d'indices. Le temps est compt.",objectif:"Trouver le chemin vers le Purgatoire."},mecaniques:{defis:["Athltisme (DD 14) : Sauter d'le en le.","Investigation (DD 13) : Fouiller le campement."],indices:["Journal d'expdition : 'Il y a un village plus bas, ils savent comment sortir.'"],recompenses:"Ressources (vivres, cordes)."},transitions:{success:"Passage vers l'Acte 2.",fail:"Chute vers l'Acte 2 (dgts)."}}]},M_={title:"ACTE 2 : LE PURGATOIRE DES CHOS",stake:"Ngocier avec les habitants pour trouver un guide et survivre  l'infection.",location:"Village des Perdus.",scenes:[{title:"Scne 1 : Le Village des Oublis",type:"Social",image:"./images/scenes/village_oublies.jpg",locationId:"spirale_village",npcIds:["ancien_du_village"],description:{resume:"Rencontre avec une communaut htroclite de cratures bloques ici.",visuel:"Des cabanes faites de bric et de broc, accroches  un norme rocher flottant. Humains, gobelins, et cratures inconnues vivent ensemble.",audio:"Chuchotements, bruits de vie quotidienne au ralenti.",odeur:"Cuisine trange.",lumiere:"Feux de camp multicolores."},narration:{declencheur:"Arrive au village.",texte_a_lire:"Ils vous regardent avec piti. Ici, le temps n'a pas de sens. Certains sont l depuis des sicles. 'Nouveaux venus ? N'esprez pas repartir. Installez-vous.'",contexte_mj:"Les habitants ont perdu l'espoir. Ils peuvent aider, mais ne croient pas  la sortie.",objectif:"Trouver quelqu'un qui connat le chemin."},mecaniques:{defis:["Diplomatie (DD 14) : Convaincre l'Ancien de parler.","Psychologie (DD 12) : Comprendre leur apathie."],indices:["Un guide nomm 'Le Passeur' vit au March des Souvenirs."],recompenses:"Repos sr."},transitions:{success:"Direction le March."}},{title:"Scne 2 : Le March des Souvenirs",type:"Social / Commerce",image:"./images/scenes/marche_souvenirs.jpg",locationId:"spirale_marche",npcIds:["le_passeur"],description:{resume:"Troc de souvenirs contre des services.",visuel:"Un bazar o l'on vend des motions en bouteille et des souvenirs cristalliss.",audio:"Rires et pleurs en cho.",odeur:"Encens onirique.",lumiere:"Tamise."},narration:{declencheur:"Rencontre avec le Passeur.",texte_a_lire:"Le Passeur est une ombre encapuchonne. 'Je connais le chemin vers le bas. Mais le prix est lev. Je ne veux pas d'or. Je veux un souvenir heureux. Donnez-le moi, et je vous guide.'",contexte_mj:"Le prix est mcanique : perte d'XP ou malus temporaire  la Volont pour reprsenter la perte de mmoire.",objectif:"Payer le prix pour obtenir le guide."},mecaniques:{defis:["Sacrifice : Accepter de perdre un souvenir (Perte de 100 XP ou -1 Volont pour le scnario).","Ngociation (DD 18) : Rduire le prix."],indices:["Le Passeur indique la route vers la Cathdrale des Soupirs."],recompenses:"Guide vers l'Acte 3."},transitions:{success:"Le groupe avance.",fail:"Le groupe doit trouver le chemin seul (dsavantage)."}},{title:"Scne 3 : La Peste Originelle",type:"Danger / Maladie",image:"./images/scenes/zone_magie_sauvage.jpg",locationId:"spirale_peste",npcIds:[],description:{resume:"Traverse d'une zone de magie sauvage infectieuse.",visuel:"L'air ondule. La ralit se dforme. Votre peau commence  briller.",audio:"Bourdonnement statique.",odeur:"Mtal.",lumiere:"clairs de couleurs impossibles."},narration:{declencheur:"Traverse de la zone tampon.",texte_a_lire:"Le sang dans vos veines devient chaud. Des motifs lumineux apparaissent sous votre peau. C'est la Peste de la Spirale. Elle tente de vous rcrire.",contexte_mj:"Zone de danger environnemental. Jets de Vigueur rguliers.",objectif:"Traverser vite avant d'tre mut."},mecaniques:{defis:["Vigueur (DD 15) : Rsister  la mutation (Dgts Con ou Cha).","Arcanes (DD 14) : Se protger magiquement."],indices:["La Cathdrale au loin semble stabiliser la zone."],recompenses:"Accs  l'Acte 3."},transitions:{success:"Arrive  la Cathdrale."}}]},E_={title:"ACTE 3 : LA CATHDRALE DES SOUPIRS",stake:"Comprendre le pass de Thade et s'harmoniser avec la Spirale.",location:"Cathdrale de Cristal.",scenes:[{title:"Scne 1 : Les Archives de Cristal",type:"Investigation / Lore",image:"./images/scenes/archives_cristal.jpg",locationId:"cathedrale_archives",npcIds:["echo_thade"],description:{resume:"Vision des actions passes de Thade.",visuel:"Des colonnes de cristal contenant des mmoires. Une image fantomatique de Thade jeune.",audio:"La voix de Thade, jeune et idaliste.",odeur:"Poussire.",lumiere:"Bleute."},narration:{declencheur:"Toucher un cristal.",texte_a_lire:"Vous voyez Thade, il y a des annes. Il ne voulait pas le pouvoir pour lui. Il voulait sauver sa femme, malade. Il a pactis avec la Spirale pour la gurir. Mais la Spirale a pris son me en change.",contexte_mj:"Humanisation du mchant. Comprendre ses motivations.",objectif:"Apprendre le point faible de Thade."},mecaniques:{defis:["Investigation (DD 14) : Trouver le bon cristal."],indices:["Thade est li au Cur Mcanique. Si on le dtruit, il perd son immortalit."],recompenses:"Information cruciale pour le final."},transitions:{success:"Vers le Rituel."}},{title:"Scne 2 : Le Rituel d'Accordage",type:"Rituel",image:"./images/scenes/rituel_accordage.jpg",locationId:"cathedrale_autel",npcIds:[],description:{resume:"Les PJ doivent s'harmoniser pour ne pas tre rejets par le Cur.",visuel:"Un autel vibrant. Il faut entrer en rsonance avec lui.",audio:"Chant harmonique.",odeur:"Encens pur.",lumiere:"Dore."},narration:{declencheur:"Devant l'autel.",texte_a_lire:"Pour descendre plus bas, vous devez vibrer  la mme frquence que la Spirale. Sinon, le Cur vous dsintgrera.",contexte_mj:"Skill challenge magique/musical.",objectif:"Russir l'harmonisation."},mecaniques:{defis:["Reprsentation (Musique) ou Arcanes (DD 16).","Concentration (DD 14)."],indices:["Suivez le rythme du battement de cur."],recompenses:"Passage scuris vers l'Acte 4."},transitions:{success:"Harmonisation russie.",fail:"Harmonisation douloureuse (dgts)."}},{title:"Scne 3 : L'Assaut des Ombres Planaires",type:"Combat",image:"./images/scenes/assaut_ombres_cathedrale.jpg",locationId:"cathedrale_nef",npcIds:["ombres_traqueuses"],description:{resume:"Dfense pendant le rituel.",visuel:"Des ombres surgissent des murs pour interrompre le rituel.",audio:"Sifflements.",odeur:"Froid.",lumiere:"Tnbres envahissantes."},narration:{declencheur:"Pendant le rituel.",texte_a_lire:"La Spirale se dfend. Ses anticorps, des ombres traqueuses, vous attaquent.",contexte_mj:"Protger celui qui fait le rituel.",objectif:"Tenir bon jusqu' la fin de l'harmonisation."},mecaniques:{defis:["Combat : 4 Ombres Traqueuses (FP 4).","Dfense de zone."],indices:["La lumire de l'autel les repousse."],recompenses:"Accs au Cur."},transitions:{success:"Fin de l'Acte 3."}}]},N_={title:"ACTE 4 : LE CUR MCANIQUE",stake:"Atteindre le centre de contrle et pirater la Spirale pour rentrer.",location:"Le Cur Mcanique.",scenes:[{title:"Scne 1 : Les Engrenages Infinis",type:"Action / Plateforme",image:"./images/scenes/engrenages_geants.jpg",locationId:"spirale_mecanisme",npcIds:[],description:{resume:"Traverse dangereuse des mcanismes planaires.",visuel:"Des roues dentes de la taille d'une ville tournent dans le vide. Il faut sauter de l'une  l'autre.",audio:"Grincement titanesque.",odeur:"Huile et fer.",lumiere:"tincelles."},narration:{declencheur:"Descente vers le Cur.",texte_a_lire:"Vous tes dans la machine. Tout ici est mortel. Un faux pas et vous tes broy.",contexte_mj:"Srie de jets d'Athltisme et de Rflexes.",objectif:"Atteindre la salle de contrle."},mecaniques:{defis:["Athltisme (DD 16) : Sauter.","Rflexes (DD 15) : viter les pistons."],indices:["Suivez le conduit d'nergie principal."],recompenses:"Arrive au Contrematre."},transitions:{success:"Salle de contrle en vue."}},{title:"Scne 2 : Le Contrematre",type:"Social / Combat",image:"./images/scenes/kolyarut.jpg",locationId:"salle_controle",npcIds:["kolyarut_gardien"],description:{resume:"Le Gardien de la Loi rvle que Thade a affaibli la Spirale.",visuel:"Un automate parfait, le Kolyarut. Il ne vous attaque pas immdiatement.",audio:"Voix mtallique parfaite.",odeur:"Ordre.",lumiere:"Blanche."},narration:{declencheur:"Entre salle de contrle.",texte_a_lire:" Intrus dtects. Analyse... Vous n'tes pas avec le Tratre Thade. Il a vol l'nergie de la structure. L'effondrement est imminent. ",contexte_mj:"Le Kolyarut veut restaurer l'ordre. Thade est le chaos. Il peut aider les PJ s'ils promettent d'arrter Thade.",objectif:"Ngocier l'accs au portail."},mecaniques:{defis:["Diplomatie (DD 18) : Prouver ses intentions.","Combat (si chec) : Kolyarut (FP 12, trs dur)."],indices:["Thade utilise l'nergie pour devenir un dieu, ce qui dtruira la Spirale et Val-d'Ombre."],recompenses:"Accs au terminal."},transitions:{success:"Accs au piratage."}},{title:"Scne 3 : Le Piratage Dimensionnel",type:"Puzzle / Combat",image:"./images/scenes/piratage_portail.jpg",locationId:"terminal_spirale",npcIds:["defenses_immunitaires"],description:{resume:"Utilisation du Cube pour ouvrir un portail.",visuel:"Interface holographique complexe. Des drones de dfense attaquent.",audio:"Alarmes.",odeur:"Chaleur lectronique.",lumiere:"Rouge clignotant."},narration:{declencheur:"Activation du terminal.",texte_a_lire:"Vous insrez le Cube. Le systme rsiste. 'Violation de protocole.' Des drones sortent des murs.",contexte_mj:"Un PJ pirate (Int) pendant que les autres dfendent.",objectif:"Ouvrir le portail vers Val-d'Ombre."},mecaniques:{defis:["Informatique/Arcanes (DD 18) : 3 succs ncessaires.","Combat : Drones de dfense (nues)."],indices:["Ciblez les coordonnes de la Tour de Thade."],recompenses:"Portail ouvert."},transitions:{success:"Le portail s'ouvre. Fin de l'Acte 4."}}]},L_={title:"ACTE 5 : LE RETOUR AMRE",stake:"Retourner  Val-d'Ombre et constater l'tendue des dgts.",location:"Ruines de Val-d'Ombre.",scenes:[{title:"Scne 1 : Le Passage du Seuil",type:"Cinmatique",image:"./images/scenes/vision_futur_sombre.jpg",locationId:"portail_dimensionnel",npcIds:[],description:{resume:"Vision fugitive du futur de Val-d'Ombre dans le portail.",visuel:"Le tunnel de lumire vous montre ce qui vous attend. Une ville sous un dme noir.",audio:"Le vent hurle.",odeur:"Ozone.",lumiere:"blouissante."},narration:{declencheur:"Traverse du portail.",texte_a_lire:"Vous voyez la ville. Elle a chang. Le ciel est noir. Thade a gagn.",contexte_mj:"Prparation psychologique au choc.",objectif:"Traverser."},mecaniques:{defis:[],indices:["Le dme semble impntrable de l'extrieur, mais vous arrivez de l'intrieur (via la Spirale)."],recompenses:"Retour au plan matriel."},transitions:{success:"Arrive."}},{title:"Scne 2 : Le Rveil dans les Ruines",type:"Exploration / Horreur",image:"./images/scenes/valdombre_ruines.jpg",locationId:"ruines_temple",npcIds:[],description:{resume:"Retour  la surface. La ville est mconnaissable.",visuel:"Vous mergez dans les ruines du Temple. Il est dsert. Poussire et silence.",audio:"Rien.",odeur:"Vieux sang.",lumiere:"Grise."},narration:{declencheur:"Sortie du portail.",texte_a_lire:"Le Temple-Forgeron est tomb. Les barricades sont brises. Il n'y a personne.",contexte_mj:"Ambiance post-apocalyptique.",objectif:"Trouver des survivants."},mecaniques:{defis:["Pistage (DD 14) : Trouver des traces."],indices:["Des signes de rsistance rcente dans les gouts."],recompenses:"Piste vers Mara."},transitions:{success:"Vers les gouts."}},{title:"Scne 3 : Le Bilan du Temps",type:"Rvlation",image:"./images/scenes/resistance_egouts.jpg",locationId:"cachette_resistance",npcIds:["mara_resistance"],description:{resume:"Les PJ apprennent qu'un mois s'est coul.",visuel:"Mara a vieilli, cicatrices. Elle pleure en vous voyant.",audio:"Pleurs de joie.",odeur:"Soupe maigre.",lumiere:"Bougie."},narration:{declencheur:"Retrouvailles.",texte_a_lire:" Vous tes revenus ! On vous croyait morts depuis un mois ! Thade a tout pris. ",contexte_mj:"Le temps passe diffremment dans la Spirale. Choc pour les PJ.",objectif:"Accepter la nouvelle ralit."},mecaniques:{defis:[],indices:["Thade prpare un rituel final  la Tour."],recompenses:"Fin du Scnario 4. Transition vers le final."},transitions:{success:"Fin du Scnario."}}]},R_={...j_,acts:[D_,M_,E_,N_,L_]},z_={id:5,title:"SCNARIO 5 : LE CRPUSCULE DE THADE",level:"Niveaux 8-10",system:"D&D 3.5",synopsis:"De retour  Val-d'Ombre, les PJ dcouvrent une ville transforme en ncropole sous la coupe de Thade. Avec les restes de la rsistance, ils lancent un assaut dsespr sur la Tour Arcanique pour interrompre le rituel d'apothose et affronter le matre de la Spirale une dernire fois."},O_={title:"ACTE 1 : LA RSISTANCE DE L'OMBRE",stake:"Retrouver la rsistance et briser le sige de la Tour.",location:"Souterrains et Rues de Val-d'Ombre.",scenes:[{title:"Scne 1 : Les Rats de la Guilde",type:"Social / Planification",image:"./images/scenes/resistance_egouts.jpg",locationId:"cachette_resistance",npcIds:["mara_resistance"],description:{resume:"Retrouvailles avec Mara. Planification de l'assaut final.",visuel:"Les gouts sont devenus une ville souterraine. Mara, cicatrise, dirige les oprations sur une carte de la ville.",audio:"Bruit de forge lointain, chuchotements.",odeur:"Huile, sueur, espoir.",lumiere:"Torches."},narration:{declencheur:"Arrive au QG.",texte_a_lire:"Mara tape sur la table.  Ils sont revenus ! Thade pense avoir gagn, mais il a oubli un dtail : vous. La ville est sous un dme, mais nous avons trouv une faille. Si nous frappons la Tour maintenant, pendant son rituel d'apothose, nous pouvons tout arrter. Mais Thorgar a t captur. Il va tre sacrifi sur la Place des Excutions pour alimenter le cristal. ",contexte_mj:"Double objectif : librer Thorgar (pour ses pouvoirs divins) et percer vers la Tour.",objectif:"Prparer l'assaut."},mecaniques:{defis:["Stratgie (DD 16) : Coordonner les attaques de diversion."],indices:["L'excution est prvue  midi pile."],recompenses:"Soutien des troupes de Mara."},transitions:{success:"Dpart pour la Place."}},{title:"Scne 2 : La Place des Excutions",type:"Combat Hroque",image:"./images/scenes/sauvetage_thorgar.jpg",locationId:"place_executions",npcIds:["thorgar_prisonnier","bourreau_zombie"],description:{resume:"Diversion et libration de Thorgar.",visuel:"Thorgar sur l'chafaud. Le bourreau lve sa hache. La foule de zombies regarde.",audio:"Grondement de la foule morte.",odeur:"Charogne.",lumiere:"Soleil noir."},narration:{declencheur:"Arrive sur la place.",texte_a_lire:"Vous n'avez pas le temps pour la subtilit. Vous chargez. Mara et ses hommes occupent les gardes. Vous, vous foncez sur l'chafaud.",contexte_mj:"Combat contre le temps. 3 rounds avant que la hache ne tombe.",objectif:"Sauver Thorgar."},mecaniques:{defis:["Combat : Bourreau (Guerrier 8) + 10 Zombies.","Chrono : 3 rounds."],indices:["Le bourreau est lent mais frappe fort."],recompenses:"Thorgar libr (soins, bndictions)."},transitions:{success:"Thorgar rejoint le groupe.",fail:"Thorgar meurt (malus moral, pas de soins)."}},{title:"Scne 3 : Les Portes de la Tour",type:"Combat de Masse",image:"./images/scenes/assaut_tour.jpg",locationId:"tour_arcanique_entree",npcIds:["coquilles_vides"],description:{resume:"Perce  travers les lignes de dfense.",visuel:"La Tour est entoure d'une arme de 'Coquilles' (zombies en armure arcanique).",audio:"Choc des armes.",odeur:"Ozone et sang.",lumiere:"clairs violets de la Tour."},narration:{declencheur:"Approche de la Tour.",texte_a_lire:"La rsistance ouvre une brche.  Allez-y !  hurle Mara.  On les retient !  Devant vous, les portes de la Tour, gardes par l'lite de Thade.",contexte_mj:"Les PJ doivent entrer seuls. La rsistance reste dehors.",objectif:"Entrer dans la Tour."},mecaniques:{defis:["Combat : 4 Gardes d'lite (Guerrier 6) avec quipement magique."],indices:["Les gardes sont lis  la Tour. Si la Tour tombe, ils tombent."],recompenses:"Entre dans l'Acte 2."},transitions:{success:"Entre dans la Tour."}}]},w_={title:"ACTE 2 : L'ASCENSION DES MIROIRS",stake:"Gravir la tour et djouer les piges dimensionnels de Thade.",location:"Intrieur de la Tour Arcanique.",scenes:[{title:"Scne 1 : Le Grand Escalier de Verre",type:"Combat / Environnement",image:"./images/scenes/escalier_verre.jpg",locationId:"tour_escalier",npcIds:["echos_planaires"],description:{resume:"Ascension o la gomtrie change. Combat contre des reflets.",visuel:"Un escalier en spirale sans fin. Les murs sont des miroirs. Vos reflets sortent des miroirs pour vous attaquer.",audio:"Bris de verre cristallin.",odeur:"Rien.",lumiere:"Reflets infinis."},narration:{declencheur:"Dbut de l'ascension.",texte_a_lire:"L'escalier semble ne jamais finir. Dans les miroirs, vos reflets vous sourient... cruellement. Ils sortent de la glace, armes  la main. Ce sont des chos Planaires, vos parts d'ombre.",contexte_mj:"Les ennemis ont les mmes stats que les PJ (ou simplifies).",objectif:"Vaincre ses propres dmons."},mecaniques:{defis:["Combat : Doubles des PJ (ou Ombres avec capacits des PJ).","Volont (DD 16) : Discerner le vrai du faux."],indices:["Les reflets sont gauchers (inverss)."],recompenses:"Passage au niveau suivant."},transitions:{success:"Arrive au laboratoire."}},{title:"Scne 2 : Le Laboratoire de Cristal",type:"Choix Moral",image:"./images/scenes/labo_thade_final.jpg",locationId:"tour_labo",npcIds:["corps_thade"],description:{resume:"Dcouverte du corps physique de Thade, vulnrable.",visuel:"Une salle remplie de cuves. Au centre, le corps d'origine de Thade, reli  des machines. Il est vide, son esprit est ailleurs.",audio:"Battement de cur mcanique.",odeur:"Liquide conservateur.",lumiere:"Verte."},narration:{declencheur:"Entre dans le labo.",texte_a_lire:"Voici le corps mortel de Thade. Il l'a abandonn pour devenir une entit pure. Mais il est encore reli  lui. Des tubes pompent l'nergie vitale de prisonniers nains pour le maintenir 'frais' au cas o. Vous pouvez dtruire le corps (ce qui affaiblira Thade l-haut) mais cela tuera les nains connects (choc en retour). Ou dbrancher les nains (les sauve, mais Thade reste  pleine puissance).",contexte_mj:"Choix difficile. Dtruire le corps = Thade perd 50 PV max et sa Rgnration. Sauver les nains = Allis moraux, XP bonus.",objectif:"Choisir."},mecaniques:{defis:["Mdecine (DD 18) : Comprendre le lien vital.","Choix : Dtruire (Facilite le boss) ou Sauver (Hrosme)."],indices:["Le corps est une ancre. Sans lui, Thade est instable."],recompenses:"Avantage tactique ou moral."},transitions:{success:"Vers la Salle des Cartes."}},{title:"Scne 3 : La Salle des Cartes",type:"Puzzle / Tactique",image:"./images/scenes/salle_cartes.jpg",locationId:"tour_cartes",npcIds:["gargouilles_sang"],description:{resume:"Puzzle pour lever le dme sur la ville.",visuel:"Une carte holographique de la ville. Le dme est projet d'ici. Des gargouilles de sang gardent le projecteur.",audio:"Bourdonnement du projecteur.",odeur:"Sang.",lumiere:"Rouge."},narration:{declencheur:"Arrive salle des cartes.",texte_a_lire:"C'est d'ici que le dme est maintenu. Si vous ralignez les lentilles, vous pouvez le dissiper. Mais les gardiens ne vous laisseront pas faire.",contexte_mj:"Combat tout en rsolvant un puzzle. Un PJ doit manipuler les lentilles (3 actions) pendant que les autres dfendent.",objectif:"Lever le dme."},mecaniques:{defis:["Combat : 4 Gargouilles de Sang (Rgnration).","Ingnierie/Arcanes (DD 18) : Raligner les lentilles."],indices:["Le dme tire son nergie du sommet. Couper le flux ici l'annule."],recompenses:"Le dme tombe. La ville est libre (moral +++)."},transitions:{success:"Vers le sommet."}},{title:"Scne 4 : Le Sacrilge d'Ilse",type:"Boss Mineur",image:"./images/scenes/ilse_monstre.jpg",locationId:"tour_antichambre",npcIds:["ilse_transformee"],description:{resume:"Confrontation avec l'apprentie de Thade, monstrueuse.",visuel:"Ilse, l'apprentie du scnario 1. Elle a fusionn avec un dmon. Elle garde la porte du toit.",audio:"Rire dment.",odeur:"Soufre.",lumiere:"Tnbres."},narration:{declencheur:"Devant la porte finale.",texte_a_lire:" Vous ! Vous avez gch mon rituel avec Jaren ! Le Matre m'a donn une seconde chance. Regardez ma puissance ! ",contexte_mj:"Ilse est un monstre tragique. Elle veut juste tre reconnue.",objectif:"Vaincre Ilse."},mecaniques:{defis:["Combat : Ilse (Hybride Dmon/Mage niv 9)."],indices:["Elle est instable. La provoquer sur ses checs la dsavantage."],recompenses:"Accs au toit."},transitions:{success:"Accs  l'Acte 3."}}]},V_={title:"ACTE 3 : L'APOTHOSE DU VIDE",stake:"Vaincre Thade Coren et refermer la Spirale dfinitivement.",location:"Sommet de la Tour Arcanique.",scenes:[{title:"Scne 1 : Le Trne de Sang",type:"Cinmatique",image:"./images/scenes/throne_sang.jpg",locationId:"tour_sommet",npcIds:["thade_coren_dieu"],description:{resume:"Thade attend au sommet, surplombant le vortex.",visuel:"Le toit de la Tour n'existe plus. C'est une plateforme flottant dans le vortex de la Spirale. Thade flotte au centre, nimb de lumire noire.",audio:"Le chant de l'univers qui se dchire.",odeur:"Vide.",lumiere:"toiles noires."},narration:{declencheur:"Arrive au sommet.",texte_a_lire:"Thade ouvre les yeux. Ils contiennent des galaxies.  Enfin. Les tmoins de ma naissance. Vous avez t utiles, en m'apportant l'nergie de la mine, en liminant mes rivaux. Maintenant, soyez utiles une dernire fois : mourrez pour nourrir mon ascension. ",contexte_mj:"Le boss final commence.",objectif:"Survivre au premier assaut."},mecaniques:{defis:[],indices:["Le Cristal charg (Scnario 2) que vous portez ragit  Thade."],recompenses:"Initiative."},transitions:{success:"Combat."}},{title:"Scne 2 : Le Combat des Deux Mondes",type:"Boss Final",image:"./images/scenes/combat_final.jpg",locationId:"tour_sommet_vortex",npcIds:["thade_coren_dieu"],description:{resume:"Duel final contre Thade. Le dcor alterne entre ralit et vide.",visuel:"Thade manipule la ralit. Un round vous tes sur la tour, le suivant dans le vide.",audio:"Tonnerre dimensionnel.",odeur:"Ozone.",lumiere:"Stroboscopique."},narration:{declencheur:"Combat.",texte_a_lire:"Thade n'est plus un mage. Il est la Spirale. Il change le terrain  volont.",contexte_mj:"Thade a 3 phases. 1: Mage (Sorts). 2: Avatar (Corps  corps, dgts de zone). 3: Vide (Intangible, doit tre attaqu avec le Cristal ou volont).",objectif:"Vaincre Thade."},mecaniques:{defis:["Combat : Thade Coren (Archimage / Avatar du Vide).","Environnement : Changement de terrain chaque round."],indices:["Utilisez le Cristal Satur du Scnario 2 pour briser son bouclier en phase 3."],recompenses:"Thade est vaincu."},transitions:{success:"Thade s'effondre."}},{title:"Scne 3 : L'Effondrement du Vortex",type:"Action / Sacrifice",image:"./images/scenes/effondrement_vortex.jpg",locationId:"tour_sommet_destruction",npcIds:[],description:{resume:"Thade tente d'entraner la ville. Il faut briser le Cristal.",visuel:"Le vortex devient instable. Il aspire tout. Thade rit en se dsintgrant.",audio:"Hurlement d'agonie de la ralit.",odeur:"Nant.",lumiere:"Noir total."},narration:{declencheur:"Dfaite de Thade.",texte_a_lire:" Si je tombe, tout tombe !  Le vortex s'largit. Il va avaler Val-d'Ombre. Le Cristal dans votre sac brle. Vous comprenez : il est le lien. Si vous le brisez dans le vortex, l'explosion refermera la faille. Mais l'onde de choc sera dvastatrice.",contexte_mj:"Dernier acte hroque. Briser le cristal inflige des dgts massifs (ou mort possible).",objectif:"Briser le Cristal."},mecaniques:{defis:["Courage (Volont DD 24).","Action : Dtruire le Cristal."],indices:["C'est la seule faon."],recompenses:"Le vortex se ferme."},transitions:{success:"Explosion blanche."}},{title:"Scne 4 : L'Aube Grise",type:"pilogue",image:"./images/scenes/epilogue_fin.jpg",locationId:"ruines_tour",npcIds:["mara_dirigeante"],description:{resume:"pilogue. Thade est vaincu. La ville est libre.",visuel:"Vous vous rveillez dans les dcombres de la Tour. Le soleil (le vrai) se lve. Mara et Thorgar vous trouvent.",audio:"Oiseaux. Vent calme.",odeur:"Matin frais.",lumiere:"Dore."},narration:{declencheur:"Rveil.",texte_a_lire:"C'est fini. Le dme est parti. La Spirale est close. Val-d'Ombre est en ruine, mais libre. On vous appelle 'Les Gardiens du Vide'. Mara vous sourit :  Il y a tant  reconstruire. ",contexte_mj:"Fin de la campagne.",objectif:"Savourer la victoire."},mecaniques:{defis:[],indices:["Une lueur violette persiste au fond des yeux d'un des PJ..."],recompenses:"Fin."},transitions:{success:"Crdits."}}]},P_={...z_,acts:[O_,w_,V_]},cl=[c_,v_,T_,R_,P_],k_=["size","type","alignment","fp","cr","environment","environnement","organisation","organization","ini","initiative","sens","senses","ca","ac","pv","hp","dv","hd","js","saves","rm","sr","rd","dr","vit","speed","abb","bab","grp","grapple","attaque","attack","att_complete","fullAttack","espace","space","allonge","reach","att_sp","specialAttacks","qual_sp","specialQualities","carac","abilities","comptences","competences","skills","dons","feats","tactiques","tactics","butin","loot","est_ennemi","isEnemy","role","description","tactical","buffs","spells_prepared","spellbook","ogas"],U_={vig:"+0",ref:"+0",vol:"+0"},I_={for:10,dex:10,con:10,int:10,sag:10,cha:10},B_={total:10,contact:10,pris_au_depourvu:10},xa=n=>Array.isArray(n)?n.map(xa):n&&typeof n=="object"?{...n}:n,H_=n=>{if(typeof n=="object")return{total:n.total,contact:n.touch||n.contact,pris_au_depourvu:n.flatFooted||n.pris_au_depourvu};const i=String(n).match(/^(\d+).*contact\s+(\d+).*d[e]pourvu\s+(\d+)/i);if(i)return{total:parseInt(i[1]),contact:parseInt(i[2]),pris_au_depourvu:parseInt(i[3])};const r=String(n).match(/^(\d+)/),l=r?parseInt(r[1]):10;return{total:l,contact:10,pris_au_depourvu:l}};function Rh(n={}){const i={...n};k_.forEach(l=>{l in i&&delete i[l]});const r={id:n.id??"",name:n.name??"",class:n.class??"",lvl:n.lvl??n.level_value??null,size:n.size??"Moyen",type:n.type??"Humanode (Humain)",alignment:n.alignment??"N",fp:n.fp??n.cr??1,environnement:n.environment??n.environnement??"",organisation:n.organisation??n.organization??"Solitaire",ini:n.ini??n.initiative??"+0",sens:n.sens??n.senses??"",ca:H_(n.ca??n.ac??B_),pv:n.pv??n.hp??1,dv:n.dv??n.hd??"1d8",js:xa(n.js??n.saves??U_),rm:n.rm??n.sr??null,rd:n.rd??n.dr??null,vit:n.vit??n.speed??"9 m",abb:n.abb??n.bab??"+0",grp:n.grp??n.grapple??"+0",attaque:n.attaque??n.attack??"",att_complete:n.att_complete??n.fullAttack??"",espace:n.espace??n.space??"1,5 m",allonge:n.allonge??n.reach??"1,5 m",att_sp:xa(n.att_sp??n.specialAttacks??[]),qual_sp:xa(n.qual_sp??n.specialQualities??[]),carac:xa(n.carac??n.abilities??I_),comptences:n.comptences??n.competences??n.skills??"",dons:n.dons??n.feats??"",tactiques:n.tactiques??n.tactics??"",butin:n.butin??n.loot??"",est_ennemi:n.est_ennemi??n.isEnemy??!1,role:n.role??n.description??"",tactical:xa(n.tactical??null),buffs:xa(n.buffs??[]),spells_prepared:xa(n.spells_prepared??n.spellbook??{}),ogas:xa(n.ogas??{occupation:"",goal:"",attitude:"",stake:""})};return{...i,...r}}const G_=[{id:"thade_coren",name:"Thade Coren",class:"Magicien",lvl:10,size:"Moyen",type:"Humanode (humain)",alignment:"LN",fp:10,environment:"Val-d'Ombre (Universit, Conclave) puis Spirale",organization:"Solitaire (manipulateur)",initiative:"+2",senses:"Perception +8",ac:{total:20,touch:13,flatFooted:18},hp:68,hd:"10d4+30",saves:{fort:"+7",ref:"+6",will:"+11"},speed:"9 m",attack:"bton ferr +7 (1d6+1 contondant)",fullAttack:"bton ferr +7 (1d6+1) ou rayon affaiblissant +9  distance",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de magicien/ensorceleur (NLS 10) : contrle, ncromancie, entrave","Rayon affaiblissant 4/jour"],specialQualities:["Prparation : +2 DD pour les sorts de contrle lancs sur cibles affaiblies","Rsistance mentale (contre Charme) +2","Buff actif : Brume de dissimulation (20% de chances de rater, 10 min)"],abilities:{str:10,dex:14,con:14,int:20,wis:12,cha:16},skills:"Concentration +15, Diplomatie +12, Intimidation +11, Connaissance (arcane) +17, Connaissance (plans) +12, Psychologie +10",feats:"Volont de fer, Science de l'initiative, Incantation silencieuse, Incantation rflexe, Robustesse",tactics:"Commence par entraver (corde anime, immobilisation), place des rayons affaiblissants, puis ngocie si avantage. En fuite, utilise brume de dissimulation et dimensions mineures.",buffs:[{name:"Brume de dissimulation",effect:"20% de chances de rater les attaques contre lui",duration:"10 minutes"}],loot:"Bton ferr, notes ncromantiques, cristal mouchard, anneau de protection +1",disposition:"boss",isEnemy:!1,antagonist:!0,role:"Antagoniste principal, double jeu : mcne puis manipulateur.",details:["Motivation : Fusionner avec la Spirale pour atteindre l'immortalit.","Masque : Froid, acadmique, se prsente comme un alli rationnel.","Spoiler : Manipule les PJ ds les premiers scnarios en orientant leurs enqutes.","Combat : Dans le final, utilise la Tour comme catalyseur d'nergie ncromantique."],tactical:{bookReference:"Bestiaire : Dossier 'Thade Coren' (Chap. Manipulations & Spirale)",scenarioContext:"Acte 2-3 : infiltration au Conclave, ensuite confrontation finale dans la Spirale (cercle des miroirs). Focus sur les sorts de contrle pour dstabiliser les PJ avant de ngocier.",spells:[{name:"Rayon affaiblissant",details:"+9 / DD 16 Str, -2 Str/Con pendant 1 tour, 4/j. Permet de fragiliser la cible principale avant l'assaut."},{name:"Corde anime",details:"Prpare un pige pour restreindre un seul PJ : +12 toucher, DD 15 Force, idal pour neutraliser un tank temporairement."},{name:"Brume de dissimulation",details:"Prpare sa retraite ou se repositionner derrire un masque magique ; dclenche aprs avoir lanc rayon ou immobilisation."}],tacticFeats:[{name:"Science de l'initiative",details:"Donne une fentre pour activer un sort ds le tour 1 et imposer son plan tactique."},{name:"Incantation rflexe",details:"Permet de lancer un sort de raction (rayon ou tlportation mineure) quand un PJ s'approche trop."}],tacticSummary:"Dmarre par des contrles (corde anime, immobilisation), enchane avec rayon affaiblissant, puis se met en retrait pour converser/ngocier. Garde une brume active pour fuir vers les tages suprieurs si mis en difficult."},ogas:{occupation:"Dirige ses recherches sur la Spirale depuis son laboratoire secret",goal:"Fusionner avec la Spirale pour atteindre l'immortalit arcanique",attitude:"Froid et acadmique, se prsente comme un alli rationnel mais manipule subtilement",stake:"Risque de perdre son accs  la Spirale et ses annes de recherches ; peut gagner le pouvoir ultime"}}],J_=[{id:"thorgar_pretre_nain",name:"Thorgar, Haut Clerc, nain",class:"Prtre",lvl:6,size:"Moyen",type:"Humanode (nain)",alignment:"LB",fp:6,environment:"Quartier du Savoir / Temple-Forgeron",organization:"Solitaire ou avec 1-2 acolytes",initiative:"-1",senses:"Vision dans le noir 18 m, Perception +8",ac:{total:19,touch:9,flatFooted:19},hp:52,hd:"6d8+24",saves:{fort:"+9",ref:"+1",will:"+8"},speed:"6 m (armure)",attack:"marteau de guerre +9 (1d8+3 contondant)",fullAttack:"marteau de guerre +9 (1d8+3)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Renvoi des morts-vivants 4/jour (Cha +1, Prtre 6)","Spcialit : bndiction contre morts-vivants (+1 JS et jets d'attaque contre morts-vivants)"],specialQualities:["Rsistance naine (+2 JS poison, sorts, effets magiques)","Dtection des passages secrets pierreux","Buff actif : Bndiction (+1 attaque/sauvegarde peur, 6 min)"],abilities:{str:14,dex:8,con:18,int:12,wis:16,cha:12},skills:"Connaissance (religion) +10, Premiers secours +9, Diplomatie +6, Intimidation +6",feats:"Robustesse, Science de l'initiative (sacr), Incantation statique",tactics:"Ouvre avec bndiction/armes magiques, se place en premire ligne, canalise pour soutenir. Refuse de fuir tant que des reliques sont menaces.",buffs:[{name:"Bndiction",effect:"+1 aux jets d'attaque et de sauvegarde contre la peur",duration:"6 minutes"}],loot:"Marteau de guerre grav, reliques bnites, anneau d'acier runique (+1 CA naturelle)",disposition:"neutre",isEnemy:!1,role:"Alli, prtre du Temple, protecteur du Savoir",details:["Motivation : Protger la mmoire des morts, empcher l'ouverture de la Spirale et sauver les civils.","Attitude : Grave, inflexible sur les questions sacres, mais reconnaissant envers les PJ.","Usage : Point d'ancrage moral, soins, informations secrtes. Dclenche le 'Dilemme de Thorgar'.","Lien : Premier  parler de la 'maladie' de la montagne."],tactical:{bookReference:"Bestiaire : Portrait 'Thorgar, prtre du Temple-Forgeron'",scenarioContext:"Acte 1-2 : support de la ligne de front dans le Temple. Utilise ses bndictions pour renforcer les gardes et ses pouvoirs contre morts-vivants dans les catacombes.",spells:[{name:"Bndiction",details:"+1 d'attaque et de sauvegardes pour les allis proches (3/j). Lance ds l'engagement pour couvrir les gardes."},{name:"Renvoi des morts-vivants",details:"4/j, 2d6+7 DV affects; priorise les morts-vivants menaant les gardes."}],tacticFeats:[{name:"Robustesse",details:"Permet de rester au contact et d'absorber les dgts lors des charges ennemies."}],tacticSummary:"Se place en premire ligne pour canaliser/ soigner les allis. S'il est menac par morts-vivants, utilise canalisation pour les affaiblir ; refuse de fuir tant que reliques sont protges."},ogas:{occupation:"Protge le Temple-Forgeron et ses reliques sacres",goal:"Empcher l'ouverture de la Spirale et protger la mmoire des morts",attitude:"Grave et inflexible sur les questions sacres, mais reconnaissant envers ceux qui aident",stake:"Risque la profanation des reliques et la perte de son temple ; peut sauver Val-d'Ombre de la corruption"}},{id:"aubergiste_pic_brise",name:"Brand, aubergiste du Pic Bris",class:"Expert",lvl:3,size:"Moyen",type:"Humanode (Humain)",alignment:"NB",fp:3,environment:"Vieille Ville  Auberge du Pic Bris",organization:"Solitaire (avec personnel 1-2)",initiative:"+1",senses:"Dtection +5",ac:{total:14,touch:11,flatFooted:13},hp:18,hd:"3d8+3",saves:{fort:"+3",ref:"+2",will:"+2"},speed:"9 m",attack:"Matraque +4 (1d6+1 non ltal)",fullAttack:"Matraque +4 (1d6+1 non ltal)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Contacts tendus en ville (+4 Estimation/Collecte d'infos sur rumeurs locales)"],abilities:{str:13,dex:12,con:12,int:10,wis:11,cha:12},skills:"Diplomatie +6, Psychologie +5, Dtection +5, Estimation +6",feats:"Arme de Prdilection (matraque), Vigilance",tactics:"Tente d'apaiser, ne se bat qu'en lgitime dfense ; connat les issues de l'auberge.",loot:"Cls des chambres, petite caisse de pices, liste de clients.",disposition:"neutre",isEnemy:!1,role:"Hte bien inform qui entend toutes les conversations.",details:["Motivation : Protger sa rputation et viter les ennuis avec la garde.","Attitude : Jovial en public, prudent en priv ; observe beaucoup.","Usage : Source de rumeurs, point de contact pour guider les PJ vers leurs premires pistes."],ogas:{occupation:"Gre son auberge et coute les conversations des clients",goal:"Protger sa rputation et son commerce tout en restant inform",attitude:"Jovial et accueillant en public, mais prudent et observateur en priv",stake:"Risque des ennuis avec la garde ou des factions ; peut devenir une source d'informations prcieuse"}},{id:"etudiant_universite",name:"Althis, apprenti archiviste",class:"Expert",lvl:2,size:"Moyen",type:"Humanode (humain)",alignment:"NB",fp:2,environment:"Universit de Magie de Val-d'Ombre  Cour centrale",organization:"Solitaire (parfois avec 1-2 condisciples)",initiative:"+1",senses:"Perception +4",ac:{total:12,touch:11,flatFooted:11},hp:9,hd:"2d8",saves:{fort:"+1",ref:"+1",will:"+3"},speed:"9 m",attack:"bton runique +1 (1d6 non ltal)",fullAttack:"bton runique +1 (1d6 non ltal)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Mmoire prodigieuse (+2 Collecte d'infos sur l'Universit)","Buff actif : Calme mental (bonus +2 aux jets de Volont contre charme/peur, 10 min)"],abilities:{str:10,dex:12,con:12,int:14,wis:12,cha:11},skills:"Diplomatie +6, Collecte d'infos +7, Connaissance (arcane) +9, Psychologie +4",feats:"Science de l'initiative, Don de ngociateur",tactics:"vite toute violence. Prfre parlementer, partager des rumeurs ou accompagner les PJ jusqu'au bureau de Thade si convaincu.",loot:"Cl de dortoir en argent, carnet de rumeurs griffonnes, badge de Nyx (preuve implicante).",disposition:"neutre",isEnemy:!1,role:"tudiant inquiet qui sert de premier point de contact avec l'Universit.",tactical:{bookReference:"Scnario 1  Acte 2, Scne 1 : La Fraternit Dissoute",scenarioContext:"Althis craint encore la Fraternit Nyx mais sait que Thade cache des secrets. Il accepte d'aider les PJ si ceux-ci restent discrets.",spells:[],specialActions:[{name:"Guide improvis",details:"Peut accorder un bonus circonstanciel de +2 aux tests de Diplomatie ou de Collecte d'infos  l'Universit s'il accompagne les PJ."},{name:"Rumeurs touffes",details:"Sur un test de Diplomatie DD 15 russi par les PJ, Althis partage des rumeurs ciblant directement Thade Coren."}],tacticFeats:[{name:"Science de l'initiative",details:"Toujours le premier  parler pour viter que les recteurs ne se'en mle."}],tacticSummary:"Tente de calmer toute tension et oriente les PJ vers le bureau de Thade aprs les avoir mis en garde contre la surveillance du Conseil."},ogas:{occupation:"Archive les documents de l'Universit.",goal:"Aider les PJ  dcouvrir la vrit sur Thade sans se mettre en danger",attitude:"Nerveux mais coopratif, veut bien faire mais craint les reprsailles",stake:"Peut gagner la confiance des PJ et un alli puissant"}},{id:"capitaine_garde_temple",name:"Capitaine de la garde du Temple",class:"Guerrier",lvl:5,size:"Moyen",type:"Humanode (humain)",alignment:"LN",fp:4,environment:"Temple-Forgeron et environs",organization:"Escouade (capitaine + 3-6 gardes)",initiative:"+1",senses:"Perception +6",ac:{total:18,touch:11,flatFooted:17},hp:40,hd:"5d10+10",saves:{fort:"+6",ref:"+3",will:"+2"},speed:"6 m (armure)",attack:"pe longue +8 (1d8+3 tranchant)",fullAttack:"pe longue +8/+3 (1d8+3)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Ordre de tir (les gardes allis gagnent +1 attaquer pour 1 tour)"],specialQualities:["Bonus de commandement (+1 moral aux gardes  9 m)"],abilities:{str:15,dex:12,con:14,int:10,wis:12,cha:12},skills:"Perception +6, Intimidation +7, Profession (soldat) +8",feats:"Science de l'initiative, Robustesse, Arme de prdilection (pe longue)",tactics:"Forme les gardes en ligne, couvre la retraite des civils, ngocie si l'autorit du Temple est invoque.",loot:"pe longue grave, plastron bleu nuit, sceau du Temple",disposition:"neutre",isEnemy:!1,role:"Officier pragmatique, pivot entre temple et civils.",details:["Motivation : Maintenir l'ordre et viter une guerre civile ouverte.","Attitude : Suspicion envers les PJ impliqus dans trop d'incidents.","Combat : Peut devenir un ennemi direct si les PJ se rangent ouvertement contre le Conseil.","Spoiler : Manipul par des ordres falsifis provenant de la faction de Thade."],tactical:{bookReference:"Bestiaire : 'Capitaine de la garde du Temple' (Quartier du Savoir)",scenarioContext:"Acte 1 : dfend l'accs au Temple-Forgeron. Coordonne les gardes et use de ses ordres pour encadrer les civils.",spells:[],specialActions:[{name:"Ordre de tir",details:"+1 aux jets d'attaque des gardes  9 m pendant 1 tour (1/j)."}],tacticFeats:[{name:"Science de l'initiative",details:"Initie les charges coordonnes avant que les PJ ne s'organisent."},{name:"Robustesse",details:"Absorbe les attaques pendant qu'il protge un passage."}],tacticSummary:"Reste en formation serre, couvre la retraite des civils et force les PJ  passer par les gardes. Plie si l'autorit du Temple l'exige."},ogas:{occupation:"Commande l'escouade de gardes du Temple-Forgeron",goal:"Maintenir l'ordre et viter une guerre civile ouverte",attitude:"Suspicieux envers les PJ impliqus dans trop d'incidents, mais pragmatique",stake:"Risque de perdre le contrle de la situation et de voir le chaos s'installer ; peut restaurer l'ordre"}},{id:"gardien_cimetiere",name:"Rorek fils de Kargun, Gardien du Cimetire",class:"Prtre",lvl:4,size:"Moyen",type:"Humanode (Humain)",alignment:"NB",fp:4,environment:"Cimetire en terrasse",organization:"Solitaire",initiative:"+1",senses:"Dtection +7",ac:{total:16,touch:11,flatFooted:15},hp:32,hd:"4d8+12",saves:{fort:"+6",ref:"+2",will:"+2"},speed:"9 m",attack:"Bton Ferr +6 (1d6+2 non ltal)",fullAttack:"Bton Ferr +6 (1d6+2 non ltal)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Renvoi des morts-vivants 3/jour (Cha +0, Prtre 4)"],specialQualities:["Bonus +2 JS contre la peur dans le cimetire","Dtection des Perturbations du Sol Sacr"],abilities:{str:14,dex:12,con:16,int:10,wis:12,cha:10},skills:"Survie +8, Dtection +7, Connaissance (religion) +6",feats:"Robustesse, Vigilance, Arme de Prdilection (bton)",tactics:"Avertit avant d'attaquer, soutient les PJ contre profanateurs ; se replie dans le mausole si submerg.",loot:"Cls du mausole, amulette bnie (+1 JS contre peur).",disposition:"neutre",isEnemy:!1,role:"Protecteur bienveillant du cimetire, ressource pour informations ou bndictions.",tactical:{bookReference:"Bestiaire : 'Gardien du Cimetire' (Terrasse du Cimetire)",scenarioContext:"Acte 2 : protge les spultures contre les profanateurs et les morts-vivants ; sert d'alli mais peut repousser les PJ si la peur s'installe.",spells:[],specialActions:[{name:"Renvoi des morts-vivants",details:"3/j, 2d6+4 DV affects, repousse ou dtruit les morts-vivants."}],tacticFeats:[{name:"Robustesse",details:"Soutient la ligne quand les morts-vivants attaquent en masse."},{name:"Vigilance",details:"Maintient les PJ en scurit avec une perception accrue de la peur et de la trahison."}],tacticSummary:"Privilgie la prvention : avertit avant d'attaquer, soutient les PJ contre les profanations, puis se replie dans le mausole si submerg."},ogas:{occupation:"Protge le cimetire en terrasse contre les profanateurs et morts-vivants",goal:"Prserver la saintet des spultures et empcher toute profanation",attitude:"Bienveillant et protecteur, avertit avant d'attaquer",stake:"Risque la profanation des tombes et l'invasion de morts-vivants ; peut sanctifier le cimetire"}},{id:"sniv_kobold",name:"Sniv",class:"Guerrier",lvl:1,size:"Petit",type:"Humanode (Reptilien)",alignment:"LM",fp:"1/4",environment:"gouts de Val-d'Ombre",organization:"Solitaire (survivant)",initiative:"+1",senses:"Vision dans le noir 18 m, Dtection +2",ac:{total:15,touch:12,flatFooted:14},hp:4,hd:"1d8",saves:{fort:"+2",ref:"+1",will:"-1"},speed:"9 m",attack:"Lance +1 corps  corps (1d6-1) ou fronde +3  distance (1d3-1)",fullAttack:"Lance +1 corps  corps (1d6-1) ou fronde +3  distance (1d3-1)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Vision dans le noir 18 m","Sensibilit  la lumire","Traits des reptiliens"],abilities:{str:9,dex:13,con:10,int:10,wis:9,cha:8},skills:"Artisanat (piges) +2, Discrtion +6, Dplacement silencieux +2, Dtection +2, Fouille +2, Profession (mineur) +2",feats:"Vigilance",tactics:"Ne combat pas, fuit et se cache, ngocie sa survie en pleurnichant.",loot:"Un morceau de craie, une dent en or (vole), cl tordue.",disposition:"neutre",isEnemy:!1,role:"Tmoin cl des vnements dans les gouts, guide potentiel.",details:["Motivation : Survivre  la colre de Kaela et s'enfuir des gouts.","Attitude : Lche, pleurnichard, mais utile si rassur.","Lien : Ancien serviteur de Jaren, terrifi par la 'Sorcire' (Kaela/Ilse)."],tactical:{bookReference:"Scnario 1  Acte 3, Scne 1 : Le Kobold Tmoin",scenarioContext:"Cach dans un conduit, il observe les PJ. Il ne combat pas sauf si accul.",spells:[],specialActions:[{name:"Supplication",details:"Peut donner des informations prcises sur les piges si on lui promet la vie sauve (Diplomatie DD 12)."},{name:"Guide des conduits",details:"Connat les passages troits permettant d'viter les patrouilles (Avantage furtivit)."}],tacticFeats:[],tacticSummary:"Ne combat pas. Se rend immdiatement ou fuit. Utilise sa petite taille pour passer dans les tuyaux."},ogas:{occupation:"Se cache dans les gouts en attendant que a se calme",goal:"chapper  la sorcire et trouver un nouveau matre ou un coin sr",attitude:"Terrifi et soumis, prt  trahir ses anciens matres pour survivre",stake:"Risque d'tre tu par les cratures de Kaela ou les PJ ; peut offrir un accs sr au manoir"}},{id:"pretre_nain_fantome",name:"Fantme de Borin, Ancien Prtre du Temple",class:"Esprit",lvl:null,size:"Moyen",type:"Esprit (Incorporel)",alignment:"NB",fp:0,environment:"Sanctuaire Bris  Temple-Forgeron",organization:"Solitaire",initiative:"+0",senses:"Vision dans le noir 18 m, perception des motions",ac:{total:12,touch:12,flatFooted:12},hp:1,hd:"1d8",saves:{fort:"+0",ref:"+0",will:"+5"},speed:"Vol 9 m (parfaite)",attack:"",fullAttack:"",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Incorporel","Communication tlpathique (porte 9 m)","Immunit : dgts physiques, poison, sommeil","Rsistance 50% contre les effets magiques"],abilities:{str:null,dex:null,con:null,int:12,wis:14,cha:10},skills:"Connaissance (religion) +8, Psychologie +6",feats:"Volont de fer",tactics:"Inoffensif, apparat pour guider et raconter l'histoire.",loot:"Aucun",disposition:"neutre",isEnemy:!1,role:"Gardien spirituel du sanctuaire, source de lore.",details:["Apparat comme une silhouette naine translucide tenant un symbole sacr.","Ne peut ni attaquer ni interagir physiquement avec le monde matriel.","Parle avec une voix douce et triste.","Reste li au sanctuaire qu'il protgeait de son vivant."],tactical:{bookReference:"Scnario 1  Acte 2, Scne 4 : Le Sanctuaire Bris",scenarioContext:"Apparat quand les PJ entrent dans le sanctuaire dtruit pour leur raconter ce qui s'est pass.",spells:[],specialActions:[{name:"Apparition pacifique",details:"Se matrialise doucement, ne cherche pas  effrayer."},{name:"Rcit historique",details:"Raconte la trahison de Thade et la destruction du sanctuaire."}],tacticFeats:[],tacticSummary:"Guide spirituel inoffensif qui fournit des informations cruciales sur l'histoire du Temple."},ogas:{occupation:"Veille sur les ruines du sanctuaire",goal:"Faire connatre la vrit sur la trahison de Thade",attitude:"Calme et mlancolique, bienveillant envers les visiteurs respectueux",stake:"Risque de disparatre si le sanctuaire est compltement dtruit ; peut rvler des secrets importants"}}],F_=[{id:"durnik_chef_mineur",name:"Durnik, chef de la Guilde des Mineurs",class:"Expert",lvl:5,size:"Moyen",type:"Humanode (humain)",alignment:"NB",fp:5,environment:"Quartier des Mineurs, tunnels suprieurs",organization:"Avec 2-4 gardes de mine",initiative:"+1",senses:"Perception +5",ac:{total:17,touch:11,flatFooted:16},hp:32,hd:"5d6+10",saves:{fort:"+8",ref:"+2",will:"+4"},speed:"9 m",attack:"hache de mine +8 (1d10+4 tranchant)",fullAttack:"hache de mine +8/+3 (1d10+4)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Cri d'alarme 1/j (Intimidation de masse, test VS Volont DD 14 : secou 1d4 rd)"],specialQualities:["Rsistance  la fatigue (tests Con pour marches forces +4)"],abilities:{str:16,dex:12,con:16,int:10,wis:12,cha:12},skills:"Escalade +9, Survie +7, Intimidation +8, Artisanat (mines) +9",feats:"Attaque en puissance, Science de l'initiative, Robustesse",tactics:"Se place en avant dans les tunnels mins, fait reculer les PJ s'ils menacent les mineurs ; accepte de ngocier si preuve de complot.",loot:"Hache lourde runique, carnet de codes des tunnels, pierre de tonnerre",disposition:"neutre",isEnemy:!1,role:"Chef de guilde, ouvre ou ferme l'accs aux mines.",details:["Motivation : Protger les mineurs de la 'pierre malade' et des dcisions du Conseil.","Attitude : Bourru mais honnte. Respecte les PJ qui prennent des risques pour les siens.","Utilisation : Donneur de qutes pour les scnarios lis  la Mine et  la Spirale.","Test social : Difficile  convaincre si les PJ sont trop proches des Mages ou du Conseil.","Au Pont Secret : Rsolu  mourir pour gagner du temps lors de l'vacuation (sacrifice hroque)."],tactical:{bookReference:"Bestiaire : Dossier 'Durnik, chef des mineurs' (Actes 2-3)",scenarioContext:"Acte 2 : surveille les accs aux tunnels suprieurs. Utilise son terrain pour crer des goulots d'tranglement et protger les mineurs.",spells:[],specialActions:[{name:"Cri d'alarme",details:"1/j, effectue un test de Volont DD 14 pour retirer les PJ du support moral (-1 moral, secou 1d4 tours)."}],tacticFeats:[{name:"Attaque en puissance",details:"Maximise les dgts avec sa hache pour punir les intrus."},{name:"Robustesse",details:"Reste au contact mme quand les tunnels s'effondrent."}],tacticSummary:"Se place devant les berges mines, frappe en premire ligne, puis recule derrire des arcs de pierres. Fait reculer les PJ quand deux gardes tombent."},ogas:{occupation:"Dirige la Guilde des Mineurs et protge les tunnels suprieurs",goal:"Protger ses mineurs de la 'pierre malade' et des dcisions dangereuses du Conseil",attitude:"Bourru mais honnte, respecte ceux qui prennent des risques pour les siens",stake:"Risque la vie de ses mineurs et la fermeture des mines ; peut sauver ses hommes par l'vacuation"}},{id:"tenancier_taverne",name:"Mara, des Fumes Rouges",class:"Expert",lvl:4,size:"Moyen",type:"Humanode (humain)",alignment:"NB",fp:3,environment:"Quartier des Mineurs  Taverne des Fumes Rouges",organization:"Solitaire (avec personnel)",initiative:"+0",senses:"Psychologie +8",ac:{total:12,touch:10,flatFooted:12},hp:22,hd:"4d8+4",saves:{fort:"+2",ref:"+1",will:"+5"},speed:"9 m",attack:"Gourdin +4 (1d6+1)",fullAttack:"Gourdin +4 (1d6+1)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Rseau des mineurs (+4 Collecte d'infos dans le quartier)"],abilities:{str:12,dex:10,con:12,int:12,wis:14,cha:14},skills:"Psychologie +8, Diplomatie +9, Profession (aubergiste) +10, Intimidation +6",feats:"Volont de fer, Ngociateur",tactics:"Utilise sa rputation pour calmer les bagarres. Sort son gourdin 'Brise-Crne' si ncessaire.",loot:"Caisse de la taverne, cl du puits secondaire.",disposition:"neutre",isEnemy:!1,role:"Tenancire respecte, point d'info central du quartier minier.",details:["Motivation : Protger 'ses' mineurs et garder son tablissement debout.","Attitude : Maternelle mais ferme. Ne s'en laisse pas compter par les mages.","Lien : Possde les cls d'accs aux puits secondaires (Scnario 2)."],ogas:{occupation:"Gre la Taverne des Fumes Rouges et coute les conversations des mineurs",goal:"Protger 'ses' mineurs et maintenir son tablissement debout",attitude:"Maternelle mais ferme, ne se laisse pas intimider par les mages",stake:"Risque de perdre son tablissement et de voir ses mineurs en danger ; peut devenir une allie cl"}}],Q_=[{id:"marchand_fou_mercane",name:"Le Marchand Fou (Mercane exil)",class:null,lvl:null,size:"Grand",type:"Extrieur (Extraplanaire)",alignment:"LN",fp:5,environment:"Spirale  Couloirs de Chair",organization:"Solitaire",initiative:"+2",senses:"Vision dans le noir 18 m, Dtection +10",ac:{total:15,touch:11,flatFooted:13},hp:26,hd:"4d8+8",saves:{fort:"+3",ref:"+6",will:"+8"},speed:"9 m (6 c.)",attack:"Dague +3 corps  corps (1d6)",fullAttack:"Dague +3 corps  corps (1d6)",space:"3 m",reach:"3 m",specialAttacks:[],specialQualities:["Rsistance  la magie 25","Tlpathie 30 m","Pouvoirs magiques (NLS 9) : porte dimensionnelle 3/j, invisibilit (personnel)  volont, dtection de la magie  volont","Coffre secret (Mag) : comme coffre secret de Lomund"],abilities:{str:11,dex:14,con:14,int:20,wis:15,cha:16},skills:"Estimation +17, Bluff +10, Diplomatie +10, Intimidation +10, Psychologie +9, Connaissance (plans) +12",feats:"Vigilance, Talent (Estimation)",tactics:"Ngocie d'abord, se rend invisible si menac, tente la fuite dimensionnelle. Vend information contre vitalit.",buffs:[],loot:"Trousse de marchandises exotiques, anneau de discrtion mineure",disposition:"neutre",isEnemy:!1,role:"Marchand opportuniste, prt  des marchs tranges.",tactical:{bookReference:"Manuel des Monstres II p.152",scenarioContext:"Acte 4 : apparait en ngociateur instable dans les couloirs de la Spirale, prt  sacrifier des objets contre des informations.",spells:[{name:"Porte dimensionnelle (Mag)",details:"3/j pour s'chapper ou faire traverser un alli."},{name:"Invisibilit (Mag)",details:" volont, personnel uniquement."}],specialActions:[{name:"Coffre secret",details:"Stocke ses marchandises dans un coffre extradimensionnel, invoque  volont."}],tacticFeats:[{name:"Vigilance",details:"Repre les mensonges et les embuscades."},{name:"Talent (Estimation)",details:"Expert en valuation d'objets magiques et prcieux."}],tacticSummary:"Ngocie, propose des deals, puis se rend invisible ou franchit une porte dimensionnelle si la situation tourne au combat."},ogas:{occupation:"Erre dans les Couloirs de Chair de la Spirale en cherchant une sortie",goal:"chapper  la Spirale et retrouver la libert, quitte  faire des marchs tranges",attitude:"Opportuniste et instable, prt  ngocier mais mfiant",stake:"Risque de rester pig ternellement dans la Spirale ; peut obtenir sa libert par un march"}},{id:"lysa_exploratrice_perdue",name:"Lysa, exploratrice perdue",class:"Roublard",lvl:4,size:"Moyen",type:"Humanode (humain)",alignment:"NB",fp:4,environment:"Spirale  Premier cercle",organization:"Solitaire (survivante)",initiative:"+3",senses:"Perception +7",ac:{total:17,touch:13,flatFooted:14},hp:22,hd:"4d6+8",saves:{fort:"+3",ref:"+7",will:"+1"},speed:"9 m",attack:"pe courte +6 (1d6+1)",fullAttack:"pe courte +6 (1d6+1)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Attaque sournoise +2d6"],specialQualities:["vasion","Esquive instinctive","Recherche des piges"],abilities:{str:12,dex:17,con:14,int:12,wis:10,cha:10},skills:"Discrtion +10, Dtection +7, Survie +5, Acrobaties +10, Dplacement silencieux +10",feats:"Arme de prdilection (pe courte), Science de l'initiative, Esquive",tactics:"Observe avant d'agir ; coopre si on partage eau/soins. vite le combat direct, cherche les issues.",loot:"Carte dforme de la Spirale, rations maigres",disposition:"neutre",isEnemy:!1,role:"Guide de circonstance, possible allie ou romance survie.",tactical:{bookReference:"Bestiaire : 'Lysa, exploratrice perdue' (Spirale  Premier cercle)",scenarioContext:"Acte 3 : guide les PJ puis doit se dfendre contre des chasseurs. Prfre viter le combat direct.",spells:[],specialActions:[{name:"Attaque sournoise",details:"+2d6 quand elle frappe depuis la cachette ou aprs une vasion."}],tacticFeats:[{name:"Tir de prcision",details:"Finit les cratures blesses  distance."},{name:"Esquive",details:"Reste hors de porte avec des dplacements prcis."}],tacticSummary:"Observe d'abord, coopre quand on partage ressources, puis frappe en retrait en visant les ouvertures ; fuit si la situation dgnre."},ogas:{occupation:"Survit dans le Premier cercle de la Spirale en cherchant une sortie",goal:"chapper  la Spirale et retrouver la surface",attitude:"Mfiante mais prte  cooprer si on partage ressources et informations",stake:"Risque de mourir de faim ou d'tre tue par les cratures ; peut s'chapper avec l'aide des PJ"}},{id:"zelekhut",name:"Zelekhut",class:null,lvl:null,size:"Grand",type:"Extrieur (Extraplanaire, Loi)",alignment:"LN",fp:9,environment:"Plan Mcanicus, Spirale  Salle des Engrenages",organization:"Solitaire",initiative:"+0",senses:"Vision dans le noir 18 m, vision lucide, dtection du chaos/mensonge",ac:{total:24,touch:9,flatFooted:24},hp:66,hd:"8d8+32",saves:{fort:"+10",ref:"+6",will:"+7"},speed:"15 m (10 c.), vol 18 m (moyenne)",attack:"Chane +13 corps  corps (2d6+7 plus paralysie)",fullAttack:"2 chanes +13 corps  corps (2d6+7 plus paralysie)",space:"3 m",reach:"3 m",specialAttacks:["Paralysie (Sur) : Vig DD 18 ou paralys 1d6+2 minutes"],specialQualities:["RD 10/chaotique","Rgnration 5 (chaotique)","Rsistance  la magie 20","Vision lucide permanente","Immunit : poison, maladie"],abilities:{str:25,dex:10,con:19,int:10,wis:13,cha:14},skills:"Dtection +12, Perception auditive +12, Psychologie +12, Fouille +11, Survie +12",feats:"Attaque en vol, Vigilance, Arme de prdilection (chane)",tactics:"Neutralise les fuyards et les parjures, ngocie si preuve de l'anomalie de Thade ; peut basculer d'alli  ennemi.",loot:"Cl de recalibrage, noyau d'nergie rgul.",disposition:"neutre",isEnemy:!1,role:"Gardien neutre des mcanismes de la Spirale, potentiel alli si convaincu.",tactical:{bookReference:"Manuel des Monstres p.160",scenarioContext:"Acte 4 : surveille l'accs mcanique de la Spirale. Utilise ses chanes paralysantes pour neutraliser les intrus.",spells:[],specialActions:[{name:"Paralysie",details:"Vig DD 18 ou paralys 1d6+2 minutes ; priorise les fuyards."}],tacticFeats:[{name:"Attaque en vol",details:"Fond sur les cibles et remonte aprs avoir frapp."},{name:"Vigilance",details:"Dtecte les intrus avant qu'ils ne puissent fuir."}],tacticSummary:"Vole au-dessus des intrus, frappe avec ses chanes pour paralyser, puis interroge. Peut ngocier si on prouve que Thade viole les lois cosmiques."},ogas:{occupation:"Surveille et maintient les mcanismes de la Salle des Engrenages",goal:"Prserver l'ordre et l'quilibre de la Spirale selon les lois cosmiques",attitude:"Neutre et mthodique, peut devenir alli si on prouve que Thade viole les lois",stake:"Risque de voir la Spirale corrompue par le chaos ; peut restaurer l'quilibre cosmique"}}],Y_=[{id:"archimage_defecteur",name:"Archimage Dfecteur",class:"Magicien",lvl:9,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:9,environment:"Quartier du Savoir  Tour des Mages (cachette)",organization:"Solitaire",initiative:"+2",senses:"Vision dans le noir (sort), Dtection +10",ac:{total:18,touch:12,flatFooted:16},hp:45,hd:"9d4+18",saves:{fort:"+5",ref:"+5",will:"+9"},speed:"9 m",attack:"Bton de force +5 (1d6+1)",fullAttack:"Bton de force +5 (1d6+1)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de Magicien NLS 9"],specialQualities:["Contre-mesures anti-ncromancie","Portails Rapides"],abilities:{str:8,dex:14,con:14,int:19,wis:14,cha:10},skills:"Art de la magie +16, Connaissances (arcanes) +16, Connaissances (plans) +14, Dcryptage +12",feats:"Ecole Renforce (Abjuration), Extension d'effet, Magie de Guerre",tactics:"Reste invisible, observe, et n'intervient que pour saboter un rituel ou fuir via un portail.",loot:"Parchemin de Dissipation Suprme, Cl de contournement des protections de la Tour.",disposition:"neutre",isEnemy:!1,role:"Ancien matre du Conseil, tente de saboter Thade de l'intrieur.",details:["Motivation : Stopper Thade avant la fusion avec la Spirale.","Attitude : Paranoaque, exige des preuves de loyaut.","Pouvoir : Portails rapides, contre-mesures anti-ncromancie.","Usage : Peut fournir des cls de contournement dans la Tour."],ogas:{occupation:"Se cache dans la Tour des Mages et observe les agissements de Thade",goal:"Stopper Thade avant qu'il ne fusionne avec la Spirale",attitude:"Paranoaque et mfiant, exige des preuves de loyaut avant d'aider",stake:"Risque d'tre dcouvert et limin par Thade ; peut empcher la catastrophe finale"}}],$_=[...G_,...J_,...F_,...Q_,...Y_],zh=$_.map(n=>Rh(n)),K_=[{id:"troll",name:"Troll",class:null,lvl:null,size:"Grand",type:"Gant",alignment:"CM",fp:5,environment:"Marais froids, souterrains",organization:"Solitaire ou groupe (2-4)",initiative:"+2",senses:"Vision dans le noir 27 m, vision nocturne, odorat",ac:{total:16,touch:11,flatFooted:14},hp:63,hd:"6d8+36",saves:{fort:"+11",ref:"+4",will:"+3"},sr:null,dr:null,speed:"9 m (6 c.)",attack:"Griffe +9 corps  corps (1d6+6)",fullAttack:"2 griffes +9 corps  corps (1d6+6) et morsure +4 corps  corps (1d6+3)",space:"3 m",reach:"3 m",specialAttacks:["ventration (Ext) : 2d6+9 si touche avec les deux griffes"],specialQualities:["Rgnration 5 (supprime par acide ou feu)","Vision dans le noir 27 m","Vision nocturne","Odorat"],abilities:{str:23,dex:14,con:23,int:6,wis:9,cha:6},skills:"Dtection +5, Perception auditive +5",feats:"Vigilance, Arme de prdilection (griffe), Pistage",tactics:"S'acharne sur la cible la plus proche ; rgnre constamment sauf si brl ou dissous  l'acide.",buffs:[],loot:"Standard",isEnemy:!0,role:"Prdateur rgnrant, terreur des souterrains.",tactical:{bookReference:"Manuel des Monstres p.247",scenarioContext:"Souterrains, marais, grottes. S'acharne sur les proies jusqu' ce qu'elles soient mortes ou qu'il soit brl.",spells:[],specialActions:[{name:"ventration",details:"2d6+9 dgts si touche avec les deux griffes."},{name:"Rgnration",details:"Rgnre 5 PV/round sauf dgts de feu ou d'acide."}],tacticFeats:[{name:"Pistage",details:"Suit les proies par l'odeur."},{name:"Arme de prdilection (griffe)",details:"+1 aux jets d'attaque avec les griffes."}],tacticSummary:"Fonce sur la cible la plus proche, utilise sa rgnration pour rester au combat ; vulnrable au feu et  l'acide."},ogas:{occupation:"Chasse dans les souterrains et les marais",goal:"Se nourrir et protger son territoire",attitude:"Agressif et bestial, attaque sans ngociation",stake:"Risque d'tre tu si brl ou dissous ; peut liminer les intrus"}},{id:"assassin_masque",name:"Assassin",class:"Roublard",lvl:6,size:"Moyen",type:"Humanode (Humain)",alignment:"NM",fp:5,environment:"Ruelles de Val-d'Ombre, toits",organization:"Solitaire ou duo",initiative:"+6",senses:"Dtection +8",ac:"18 (+4 Dex, +4 Armure) ; contact 14, pris au dpourvu 14",hp:33,dv:"6d6+12",js:{vig:"+5",ref:"+9",vol:"+3"},vit:"9 m, escalade 6 m",abb:"+4",grp:"+6",attaque:"Dague +8 (1d4+2, x2) ou Arbalte Lgre +8 (1d8, 19-20/x2)",att_complete:"Dague +8/+3 (1d4+2, x2) ou Arbalte Lgre +8 (1d8, 19-20/x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Attaque Sournoise +3d6","Poison Enduit (Vig. DD 15)"],qual_sp:["Esquive Instinctive","Bonus Discrtion +4 en milieu urbain"],carac:{for:12,dex:18,con:14,int:12,sag:10,cha:10},comptences:"Discrtion +14, Acrobaties +12, Dtection +8, Escalade +10",dons:"Science de l'Initiative, Tir de Prcision, Arme de Prdilection (dague)",tactiques:"Frappe depuis les ombres, s'acharne sur les cibles isoles ; peut ngocier un contrat si pris de vitesse.",butin:"Lettre scelle, fiole de poison, masque rituel",est_ennemi:!0,role:"Tueur  gages li aux complots urbains.",details:["Motivation : L'argent et le frisson du danger.","Attitude : Ne parle presque jamais, communique par gestes.","Combat : Spcialiste des attaques surprise et des chutes mortelles.","Spoiler : Peut tre li  une faction que les PJ croyaient allie."],tactical:{bookReference:"Bestiaire urbain",scenarioContext:"Acte 1-3 : embuscade dans les toits. Prfre frapper isolment avant que les gardes se regroupent.",spells:[],specialActions:[{name:"Attaque sournoise",details:"+3d6 ds qu'il frappe un ennemi en dehors du combat."},{name:"Poison enduit",details:"Application sur dague (Vig DD 15), utilis sur ses premires attaques pour maximiser la victime engage."}],tacticFeats:[{name:"Tir de prcision",details:"Ouverture sur la cible isole (dague ou arbalte)."},{name:"Science de l'initiative",details:"Permet d'agir avant la majorit de la troupe et de choisir sa cible."}],tacticSummary:"Frappe depuis les ombres, vise les cibles isoles, peut ngocier ou s'enfuir si surpris."},ogas:{occupation:"Traque ses cibles dans les ruelles et sur les toits de Val-d'Ombre",goal:"Accomplir son contrat d'assassinat pour l'argent et le frisson",attitude:"Silencieux et professionnel, communique par gestes, peut ngocier si pris de vitesse",stake:"Risque sa vie et sa rputation ; peut gagner une grosse somme et sa rputation"}},{id:"etudiant_renvoye",name:"Jaren",class:"Magicien",lvl:1,size:"Moyen",type:"Humanode (Humain)",alignment:"Neutre Mauvais",fp:1,environment:"Cimetire des Terrasses, Universit de Magie",organization:"Solitaire (accompagn de 3 brutes)",initiative:"+6",senses:"Dtection +2",ac:"12 (+2 Dex) ; contact 12, pris au dpourvu 10",hp:5,dv:"1d4+1",js:{vig:"+1",ref:"+2",vol:"+2"},vit:"9 m",abb:"+0",grp:"+1",attaque:"Dague +1 (1d4+1) ou Bton +1 (1d6+1)",att_complete:"Dague +1 (1d4+1) ou Bton +1 (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sort mineur  volont (Rayon de givre +3 toucher  distance, 1d3 froid)","Couverture : +4 CA contre les attaques  distance derrire une stle (terrain)"],qual_sp:["Science acadmique (+2 en Connaissances : arcanes)","Vu de Silence (Inconscient) : si interrog sur le Matre, dclenchement de censure (lment de scnario)","Buff actif : Armure de mage (+4 CA darmure, 1 heure)"],carac:{for:12,dex:14,con:12,int:15,sag:10,cha:8},comptences:"Connaissances (arcanes) +9, Art de la magie +6, Discrtion +6, Dtection +2",dons:"Science de l'Initiative, criture de parchemins",tactiques:"Reste derrire les brutes. Tour 1 : lance Armure de mage si menac (CA 16 ensuite). Sinon, Projectile magique sur la cible la plus blesse. Utilise Rayon de givre pour harceler et reculer. Cherche  fuir ds quune brute tombe.",buffs:[{name:"Armure de mage",effect:"+4 CA darmure (CA passe  16)",duration:"1 heure"}],spells_prepared:{niveau0:["Rayon de givre","Dtection de la magie","Lumire"],niveau1:["Armure de mage","Projectile magique"]},butin:"Broche en argent (fraternit Nyx), Outils chirurgicaux (Universit), Liste de 'Sujets' (Nains), 1 parchemin de Rayon affaiblissant",est_ennemi:!0,role:"tudiant dsespr et manipul, pivot de l'enqute entre le Cimetire et l'Universit.",tactical:{bookReference:"Scnario 1  Acte 1, Scne 3 : L'Interrogatoire interrompu",scenarioContext:"Membre junior de la Fraternit Nyx. Terrifi par Thade Coren, mais obsd par ses recherches.",spells:[{name:"Rayon de givre",details:"+3 toucher  distance, 1d3 froid."},{name:"Projectile magique",details:"1 projectile (1d4+1), pas de JS."},{name:"Armure de mage",details:"+4 CA darmure, dure 1 heure."}],specialActions:[{name:"Appel  l'aide",details:"Si Jaren tombe  3 PV ou moins, il tente de se rendre/fuir et marchande sa vie."}],tacticSummary:"Terrain + brutes = cran. Jaren nest pas un duelliste : il pique, recule, puis tente la fuite."},ogas:{occupation:"Mne des expriences ncromantiques au cimetire avec ses brutes",goal:"Prouver sa valeur  Thade Coren et regagner sa place  l'Universit",attitude:"Terrifi et dsespr, prt  se rendre si sa vie est menace",stake:"Risque l'emprisonnement ou la mort ; peut retrouver sa place  l'Universit"}},{id:"contremaitre_humain",name:"Varrus, contrematre humain",class:"Expert",lvl:5,size:"Moyen",type:"Humanode (Humain)",alignment:"LE",fp:5,environment:"Quartier des Mineurs  Place Centrale",organization:"Solitaire (avec 2 gardes)",initiative:"+1",senses:"Perception +5",ac:{total:16,touch:11,flatFooted:15},hp:27,hd:"5d6+10",saves:{fort:"+4",ref:"+2",will:"+4"},speed:"9 m",attack:"Fouet +6 (1d3 non ltal ou ltal)",fullAttack:"Fouet +6 (1d3)",space:"1,5 m",reach:"4,5 m (fouet)",specialAttacks:["Dsarmement (Amlior)"],specialQualities:["Autorit Tyranique (+2 Intimidation sur les mineurs)"],abilities:{str:14,dex:12,con:14,int:12,sag:10,cha:14},skills:"Intimidation +10, Psychologie +6, Profession (contrematre) +8",feats:"Maniement du fouet, Expertise du combat",tactics:"Reste derrire ses gardes, utilise son fouet pour dsarmer ou faire trbucher les meneurs.",loot:"Fouet de matre, liste noire des mineurs, lettre scelle (ordre de Thade).",isEnemy:!0,role:"Intermdiaire entre le Conseil et les mineurs.",details:["Motivation : Maintenir la production cote que cote pour conserver ses privilges.","Attitude : Mprisant envers les Nains, agressif envers les PJ qui remettent en cause l'autorit.","Combat : Peut devenir un antagoniste lors d'une meute ou d'un piquet de grve qui dgnre.","Indice : Reoit des ordres indirectement lis  Thade via des lettres scelles."],ogas:{occupation:"Supervise les mineurs sur la Place Centrale avec ses gardes",goal:"Maintenir la production cote que cote pour conserver ses privilges",attitude:"Mprisant envers les Nains, agressif envers ceux qui remettent en cause l'autorit",stake:"Risque de perdre sa position et ses privilges ; peut maintenir le contrle de la mine"}},{id:"patrouille_mixte_conseil",name:"Patrouille Mixte du Conseil",class:"Guerrier",lvl:4,size:"Moyen",type:"Humanode (Humain/Nain)",alignment:"LN",fp:4,environment:"Quartier des Mineurs  Alle des Artisans",organization:"Escouade (4 gardes)",initiative:"+0",senses:"Perception +4",ac:{total:17,touch:10,flatFooted:17},hp:30,hd:"4d10+8",saves:{fort:"+6",ref:"+1",will:"+1"},speed:"6 m",attack:"Hallebarde +6 (1d10+2)",fullAttack:"Hallebarde +6 (1d10+2)",space:"1,5 m",reach:"3 m",specialAttacks:["Formation de mur (Couverture +4 si adjacents)"],specialQualities:[],abilities:{str:15,dex:10,con:14,int:10,wis:10,cha:10},skills:"Dtection +5, Intimidation +6",feats:"Robustesse, Arme de prdilection (hallebarde)",tactics:"Barricadent les ruelles, utilisent l'allonge des hallebardes pour tenir la foule  distance.",loot:"Uniforme du Conseil, ordre d'arrestation vierge, cristal relais.",isEnemy:!0,role:"Escouade composite charge de briser la rsistance artisanale.",details:["Motivation : Appliquer les ordres de Thade sous couvert du Conseil.","Tactiques : Barricader les ruelles, utiliser des immobilisations magiques.","Indice : Le chef porte un cristal relais identique  celui de Thade."],ogas:{occupation:"Patrouille dans l'Alle des Artisans pour maintenir l'ordre",goal:"Appliquer les ordres du Conseil et briser la rsistance artisanale",attitude:"Disciplins et mthodiques, suivent les ordres sans question",stake:"Risque d'tre dbords par la foule ; peut rtablir l'ordre par la force"}},{id:"garde_portail_mine",name:"Escouade de Gardes du Portail",class:"Guerrier",lvl:3,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:3,environment:"Quartier des Mineurs  Entre de la Mine",organization:"Groupe (3-5)",initiative:"+1",senses:"Perception +5",ac:{total:16,touch:11,flatFooted:15},hp:26,hd:"3d10+6",saves:{fort:"+5",ref:"+2",will:"+1"},speed:"9 m",attack:"pe courte +5 (1d6+2)",fullAttack:"pe courte +5 (1d6+2)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:[],abilities:{str:14,dex:12,con:14,int:10,wis:10,cha:10},skills:"Psychologie +4, Dtection +5",feats:"Vigilance, Arme de prdilection",tactics:"Dfensive stricte. Ne frappent que si on force le passage ou si une arme est tire.",loot:"Cls du treuil, lanterne, sceau falsifi.",isEnemy:!0,role:"Soldats puiss chargs de verrouiller l'accs.",details:["Motivation : Obir aux ordres contradictoires du Conseil tout en vitant un massacre.","Attitude : Nerveuse, souponne les PJ d'espionnage.","Usage : Obstacles physiques ou ngociation sous pression.","Indice : Portent des sceaux falsifis lis aux lettres de Thade."],ogas:{occupation:"Garde l'entre de la mine et contrle les accs",goal:"Obir aux ordres du Conseil tout en vitant un massacre",attitude:"Nerveux et souponneux, craignent l'espionnage",stake:"Risque un massacre s'ils ouvrent le feu ; peuvent maintenir la paix par la ngociation"}},{id:"magi_tuteur_loyal",name:"Matre Arcaniste Loyaliste",class:"Magicien",lvl:9,size:"Moyen",type:"Humanode (Humain)",alignment:"LN",fp:9,environment:"Quartier du Savoir  Tour des Mages",organization:"Solitaire (avec golems ou lmentaires)",initiative:"+2",senses:"Dtection de la magie, Vision dans le noir",ac:{total:18,touch:12,flatFooted:16},hp:45,hd:"9d4+18",saves:{fort:"+6",ref:"+5",will:"+8"},speed:"9 m",attack:"Rayon Arcanique +6 (4d6 force)",fullAttack:"Rayon Arcanique +6 (4d6 force)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de Magicien NLS 9 (vocation/Abjuration)"],specialQualities:["Glyphes de Renvoi (1/tour, renvoie un sort de niveau 3 ou moins)","Buff actif : Bouclier (+4 CA, immunit Projectile magique, 9 min)"],abilities:{str:10,dex:14,con:14,int:18,wis:12,cha:12},skills:"Art de la magie +15, Connaissances (arcanes) +15, Intimidation +10",feats:"Ecole Renforce (vocation), vigilance",tactics:"Dclenche ses glyphes sans sommation, reste  distance derrire des champs de force.",buffs:[{name:"Bouclier",effect:"+4 CA de bouclier, immunit Projectile magique",duration:"9 minutes"}],loot:"Bton de dfense, parchemins de Dissipation.",isEnemy:!0,role:"Professeur rest fidle  la Guilde, mais pas  Thade.",details:["Motivation : Protger la Tour contre toute intrusion, PJ compris.","Attitude : Arrogant, dclenche des runes de dfense sans sommation.","Pouvoir : Champs de force, glyphes de renvoi, serviteurs lmentaires.","Usage : Mini-boss ou ngociateur si convaincu que Thade trahit la Guilde."],ogas:{occupation:"Dfend la Tour des Mages contre toute intrusion",goal:"Protger la Tour et la Guilde des Mages contre les intrus",attitude:"Arrogant et mfiant, dclenche ses dfenses sans sommation",stake:"Risque de voir la Tour compromise ; peut devenir alli si convaincu que Thade trahit la Guilde"}},{id:"ilse_nyx",name:"Ilse von Reiner",class:"Magicienne",lvl:3,size:"Moyen",type:"Humanode (Humain)",alignment:"NM",fp:3,environment:"Manoir Van Kel, Laboratoire secret",organization:"Solitaire (avec 2 squelettes)",initiative:"+6",senses:"Dtection +3",ac:{total:12,touch:12,flatFooted:10},hp:16,hd:"3d4+3",saves:{fort:"+2",ref:"+3",will:"+4"},speed:"9 m",attack:"Dague +2 corps  corps (1d4) ou Arbalte lgre +3  distance (1d8)",fullAttack:"Dague +2 corps  corps (1d4) ou Arbalte lgre +3  distance (1d8)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de magicien (NLS 3)"],specialQualities:["Familier (Rat, +2 Vigueur)","Buff actif : Simulacre de vie"],abilities:{str:10,dex:14,con:13,int:16,wis:12,cha:10},skills:"Art de la magie +9, Concentration +7, Connaissances (arcanes) +9, Connaissances (religion) +6",feats:"Science de l'initiative, cole renforce (Ncromancie), criture de parchemins",tactics:"Reste derrire ses squelettes. Lance Armure de mage et Simulacre de vie avant le combat. Utilise Rayon affaiblissant et Rayon ardent.",buffs:[{name:"Armure de mage",effect:"+4 CA (Total 16)",duration:"3 heures"},{name:"Simulacre de vie",effect:"+1d10+3 PV temporaires",duration:"3 heures"}],loot:"Bague de protection +1, carnet de notes, composantes de sorts, 40 po.",isEnemy:!0,role:"Apprentie fanatique de Thade, cherche  surpasser Jaren.",details:["Motivation : Prouver sa valeur  Thade en russissant l o Jaren a chou.","Attitude : Arrogante, froide, concentre sur son rituel.","Lien : Rivale de Jaren, mprise sa faiblesse."],tactical:{bookReference:"Scnario 1  Acte 4, Scne 1 : L'veil Forc",scenarioContext:"Tente de stabiliser le rituel sur le cadavre de Jaren. Protge par 2 squelettes.",spells:[{name:"Rayon ardent (Niv 2)",details:"Rayon  distance +3, 4d6 feu. 2/jour."},{name:"Rayon affaiblissant (Niv 1)",details:"Rayon  distance +3, 1d6+3 Force (malus). DD 15 (Ncromancie). 2/jour."},{name:"Projectile magique (Niv 1)",details:"2 missiles, 1d4+1 chacun. 2/jour."}],specialActions:[],tacticFeats:[{name:"cole renforce (Ncromancie)",details:"+1 au DD des sorts de Ncromancie."}],tacticSummary:"Utilise ses squelettes comme bouclier. Vise les cibles faibles en Volont ou les guerriers avec Rayon affaiblissant."},ogas:{occupation:"Finalise le rituel de ncromancie dans le manoir",goal:"Stabiliser le Sujet J-01 pour impressionner Thade",attitude:"Hostile et ddaigneuse, refuse de laisser des intrus gcher son uvre",stake:"Risque sa place  l'Universit et sa vie ; peut devenir une menace rcurrente si elle fuit"}},{id:"assistant_thade_mort",name:"Elian, l'Assistant Sacrifi",class:"Magicien",lvl:2,size:"Moyen",type:"Humanode (Humain)",alignment:"LN",fp:0,environment:"Mine d'argent, Laboratoire secret (Niveau -3)",organization:"Solitaire (Cadavre)",initiative:"",senses:"",ac:{total:10,touch:10,flatFooted:10},hp:0,hd:"2d4",saves:{fort:"+0",ref:"+0",will:"+3"},speed:"0 m",attack:"",fullAttack:"",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["tat : Mort","Traces de rituel"],abilities:{str:10,dex:10,con:10,int:15,wis:12,cha:10},skills:"Connaissances (arcanes) +7, Dcryptage +5, Art de la magie +7",feats:"criture de parchemins, Volont de fer",tactics:"Aucune. Sert d'lment de dcor et d'indice.",loot:"Journal crypt de Thade, Cl du laboratoire, Bague de l'Universit (brise).",isEnemy:!1,role:"Tmoin silencieux de la trahison de Thade.",details:["Son corps est dessch, comme vid de toute eau et vie.","Il tient encore une plume  la main, mort en crivant.","Si on lui parle (Communication avec les morts), il rpte : 'La Spirale a faim'."],tactical:{bookReference:"Scnario 2  Acte 2, Scne 2 : Le Laboratoire Oubli",scenarioContext:"Dcouvert dans le laboratoire secret derrire l'boulement.",spells:[],specialActions:[],tacticFeats:[],tacticSummary:"Inerte."},ogas:{occupation:"Gt sur une table de travail",goal:"Avertir (post-mortem) du danger de l'Ascension",attitude:"Inerte",stake:"Fournit la preuve cruciale contre Thade"}}],Oh=K_.map(n=>Rh(n)),X_=[{id:"rat_geant",name:"Rat Gant",size:"Petit",type:"Animal",alignment:"N",fp:"1/3",role:"Nuisible agressif porteur de maladies.",details:["Attaque en meute.","Porteur de la fivre des marais.","Peut atteindre 1,20 m de long."],tactical:{bookReference:"Manuel des Monstres p.64",scenarioContext:"Rencontre alatoire gouts, caves, ruines.",spells:[],specialActions:["Maladie (Fivre des marais)"],tacticFeats:["Arme de prdilection (morsure)","Vigilance"],tacticSummary:"Attaque en meute, submerge par le nombre, fuit si isol."},environnement:"Tous (gnralement souterrains)",organisation:"Solitaire ou nue (10-40)",ini:"+3",sens:"Vision nocturne, Odorat",ca:{total:15,contact:14,pris_au_depourvu:12},pv:5,dv:"1d8+1",js:{vig:"+3",ref:"+5",vol:"+3"},vit:"12 m (8 c.), escalade 6 m, nage 6 m",abb:"+0",grp:"-4",attaque:"Morsure +4 (1d4 plus maladie)",att_complete:"Morsure +4 (1d4 plus maladie)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Maladie (Fivre des marais : morsure, Vig DD 11, incubation 1d3 jours, affaiblissement 1d3 Dex et 1d3 Con)"],qual_sp:["Vision nocturne","Odorat"],carac:{for:10,dex:17,con:12,int:1,sag:12,cha:4},comptences:"Discrtion +8, Escalade +11, Dtection +4, Natation +11",dons:"Arme de prdilection (morsure), Vigilance",tactiques:"Attaque en meute sans peur, mord et s'accroche.",butin:"Aucun",disposition:"hostile"},{id:"roturier",name:"Roturier (niveau 1)",class:"Roturier",lvl:1,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:"1/2",role:"Paysan, mendiant, artisan ou citadin ordinaire.",details:["Reprsente la population civile.","Non-combattant typique.","Fuit le danger."],tactical:{bookReference:"Guide du Matre p.109",scenarioContext:"Villes, villages, fermes.",spells:[],specialActions:[],tacticFeats:[],tacticSummary:"Fuit ou se rend immdiatement."},environnement:"Tous",organisation:"Solitaire ou foule (10-100)",ini:"+0",sens:"Dtection +0",ca:{total:10,contact:10,pris_au_depourvu:10},pv:2,dv:"1d4",js:{vig:"+0",ref:"+0",vol:"+0"},vit:"9 m (6 c.)",abb:"+0",grp:"+0",attaque:"Gourdin +0 corps  corps (1d6) ou couteau +0 corps  corps (1d4)",att_complete:"Gourdin +0 corps  corps (1d6) ou couteau +0 corps  corps (1d4)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:10,dex:10,con:10,int:10,sag:10,cha:10},comptences:"Artisanat (un au choix) +4, Profession (une au choix) +4",dons:"Talent (Profession)",tactiques:"Fuit le combat, se rend si accul.",butin:"Outils de travail, 1d6 pa",disposition:"neutre"},{id:"kobold",name:"Kobold (guerrier 1)",size:"Petit",type:"Humanode (Reptilien)",alignment:"LM",fp:"1/4",role:"Humanode reptilien lche et sadique.",details:["Dteste les gnomes et les attaque  vue.","Expert en piges et embuscades.","Sensible  la lumire vive."],tactical:{bookReference:"Manuel des Monstres p.161",scenarioContext:"Mines, cavernes, souterrains.",spells:[],specialActions:[],tacticFeats:["Vigilance"],tacticSummary:"Attaque en surnombre (2 contre 1 minimum), fuit sinon. Attire vers les piges."},environnement:"Forts tempres ou souterrains",organisation:"Bande (4-9), groupe de guerre (10-100 plus 100% non-combattants plus 1 sergent niv. 3 par 20 adultes et 1 chef niv. 4-6)",ini:"+1",sens:"Vision dans le noir 18 m",ca:{total:15,contact:12,pris_au_depourvu:14},pv:4,dv:"1d8",js:{vig:"+2",ref:"+1",vol:"-1"},vit:"9 m (6 c.)",abb:"+1",grp:"-4",attaque:"Lance +1 corps  corps (1d6-1) ou fronde +3  distance (1d3-1)",att_complete:"Lance +1 corps  corps (1d6-1) ou fronde +3  distance (1d3-1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Vision dans le noir 18 m","Sensibilit  la lumire (bloui en plein soleil ou rayon de lumire du jour)"],carac:{for:9,dex:13,con:10,int:10,sag:9,cha:8},comptences:"Artisanat (fabrication de piges) +2, Discrtion +6, Dplacement silencieux +2, Dtection +2, Fouille +2, Profession (mineur) +2",dons:"Vigilance",tactiques:"Commence par des tirs de fronde, se replie vers les piges, attaque en mle seulement si l'ennemi est affaibli.",butin:"Standard",disposition:"hostile"},{id:"homme_armes_lvl1",name:"Homme d'armes",class:"Homme d'armes",lvl:1,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:"1/2",role:"Soldat de base, garde ou mercenaire.",details:["Entranement militaire basique.","Obit aux ordres.","Combat en formation."],tactical:{bookReference:"Guide du Matre p.117",scenarioContext:"Garnisons, caravanes, domaines.",spells:[],specialActions:[],tacticFeats:["Arme de prdilection"],tacticSummary:"Combat en groupe, reste en formation."},environnement:"Tous",organisation:"Solitaire, patrouille (2-4) ou escouade (5-10)",ini:"+0",sens:"Dtection +1",ca:{total:15,contact:10,pris_au_depourvu:15},pv:6,dv:"1d8+2",js:{vig:"+4",ref:"+0",vol:"+0"},vit:"6 m (4 c.) (armure)",abb:"+1",grp:"+2",attaque:"pe longue +3 corps  corps (1d8+1) ou arbalte lgre +1  distance (1d8)",att_complete:"pe longue +3 corps  corps (1d8+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:13,dex:11,con:14,int:10,sag:10,cha:9},comptences:"Intimidation +1, Dtection +2",dons:"Arme de prdilection (pe longue)",tactiques:"Combat en formation, obit aux ordres, fuit si le chef tombe.",butin:"pe longue, chemise de mailles, cu en bois, 2d6 pa",disposition:"hostile"},{id:"gobelin",name:"Gobelin (guerrier 1)",size:"Petit",type:"Humanode (Gobelinode)",alignment:"NM",fp:"1/3",role:"Humanode lche et malicieux.",details:["Peau jaune  rouge fonc.","Yeux ternes et vitreux.","Favorise les embuscades et les piges."],tactical:{bookReference:"Manuel des Monstres p.133",scenarioContext:"Forts, collines, souterrains.",spells:[],specialActions:[],tacticFeats:["Vigilance"],tacticSummary:"Embuscades, surnombre, coups bas. Fuit si le combat tourne mal."},environnement:"Plaines tempres",organisation:"Bande (4-9), groupe de guerre (10-100 avec 100% non-combattants plus 1 sergent niv. 3 par 20 adultes et 1 chef niv. 4-6)",ini:"+1",sens:"Vision dans le noir 18 m",ca:{total:15,contact:12,pris_au_depourvu:14},pv:5,dv:"1d8+1",js:{vig:"+3",ref:"+1",vol:"-1"},vit:"9 m (6 c.)",abb:"+1",grp:"-3",attaque:"Morgenstern +2 corps  corps (1d6) ou javeline +3  distance (1d4)",att_complete:"Morgenstern +2 corps  corps (1d6) ou javeline +3  distance (1d4)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Vision dans le noir 18 m"],carac:{for:11,dex:13,con:12,int:10,sag:9,cha:6},comptences:"Discrtion +5, Dplacement silencieux +5, Dtection +2, quitation +4",dons:"Vigilance",tactiques:"Embuscades avec surnombre, coups bas, fuit si le combat tourne mal.",butin:"Standard",disposition:"hostile"},{id:"zombie_humain",name:"Zombie humain",size:"Moyen",type:"Mort-vivant",alignment:"NM",fp:"1/2",role:"Cadavre ranim par magie noire.",details:["Masse de chair en dcomposition.","Obit aux ordres simples.","Ne peut effectuer qu'une action par round."],tactical:{bookReference:"Manuel des Monstres p.265",scenarioContext:"Cimetires, donjons, lieux de magie noire.",spells:[],specialActions:["Action unique (ne peut faire qu'une action de mouvement ou d'attaque par round)"],tacticFeats:["Robustesse"],tacticSummary:"Charge la cible la plus proche, attaque sans rflchir."},environnement:"Tous",organisation:"Tous",ini:"-1",sens:"Vision dans le noir 18 m",ca:{total:11,contact:9,pris_au_depourvu:11},pv:16,dv:"2d12+3",js:{vig:"+0",ref:"-1",vol:"+3"},vit:"9 m (6 c.) (ne peut pas courir)",abb:"+1",grp:"+2",attaque:"Coup +2 corps  corps (1d6+1)",att_complete:"Coup +2 corps  corps (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Action unique (Ext) : ne peut effectuer qu'une action de mouvement ou d'attaque par round. Peut se dplacer et attaquer uniquement en chargeant.","Rduction des dgts 5/tranchant","Traits des morts-vivants"],carac:{for:12,dex:8,con:null,int:null,sag:10,cha:1},comptences:"",dons:"Robustesse",tactiques:"Avance implacablement vers la cible la plus proche, ne fuit jamais.",butin:"Aucun",disposition:"hostile"},{id:"guerrier_1",name:"Guerrier (niveau 1)",class:"Guerrier",lvl:1,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:1,role:"Combattant entran, garde ou mercenaire.",details:["Formation martiale complte.","Matrise des armes et armures.","Solide en mle."],tactical:{bookReference:"Manuel des Joueurs p.37",scenarioContext:"Garnisons, aventuriers, mercenaires.",spells:[],specialActions:[],tacticFeats:["Arme de prdilection (pe longue)","Attaque en puissance"],tacticSummary:"Combat au corps  corps, protge les allis."},environnement:"Tous",organisation:"Solitaire ou groupe (2-4)",ini:"+1",sens:"Dtection +1",ca:{total:17,contact:11,pris_au_depourvu:16},pv:12,dv:"1d10+2",js:{vig:"+4",ref:"+1",vol:"+0"},vit:"6 m (4 c.) (armure)",abb:"+1",grp:"+3",attaque:"pe longue +4 corps  corps (1d8+2) ou arc long +2  distance (1d8)",att_complete:"pe longue +4 corps  corps (1d8+2)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:15,dex:13,con:14,int:10,sag:10,cha:8},comptences:"Escalade +4, Saut +4, Intimidation +3",dons:"Arme de prdilection (pe longue), Attaque en puissance",tactiques:"Combat au corps  corps, utilise Attaque en puissance contre ennemis lourds.",butin:"pe longue, cotte de mailles, cu en acier, 2d6 po",disposition:"neutre"},{id:"adepte_1",name:"Adepte (niveau 1)",class:"Adepte",lvl:1,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:"1/2",role:"Lanceur de sorts divin mineur, gurisseur de village.",details:["Magie divine limite.","Souvent ermite ou gurisseur.","Familier possible."],tactical:{bookReference:"Guide du Matre p.107",scenarioContext:"Villages, temples mineurs, cultes.",spells:[{name:"Sorts niveau 0 (3/jour)",details:"Cration d'eau, dtection de la magie, assistance"},{name:"Sorts niveau 1 (1/jour)",details:"Bndiction, soins lgers"}],specialActions:[],tacticFeats:[],tacticSummary:"Lance ses sorts de soutien, vite le combat direct."},environnement:"Tous",organisation:"Solitaire ou duo",ini:"+0",sens:"Dtection +3",ca:{total:10,contact:10,pris_au_depourvu:10},pv:4,dv:"1d6+1",js:{vig:"+1",ref:"+0",vol:"+4"},vit:"9 m (6 c.)",abb:"+0",grp:"+0",attaque:"Gourdin +0 corps  corps (1d6)",att_complete:"Gourdin +0 corps  corps (1d6)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts d'adepte (NLS 1) : 0 - cration d'eau, dtection de la magie, assistance ; 1 - bndiction, soins lgers"],qual_sp:[],carac:{for:10,dex:10,con:12,int:10,sag:15,cha:10},comptences:"Concentration +5, Premiers secours +6, Connaissances (religion) +4",dons:"Robustesse",tactiques:"Soigne et bnit les allis, vite le combat direct.",butin:"Symbole sacr en bois, herbes mdicinales, 1d6 po",disposition:"neutre"},{id:"squelette",name:"Squelette",size:"Moyen",type:"Mort-vivant",alignment:"NM",fp:"1/3",role:"Os anims, automate sans esprit.",details:["Obit aux ordres simples de son crateur.","Ne prend aucune initiative.","Attaque jusqu' destruction."],tactical:{bookReference:"Manuel des Monstres p.225",scenarioContext:"Gardiens de cryptes, serviteurs de ncromants.",spells:[],specialActions:[],tacticFeats:["Science de l'initiative"],tacticSummary:"Excute les ordres, attaque jusqu' destruction."},environnement:"Tous",organisation:"Tous",ini:"+5",sens:"Vision dans le noir 18 m",ca:{total:13,contact:11,pris_au_depourvu:12},pv:6,dv:"1d12",js:{vig:"+0",ref:"+1",vol:"+2"},vit:"9 m (6 c.)",abb:"+0",grp:"+1",attaque:"Cimeterre +1 corps  corps (1d6+1, 18-20) ou 2 griffes +1 corps  corps (1d4+1)",att_complete:"Cimeterre +1 corps  corps (1d6+1, 18-20) ou 2 griffes +1 corps  corps (1d4+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Rduction des dgts 5/contondant","Immunit au froid","Traits des morts-vivants"],carac:{for:13,dex:13,con:null,int:null,sag:10,cha:1},comptences:"",dons:"Science de l'initiative",tactiques:"Excute les ordres sans rflchir, attaque jusqu' destruction.",butin:"Aucun",disposition:"hostile"},{id:"kobold_expert",name:"Kobold expert (niveau 1)",class:"Expert",lvl:1,size:"Petit",type:"Humanode (Reptilien)",alignment:"LM",fp:"1/4",role:"Kobold spcialis en piges et exploration.",details:["Expert en fabrication de piges.","Connat les souterrains.","Lche mais utile."],tactical:{bookReference:"Manuel des Monstres p.161 + Guide du Matre p.109",scenarioContext:"Souterrains, mines, gouts.",spells:[],specialActions:["Dsamorage de piges","Dtection de piges"],tacticFeats:["Vigilance"],tacticSummary:"Ne combat pas, fuit et se cache, ngocie sa survie."},environnement:"Souterrains",organisation:"Solitaire ou quipe (2-4)",ini:"+1",sens:"Vision dans le noir 18 m",ca:{total:14,contact:12,pris_au_depourvu:13},pv:4,dv:"1d6",js:{vig:"+0",ref:"+1",vol:"+2"},vit:"9 m (6 c.)",abb:"+0",grp:"-5",attaque:"Dague +0 corps  corps (1d3-1)",att_complete:"Dague +0 corps  corps (1d3-1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Vision dans le noir 18 m","Sensibilit  la lumire"],carac:{for:8,dex:13,con:10,int:12,sag:10,cha:8},comptences:"Artisanat (piges) +7, Dsamorage/sabotage +7, Discrtion +9, Fouille +5",dons:"Vigilance",tactiques:"Ne combat jamais, fuit et se cache, ngocie sa survie.",butin:"Outils de voleur, petits objets vols",disposition:"neutre"},{id:"goule",name:"Goule",size:"Moyen",type:"Mort-vivant",alignment:"CM",fp:1,role:"Mort-vivant dvoreur de chair.",details:["Parle les langues qu'elle matrisait de son vivant.","Surgit par surprise des tombes ou du sol.","Transforme ses victimes en goules."],tactical:{bookReference:"Manuel des Monstres p.118",scenarioContext:"Cimetires, cryptes, gouts, lieux abandonns.",spells:[],specialActions:["Paralysie (Ext)","Fivre des goules (Ext)"],tacticFeats:["Attaques multiples"],tacticSummary:"Attaque par surprise, paralyse ses victimes puis dvore."},environnement:"Tous",organisation:"Solitaire, groupe (2-4) ou bande (7-12)",ini:"+2",sens:"Vision dans le noir 18 m",ca:{total:14,contact:12,pris_au_depourvu:12},pv:13,dv:"2d12",js:{vig:"+0",ref:"+2",vol:"+5"},vit:"9 m (6 c.)",abb:"+1",grp:"+2",attaque:"Morsure +2 corps  corps (1d6+1 plus paralysie)",att_complete:"Morsure +2 corps  corps (1d6+1 plus paralysie) et 2 griffes +0 corps  corps (1d3 plus paralysie)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Paralysie (Ext) : Vigueur DD 12 ou paralys 1d4+1 rounds. Les elfes sont immuniss. DD bas sur le Charisme.","Fivre des goules (Ext) : Maladie, morsure, Vig DD 12, incubation 1 jour, affaiblissement 1d3 Dex et 1d3 Con. Un humanode mort de cette maladie devient une goule  minuit."],qual_sp:["Traits des morts-vivants","Rsistance au renvoi +2","Vision dans le noir 18 m"],carac:{for:13,dex:15,con:null,int:13,sag:14,cha:12},comptences:"Dplacement silencieux +6, Dtection +7, Discrtion +6, quilibre +6, Escalade +5, Saut +5",dons:"Attaques multiples",tactiques:"Attaque par surprise depuis les tombes ou le sol, paralyse puis dvore.",butin:"Aucun",disposition:"hostile"},{id:"squelettes_nains_gardiens",name:"Squelettes Nains Gardiens",class:"Mort-vivant",lvl:2,size:"Moyen",type:"Mort-vivant",alignment:"NM",fp:1,environment:"Souterrains, Cryptes",organization:"Binme ou Escouade",initiative:"+5",senses:"Vision dans le noir 18 m",ac:{total:18,touch:11,flatFooted:17},hp:13,hd:"2d12",saves:{fort:"+0",ref:"+1",will:"+3"},speed:"6 m (4 c.)",attack:"Hache de guerre naine +2 corps  corps (1d10+1)",fullAttack:"Hache de guerre naine +2 corps  corps (1d10+1)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Rduction des dgts 5/contondant","Immunit au froid","Traits des morts-vivants"],abilities:{str:13,dex:13,con:null,int:null,wis:10,cha:1},skills:"",feats:"Science de l'initiative",tactics:"Combattent en silence, bloquent le passage, ne reculent jamais.",loot:"Hache de guerre naine brche, cotte de mailles rouille",isEnemy:!0,role:"Gardiens squelettiques des anciens Thanes.",details:["Portent les armoiries fanes des clans nains.","Anims par une magie ncromantique lie  la broche de Nyx.","Leur silence est total, mme lorsqu'ils frappent."],tactical:{bookReference:"Manuel des Monstres p.226",scenarioContext:"Scnario 1 - Acte 3 : Gardent l'entre du manoir dans les gouts.",spells:[],specialActions:[],tacticFeats:[{name:"Science de l'initiative",details:"+4 aux tests d'initiative."}],tacticSummary:"Attaquent  vue toute personne ne portant pas la broche de Nyx."},ogas:{occupation:"Gardent la porte du manoir",goal:"Empcher l'intrusion",attitude:"Hostile (Automate)",stake:"Aucun"}},{id:"mineur_nain_possede",name:"Mineur Nain Possd",class:"Homme d'armes",lvl:1,size:"Moyen",type:"Humanode (nain)",alignment:"NM",fp:1,environment:"Mines abandonnes, souterrains",organization:"Escouade (3-6)",initiative:"+1",senses:"Vision dans le noir 18 m, Dtection +2",ac:{total:16,touch:11,flatFooted:15},hp:11,hd:"1d8+3",saves:{fort:"+4",ref:"+1",will:"+1"},speed:"6 m (4 c.)",attack:"Pioche +4 corps  corps (1d8+3, critique x4, perant)",fullAttack:"Pioche +4 corps  corps (1d8+3, critique x4, perant)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Rsistance naine (+2 JS poison, sorts, effets magiques)","Dtection des passages secrets pierreux","Combat en aveugle dans les tunnels familiers"],abilities:{str:15,dex:12,con:16,int:10,wis:12,cha:8},skills:"Escalade +8, Artisanat (mines) +6, Intimidation +3, Dtection +2",feats:"Arme de prdilection (pioche), Robustesse",tactics:"Attaque en groupe, utilise les murs pour se protger, vise les jambes pour ralentir",loot:"Pioche use, lampe de mineur, quelques pices de cuivre",isEnemy:!0,role:"Mineurs nains corrompus par une influence malfique, combattent avec leurs outils de travail",details:["Autrefois des mineurs honorables, maintenant possds par une entit des profondeurs","Leurs yeux brillent d'une lueur rougetre dans l'obscurit","Grondent des paroles incomprhensibles en nain ancien","Attaquent sans discernement toute crature vivante"],tactical:{bookReference:"Bas sur la classe Homme d'armes D&D 3.5 + traits raciaux nains",scenarioContext:"Mines abandonnes, tunnels profonds, zones d'excavation rcentes",spells:[],specialActions:[{name:"Attaque puissante",details:"Peut utiliser une action complte pour frapper avec +2 aux dgts mais -2  l'attaque"},{name:"Cri de mineur",details:"Intimidation +3, peut faire fuir les cratures de taille P ou M (Vol DD 13)"}],tacticFeats:[{name:"Arme de prdilection (pioche)",details:"+1 aux jets d'attaque avec la pioche"},{name:"Robustesse",details:"+3 PV supplmentaires"}],tacticSummary:"Avancent en formation serre, utilisent leurs pioches pour briser les boucliers et les armures. Cherchent  encercler les adversaires."},ogas:{occupation:"Creuse sans relche dans les tunnels, cherchant quelque chose d'enterr",goal:"Trouver et librer l'entit qui les possde, ou obir  ses ordres",attitude:"Agressif et bestial, attaque  vue sans ngociation",stake:"Risque de mourir si l'entit est exorcise ; peut retrouver la lucidit temporairement"}},{id:"elementaire_terre_petit_sel",name:"lmentaire de Terre (Petit)",size:"Petit",type:"lmentaire (Terre, Extraplanaire)",alignment:"N",fp:1,role:"Petite statue de sel qui s'anime soudainement.",details:["Se dplace dans la terre comme un poisson dans l'eau.","Ressemble  une petite statue de sel dcorative.","Ne laisse aucune trace de son passage."],tactical:{bookReference:"Manuel des Monstres p.94",scenarioContext:"Scne 2 : Les Statues de Sel - petites statues qui attaquent en groupe.",spells:[],specialActions:["Matrise de la Terre","Nage dans la terre"],tacticFeats:["Attaque en puissance"],tacticSummary:"Attaque en groupe, surgit du sol pour surprendre les PJ. Facile  dtruire mais nombreux."},environnement:"Plan lmentaire de la Terre",organisation:"Solitaire",ini:"-1",sens:"Vision dans le noir 18 m, perception des vibrations 18 m",ca:{total:17,contact:10,pris_au_depourvu:17},pv:11,dv:"2d8+2",js:{vig:"+4",ref:"-1",vol:"+0"},rd:"5/",vit:"6 m (4 c.), nage dans la terre 6 m",abb:"+1",grp:"+5",attaque:"Coup +5 corps  corps (1d6+4)",att_complete:"Coup +5 corps  corps (1d6+4)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Matrise de la Terre (Ext) : +1 attaque/dgts si l'adversaire et lui sont au sol. -4 si ennemi dans l'eau ou les airs."],qual_sp:["Traits des lmentaires","Rduction des dgts 5/","Nage dans la terre","Immunit : poison, sommeil, paralysie, tourdissement"],carac:{for:19,dex:8,con:15,int:4,sag:11,cha:11},competences:"Escalade +10, Perception +6",dons:"Attaque en puissance",disposition:"hostile"}],Z_=[{id:"hyene",name:"Hyne",size:"Moyen",type:"Animal",alignment:"N",fp:1,role:"Charognard de meute rus.",details:["Chasseur en meute.","Vocalisations inquitantes.","Mesure 90 cm de long et pse 55 kg."],tactical:{bookReference:"Manuel des Monstres p.274",scenarioContext:"Dserts chauds, plaines.",spells:[],specialActions:[],tacticFeats:["Vigilance"],tacticSummary:"Chasse en meute, encercle les proies isoles."},environnement:"Dserts chauds",organisation:"Solitaire, couple ou meute (7-16)",ini:"+2",sens:"Vision nocturne, odorat",ca:{total:14,contact:12,pris_au_depourvu:12},pv:13,dv:"2d8+4",js:{vig:"+5",ref:"+5",vol:"+1"},vit:"15 m (10 c.)",abb:"+1",grp:"+3",attaque:"Morsure +3 corps  corps (1d6+3)",att_complete:"Morsure +3 corps  corps (1d6+3)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Vision nocturne","Odorat"],carac:{for:14,dex:15,con:15,int:2,sag:13,cha:6},comptences:"Discrtion +3, Dtection +4, Perception auditive +6",dons:"Vigilance",tactiques:"Chasse en meute, encercle et submerge les proies isoles.",butin:"Aucun",disposition:"hostile"},{id:"adepte_2",name:"Adepte (niveau 2)",class:"Adepte",lvl:2,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:1,role:"Lanceur de sorts divin mineur.",details:["Magie divine limite.","Gurisseur ou cultiste.","Familier possible."],tactical:{bookReference:"Guide du Matre p.107",scenarioContext:"Temples, cultes, villages.",spells:[{name:"Sorts niveau 0 (3/jour)",details:"Dtection de la magie, lumire, assistance"},{name:"Sorts niveau 1 (3/jour)",details:"Bndiction, frayeur, soins lgers"}],specialActions:[],tacticFeats:["Robustesse"],tacticSummary:"Lance frayeur puis reste  distance."},environnement:"Tous",organisation:"Solitaire ou groupe (2-4)",ini:"+0",sens:"Dtection +5",ca:{total:11,contact:10,pris_au_depourvu:11},pv:11,dv:"2d6+4",js:{vig:"+1",ref:"+0",vol:"+5"},vit:"9 m (6 c.)",abb:"+1",grp:"+1",attaque:"Gourdin +1 corps  corps (1d6)",att_complete:"Gourdin +1 corps  corps (1d6)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts d'adepte (NLS 2) : 0 - dtection de la magie, lumire, assistance ; 1 - bndiction, frayeur (DD 13), soins lgers"],qual_sp:[],carac:{for:10,dex:10,con:14,int:10,sag:15,cha:10},comptences:"Concentration +7, Premiers secours +7, Connaissances (religion) +5",dons:"Robustesse",tactiques:"Lance frayeur puis soigne les allis, vite la mle.",butin:"Symbole sacr, composantes de sorts, 2d6 po",disposition:"hostile"},{id:"guerrier_nain_2",name:"Guerrier nain (niveau 2)",class:"Guerrier",lvl:2,size:"Moyen",type:"Humanode (Nain)",alignment:"LN",fp:2,role:"Combattant nain en armure lourde.",details:["Traits raciaux nains.","Entranement martial.","Solide en dfense."],tactical:{bookReference:"Manuel des Joueurs p.14 (Nain) + p.37 (Guerrier)",scenarioContext:"Forteresses, mines, temples nains.",spells:[],specialActions:[],tacticFeats:["Arme de prdilection (hache de guerre naine)","Attaque en puissance"],tacticSummary:"Combat en formation, utilise sa stabilit."},environnement:"Souterrains, montagnes",organisation:"Solitaire, binme ou escouade (4-8)",ini:"+0",sens:"Vision dans le noir 18 m",ca:{total:18,contact:10,pris_au_depourvu:18},pv:22,dv:"2d10+6",js:{vig:"+6",ref:"+0",vol:"+1"},vit:"6 m (4 c.) (armure, non rduite par charge)",abb:"+2",grp:"+4",attaque:"Hache de guerre naine +5 corps  corps (1d10+2, x3)",att_complete:"Hache de guerre naine +5 corps  corps (1d10+2, x3)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Traits des nains : vision dans le noir 18 m, stabilit (+4 contre bousculade/croc-en-jambe), +2 JS contre poison/sorts, +1 attaque contre orques/gobelinodes, +4 CA esquive contre gants, connaissance de la pierre"],carac:{for:15,dex:10,con:16,int:10,sag:12,cha:6},comptences:"Escalade +4, Intimidation +2, Artisanat (armes) +2",dons:"Arme de prdilection (hache de guerre naine), Attaque en puissance",tactiques:"Combat en formation, utilise stabilit pour tenir la ligne.",butin:"Hache de guerre naine, clibanion, cu en acier lourd, 2d6 po",disposition:"neutre"},{id:"loup",name:"Loup",size:"Moyen",type:"Animal",alignment:"N",fp:1,role:"Prdateur de meute rus et persistant.",details:["Chasseur en meute.","Tactique de flanquement.","Excellent pisteur."],tactical:{bookReference:"Manuel des Monstres p.274",scenarioContext:"Forts, plaines, montagnes.",spells:[],specialActions:["Croc-en-jambe"],tacticFeats:["Pistage","Arme de prdilection (morsure)"],tacticSummary:"Envoie quelques individus en frontal pendant que le reste encercle par les flancs."},environnement:"Forts tempres",organisation:"Solitaire, couple, meute (7-16)",ini:"+2",sens:"Vision nocturne, odorat",ca:{total:14,contact:12,pris_au_depourvu:12},pv:13,dv:"2d8+4",js:{vig:"+5",ref:"+5",vol:"+1"},vit:"15 m (10 c.)",abb:"+1",grp:"+2",attaque:"Morsure +3 corps  corps (1d6+1)",att_complete:"Morsure +3 corps  corps (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Croc-en-jambe (Ext) : si morsure touche, peut tenter un croc-en-jambe (+1 au test) en action libre sans provoquer d'AO. Si chec, l'adversaire ne peut pas riposter."],qual_sp:["Vision nocturne","Odorat"],carac:{for:13,dex:15,con:15,int:2,sag:12,cha:6},comptences:"Discrtion +2, Dplacement silencieux +3, Dtection +3, Perception auditive +3, Survie +1 (+5 pistage par odorat)",dons:"Pistage (bonus), Arme de prdilection (morsure)",tactiques:"Encerclement, flanquement, croc-en-jambe pour faire tomber les proies.",butin:"Aucun",disposition:"hostile"},{id:"guerrier_2",name:"Guerrier (niveau 2)",class:"Guerrier",lvl:2,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:2,role:"Combattant entran, garde ou mercenaire.",details:["Formation martiale complte.","Matrise des armes et armures.","Solide en mle."],tactical:{bookReference:"Manuel des Joueurs p.37",scenarioContext:"Garnisons, aventuriers, mercenaires.",spells:[],specialActions:[],tacticFeats:["Arme de prdilection (hallebarde)","Expertise du combat"],tacticSummary:"Utilise l'allonge de la hallebarde pour contrler le terrain."},environnement:"Tous",organisation:"Solitaire, binme ou escouade (4-8)",ini:"+1",sens:"Dtection +1",ca:{total:17,contact:11,pris_au_depourvu:16},pv:20,dv:"2d10+4",js:{vig:"+5",ref:"+1",vol:"+0"},vit:"6 m (4 c.) (armure)",abb:"+2",grp:"+4",attaque:"Hallebarde +6 corps  corps (1d10+3, x3)",att_complete:"Hallebarde +6 corps  corps (1d10+3, x3)",espace:"1,5 m",allonge:"3 m (hallebarde)",att_sp:[],qual_sp:[],carac:{for:15,dex:13,con:14,int:10,sag:10,cha:8},comptences:"Escalade +5, Intimidation +4, Saut +5",dons:"Arme de prdilection (hallebarde), Expertise du combat",tactiques:"Utilise l'allonge pour frapper avant d'tre touch, tient la ligne.",butin:"Hallebarde, cotte de mailles, 2d6 po",disposition:"neutre"},{id:"contrematre_possede",name:"Contrematre Possd",class:"Homme d'armes",lvl:2,size:"Moyen",type:"Humanode (nain)",alignment:"NM",fp:2,environment:"Mines abandonnes, chambres de contrematre",organization:"Dirige une escouade (3-6 mineurs)",initiative:"+2",senses:"Vision dans le noir 18 m, Dtection +4",ac:{total:17,touch:12,flatFooted:15},hp:19,hd:"2d8+6",saves:{fort:"+5",ref:"+2",will:"+2"},speed:"6 m (4 c.)",attack:"Pioche matresse +6 corps  corps (1d10+4, critique x4, perant)",fullAttack:"Pioche matresse +6 corps  corps (1d10+4, critique x4, perant)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Ordre d'attaque coordonn (+1 aux jets d'attaque pour les mineurs allis)"],specialQualities:["Rsistance naine (+2 JS poison, sorts, effets magiques)","Dtection des passages secrets pierreux","Commandement des mineurs possds","Connaissance parfaite des tunnels"],abilities:{str:17,dex:14,con:16,int:12,wis:14,cha:10},skills:"Escalade +9, Artisanat (mines) +8, Intimidation +6, Dtection +4, Psychologie +3",feats:"Arme de prdilection (pioche), Robustesse, Science de l'initiative",tactics:"Coordonne les attaques de son escouade, protge les mineurs blesss, utilise sa connaissance des tunnels",loot:"Pioche matresse (+1), plan de mine, boussole magique",isEnemy:!0,role:"Leader des mineurs possds, plus intelligent et dangereux",details:["Ancien contrematre respect, maintenant le serviteur principal de l'entit","Capable de communiquer partiellement avec les vivants","Stratgique malgr la possession, organise des embuscades","Porte des tatouages runiques qui brillent faiblement"],tactical:{bookReference:"Bas sur la classe Homme d'armes niveau 2 + traits raciaux nains",scenarioContext:"Chambres de contrematre, carrefours importants des mines",spells:[],specialActions:[{name:"Ordre de charge",details:"Une fois par combat, tous les mineurs allis peuvent faire une charge sans pnalit d'attaque"},{name:"Connaissance des tunnels",details:"Peut prdire les mouvements des ennemis dans les tunnels familiers, +2 aux jets d'attaque"}],tacticFeats:[{name:"Science de l'initiative",details:"+4  l'initiative, agit souvent en premier"},{name:"Arme de prdilection (pioche)",details:"+1 aux jets d'attaque avec la pioche matresse"}],tacticSummary:"Dirige ses mineurs avec des ordres efficaces, utilise sa connaissance des tunnels pour tendre des embuscades. Protge les mineurs blesss et peut coordonner des attaques sur des points faibles."},ogas:{occupation:"Organise les travaux dans les mines selon les volonts de l'entit",goal:"Servir fidlement l'entit et tendre son influence dans les profondeurs",attitude:"Calculateur et cruel, peut ngocier brivement avant d'attaquer",stake:"Risque de perdre son statut si l'entit est affaiblie ; peut rvler des informations sous torture"}},{id:"gnoll",name:"Gnoll",size:"Moyen",type:"Humanode (Gnoll)",alignment:"CM",fp:1,role:"Hyne-humanode pillard.",details:["Ressemble  une hyne bipde.","Cruel et brutal.","Adore dvorer ses victimes vivantes."],tactical:{bookReference:"Manuel des Monstres p.138",scenarioContext:"Plaines, dserts, raids.",spells:[],specialActions:[],tacticFeats:[],tacticSummary:"Charge en meute, achve les blesss."},environnement:"Plaines et dserts chauds",organisation:"Solitaire, couple, bande (10-100)",ini:"+0",sens:"Vision dans le noir 18 m",ca:{total:15,contact:10,pris_au_depourvu:15},pv:11,dv:"2d8+2",js:{vig:"+4",ref:"+0",vol:"+0"},vit:"9 m (6 c.)",abb:"+1",grp:"+3",attaque:"Hache d'armes +3 (1d8+2/x3) ou arc court +1 (1d6/x3)",att_complete:"Hache d'armes +3 (1d8+2/x3) ou arc court +1 (1d6/x3)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Vision dans le noir 18 m"],carac:{for:15,dex:10,con:13,int:8,sag:11,cha:8},comptences:"Dtection +2, Perception auditive +2",dons:"Attaque en puissance",butin:"Standard",disposition:"hostile"},{id:"hobgobelin",name:"Hobgobelin",size:"Moyen",type:"Humanode (Gobelinode)",alignment:"LM",fp:"1/2",role:"Gobelin guerrier disciplin.",details:["Plus grand et plus intelligent que les gobelins.","Socit militariste.","Excellent tacticien."],tactical:{bookReference:"Manuel des Monstres p.161",scenarioContext:"Forteresses, armes, raids organiss.",spells:[],specialActions:[],tacticFeats:[],tacticSummary:"Combat en formation, utilise des tactiques."},environnement:"Collines et souterrains temprs",organisation:"Bande (4-9) ou arme (10-100)",ini:"+1",sens:"Vision dans le noir 18 m",ca:{total:15,contact:11,pris_au_depourvu:14},pv:6,dv:"1d8+2",js:{vig:"+4",ref:"+1",vol:"-1"},vit:"9 m (6 c.)",abb:"+1",grp:"+2",attaque:"pe longue +2 (1d8+1/19-20) ou javeline +2 (1d6+1)",att_complete:"pe longue +2 (1d8+1/19-20) ou javeline +2 (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Vision dans le noir 18 m"],carac:{for:13,dex:13,con:14,int:10,sag:9,cha:8},comptences:"Dplacement silencieux +3, Discrtion +3",dons:"Vigilance",butin:"Standard",disposition:"hostile"},{id:"orque",name:"Orque",size:"Moyen",type:"Humanode (Orque)",alignment:"CM",fp:"1/2",role:"Barbare brutal.",details:["Musculeux et agressif.","Sensible  la lumire.","Vit pour le combat."],tactical:{bookReference:"Manuel des Monstres p.186",scenarioContext:"Raids, tribus, souterrains.",spells:[],specialActions:[],tacticFeats:[],tacticSummary:"Charge sans rflchir, tue tout."},environnement:"Collines, montagnes et souterrains temprs",organisation:"Bande (4-9) ou tribu (40-400)",ini:"+0",sens:"Vision dans le noir 18 m",ca:{total:13,contact:10,pris_au_depourvu:13},pv:5,dv:"1d8+1",js:{vig:"+3",ref:"+0",vol:"-2"},vit:"9 m (6 c.)",abb:"+1",grp:"+4",attaque:"Hache d'armes +4 (1d8+4/x3) ou javeline +1 (1d6+3)",att_complete:"Hache d'armes +4 (1d8+4/x3) ou javeline +1 (1d6+3)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Vision dans le noir 18 m","Sensibilit  la lumire"],carac:{for:17,dex:11,con:12,int:8,sag:7,cha:6},comptences:"Dtection +1, Perception auditive +1",dons:"Vigilance",butin:"Standard",disposition:"hostile"},{id:"araignee_geante_moyenne",name:"Araigne Gante (Moyenne)",size:"Moyen",type:"Vermine",alignment:"N",fp:1,role:"Chasseur silencieux des souterrains.",details:["Tisse des toiles collantes.","Venin paralysant.","Embuscade depuis les plafonds."],tactical:{bookReference:"Manuel des Monstres p.29",scenarioContext:"Cavernes, forts, ruines.",spells:[],specialActions:["Toile","Poison"],tacticFeats:[],tacticSummary:"Pige avec toile, mord, attend que le poison agisse."},environnement:"Forts tempres et souterrains",organisation:"Solitaire ou colonie (2-5)",ini:"+3",sens:"Vision dans le noir 18 m, Perception des vibrations 18 m",ca:{total:14,contact:13,pris_au_depourvu:11},pv:11,dv:"2d8+2",js:{vig:"+4",ref:"+3",vol:"+0"},vit:"9 m (6 c.), escalade 6 m",abb:"+1",grp:"+0",attaque:"Morsure +4 (1d6 plus poison)",att_complete:"Morsure +4 (1d6 plus poison)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Poison (Vig DD 12, 1d4 For/1d4 For)","Toile"],qual_sp:["Vision dans le noir 18 m","Perception des vibrations 18 m","Traits des vermines"],carac:{for:11,dex:17,con:12,int:null,sag:10,cha:2},comptences:"Discrtion +7, Dtection +4, Escalade +11",dons:"",butin:"Aucun",disposition:"hostile"}],W_=[{id:"cube_gelatineux",name:"Cube glatineux",size:"Trs Grand",type:"Vase",alignment:"N",fp:3,role:"Monstre presque transparent qui absorbe tout sur son passage.",details:["Difficile  reprer (Dtection DD 15).","Ne digre que les matires organiques.","Fait 4,50 m d'arte et pse 25 tonnes."],tactical:{bookReference:"Manuel des Monstres p.53",scenarioContext:"Souterrains, donjons, cavernes.",spells:[],specialActions:["Enveloppement","Paralysie","Acide"],tacticFeats:[],tacticSummary:"Avance lentement et enveloppe ses proies. Difficile  voir."},environnement:"Souterrains",organisation:"Solitaire",ini:"-5",sens:"Vision aveugle 18 m",ca:{total:3,contact:3,pris_au_depourvu:3},pv:54,dv:"4d10+32",js:{vig:"+9",ref:"-4",vol:"-4"},vit:"4,50 m (3 c.)",abb:"+3",grp:"+11",attaque:"Coup +1 corps  corps (1d6 plus 1d6 acide)",att_complete:"Coup +1 corps  corps (1d6 plus 1d6 acide)",espace:"4,50 m",allonge:"3 m",att_sp:["Acide (Ext) : n'affecte pas pierre ni mtal, 1d6 dgts/round","Enveloppement (Ext) : avale crature G ou moins, Rf DD 13 pour viter","Paralysie (Ext) : Vig DD 20 ou paralys 3d6 rounds"],qual_sp:["Traits des vases","Immunit  l'lectricit","Transparence (Dtection DD 15 pour le reprer)","Vision aveugle 18 m"],carac:{for:10,dex:1,con:26,int:null,sag:1,cha:1},comptences:"",dons:"",tactiques:"Avance lentement et enveloppe tout ce qu'il touche. Presque invisible.",butin:"1/10 pices, 50% objets prcieux (mtal/pierre uniquement)",disposition:"hostile"},{id:"expert_nain_3",name:"Expert nain (niveau 3)",class:"Expert",lvl:3,size:"Moyen",type:"Humanode (Nain)",alignment:"N",fp:2,role:"Artisan, mineur ou spcialiste nain.",details:["Traits raciaux nains.","Spcialiste technique.","Connaissance des souterrains."],tactical:{bookReference:"Guide du Matre p.109 + Manuel des Joueurs p.14",scenarioContext:"Mines, forges, ateliers nains.",spells:[],specialActions:[],tacticFeats:["Talent (Artisanat)"],tacticSummary:"Fuit le combat, utilise ses connaissances techniques."},environnement:"Souterrains, montagnes",organisation:"Solitaire ou quipe (2-4)",ini:"+0",sens:"Vision dans le noir 18 m",ca:{total:13,contact:10,pris_au_depourvu:13},pv:16,dv:"3d6+6",js:{vig:"+3",ref:"+1",vol:"+4"},vit:"6 m (4 c.)",abb:"+2",grp:"+3",attaque:"Marteau lger +3 corps  corps (1d4+1)",att_complete:"Marteau lger +3 corps  corps (1d4+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Traits des nains : vision dans le noir 18 m, stabilit, +2 JS contre poison/sorts, connaissance de la pierre"],carac:{for:12,dex:10,con:14,int:14,sag:12,cha:6},comptences:"Artisanat (forge) +11, Artisanat (piges) +8, Dtection +7, Profession (mineur) +7, Estimation +8",dons:"Talent (Artisanat forge), Vigilance",tactiques:"Fuit le combat, utilise ses comptences pour aider le groupe.",butin:"Outils de matre artisan, 3d6 po",ogas:{occupation:"Travaille dans la mine ou la forge",goal:"Accomplir son travail et protger son clan",attitude:"Mfiant envers les trangers, loyal envers les nains",stake:"Risque de perdre son travail ; peut fournir des informations techniques"},disposition:"neutre"},{id:"araignee_monstrueuse_g",name:"Araigne monstrueuse (Grande)",size:"Grand",type:"Vermine",alignment:"N",fp:2,role:"Prdateur venimeux qui tisse des toiles.",details:["Chasse  l'afft ou en toile.","Venin paralysant.","Grimpe sur toutes surfaces."],tactical:{bookReference:"Manuel des Monstres p.288",scenarioContext:"Forts, souterrains, ruines.",spells:[],specialActions:["Poison","Toile"],tacticFeats:["Attaque en finesse (bonus)"],tacticSummary:"Tend une embuscade depuis sa toile, mord pour empoisonner."},environnement:"Forts tempres ou souterrains",organisation:"Solitaire ou colonie (2-5)",ini:"+3",sens:"Vision dans le noir 18 m, perception des vibrations 18 m",ca:{total:14,contact:12,pris_au_depourvu:11},pv:22,dv:"4d8+4",js:{vig:"+5",ref:"+4",vol:"+1"},vit:"9 m (6 c.), escalade 6 m",abb:"+3",grp:"+9",attaque:"Morsure +4 corps  corps (1d8+3 plus poison)",att_complete:"Morsure +4 corps  corps (1d8+3 plus poison)",espace:"3 m",allonge:"1,5 m",att_sp:["Poison (Ext) : morsure, Vig DD 13, dgts initiaux 1d6 For, dgts secondaires 1d6 For.","Toile (Ext) : 8/jour, attaque de contact  distance, porte 15 m, DD 13 pour se librer."],qual_sp:["Traits des vermines","Vision dans le noir 18 m","Perception des vibrations 18 m"],carac:{for:15,dex:17,con:12,int:null,sag:10,cha:2},comptences:"Escalade +11, Discrtion +3, Saut +2, Dtection +4",dons:"Attaque en finesse (bonus)",tactiques:"Embuscade depuis la toile, mord pour empoisonner, enveloppe les proies.",butin:"Aucun",disposition:"hostile"},{id:"adepte_3",name:"Adepte (niveau 3)",class:"Adepte",lvl:3,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:2,role:"Lanceur de sorts divin mineur.",details:["Magie divine limite.","Accs aux sorts de niveau 1.","Familier possible."],tactical:{bookReference:"Guide du Matre p.107",scenarioContext:"Temples, cultes, villages.",spells:[{name:"Sorts niveau 0 (3/jour)",details:"Dtection de la magie, lumire, lecture de la magie"},{name:"Sorts niveau 1 (3/jour)",details:"Injonction, soins lgers, frayeur"}],specialActions:[],tacticFeats:["Incantation de combat"],tacticSummary:"Lance injonction ou frayeur, puis reste  distance."},environnement:"Tous",organisation:"Solitaire ou groupe (2-4)",ini:"+1",sens:"Dtection +6",ca:{total:13,contact:11,pris_au_depourvu:12},pv:14,dv:"3d6+3",js:{vig:"+2",ref:"+2",vol:"+5"},vit:"9 m (6 c.)",abb:"+1",grp:"+1",attaque:"Dague +1 corps  corps (1d4)",att_complete:"Dague +1 corps  corps (1d4)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts d'adepte (NLS 3) : 0 - dtection de la magie, lumire, lecture de la magie ; 1 - injonction (DD 13), soins lgers (1d8+3), frayeur (DD 13)"],qual_sp:[],carac:{for:10,dex:12,con:12,int:10,sag:15,cha:10},comptences:"Concentration +7, Premiers secours +8, Connaissances (religion) +6",dons:"Incantation de combat, Robustesse",tactiques:"Lance frayeur ou injonction puis vite la mle.",butin:"Symbole sacr, composantes de sorts, 2d6 po",ogas:{occupation:"Officie dans un temple ou un culte mineur",goal:"Servir sa divinit et protger les fidles",attitude:"Pieux et mfiant envers les trangers non-croyants",stake:"Risque l'excommunication ; peut offrir gurison et bndictions"},disposition:"hostile"},{id:"roublard_3",name:"Roublard (niveau 3)",class:"Roublard",lvl:3,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:3,role:"Spcialiste furtif, voleur ou claireur.",details:["Attaque sournoise.","Recherche des piges.","Esquive instinctive."],tactical:{bookReference:"Manuel des Joueurs p.49",scenarioContext:"Donjons, villes, aventuriers.",spells:[],specialActions:["Attaque sournoise +2d6"],tacticFeats:["Science de l'initiative","Arme de prdilection (pe courte)"],tacticSummary:"Attaque par surprise depuis les ombres, vise les cibles isoles."},environnement:"Tous",organisation:"Solitaire ou duo",ini:"+7",sens:"Dtection +6, recherche des piges",ca:{total:16,contact:13,pris_au_depourvu:13},pv:16,dv:"3d6+3",js:{vig:"+2",ref:"+6",vol:"+1"},vit:"9 m (6 c.)",abb:"+2",grp:"+3",attaque:"pe courte +6 corps  corps (1d6+1, 19-20)",att_complete:"pe courte +6 corps  corps (1d6+1, 19-20)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Attaque sournoise +2d6"],qual_sp:["Recherche des piges","Esquive instinctive","vasion"],carac:{for:12,dex:17,con:12,int:14,sag:10,cha:8},comptences:"Crochetage +9, Dsamorage/sabotage +8, Discrtion +9, Dplacement silencieux +9, Dtection +6, Fouille +8",dons:"Science de l'initiative, Arme de prdilection (pe courte)",tactiques:"Attaque par surprise depuis les ombres, vise les cibles isoles, fuit si dcouvert.",butin:"pe courte de matre, armure de cuir, outils de voleur, 3d6 po",ogas:{occupation:"Opre en solitaire ou pour une guilde",goal:"Raliser sa mission ou s'enrichir",attitude:"Calculateur et opportuniste, ngocie si coinc",stake:"Risque la capture ou la mort ; peut fournir des informations contre sa libert"},disposition:"hostile"},{id:"elementaire_terre_petit",name:"lmentaire de Terre (Petit)",size:"Petit",type:"lmentaire (Terre, Extraplanaire)",alignment:"N",fp:1,role:"Incarnation de la terre, invoqu par magie.",details:["Se dplace dans la terre comme un poisson dans l'eau.","Ne laisse aucune trace de son passage.","Parle le terreux mais choisit rarement de s'exprimer."],tactical:{bookReference:"Manuel des Monstres p.94",scenarioContext:"Souterrains, mines, invocation.",spells:[],specialActions:["Matrise de la Terre","Nage dans la terre","Pousse"],tacticFeats:["Attaque en puissance"],tacticSummary:"Surgit du sol, frappe et se replie dans la terre. N'abandonne jamais."},environnement:"Plan lmentaire de la Terre",organisation:"Solitaire",ini:"-1",sens:"Vision dans le noir 18 m, perception des vibrations 18 m",ca:{total:17,contact:10,pris_au_depourvu:17},pv:11,dv:"2d8+2",js:{vig:"+4",ref:"-1",vol:"+0"},vit:"6 m (4 c.), nage dans la terre 6 m",abb:"+1",grp:"+5",attaque:"Coup +5 corps  corps (1d6+4)",att_complete:"Coup +5 corps  corps (1d6+4)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Matrise de la Terre (Ext) : +1 attaque/dgts si l'adversaire et lui sont au sol. -4 si ennemi dans l'eau ou les airs.","Pousse (Ext) : peut tenter une bousculade sans provoquer d'AO."],qual_sp:["Traits des lmentaires","Nage dans la terre (Ext) : traverse terre/pierre comme un poisson dans l'eau, sans laisser de trace"],carac:{for:17,dex:8,con:13,int:4,sag:11,cha:11},comptences:"Dtection +3, Perception auditive +3",dons:"Attaque en puissance",tactiques:"Surgit du sol pour surprendre, frappe violemment. N'abandonne jamais.",butin:"Aucun",disposition:"hostile"},{id:"bleme_fp3",name:"le Sujet J-01,Jaren (Blme)",size:"Moyen",type:"Mort-vivant",alignment:"LM",fp:3,role:"Mort-vivant intelligent qui draine l'nergie vitale.",details:["Reflet tordu de sa forme vivante.","Taille et poids d'un humain.","Parle le commun."],tactical:{bookReference:"Manuel des Monstres p.255",scenarioContext:"Tombes, cryptes, lieux maudits.",spells:[],specialActions:["Absorption d'nergie","Cration de rejetons"],tacticFeats:["Vigilance","Combat en aveugle"],tacticSummary:"Attaque pour drainer l'nergie, cre des rejetons."},environnement:"Tous",organisation:"Solitaire, couple, bande (3-5) ou meute (6-11)",ini:"+1",sens:"Vision dans le noir 18 m",ca:{total:15,contact:11,pris_au_depourvu:14},pv:26,dv:"4d12",js:{vig:"+1",ref:"+2",vol:"+5"},vit:"9 m (6 c.)",abb:"+2",grp:"+3",attaque:"Coup +3 corps  corps (1d4+1 plus absorption d'nergie)",att_complete:"Coup +3 corps  corps (1d4+1 plus absorption d'nergie)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Absorption d'nergie (Sur) : chaque coup inflige 1 niveau ngatif. Vig DD 14 pour annuler aprs 24h.","Cration de rejetons (Sur) : humanode tu par absorption devient un blme en 1d4 rounds."],qual_sp:["Traits des morts-vivants","Vision dans le noir 18 m"],carac:{for:12,dex:12,con:null,int:11,sag:13,cha:15},comptences:"Discrtion +8, Dplacement silencieux +16, Dtection +10, Perception auditive +10",dons:"Vigilance, Combat en aveugle",tactiques:"Attaque pour drainer l'nergie vitale, cre des rejetons avec ses victimes.",butin:"Standard",disposition:"hostile"},{id:"monstre_rouilleur",name:"Monstre rouilleur",size:"Moyen",type:"Aberration",alignment:"N",fp:3,role:"Prdateur de mtal aux antennes prhensiles.",details:["Peau variant du brun-jaune au rouge-rouille.","Mesure 1,50 m de long et 90 cm de haut, pse 90 kg.","Ses antennes peuvent rouiller le mtal au contact."],tactical:{bookReference:"Manuel des Monstres p.216",scenarioContext:"Souterrains, mines, cavernes.",spells:[],specialActions:["Rouille"],tacticFeats:["Vigilance","Pistage"],tacticSummary:"Attaque les objets mtalliques ports, cherche  dtruire armes et armures."},environnement:"Souterrains",organisation:"Solitaire ou couple",ini:"+3",sens:"Vision dans le noir 18 m, odorat du mtal 27 m",ca:{total:18,contact:13,pris_au_depourvu:15},pv:27,dv:"5d8+5",js:{vig:"+2",ref:"+4",vol:"+5"},vit:"12 m (8 c.)",abb:"+3",grp:"+3",attaque:"Antenne +3 contact (rouille)",att_complete:"Antenne +3 contact (rouille) et morsure -2 corps  corps (1d3)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Rouille (Ext) : toucher avec antenne dtruit instantanment mtal non-magique. Mtal magique : Rf DD 17 ou destruction (bonus magique comme bonus au JS)."],qual_sp:["Vision dans le noir 18 m","Odorat du mtal (dtecte et localise mtal  27 m)"],carac:{for:10,dex:17,con:13,int:2,sag:13,cha:8},comptences:"Dtection +7, Perception auditive +7",dons:"Vigilance, Pistage",tactiques:"Se dirige vers le mtal, touche armes et armures pour les dtruire, mange le mtal rouill.",butin:"Aucun (consomme le mtal)",disposition:"hostile"},{id:"ombre",name:"Ombre",size:"Moyen",type:"Mort-vivant (Incorporel)",alignment:"CM",fp:3,role:"Mort-vivant incorporel qui draine la force vitale.",details:["Difficile  voir dans l'obscurit, ressort en pleine lumire.","Mesure 1,50  1,80 m et n'a pas de poids.","Ne peut pas parler intelligiblement."],tactical:{bookReference:"Manuel des Monstres p.222",scenarioContext:"Souterrains, lieux sombres, tombes.",spells:[],specialActions:["Drain de Force","Cration de rejetons"],tacticFeats:["Esquive"],tacticSummary:"Attaque depuis les ombres pour drainer la Force. Cre des rejetons."},environnement:"Tous",organisation:"Solitaire, bande (2-5) ou nue (6-11)",ini:"+2",sens:"Vision dans le noir 18 m",ca:{total:13,contact:13,pris_au_depourvu:11},pv:19,dv:"3d12",js:{vig:"+1",ref:"+3",vol:"+4"},vit:"Vol 12 m (bonne)",abb:"+1",grp:"",attaque:"Contact incorporel +3 corps  corps (1d6 Force)",att_complete:"Contact incorporel +3 corps  corps (1d6 Force)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Drain de Force (Sur) : toucher inflige 1d6 points d'affaiblissement de Force. Une crature rduite  For 0 meurt.","Cration de rejetons (Sur) : humanode tu par drain de Force devient une ombre en 1d4 rounds."],qual_sp:["Traits des morts-vivants","Traits des cratures incorporelles","Rsistance au renvoi +2"],carac:{for:null,dex:14,con:null,int:6,sag:12,cha:13},comptences:"Dtection +7, Discrtion +8 (+4 dans lumire vive, +8 dans ombre), Perception auditive +7, Fouille +4",dons:"Esquive, Vigilance",tactiques:"Attaque depuis les ombres, draine la Force, cre des rejetons.",butin:"Aucun",disposition:"hostile"},{id:"ankheg",name:"Ankheg",size:"Grand",type:"Crature magique",alignment:"N",fp:3,role:"Prdateur fouisseur  six pattes friand de chair frache.",details:["Mesure environ 3 m de long et pse 360 kg.","Couleur brun-jaune dessous, brun-roux dessus.","Creuse des tunnels sinueux jusqu' 12 m sous terre."],tactical:{bookReference:"Manuel des Monstres p.15",scenarioContext:"Forts, plaines agricoles, souterrains.",spells:[],specialActions:["Crachat d'acide","treinte"],tacticFeats:["Vigilance","Robustesse"],tacticSummary:"Surgit du sol, agrippe sa proie et l'entrane sous terre."},environnement:"Plaines tempres",organisation:"Solitaire ou groupe (2-4)",ini:"+0",sens:"Vision dans le noir 18 m, vision nocturne, perception des vibrations 18 m",ca:{total:18,contact:9,pris_au_depourvu:18},pv:28,dv:"3d10+12",js:{vig:"+6",ref:"+3",vol:"+2"},vit:"9 m (6 c.), creusement 6 m",abb:"+3",grp:"+12",attaque:"Morsure +7 corps  corps (2d6+7 plus 1d4 acide)",att_complete:"Morsure +7 corps  corps (2d6+7 plus 1d4 acide)",espace:"3 m",allonge:"1,5 m",att_sp:["treinte (Ext) : si morsure touche, peut tenter une lutte en action libre sans provoquer d'AO","Crachat d'acide (Ext) : ligne 9 m, 4d4 acide, Rf DD 14 demi-dgts, utilisable 1/6 heures"],qual_sp:["Vision dans le noir 18 m","Vision nocturne","Perception des vibrations 18 m"],carac:{for:21,dex:10,con:17,int:1,sag:13,cha:6},comptences:"Escalade +8, Dtection +6, Perception auditive +6",dons:"Vigilance, Robustesse",tactiques:"Surgit du sol pour surprendre, agrippe et entrane sous terre. Crache de l'acide en dernier recours.",butin:"Aucun",disposition:"hostile"},{id:"elementaire_terre_moyen",name:"lmentaire de Terre (Moyen)",size:"Moyen",type:"lmentaire (Terre, Extraplanaire)",alignment:"N",fp:3,role:"Incarnation de la terre, statue de sel anime.",details:["Se dplace dans la terre comme un poisson dans l'eau.","Ressemble  une statue de sel brutale.","Parle le terreux mais choisit rarement de s'exprimer."],tactical:{bookReference:"Manuel des Monstres p.94",scenarioContext:"Scne 2 : Les Statues de Sel - statues qui s'animent quand les PJ s'approchent.",spells:[],specialActions:["Matrise de la Terre","Nage dans la terre","Pousse"],tacticFeats:["Attaque en puissance"],tacticSummary:"Surgit du sol, frappe violemment, repousse les ennemis. Ressemble  une statue inerte au repos."},environnement:"Plan lmentaire de la Terre",organisation:"Solitaire",ini:"-1",sens:"Vision dans le noir 18 m, perception des vibrations 18 m",ca:{total:18,contact:8,pris_au_depourvu:18},pv:34,dv:"4d8+16",js:{vig:"+7",ref:"+0",vol:"+1"},rd:"5/",vit:"6 m (4 c.), nage dans la terre 6 m",abb:"+4",grp:"+11",attaque:"Coup +8 corps  corps (1d8+5)",att_complete:"2 coups +8 corps  corps (1d8+5)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Matrise de la Terre (Ext) : +1 attaque/dgts si l'adversaire et lui sont au sol. -4 si ennemi dans l'eau ou les airs.","Pousse (Ext) : peut tenter une bousculade sans provoquer d'AO."],qual_sp:["Traits des lmentaires","Rduction des dgts 5/","Nage dans la terre","Immunit : poison, sommeil, paralysie, tourdissement"],carac:{for:21,dex:8,con:19,int:4,sag:11,cha:11},comptences:"Escalade +12, Perception +8",dons:"Attaque en puissance",disposition:"hostile"},{id:"bugbear",name:"Gobelours",size:"Moyen",type:"Humanode (Gobelinode)",alignment:"CM",fp:2,role:"Assassin gobelinode furtif.",details:["Plus grand et plus fort que les gobelins.","Silencieux malgr sa taille.","Aime tuer par surprise."],tactical:{bookReference:"Manuel des Monstres p.30",scenarioContext:"Embuscades, raids nocturnes.",spells:[],specialActions:[],tacticFeats:[],tacticSummary:"Embuscade, frappe par surprise, tue les isols."},environnement:"Montagnes et souterrains temprs",organisation:"Solitaire, bande (2-4) ou gang (5-12)",ini:"+1",sens:"Vision dans le noir 18 m, Odorat",ca:{total:17,contact:11,pris_au_depourvu:16},pv:16,dv:"3d8+3",js:{vig:"+2",ref:"+4",vol:"+1"},vit:"9 m (6 c.)",abb:"+2",grp:"+4",attaque:"Morgenstern +5 (1d8+2) ou javeline +3 (1d6+2)",att_complete:"Morgenstern +5 (1d8+2) ou javeline +3 (1d6+2)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Vision dans le noir 18 m","Odorat"],carac:{for:15,dex:12,con:13,int:10,sag:10,cha:9},comptences:"Dplacement silencieux +5, Discrtion +3, Escalade +3",dons:"Vigilance, Arme de prdilection (morgenstern)",butin:"Standard",disposition:"hostile"},{id:"loup_sanguinaire",name:"Loup Sanguinaire",size:"Grand",type:"Animal",alignment:"N",fp:3,role:"Prdateur prhistorique froce.",details:["Version gante et plus froce du loup.","Monture favorite des gobelins.","Peut atteindre 2,70 m de long."],tactical:{bookReference:"Manuel des Monstres p.64",scenarioContext:"Forts, plaines, avec cavaliers gobelins.",spells:[],specialActions:["Croc-en-jambe"],tacticFeats:[],tacticSummary:"Charge, fait tomber, dchiquette."},environnement:"Forts tempres",organisation:"Solitaire ou meute (5-8)",ini:"+2",sens:"Vision nocturne, Odorat",ca:{total:14,contact:11,pris_au_depourvu:12},pv:45,dv:"6d8+18",js:{vig:"+8",ref:"+7",vol:"+6"},vit:"15 m (10 c.)",abb:"+4",grp:"+15",attaque:"Morsure +11 (1d8+10)",att_complete:"Morsure +11 (1d8+10)",espace:"3 m",allonge:"1,50 m",att_sp:["Croc-en-jambe (Ext)"],qual_sp:["Vision nocturne","Odorat"],carac:{for:25,dex:15,con:17,int:2,sag:12,cha:10},comptences:"Dtection +7, Discrtion +4, Perception auditive +7, Survie +2",dons:"Vigilance, Course, Pistage, Arme de prdilection (morsure)",butin:"Aucun",disposition:"hostile"},{id:"ours_noir",name:"Ours Noir",size:"Moyen",type:"Animal",alignment:"N",fp:2,role:"Prdateur opportuniste des forts.",details:["Omnivore mais dangereux si menac.","Excellent grimpeur.","Protge frocement ses petits."],tactical:{bookReference:"Manuel des Monstres p.271",scenarioContext:"Forts, montagnes.",spells:[],specialActions:["treinte amliore"],tacticFeats:[],tacticSummary:"Se dresse, griffe et mord."},environnement:"Forts tempres",organisation:"Solitaire ou couple",ini:"+1",sens:"Vision nocturne, Odorat",ca:{total:13,contact:11,pris_au_depourvu:12},pv:19,dv:"3d8+6",js:{vig:"+5",ref:"+4",vol:"+2"},vit:"12 m (8 c.)",abb:"+2",grp:"+6",attaque:"Griffe +6 (1d4+4)",att_complete:"2 griffes +6 (1d4+4), morsure +1 (1d6+2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["treinte amliore"],qual_sp:["Vision nocturne","Odorat"],carac:{for:19,dex:13,con:15,int:2,sag:12,cha:6},comptences:"Escalade +4, Dtection +4, Natation +8",dons:"Course, Endurance",butin:"Aucun",disposition:"hostile"},{id:"mante_religieuse_geante",name:"Mante Religieuse Gante",size:"Grand",type:"Vermine",alignment:"N",fp:3,role:"Insecte prdateur patient.",details:["Embuscade immobile jusqu'au moment de frapper.","Pattes avant tranchantes comme des faux.","Peut dcapiter une proie."],tactical:{bookReference:"Manuel des Monstres p.273",scenarioContext:"Jungles, forts denses.",spells:[],specialActions:["treinte amliore"],tacticFeats:[],tacticSummary:"Reste immobile, agrippe et dchiquette."},environnement:"Forts tempres et chaudes",organisation:"Solitaire",ini:"+1",sens:"Vision dans le noir 18 m",ca:{total:14,contact:10,pris_au_depourvu:13},pv:30,dv:"4d8+12",js:{vig:"+7",ref:"+2",vol:"+3"},vit:"6 m (4 c.), vol 12 m (mdiocre)",abb:"+3",grp:"+11",attaque:"Griffes +6 (1d8+4)",att_complete:"2 griffes +6 (1d8+4), morsure +1 (1d6+2)",espace:"3 m",allonge:"1,50 m",att_sp:["treinte amliore"],qual_sp:["Vision dans le noir 18 m","Traits des vermines"],carac:{for:19,dex:12,con:17,int:null,sag:14,cha:11},comptences:"Dtection +6, Discrtion +4 (+12 en fort)",dons:"",butin:"Aucun",disposition:"hostile"},{id:"troglodyte",name:"Troglodyte",size:"Moyen",type:"Humanode (Reptilien)",alignment:"CM",fp:1,role:"Reptilien puant des souterrains.",details:["Odeur nausabonde qui affaiblit.","Peut se camoufler contre la pierre.","Primitif mais vicieux."],tactical:{bookReference:"Manuel des Monstres p.227",scenarioContext:"Cavernes, souterrains.",spells:[],specialActions:["Puanteur"],tacticFeats:[],tacticSummary:"Utilise la puanteur pour affaiblir puis attaque."},environnement:"Souterrains",organisation:"Escouade (2-5) ou bande (6-11)",ini:"-1",sens:"Vision dans le noir 27 m",ca:{total:15,contact:9,pris_au_depourvu:15},pv:13,dv:"2d8+4",js:{vig:"+5",ref:"-1",vol:"+0"},vit:"9 m (6 c.)",abb:"+1",grp:"+1",attaque:"Gourdin +1 (1d6) ou griffe +1 (1d4) ou javeline +0 (1d6)",att_complete:"Gourdin +1 (1d6), griffe -1 (1d4), morsure -1 (1d4) ou 2 griffes +1 (1d4), morsure -1 (1d4)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Puanteur (Vig DD 13 ou -2 aux jets pendant 10 rounds)"],qual_sp:["Vision dans le noir 27 m","Changement de couleur (+4 Discrtion)"],carac:{for:10,dex:9,con:14,int:8,sag:10,cha:10},comptences:"Discrtion +5 (+9 dans les zones rocheuses)",dons:"Attaques multiples",butin:"50% pices, 50% objets",disposition:"hostile"}],eq=[{id:"expert_4",name:"Expert (niveau 4)",class:"Expert",lvl:4,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:3,role:"Spcialiste non-combattant.",details:["Comptences varies.","Artisan, sage ou spcialiste.","Fuit le combat."],tactical:{bookReference:"Guide du Matre p.109",scenarioContext:"Guildes, acadmies, ateliers.",spells:[],specialActions:[],tacticFeats:["Talent (comptence)"],tacticSummary:"Fuit le combat, utilise ses comptences."},environnement:"Tous",organisation:"Solitaire ou groupe",ini:"+1",sens:"Dtection +7",ca:{total:13,contact:11,pris_au_depourvu:12},pv:18,dv:"4d6+4",js:{vig:"+2",ref:"+2",vol:"+5"},vit:"9 m (6 c.)",abb:"+3",grp:"+3",attaque:"Dague +3 corps  corps (1d4)",att_complete:"Dague +3 corps  corps (1d4)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:10,dex:12,con:12,int:15,sag:13,cha:10},comptences:"Artisanat (un au choix) +12, Connaissances (une au choix) +9, Dtection +7, Profession (une au choix) +8",dons:"Talent (Artisanat), Vigilance",tactiques:"Fuit le combat, utilise ses connaissances pour aider.",butin:"Outils de matre, 4d6 po",ogas:{occupation:"Spcialiste travaillant dans son domaine d'expertise",goal:"Accomplir son travail et tre reconnu pour ses comptences",attitude:"Professionnel et mthodique, vite les conflits",stake:"Risque sa rputation ; peut fournir services et informations techniques"},disposition:"neutre"},{id:"chien_esquiveur",name:"Chien esquiveur",size:"Moyen",type:"Crature magique",alignment:"LB",fp:4,role:"Canid intelligent capable de se tlporter.",details:["Intelligent et loyal.","Peut clignoter (se tlporter).","Parle sa propre langue."],tactical:{bookReference:"Manuel des Monstres p.28",scenarioContext:"Plaines, forts.",spells:[],specialActions:["Clignotement"],tacticFeats:["Pistage","Arme de prdilection (morsure)"],tacticSummary:"Clignote pour attaquer puis disparat."},environnement:"Plaines tempres",organisation:"Solitaire, couple ou meute (7-16)",ini:"+3",sens:"Vision dans le noir 18 m, odorat",ca:{total:16,contact:13,pris_au_depourvu:13},pv:22,dv:"4d10",js:{vig:"+4",ref:"+7",vol:"+4"},vit:"12 m (8 c.)",abb:"+4",grp:"+4",attaque:"Morsure +4 corps  corps (1d6)",att_complete:"Morsure +4 corps  corps (1d6)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Clignotement (Sur) : comme sort clignotement, action libre","Porte dimensionnelle (Mag) : 1/round, personnel plus 25 kg","Vision dans le noir 18 m","Odorat"],carac:{for:10,dex:17,con:10,int:10,sag:13,cha:11},comptences:"Dtection +7, Dplacement silencieux +7, Discrtion +7, Perception auditive +7, Survie +4",dons:"Pistage, Arme de prdilection (morsure)",tactiques:"Clignote pour attaquer puis disparat, harcelle les ennemis.",butin:"Aucun",disposition:"hostile"},{id:"ogre",name:"Ogre",size:"Grand",type:"Gant",alignment:"CM",fp:3,role:"Brute gante stupide et vorace.",details:["Mesure 2,70  3 m de haut.","Pse 300  350 kg.","Parle le gant."],tactical:{bookReference:"Manuel des Monstres p.199",scenarioContext:"Collines, montagnes, marais.",spells:[],specialActions:[],tacticFeats:["Robustesse","Arme de prdilection (massue)"],tacticSummary:"Charge et frappe, ne fuit que si gravement bless."},environnement:"Collines tempres",organisation:"Solitaire, couple, bande (3-4) ou gang (5-8)",ini:"-1",sens:"Vision dans le noir 18 m, vision nocturne",ca:{total:16,contact:8,pris_au_depourvu:16},pv:29,dv:"4d8+11",js:{vig:"+6",ref:"+0",vol:"+1"},vit:"9 m (6 c.) (armure), 12 m base",abb:"+3",grp:"+12",attaque:"Massue +8 corps  corps (2d8+7) ou javeline +1  distance (1d8+5)",att_complete:"Massue +8 corps  corps (2d8+7)",espace:"3 m",allonge:"3 m",att_sp:[],qual_sp:["Vision dans le noir 18 m","Vision nocturne"],carac:{for:21,dex:8,con:15,int:6,sag:10,cha:7},comptences:"Escalade +5, Dtection +2, Perception auditive +2",dons:"Robustesse, Arme de prdilection (massue)",tactiques:"Charge et frappe, ne fuit que si gravement bless.",butin:"Standard",disposition:"hostile"},{id:"guerrier_4",name:"Guerrier (niveau 4)",class:"Guerrier",lvl:4,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:4,role:"Combattant expriment.",details:["Formation martiale complte.","Spcialisation martiale.","Solide en mle."],tactical:{bookReference:"Manuel des Joueurs p.37",scenarioContext:"Garnisons, mercenaires, aventuriers.",spells:[],specialActions:[],tacticFeats:["Arme de prdilection (pe longue)","Spcialisation martiale (pe longue)","Attaque en puissance"],tacticSummary:"Combat au corps  corps, utilise spcialisation martiale."},environnement:"Tous",organisation:"Solitaire ou groupe (2-4)",ini:"+1",sens:"Dtection +2",ca:{total:19,contact:11,pris_au_depourvu:18},pv:38,dv:"4d10+12",js:{vig:"+7",ref:"+2",vol:"+1"},vit:"6 m (4 c.) (armure)",abb:"+4",grp:"+7",attaque:"pe longue +9 corps  corps (1d8+5, 19-20)",att_complete:"pe longue +9 corps  corps (1d8+5, 19-20)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:16,dex:13,con:16,int:10,sag:10,cha:8},comptences:"Escalade +7, Intimidation +6, Saut +7",dons:"Arme de prdilection (pe longue), Spcialisation martiale (pe longue), Attaque en puissance, Enchanement",tactiques:"Combat au corps  corps, utilise attaque en puissance contre ennemis lourds.",butin:"pe longue de matre, harnois, cu en acier, 4d6 po",ogas:{occupation:"Sert comme garde, mercenaire ou soldat",goal:"Excuter ses ordres et protger son employeur",attitude:"Disciplin et loyal, obit  la chane de commandement",stake:"Risque sa vie au combat ; peut changer de camp si bien pay"},disposition:"hostile"},{id:"gargouille",name:"Gargouille",size:"Moyen",type:"Humanode monstrueux (Terre)",alignment:"CM",fp:4,role:"Prdateur volant qui ressemble  une statue de pierre.",details:["Peut rester immobile des jours durant.","N'a pas besoin de boire, manger ou respirer.","Parle le commun et le terreux."],tactical:{bookReference:"Manuel des Monstres p.113",scenarioContext:"Ruines, tours, btiments anciens.",spells:[],specialActions:["Immobilit"],tacticFeats:["Attaque en finesse","Attaques multiples"],tacticSummary:"Reste immobile comme une statue, fond sur sa proie par surprise."},environnement:"Tous",organisation:"Solitaire, paire ou groupe (5-16)",ini:"+2",sens:"Vision dans le noir 18 m",ca:{total:16,contact:12,pris_au_depourvu:14},pv:37,dv:"4d8+19",js:{vig:"+5",ref:"+6",vol:"+4"},vit:"12 m (8 c.), vol 18 m (moyenne)",abb:"+4",grp:"+6",attaque:"Griffe +6 corps  corps (1d4+2)",att_complete:"2 griffes +6 corps  corps (1d4+2), morsure +4 corps  corps (1d6+1), cornes +4 corps  corps (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Rduction des dgts 10/magie","Immobilit (Ext) : ressemble  une statue, Dtection DD 20 pour reprer","Armes naturelles considres comme magiques"],carac:{for:15,dex:14,con:18,int:6,sag:11,cha:7},comptences:"Dtection +4 (+2 racial), Discrtion +7 (+8 contre mur de pierre, +2 racial), Perception auditive +4 (+2 racial)",dons:"Attaque en finesse, Attaques multiples",tactiques:"Reste immobile jusqu' ce que la proie passe, puis fond dessus par surprise.",butin:"Standard",disposition:"hostile"},{id:"minotaure",name:"Minotaure",size:"Grand",type:"Crature magique",alignment:"CM",fp:4,role:"Taureau-humanode du labyrinthe.",details:["Mi-homme, mi-taureau.","Ne se perd jamais dans un labyrinthe.","Charge dvastatrice."],tactical:{bookReference:"Manuel des Monstres p.177",scenarioContext:"Labyrinthes, donjons, souterrains.",spells:[],specialActions:["Charge puissante"],tacticFeats:[],tacticSummary:"Charge avec les cornes, puis frappe  la hache."},environnement:"Souterrains",organisation:"Solitaire, couple ou bande (3-4)",ini:"+0",sens:"Vision dans le noir 18 m, Odorat",ca:{total:14,contact:9,pris_au_depourvu:14},pv:45,dv:"6d10+12",js:{vig:"+6",ref:"+5",vol:"+5"},vit:"9 m (6 c.)",abb:"+6",grp:"+14",attaque:"Hache d'armes +9 (1d8+6/x3) ou coup de corne +9 (1d8+4)",att_complete:"Hache d'armes +9/+4 (1d8+6/x3) et coup de corne +4 (1d8+2)",espace:"3 m",allonge:"3 m",att_sp:["Charge puissante (4d6+6)"],qual_sp:["Vision dans le noir 18 m","Odorat","Instinct naturel (ne se perd jamais)"],carac:{for:19,dex:10,con:15,int:7,sag:10,cha:8},comptences:"Dtection +7, Fouille +2, Perception auditive +7",dons:"Attaque en puissance, Pistage, Talent (Fouille)",butin:"Standard",disposition:"hostile"},{id:"ettin",name:"Ettin",size:"Grand",type:"Gant",alignment:"CM",fp:6,role:"Gant  deux ttes.",details:["Deux ttes qui se disputent souvent.","Peut surveiller dans toutes les directions.","Trs difficile  surprendre."],tactical:{bookReference:"Manuel des Monstres p.91",scenarioContext:"Collines, montagnes, cavernes.",spells:[],specialActions:["Combat  deux armes suprieur"],tacticFeats:[],tacticSummary:"Frappe avec deux morgensterns simultanment."},environnement:"Collines froides",organisation:"Solitaire, couple, bande (3-4) ou troupe (5-8)",ini:"+3",sens:"Vision dans le noir 18 m, Vision nocturne",ca:{total:18,contact:8,pris_au_depourvu:18},pv:65,dv:"10d8+20",js:{vig:"+9",ref:"+2",vol:"+5"},vit:"9 m (6 c.) (12 m sans armure)",abb:"+7",grp:"+17",attaque:"Morgenstern +12 (2d6+6) ou javeline +5 (1d8+6)",att_complete:"2 morgensterns +12/+7 (2d6+6) ou 2 javelines +5 (1d8+6)",espace:"3 m",allonge:"3 m",att_sp:[],qual_sp:["Vision dans le noir 18 m","Vision nocturne","Combat  deux armes suprieur","Vigilance suprieure (+4 Dtection)"],carac:{for:23,dex:8,con:15,int:6,sag:10,cha:11},comptences:"Dtection +10, Perception auditive +10, Fouille +1",dons:"Vigilance, Science de l'initiative, Volont de fer, Attaque en puissance",butin:"Standard",disposition:"hostile"},{id:"ours_brun",name:"Ours Brun",size:"Grand",type:"Animal",alignment:"N",fp:4,role:"Prdateur massif des forts.",details:["Peut atteindre 2,70 m debout.","Trs territorial.","Extrmement dangereux si provoqu."],tactical:{bookReference:"Manuel des Monstres p.271",scenarioContext:"Forts, montagnes.",spells:[],specialActions:["treinte amliore"],tacticFeats:[],tacticSummary:"Se dresse, agrippe et dchiquette."},environnement:"Forts froides",organisation:"Solitaire ou couple",ini:"+1",sens:"Vision nocturne, Odorat",ca:{total:15,contact:10,pris_au_depourvu:14},pv:51,dv:"6d8+24",js:{vig:"+9",ref:"+6",vol:"+3"},vit:"12 m (8 c.)",abb:"+4",grp:"+16",attaque:"Griffe +11 (1d8+8)",att_complete:"2 griffes +11 (1d8+8), morsure +6 (2d6+4)",espace:"3 m",allonge:"1,50 m",att_sp:["treinte amliore"],qual_sp:["Vision nocturne","Odorat"],carac:{for:27,dex:13,con:19,int:2,sag:12,cha:6},comptences:"Dtection +4, Natation +12, Perception auditive +4",dons:"Course, Endurance, Pistage",butin:"Aucun",disposition:"hostile"},{id:"cockatrice",name:"Cocatrix",size:"Petit",type:"Crature magique",alignment:"N",fp:3,role:"Poulet-reptile ptrifiant.",details:["Hybride coq-serpent-lzard.","Sa morsure transforme en pierre.","Trs agressif et territorial."],tactical:{bookReference:"Manuel des Monstres p.44",scenarioContext:"Plaines, collines.",spells:[],specialActions:["Ptrification"],tacticFeats:[],tacticSummary:"Vole et mord pour ptrifier."},environnement:"Plaines tempres",organisation:"Solitaire, couple ou vol (3-5)",ini:"+3",sens:"Vision dans le noir 18 m, Vision nocturne",ca:{total:14,contact:14,pris_au_depourvu:11},pv:27,dv:"5d10",js:{vig:"+4",ref:"+7",vol:"+2"},vit:"6 m (4 c.), vol 18 m (mdiocre)",abb:"+5",grp:"-1",attaque:"Morsure +9 (1d4-2 plus ptrification)",att_complete:"Morsure +9 (1d4-2 plus ptrification)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Ptrification (Vig DD 12 ou transformation permanente en pierre)"],qual_sp:["Vision dans le noir 18 m","Vision nocturne"],carac:{for:6,dex:17,con:11,int:2,sag:13,cha:9},comptences:"Dtection +6, Perception auditive +6",dons:"Vigilance, Esquive, Arme de prdilection (morsure)",butin:"Aucun",disposition:"hostile"}],tq=[{id:"spectre",name:"Spectre",size:"Moyen",type:"Mort-vivant (Incorporel)",alignment:"LM",fp:7,role:"Mort-vivant incorporel qui draine l'nergie vitale.",details:["Semitransparent et insubstantiel.","Hat tout ce qui vit.","Parle le commun."],tactical:{bookReference:"Manuel des Monstres p.232",scenarioContext:"Lieux hants, cimetires, ruines.",spells:[],specialActions:["Absorption d'nergie","Cration de rejetons"],tacticFeats:["Vigilance","Combat en aveugle"],tacticSummary:"Traverse les murs pour surprendre, draine l'nergie, cre des rejetons."},environnement:"Tous",organisation:"Solitaire, bande (2-4) ou meute (5-8)",ini:"+7",sens:"Vision dans le noir 18 m",ca:{total:15,contact:15,pris_au_depourvu:12},pv:45,dv:"7d12",js:{vig:"+2",ref:"+5",vol:"+7"},vit:"Vol 24 m (parfaite) (16 c.)",abb:"+3",grp:"",attaque:"Contact incorporel +6 corps  corps (1d8 plus absorption d'nergie)",att_complete:"Contact incorporel +6 corps  corps (1d8 plus absorption d'nergie)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Absorption d'nergie (Sur) : chaque coup inflige 2 niveaux ngatifs. Vig DD 15 pour annuler aprs 24h.","Cration de rejetons (Sur) : humanode tu par absorption devient un spectre en 1d4 rounds."],qual_sp:["Traits des morts-vivants","Traits des cratures incorporelles","Rsistance au renvoi +2","Impuissance  la lumire du soleil","Insubstantiel (ne peut tre touch que par armes magiques +1 ou attaques de force)"],carac:{for:null,dex:16,con:null,int:14,sag:14,cha:15},comptences:"Dtection +11, Discrtion +11, Intimidation +12, Perception auditive +11, Fouille +10, Survie +2",dons:"Vigilance, Combat en aveugle, Science de l'initiative",tactiques:"Traverse les murs pour surprendre, draine l'nergie vitale, cre des rejetons.",butin:"Aucun",disposition:"hostile"},{id:"magicien_5",name:"Magicien (niveau 5)",class:"Magicien",lvl:5,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:5,role:"Lanceur de sorts profanes.",details:["Sorts de niveau 3.","Familier.","Magie offensive et dfensive."],tactical:{bookReference:"Manuel des Joueurs p.54",scenarioContext:"Tours de mages, acadmies, aventuriers.",spells:[{name:"Sorts niveau 0 (4/jour)",details:"Dtection de la magie, lumire, rayon de givre, lecture de la magie"},{name:"Sorts niveau 1 (4/jour)",details:"Projectile magique, bouclier, armure de mage, sommeil"},{name:"Sorts niveau 2 (3/jour)",details:"Image miroir, flche acide, invisibilit"},{name:"Sorts niveau 3 (2/jour)",details:"Boule de feu (5d6, Rf DD 16), clair (5d6, Rf DD 16)"}],specialActions:[],tacticFeats:["Science de l'initiative","cole renforce (vocation)"],tacticSummary:"Lance bouclier/image miroir, puis boule de feu ou clair."},environnement:"Tous",organisation:"Solitaire ou groupe",ini:"+6",sens:"Dtection +2",ca:{total:12,contact:12,pris_au_depourvu:10},pv:17,dv:"5d4+5",js:{vig:"+2",ref:"+3",vol:"+5"},vit:"9 m (6 c.)",abb:"+2",grp:"+2",attaque:"Dague +2 corps  corps (1d4) ou rayon +4 contact  distance",att_complete:"Dague +2 corps  corps (1d4)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts de magicien (NLS 5)"],qual_sp:["Familier","Pacte du magicien"],carac:{for:10,dex:14,con:12,int:17,sag:10,cha:8},comptences:"Art de la magie +11, Concentration +9, Connaissances (arcanes) +11, Dchiffrage +11",dons:"Science de l'initiative, cole renforce (vocation), criture de parchemins",tactiques:"Lance bouclier et image miroir, puis utilise boule de feu ou clair sur les groupes.",butin:"Livre de sorts, composantes, baguette, 5d6 po",ogas:{occupation:"Pratique et tudie la magie profane",goal:"Acqurir plus de connaissances et de puissance magique",attitude:"Arrogant envers les non-mages, prudent au combat",stake:"Risque de perdre son livre de sorts ; peut offrir services magiques ou connaissances arcanes"},disposition:"hostile"},{id:"otyugh",name:"Otyugh",size:"Grand",type:"Aberration",alignment:"N",fp:4,role:"Charognard souterrain aux tentacules prhensiles.",details:["Vit dans les tas d'ordures.","Trois yeux sur une tige.","Tlpathie limite."],tactical:{bookReference:"Manuel des Monstres p.204",scenarioContext:"Souterrains, gouts, dcharges.",spells:[],specialActions:["treinte","Constriction","Maladie"],tacticFeats:["Vigilance","Robustesse"],tacticSummary:"Agrippe avec tentacules, broie et mord."},environnement:"Souterrains",organisation:"Solitaire, couple ou groupe (3-4)",ini:"+0",sens:"Vision dans le noir 18 m, odorat",ca:{total:17,contact:9,pris_au_depourvu:17},pv:36,dv:"6d8+9",js:{vig:"+3",ref:"+2",vol:"+6"},vit:"6 m (4 c.)",abb:"+4",grp:"+8",attaque:"Tentacule +4 corps  corps (1d6)",att_complete:"2 tentacules +4 corps  corps (1d6) et morsure -2 corps  corps (1d4)",espace:"3 m",allonge:"3 m (4,50 m tentacules)",att_sp:["Constriction (Ext) : 1d6 dgts automatiques avec une lutte russie.","treinte (Ext) : si touche avec tentacule, peut tenter lutte en action libre.","Maladie (Ext) : fivre des immondices, morsure, Vig DD 14, incubation 1d3 jours, 1d3 Dex et 1d3 Con."],qual_sp:["Vision dans le noir 18 m","Odorat"],carac:{for:11,dex:10,con:13,int:5,sag:12,cha:6},comptences:"Dtection +9, Discrtion +5, Perception auditive +9",dons:"Vigilance, Robustesse",tactiques:"Agrippe avec les tentacules, trangle et mord.",butin:"Standard",disposition:"hostile"},{id:"ame_en_peine",name:"me-en-peine",size:"Moyen",type:"Mort-vivant (Intangible)",alignment:"LM",fp:5,role:"Crature intangible ne du Mal et des tnbres.",details:["Hait la lumire et tout ce qui vit.","Silhouette parfois arme (reflet de son vivant).","Parle le commun et l'infernal."],tactical:{bookReference:"Manuel des Monstres p.13",scenarioContext:"Lieux sombres, tombes, champs de bataille.",spells:[],specialActions:["Diminution permanente de Constitution","Cration de rejetons","Aura de mort"],tacticFeats:["Science de l'initiative","Attaques rflexes"],tacticSummary:"Draine la Constitution des vivants, cre des rejetons, fuit la lumire du soleil."},environnement:"Tous",organisation:"Solitaire, groupe (2-5) ou meute (6-11)",ini:"+7",sens:"Vision dans le noir 18 m",ca:{total:15,contact:15,pris_au_depourvu:12},pv:32,dv:"5d12",js:{vig:"+1",ref:"+4",vol:"+6"},vit:"Vol 18 m (bonne) (12 c.)",abb:"+2",grp:"",attaque:"Contact intangible +5 contact (1d4 plus diminution 1d6 Con)",att_complete:"Contact intangible +5 contact (1d4 plus diminution 1d6 Con)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Diminution permanente de Constitution (Sur) : toucher inflige 1d6 points de diminution permanente de Con. Crature rduite  Con 0 meurt.","Cration de rejetons (Sur) : humanode tu par diminution de Con devient une me-en-peine en 1d4 rounds.","Aura de mort (Sur) : animaux  9 m paniquent et refusent d'approcher."],qual_sp:["Traits des morts-vivants","Traits des cratures intangibles","Rsistance au renvoi +2","Impuissance  la lumire du soleil (perd tous ses pouvoirs)"],carac:{for:null,dex:16,con:null,int:14,sag:14,cha:15},comptences:"Dtection +12, Diplomatie +6, Discrtion +11, Fouille +10, Intimidation +10, Perception auditive +12, Psychologie +8, Survie +2",dons:"Attaques rflexes, Combat en aveugle, Science de l'initiative, Vigilance",tactiques:"Draine la Constitution des vivants, fuit la lumire du soleil, cre des rejetons.",butin:"Aucun",disposition:"hostile"},{id:"babelien",name:"Bablien",size:"Moyen",type:"Aberration",alignment:"N",fp:5,role:"Abomination amibe couverte d'yeux et de bouches.",details:["Corps en forme d'amibe, peau de couleur humaine.","Yeux et bouches se forment et se rsorbent constamment.","Mesure 90 cm de diamtre, pse 100 kg."],tactical:{bookReference:"Manuel des Monstres p.21",scenarioContext:"Souterrains, cavernes humides.",spells:[],specialActions:["Charabia","Manipulation du sol","Absorption de sang","Enveloppement"],tacticFeats:["Attaque en finesse","Rflexes surhumains"],tacticSummary:"Charabia pour confondre, ramollit le sol, agrippe et absorbe le sang."},environnement:"Souterrains",organisation:"Solitaire",ini:"+1",sens:"Vision dans le noir 18 m",ca:{total:19,contact:11,pris_au_depourvu:18},pv:42,dv:"4d8+24",js:{vig:"+7",ref:"+4",vol:"+5"},vit:"3 m (2 c.), nage 6 m",abb:"+3",grp:"+3",attaque:"Morsure +4 corps  corps (1) ou salive +4 contact  distance (1d4 acide plus aveuglement)",att_complete:"6 morsures +4 corps  corps (1) et salive +4 contact  distance (1d4 acide plus aveuglement)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Charabia (Sur) : 18 m, Vol DD 13 ou confusion 1d2 rounds. Effet sonore et mental.","Manipulation du sol (Sur) : transforme sol adjacent en sable mouvant (1 round terre, 2 rounds pierre).","Absorption de sang (Ext) : aprs lutte russie, 1 affaiblissement Con/round.","Salive (Ext) : 9 m, 1d4 acide, Vig DD 18 ou aveugl 1d4 rounds.","Enveloppement (Ext) : crature M ou moins agrippe par 3+ bouches, Rf DD 14 ou englouti (12 morsures/round)."],qual_sp:["Crature informe (immunit coups critiques, pas de dos)","Rduction des dgts 5/contondant","Vision dans le noir 18 m"],carac:{for:10,dex:13,con:22,int:4,sag:13,cha:13},comptences:"Dtection +9 (+4 racial), Natation +8 (+8 racial), Perception auditive +4",dons:"Attaque en finesse, Rflexes surhumains",tactiques:"Charabia pour confondre, ramollit le sol sous les ennemis, agrippe et absorbe le sang.",butin:"Aucun",disposition:"hostile"}],aq=[{id:"golem_pierre",name:"Golem de pierre",size:"Grand",type:"Crature artificielle",alignment:"N",fp:11,role:"Gardien construit de pierre, implacable et puissant.",details:["Obit uniquement  son crateur.","Ne peut pas parler ni penser.","Mesure 2,70 m et pse 900 kg."],tactical:{bookReference:"Manuel des Monstres p.134",scenarioContext:"Temples, tombes, salles du trsor.",spells:[],specialActions:["Ralentissement"],tacticFeats:[],tacticSummary:"Avance et frappe, utilise ralentissement."},environnement:"Tous",organisation:"Solitaire ou groupe (2-4)",ini:"-1",sens:"Vision dans le noir 18 m, vision nocturne",ca:{total:26,contact:8,pris_au_depourvu:26},pv:107,dv:"14d10+30",js:{vig:"+4",ref:"+3",vol:"+4"},rd:"10/adamantine",vit:"6 m (4 c.)",abb:"+10",grp:"+23",attaque:"Coup +18 corps  corps (2d10+9)",att_complete:"2 coups +18 corps  corps (2d10+9)",espace:"3 m",allonge:"3 m",att_sp:["Ralentissement (Sur) : peut ralentir des adversaires comme le sort (Vol DD 17 annule), action libre, 1/round."],qual_sp:["Traits des cratures artificielles","Rduction des dgts 10/adamantine","Immunit  la magie (sauf transmutation de pierre)"],carac:{for:29,dex:9,con:null,int:null,sag:11,cha:1},comptences:"",dons:"",tactiques:"Avance implacablement, frappe les intrus, utilise ralentissement.",butin:"Aucun",disposition:"hostile"},{id:"guerrier_6",name:"Guerrier (niveau 6)",class:"Guerrier",lvl:6,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:6,role:"Combattant vtran.",details:["Formation martiale complte.","Multiple spcialisations.","Solide en mle."],tactical:{bookReference:"Manuel des Joueurs p.37",scenarioContext:"Capitaines, champions, aventuriers.",spells:[],specialActions:[],tacticFeats:["Arme de prdilection (pe longue)","Spcialisation martiale (pe longue)","Attaque en puissance","Fente"],tacticSummary:"Combat au corps  corps, utilise fente pour atteindre les ennemis."},environnement:"Tous",organisation:"Solitaire ou groupe (2-4)",ini:"+1",sens:"Dtection +3",ca:{total:20,contact:11,pris_au_depourvu:19},pv:55,dv:"6d10+18",js:{vig:"+8",ref:"+3",vol:"+2"},vit:"6 m (4 c.) (armure)",abb:"+6/+1",grp:"+9",attaque:"pe longue +1 +12 corps  corps (1d8+7, 19-20)",att_complete:"pe longue +1 +12/+7 corps  corps (1d8+7, 19-20)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:17,dex:13,con:16,int:10,sag:10,cha:8},comptences:"Escalade +9, Intimidation +8, Saut +9",dons:"Arme de prdilection (pe longue), Spcialisation martiale (pe longue), Attaque en puissance, Enchanement, Fente",tactiques:"Combat au corps  corps, utilise fente pour atteindre les lanceurs de sorts.",butin:"pe longue +1, harnois de matre, cu en acier, 6d6 po",ogas:{occupation:"Commande une unit ou sert comme champion",goal:"Prouver sa valeur au combat et gagner en prestige",attitude:"Confiant et direct, respecte les adversaires dignes",stake:"Risque sa vie et son honneur ; peut tre recrut ou dfi en duel"},disposition:"hostile"},{id:"geode_avatar",name:"Gode de Confinement",class:"Objet Magique",lvl:null,size:"Immense",type:"Constructe (Racteur)",alignment:"N",fp:0,role:"Racteur nergtique central, source de pouvoir et de danger.",details:["Un cristal titanesque de 10 mtres de haut, suspendu au-dessus d'un gouffre.","met des clairs violets qui frappent les parois rgulirement.","Le rayonnement est invisible mais palpable - l'air vibre dangereusement.","Plus on s'approche, plus l'nergie est intense (et les dgts levs)."],tactical:{bookReference:"Scnario 2  Acte 4, Scne 3 : La Gode de Confinement",scenarioContext:"Objif final : charger le cristal de Thade au maximum en survivant au rayonnement.",spells:[],specialActions:[{name:"Dcharge nergtique",details:"2d6 dgts d'nergie (Vig DD 14 pour demi)  tous dans 9 m. Augmente de +1d6 tous les 3 rounds."},{name:"Champ de Recharge",details:"Le cristal de Thade gagne 1 charge par round dans 9 m, 0.5 charge entre 9-18 m."}],tacticFeats:[],tacticSummary:"Les PJ doivent trouver le bon quilibre entre s'approcher assez pour charger le cristal et survivre aux rayonnements."},environnement:"Cur de la Spirale",organisation:"Solitaire",ini:"",sens:"Dtection de l'nergie vitale 18 m",ca:{total:"",contact:"",pris_au_depourvu:""},pv:"",dv:"",js:{vig:"",ref:"",vol:""},vit:"0 m (stationnaire)",abb:"",grp:"",attaque:"",att_complete:"",espace:"3 m",allonge:"18 m (rayonnement)",att_sp:["Dcharge nergtique (Rayonnement) : 2d6 dgts d'nergie tous les rounds  toute crature dans 9 m","Surchauffe Progressive : Les dgts augmentent de +1d6 tous les 3 rounds"],qual_sp:["Champ de Recharge : Le cristal de Thade se charge 10x plus vite dans 9 m","Rayonnement Dangereux : Zone de 18 m autour de la gode","Indestructible : La gode ne peut pas tre endommage par des attaques normales","Pulsations Visibles : clairs violets rguliers qui indiquent les zones dangereuses"],carac:{for:null,dex:null,con:null,int:null,sag:null,cha:null},comptences:"",dons:"",tactiques:"Objet statique qui met des rayonnements nergtiques. Les PJ doivent s'approcher pour charger le cristal tout en subissant des dgts.",butin:"Aucun",disposition:"neutre",mecaniques_speciales:{zone_dangereuse:{description:"Zone de 9m : 2d6 dgts/round. Zone 9-18m : 1d6 dgts/round.",sauvegarde:"Vig DD 14 pour demi dgts.",progression:"+1d6 dgts tous les 3 rounds (surchauffe)."},recharge_cristal:{description:"Le cristal de Thade se charge selon la proximit.",taux:"9m : 1 charge/round. 9-18m : 0.5 charge/round. 18m+ : 0 charge/round."},interaction:{description:"Utilisation d'objet DD 16 pour placer le cristal dans le flux d'nergie.",risque:"chec = projection (2d6 dgts) et perte de concentration."}}}],sq=[{id:"drider",name:"Drider",size:"Grand",type:"Aberration",alignment:"CM",fp:7,role:"Drow maudit mi-elfe mi-araigne.",details:["Ancien drow transform par Lolth en punition.","Conserve ses capacits magiques.","Tisse des piges de toile dans les souterrains."],tactical:{bookReference:"Manuel des Monstres p.80",scenarioContext:"Outreterre, temples de Lolth.",spells:["Lumires dansantes","Tnbres","Dtection de la magie","Dtection du Bien","Lvitation","Suggestion"],specialActions:["Poison","Toile"],tacticFeats:["Combat  deux armes"],tacticSummary:"Lance sorts  distance, utilise toile pour immobiliser, poison mortel."},environnement:"Souterrains",organisation:"Solitaire, couple ou troupe (2-4)",ini:"+2",sens:"Vision dans le noir 36 m",ca:{total:17,contact:11,pris_au_depourvu:15},pv:45,dv:"6d8+18",js:{vig:"+5",ref:"+4",vol:"+8"},rm:17,vit:"9 m (6 c.), escalade 4,50 m",abb:"+4",grp:"+10",attaque:"Dague +5 (1d4+2/19-20 plus poison) ou morsure +6 (1d4+1 plus poison)",att_complete:"2 dagues +3 (1d4+2/19-20 plus poison), morsure +1 (1d4+1 plus poison)",espace:"3 m",allonge:"1,50 m",att_sp:["Poison (Vig DD 16, 1d6 For/1d6 For)","Sorts","Toile"],qual_sp:["Vision dans le noir 36 m","RM 17"],carac:{for:15,dex:15,con:16,int:15,sag:16,cha:16},comptences:"Discrtion +9, Escalade +14, Dtection +9, Perception auditive +9",dons:"Combat  deux armes, Attaque en finesse",butin:"Double standard",disposition:"hostile"},{id:"meduse",name:"Mduse",size:"Moyen",type:"Crature magique",alignment:"LM",fp:7,role:"Femme serpent au regard ptrifiant.",details:["Cheveux de serpents venimeux.","Son regard transforme en pierre.","Vit en ermite dans des ruines."],tactical:{bookReference:"Manuel des Monstres p.171",scenarioContext:"Ruines, grottes, temples abandonns.",spells:[],specialActions:["Regard ptrifiant","Poison"],tacticFeats:["Tir de prcision"],tacticSummary:"Utilise le regard, attaque  l'arc ceux qui dtournent les yeux."},environnement:"Marais temprs",organisation:"Solitaire",ini:"+2",sens:"Vision dans le noir 18 m",ca:{total:15,contact:12,pris_au_depourvu:13},pv:33,dv:"6d10",js:{vig:"+5",ref:"+7",vol:"+6"},vit:"9 m (6 c.)",abb:"+6",grp:"+6",attaque:"Arc court +8 (1d6/x3) ou serpents +8 (1d4 plus poison)",att_complete:"Arc court +8/+3 (1d6/x3) ou serpents +8 (1d4 plus poison)",espace:"1,50 m",allonge:"1,50 m",att_sp:["Regard ptrifiant (Vig DD 15 ou ptrification permanente, 9 m)","Poison (Vig DD 14, 1d6 For/2d6 For)"],qual_sp:["Vision dans le noir 18 m"],carac:{for:10,dex:15,con:12,int:12,sag:13,cha:15},comptences:"Bluff +9, Dguisement +9, Dplacement silencieux +8, Dtection +8",dons:"Tir de prcision, Tir  bout portant, Arme de prdilection (arc court)",butin:"Double standard",disposition:"hostile"},{id:"harpie",name:"Harpie",size:"Moyen",type:"Crature magique",alignment:"CM",fp:4,role:"Femme-oiseau au chant envotant.",details:["Mi-femme, mi-vautour.","Son chant attire les victimes vers leur mort.","Vit en bandes dans les montagnes."],tactical:{bookReference:"Manuel des Monstres p.152",scenarioContext:"Falaises, montagnes, ruines.",spells:[],specialActions:["Chant captivant"],tacticFeats:["Attaque en vol"],tacticSummary:"Chante pour attirer, attaque les victimes fascines."},environnement:"Marais et montagnes temprs",organisation:"Solitaire, couple ou vol (7-12)",ini:"+2",sens:"Vision dans le noir 18 m",ca:{total:13,contact:12,pris_au_depourvu:11},pv:31,dv:"7d10",js:{vig:"+5",ref:"+7",vol:"+6"},vit:"6 m (4 c.), vol 24 m (moyenne)",abb:"+7",grp:"+7",attaque:"Gourdin +7 (1d6) ou griffes +7 (1d3)",att_complete:"Gourdin +7/+2 (1d6) et 2 griffes +2 (1d3)",espace:"1,50 m",allonge:"1,50 m",att_sp:["Chant captivant (Vol DD 16, 90 m, fascination puis approche)"],qual_sp:["Vision dans le noir 18 m"],carac:{for:10,dex:15,con:10,int:7,sag:12,cha:17},comptences:"Bluff +11, Intimidation +7, Dtection +7, Perception auditive +7, Reprsentation (chant) +5",dons:"Attaque en vol, Persuasion, Talent (Bluff)",butin:"Standard",disposition:"hostile"},{id:"wyvern",name:"Wyverne",size:"Grand",type:"Dragon",alignment:"N",fp:6,role:"Cousin sauvage et froce des dragons.",details:["Dragon bipde avec dard venimeux.","Moins intelligent qu'un vrai dragon.","Peut tre dress comme monture."],tactical:{bookReference:"Manuel des Monstres p.239",scenarioContext:"Collines, montagnes, zones sauvages.",spells:[],specialActions:["Poison","treinte amliore"],tacticFeats:["Attaque en vol"],tacticSummary:"Fond en piqu, agrippe, pique avec le dard venimeux."},environnement:"Collines chaudes",organisation:"Solitaire, couple ou vol (3-6)",ini:"+1",sens:"Vision dans le noir 18 m, vision nocturne, Odorat",ca:{total:18,contact:10,pris_au_depourvu:17},pv:59,dv:"7d12+14",js:{vig:"+7",ref:"+6",vol:"+6"},vit:"6 m (4 c.), vol 18 m (mdiocre)",abb:"+7",grp:"+15",attaque:"Dard +10 (1d6+4 plus poison) ou serres +10 (2d6+4) ou morsure +10 (2d8+4)",att_complete:"Dard +10 (1d6+4 plus poison), morsure +8 (2d8+2), 2 ailes +8 (1d6+2), 2 serres +8 (2d6+2)",espace:"3 m",allonge:"1,50 m",att_sp:["Poison (Vig DD 17, 2d6 Con/2d6 Con)","treinte amliore"],qual_sp:["Vision dans le noir 18 m","Vision nocturne","Odorat","Immunit (sommeil, paralysie)"],carac:{for:19,dex:12,con:15,int:6,sag:12,cha:9},comptences:"Dtection +14, Perception auditive +7, Psychologie +4",dons:"Attaque en vol, Vigilance, Attaques multiples",butin:"Standard",disposition:"hostile"},{id:"elementaire_terre_grand",name:"lmentaire de Terre (Grand)",size:"Grand",type:"lmentaire (Terre, Extraplanaire)",alignment:"N",fp:5,role:"Incarnation puissante de la terre.",details:["Se dplace dans la terre comme un poisson dans l'eau.","Mesure 4,80 m de haut et pse 3,5 tonnes.","Parle le terreux mais choisit rarement de s'exprimer."],tactical:{bookReference:"Manuel des Monstres p.94",scenarioContext:"Souterrains, invocations, lieux sacrs.",spells:[],specialActions:["Matrise de la Terre","Nage dans la terre","Pousse"],tacticFeats:["Attaque en puissance","Science du critique (coup)"],tacticSummary:"Surgit du sol, frappe violemment, repousse les ennemis."},environnement:"Plan lmentaire de la Terre",organisation:"Solitaire",ini:"-1",sens:"Vision dans le noir 18 m, perception des vibrations 18 m",ca:{total:18,contact:8,pris_au_depourvu:18},pv:68,dv:"8d8+32",js:{vig:"+10",ref:"+1",vol:"+2"},rd:"5/",vit:"6 m (4 c.), nage dans la terre 6 m",abb:"+6",grp:"+17",attaque:"Coup +12 corps  corps (2d8+7)",att_complete:"2 coups +12 corps  corps (2d8+7)",espace:"3 m",allonge:"3 m",att_sp:["Matrise de la Terre (Ext) : +1 attaque/dgts si l'adversaire et lui sont au sol. -4 si ennemi dans l'eau ou les airs.","Pousse (Ext) : peut tenter une bousculade sans provoquer d'AO."],qual_sp:["Traits des lmentaires","Rduction des dgts 5/","Nage dans la terre (Ext) : traverse terre/pierre comme un poisson dans l'eau, sans laisser de trace"],carac:{for:25,dex:8,con:19,int:6,sag:11,cha:11},comptences:"Dtection +6, Perception auditive +6",dons:"Attaque en puissance, Science du critique (coup)",tactiques:"Surgit du sol pour surprendre, frappe violemment, repousse les ennemis vers les murs.",butin:"Aucun",disposition:"hostile"}],nq=[{id:"destrachan",name:"Destrachan",size:"Grand",type:"Aberration",alignment:"NM",fp:8,role:"Sadique souterrain aveugle qui chasse par le son.",details:["Mesure 3 m de long et pse 1800 kg.","Aveugle mais possde une oue plus prcise que la vue.","Comprend le commun mais ne parle pas."],tactical:{bookReference:"Manuel des Monstres p.50",scenarioContext:"Souterrains, cavernes profondes.",spells:[],specialActions:["Harmoniques destructrices (Chair)","Harmoniques destructrices (Nerfs)","Harmoniques destructrices (Matriau)"],tacticFeats:["Science de l'initiative","Esquive","Rflexes surhumains"],tacticSummary:"Attaque par surprise, dtruit d'abord armures/armes mtalliques, puis attaque la chair."},environnement:"Souterrains",organisation:"Solitaire ou meute (2-5)",ini:"+5",sens:"Vision aveugle 30 m",ca:{total:18,contact:10,pris_au_depourvu:17},pv:60,dv:"8d8+24",js:{vig:"+5",ref:"+5",vol:"+10"},vit:"9 m (6 c.)",abb:"+6",grp:"+14",attaque:"Griffe +9 corps  corps (1d6+4)",att_complete:"2 griffes +9 corps  corps (1d6+4)",espace:"3 m",allonge:"1,5 m",att_sp:["Harmoniques destructrices (Sur) : cne 24 m ou rayon 9 m, DD 15 (Cha). Chair : 4d6 dgts (Rf demi). Nerfs : 6d6 non-ltaux (Rf demi). Matriau : dtruit bois/pierre/mtal/verre (Vig ou bris, max 30 pv)."],qual_sp:["Vision aveugle 30 m (Ext) : peroit par l'oue  30 m","Immunits : attaques de regard, effets visuels, illusions","Protection contre le son (Ext) : +4 aux JS contre attaques soniques"],carac:{for:18,dex:12,con:16,int:12,sag:18,cha:12},comptences:"Discrtion +8, Dplacement silencieux +7, Perception auditive +25 (+10 racial), Survie +9",dons:"Esquive, Science de l'initiative, Rflexes surhumains",tactiques:"Attaque par surprise, dtruit armures/armes mtalliques en premier, puis attaque la chair.",butin:"Aucun",disposition:"hostile"},{id:"geant_collines",name:"Gant des Collines",size:"Grand",type:"Gant",alignment:"CM",fp:7,role:"Le plus petit et stupide des vrais gants.",details:["Mesure 3,20 m de haut.","Brutal et primitif.","Lance des rochers sur ses ennemis."],tactical:{bookReference:"Manuel des Monstres p.122",scenarioContext:"Collines, montagnes, cavernes.",spells:[],specialActions:["Lancer de rochers"],tacticFeats:[],tacticSummary:"Lance des rochers puis charge au corps  corps."},environnement:"Collines tempres",organisation:"Solitaire, bande (2-5) ou gang (6-9)",ini:"-1",sens:"Vision nocturne",ca:{total:20,contact:8,pris_au_depourvu:20},pv:102,dv:"12d8+48",js:{vig:"+12",ref:"+3",vol:"+4"},vit:"9 m (6 c.) (12 m sans armure)",abb:"+9",grp:"+20",attaque:"Massue +16 (2d8+10) ou rocher +8 (2d6+7)",att_complete:"Massue +16/+11 (2d8+10) ou rocher +8 (2d6+7)",espace:"3 m",allonge:"3 m",att_sp:["Lancer de rochers (porte 36 m)"],qual_sp:["Vision nocturne","Rception de rochers"],carac:{for:25,dex:8,con:19,int:6,sag:10,cha:7},comptences:"Dtection +3, Escalade +7, Perception auditive +3, Saut +7",dons:"Enchanement, Arme de prdilection (massue), Attaque en puissance, Science de la bousculade, Succession d'enchanements",butin:"Standard",disposition:"hostile"},{id:"hydre_5_tetes",name:"Hydre (5 ttes)",size:"Trs grand",type:"Crature magique",alignment:"N",fp:4,role:"Serpent  plusieurs ttes rgnrantes.",details:["Cinq ttes qui mordent indpendamment.","Les ttes repoussent si non cautrises.","Gardien classique des marais."],tactical:{bookReference:"Manuel des Monstres p.163",scenarioContext:"Marais, lacs, ruines.",spells:[],specialActions:["Rgnration des ttes"],tacticFeats:[],tacticSummary:"Mord avec toutes les ttes, rgnre celles perdues."},environnement:"Marais temprs",organisation:"Solitaire",ini:"+1",sens:"Vision dans le noir 18 m, Vision nocturne, Odorat",ca:{total:15,contact:9,pris_au_depourvu:14},pv:52,dv:"5d10+28",js:{vig:"+9",ref:"+5",vol:"+3"},vit:"6 m (4 c.), nage 6 m",abb:"+5",grp:"+11",attaque:"5 morsures +6 (1d10+2)",att_complete:"5 morsures +6 (1d10+2)",espace:"4,5 m",allonge:"3 m",att_sp:[],qual_sp:["Vision dans le noir 18 m","Vision nocturne","Odorat","Gurison acclre 15","Rgnration des ttes (10 dgts tranchants pour couper, repousse en 1d4 rounds sauf feu/acide)"],carac:{for:15,dex:12,con:20,int:2,sag:10,cha:9},comptences:"Dtection +6, Perception auditive +6, Natation +10",dons:"Combat en aveugle, Attaques rflexes, Robustesse",butin:"1/10 pices, 50% objets",disposition:"hostile"},{id:"manticore",name:"Manticore",size:"Grand",type:"Crature magique",alignment:"LM",fp:5,role:"Lion ail  queue de dards.",details:["Corps de lion, ailes de chauve-souris, queue de dards.","Peut tirer des dards empoisonns.","Intelligente et cruelle."],tactical:{bookReference:"Manuel des Monstres p.170",scenarioContext:"Montagnes, collines, dserts.",spells:[],specialActions:["Dards"],tacticFeats:[],tacticSummary:"Tire des dards en vol, puis fond pour mordre et griffer."},environnement:"Collines et montagnes chaudes",organisation:"Solitaire, couple ou fiert (3-6)",ini:"+2",sens:"Vision dans le noir 18 m, Vision nocturne, Odorat",ca:{total:17,contact:11,pris_au_depourvu:15},pv:57,dv:"6d10+24",js:{vig:"+9",ref:"+7",vol:"+3"},vit:"9 m (6 c.), vol 15 m (maladroite)",abb:"+6",grp:"+15",attaque:"Griffe +10 (2d4+5) ou dard +8 (1d8+2 plus poison)",att_complete:"2 griffes +10 (2d4+5), morsure +8 (1d8+2) ou 6 dards +8 (1d8+2)",espace:"3 m",allonge:"1,50 m",att_sp:["Dards (6/jour, porte 54 m, pas de malus de porte)"],qual_sp:["Vision dans le noir 18 m","Vision nocturne","Odorat"],carac:{for:20,dex:15,con:19,int:7,sag:12,cha:9},comptences:"Dtection +5, Perception auditive +5, Survie +1",dons:"Attaque en vol, Pistage, Arme de prdilection (dards)",butin:"Standard",disposition:"hostile"}],iq=[{id:"chimere",name:"Chimre",size:"Grand",type:"Crature magique",alignment:"CM",fp:9,role:"Prdateur volant  trois ttes cracheur de feu.",details:["Possde trois ttes : lion, chvre et dragon.","Crache le feu comme un dragon.","Extrmement territoriale et agressive."],tactical:{bookReference:"Manuel des Monstres p.40",scenarioContext:"Montagnes, collines isoles.",spells:[],specialActions:["Souffle de feu (cne 6 m, 3d8 feu, Rf DD 17)"],tacticFeats:["Attaque en vol","Vigilance","Vol stationnaire"],tacticSummary:"Attaque en piqu, souffle puis mord/griffe."},environnement:"Collines tempres",organisation:"Solitaire, couple ou vol (3-6)",ini:"+1",sens:"Vision dans le noir 18 m, vision nocturne, Odorat",ca:{total:19,contact:10,pris_au_depourvu:18},pv:76,dv:"9d10+27",js:{vig:"+9",ref:"+7",vol:"+6"},vit:"9 m (6 c.), vol 15 m (mdiocre)",abb:"+9",grp:"+17",attaque:"Morsure +12 (2d6+4)",att_complete:"Morsure +12 (2d6+4), morsure +12 (1d8+4), cornes +12 (1d8+4), 2 griffes +10 (1d6+2)",espace:"3 m",allonge:"1,50 m",att_sp:["Souffle (cne 6 m, 3d8 feu, Rf DD 17, 1d4 rounds entre utilisations)"],qual_sp:["Vision dans le noir 18 m","Vision nocturne","Odorat"],carac:{for:19,dex:13,con:17,int:4,sag:13,cha:10},comptences:"Dtection +9, Perception auditive +9",dons:"Attaque en vol, Vigilance, Vol stationnaire, Arme de prdilection (morsure)",butin:"Standard",disposition:"hostile"},{id:"gorgone",name:"Gorgone",size:"Grand",type:"Crature magique",alignment:"N",fp:9,role:"Taureau blind au souffle ptrifiant.",details:["Ressemble  un taureau recouvert de plaques mtalliques.","Son souffle transforme en pierre.","Extrmement agressif envers tout intrus."],tactical:{bookReference:"Manuel des Monstres p.147",scenarioContext:"Plaines, prairies.",spells:[],specialActions:["Souffle ptrifiant (cne 18 m, Vig DD 18)"],tacticFeats:["Attaque en puissance","Science de la bousculade"],tacticSummary:"Charge, souffle pour ptrifier, pitine."},environnement:"Plaines tempres",organisation:"Solitaire, couple ou troupeau (3-12)",ini:"+4",sens:"Vision dans le noir 18 m, vision nocturne, Odorat",ca:{total:20,contact:9,pris_au_depourvu:20},pv:85,dv:"8d10+40",js:{vig:"+11",ref:"+6",vol:"+7"},vit:"9 m (6 c.)",abb:"+8",grp:"+17",attaque:"Coup de corne +12 (1d8+7)",att_complete:"Coup de corne +12 (1d8+7)",espace:"3 m",allonge:"1,50 m",att_sp:["Souffle ptrifiant (cne 18 m, Vig DD 18 ou ptrification permanente, 1d4 rounds)"],qual_sp:["Vision dans le noir 18 m","Vision nocturne","Odorat"],carac:{for:21,dex:10,con:21,int:2,sag:12,cha:9},comptences:"Dtection +10, Perception auditive +9",dons:"Vigilance, Science de l'initiative, Talent (Dtection)",butin:"Aucun",disposition:"hostile"},{id:"esprit_follet_majeur",name:"Esprit Follet Majeur",size:"Moyen",type:"Fe",alignment:"CN",fp:9,role:"Fe puissante aux pouvoirs d'illusion.",details:["Peut devenir invisible  volont.","Matre des illusions et de la confusion.","Adore jouer des tours cruels aux mortels."],tactical:{bookReference:"Manuel des Monstres p.136",scenarioContext:"Forts enchantes, clairires feriques.",spells:["Confusion","Image permanente","Porte dimensionnelle"],specialActions:["Invisibilit suprieure  volont"],tacticFeats:["Esquive","Souplesse du serpent"],tacticSummary:"Reste invisible, lance confusion puis attaque les isols."},environnement:"Forts tempres",organisation:"Solitaire ou bande (2-4)",ini:"+8",sens:"Vision nocturne",ca:{total:21,contact:14,pris_au_depourvu:17},pv:49,dv:"9d6+18",js:{vig:"+5",ref:"+10",vol:"+9"},vit:"12 m (8 c.)",abb:"+4",grp:"+4",attaque:"pe courte +8 (1d6)",att_complete:"pe courte +8/+3 (1d6)",espace:"1,50 m",allonge:"1,50 m",att_sp:["Pouvoirs magiques"],qual_sp:["Vision nocturne","RD 10/fer froid","RM 20"],carac:{for:10,dex:18,con:14,int:16,sag:17,cha:19},comptences:"Bluff +16, Concentration +14, Diplomatie +8, Discrtion +16",dons:"Esquive, Science de l'initiative, Souplesse du serpent, Vigilance",butin:"Standard",disposition:"neutre"},{id:"night_hag",name:"Guenaude Noire",size:"Moyen",type:"Extrieur (Mal)",alignment:"NM",fp:9,role:"Marchand d'mes des plans infrieurs.",details:["Commerce les mes des mortels.","Peut entrer dans le Plan thr  volont.","Traque les rveurs pour voler leur essence vitale."],tactical:{bookReference:"Manuel des Monstres p.160",scenarioContext:"N'importe o, souvent dguise.",spells:["Dtection de la magie","Dtection du Bien","Rayon d'affaiblissement"],specialActions:["Chevauche du cauchemar","Changement de plan"],tacticFeats:["Attaque en finesse","Vigilance"],tacticSummary:"Espionne depuis l'thr, attaque les dormeurs."},environnement:"Tous plans Infrieurs",organisation:"Solitaire ou cercle (3)",ini:"+1",sens:"Vision dans le noir 18 m",ca:{total:22,contact:11,pris_au_depourvu:21},pv:68,dv:"8d8+32",js:{vig:"+10",ref:"+7",vol:"+10"},vit:"6 m (4 c.)",abb:"+8",grp:"+12",attaque:"Morsure +12 (2d6+6 plus maladie)",att_complete:"Morsure +12 (2d6+6 plus maladie)",espace:"1,50 m",allonge:"1,50 m",att_sp:["Chevauche du cauchemar","Maladie (fivre dmoniaque)"],qual_sp:["Vision dans le noir 18 m","RD 10/fer froid et magie","RM 25","Immunit (feu, froid, charme, sommeil, terreur)"],carac:{for:19,dex:12,con:18,int:11,sag:15,cha:12},comptences:"Bluff +12, Concentration +15, Diplomatie +5, Dguisement +12",dons:"Attaque en finesse, Robustesse, Vigilance",butin:"Standard",disposition:"hostile"},{id:"shambling_mound",name:"Tertre Errant",size:"Grand",type:"Plante",alignment:"N",fp:9,role:"Masse vgtale ambulante des marcages.",details:["Compos de vgtation en dcomposition.","Absorbe l'lectricit pour se rgnrer.","touffe ses victimes dans ses lianes."],tactical:{bookReference:"Manuel des Monstres p.219",scenarioContext:"Marcages, forts humides.",spells:[],specialActions:["Constriction","treinte amliore"],tacticFeats:["Arme de prdilection (coup)","Science de la lutte"],tacticSummary:"Agrippe et touffe, se soigne avec la foudre."},environnement:"Marais temprs et chauds",organisation:"Solitaire",ini:"+0",sens:"Vision dans le noir 18 m",ca:{total:20,contact:9,pris_au_depourvu:20},pv:105,dv:"8d8+40",js:{vig:"+11",ref:"+2",vol:"+4"},vit:"6 m (4 c.), nage 6 m",abb:"+6",grp:"+15",attaque:"Coup +11 corps  corps (2d6+5)",att_complete:"2 coups +11 corps  corps (2d6+5)",espace:"3 m",allonge:"3 m",att_sp:["Constriction (2d6+7)","treinte amliore"],qual_sp:["Vision dans le noir 18 m","Immunit (lectricit)","Rsistance (feu 10)"],carac:{for:21,dex:10,con:21,int:7,sag:10,cha:9},comptences:"Discrtion +3, Perception auditive +4",dons:"Arme de prdilection (coup), Robustesse, Science de la lutte",butin:"1/10 pices, 50% objets",disposition:"hostile"}],rq=[{id:"aboleth",name:"Aboleth",size:"Trs grand",type:"Aberration (Aquatique)",alignment:"LM",fp:10,role:"Ancien matre psychique des profondeurs.",details:["Crature aquatique de 6 m de long.","Possde une mmoire gntique remontant  des millions d'annes.","Peut asservir psychiquement ses victimes."],tactical:{bookReference:"Manuel des Monstres p.12",scenarioContext:"Lacs souterrains, ocans profonds.",spells:["Image programme","Image silencieuse","Lueur hypnotique","Mirage","Projection d'image","Voile"],specialActions:["Domination (Vol DD 17)","Nuage de mucus","Transformation"],tacticFeats:["Vigilance","Combat en aveugle"],tacticSummary:"Domine un ennemi, utilise illusions pour diviser le groupe."},environnement:"Aquatique souterrain",organisation:"Solitaire, couple ou couve (3-6)",ini:"+1",sens:"Vision dans le noir 18 m",ca:{total:16,contact:9,pris_au_depourvu:15},pv:76,dv:"8d8+40",js:{vig:"+7",ref:"+3",vol:"+11"},vit:"3 m (2 c.), nage 18 m",abb:"+6",grp:"+18",attaque:"Tentacule +12 (1d6+8 plus transformation)",att_complete:"4 tentacules +12 (1d6+8 plus transformation)",espace:"4,50 m",allonge:"3 m",att_sp:["Domination (Vol DD 17)","Nuage de mucus","Transformation (Vig DD 19)"],qual_sp:["Vision dans le noir 18 m","Nuage de mucus"],carac:{for:26,dex:12,con:20,int:15,sag:17,cha:17},comptences:"Concentration +16, Connaissances (n'importe) +13, Dtection +16, Perception auditive +16, Natation +8",dons:"Vigilance, Combat en aveugle, Robustesse",butin:"Double standard",disposition:"hostile"},{id:"bebilith",name:"Bbilith",size:"Trs grand",type:"Extrieur (Chaotique, Extraplanaire, Mal)",alignment:"CM",fp:10,role:"Araigne dmoniaque chasseuse de dmons.",details:["Araigne dmoniaque de 4,20 m de haut.","Chasse les autres dmons pour se nourrir.","Son venin dtruit les armures."],tactical:{bookReference:"Manuel des Monstres p.36",scenarioContext:"Abyss, zones de corruption dmoniaque.",spells:[],specialActions:["Souffle de toile","Venin destructeur d'armure"],tacticFeats:["Attaque en finesse","Combat en aveugle"],tacticSummary:"Immobilise avec toile, dtruit l'armure puis tue."},environnement:"Plans Chaotiques Mauvais",organisation:"Solitaire ou meute (2-6)",ini:"+5",sens:"Vision dans le noir 18 m, Odorat, Perception des vibrations 18 m",ca:{total:22,contact:13,pris_au_depourvu:17},pv:150,dv:"12d8+96",js:{vig:"+16",ref:"+13",vol:"+9"},vit:"12 m (8 c.), escalade 12 m",abb:"+12",grp:"+28",attaque:"Morsure +18 (2d6+12 plus venin)",att_complete:"Morsure +18 (2d6+12 plus venin), 2 griffes +13 (2d4+4)",espace:"4,50 m",allonge:"3 m",att_sp:["Souffle de toile","Venin destructeur d'armure (Vig DD 24)"],qual_sp:["Vision dans le noir 18 m","RD 10/Bien","RM 14","Tlpathie 30 m"],carac:{for:28,dex:12,con:26,int:11,sag:13,cha:13},comptences:"Discrtion +16, Diplomatie +3, Dtection +16, Escalade +24, Perception auditive +16, Survie +1",dons:"Attaque en puissance, Combat en aveugle, Science de l'initiative, Enchanement",butin:"Standard",disposition:"hostile"},{id:"cauchemar",name:"Cauchemar",size:"Grand",type:"Extrieur (Extraplanaire, Mal)",alignment:"NM",fp:10,role:"Destrier dmoniaque des plans infrieurs.",details:["Cheval noir aux yeux de feu et  la crinire de flammes.","Peut voyager entre les plans.","Monture favorite des chevaliers noirs et filons."],tactical:{bookReference:"Manuel des Monstres p.32",scenarioContext:"N'importe o, souvent avec un cavalier malfique.",spells:["Forme thre","Voyage astral"],specialActions:["Souffle enflamm","Fume"],tacticFeats:["Attaque en puissance","Course"],tacticSummary:"Charge, brle avec la fume et les sabots enflamms."},environnement:"Plans Infrieurs",organisation:"Solitaire",ini:"+6",sens:"Vision dans le noir 18 m",ca:{total:24,contact:11,pris_au_depourvu:22},pv:76,dv:"6d8+18",js:{vig:"+8",ref:"+7",vol:"+6"},vit:"12 m (8 c.), vol 27 m (bonne)",abb:"+6",grp:"+14",attaque:"Sabot +9 (1d8+4 plus 1d4 feu)",att_complete:"2 sabots +9 (1d8+4 plus 1d4 feu), morsure +4 (1d8+2)",espace:"3 m",allonge:"1,50 m",att_sp:["Souffle enflamm (cne 4,50 m, 2d4 feu, Rf DD 16)","Fume (Vig DD 16 ou -2 att/dg pendant 1d6 min)"],qual_sp:["Vision dans le noir 18 m","Voyage astral","Forme thre"],carac:{for:18,dex:15,con:16,int:13,sag:13,cha:12},comptences:"Concentration +12, Diplomatie +3, Dtection +10, Perception auditive +10, Intimidation +10, Connaissances (plans) +10, Psychologie +10, Survie +10",dons:"Attaque en puissance, Science de l'initiative, Course",butin:"Aucun",disposition:"hostile"},{id:"chuul",name:"Chuul",size:"Grand",type:"Aberration (Aquatique)",alignment:"CM",fp:10,role:"Crustac aberrant gardien de ruines aquatiques.",details:["Ressemble  un homard gant avec des tentacules paralysants.","Intelligent et cruel.","Garde souvent des trsors engloutis."],tactical:{bookReference:"Manuel des Monstres p.42",scenarioContext:"Ctes, lacs, ruines submerges.",spells:[],specialActions:["Constriction","Tentacules paralysants"],tacticFeats:["Vigilance","Combat en aveugle"],tacticSummary:"Agrippe avec les pinces, paralyse avec les tentacules."},environnement:"Marais et aquatique tempr",organisation:"Solitaire ou couple",ini:"+7",sens:"Vision dans le noir 18 m",ca:{total:22,contact:12,pris_au_depourvu:19},pv:93,dv:"11d8+44",js:{vig:"+7",ref:"+6",vol:"+9"},vit:"9 m (6 c.), nage 6 m",abb:"+8",grp:"+17",attaque:"Pince +12 (2d6+5)",att_complete:"2 pinces +12 (2d6+5)",espace:"3 m",allonge:"3 m",att_sp:["Constriction (3d6+5)","treinte amliore","Tentacules paralysants (Vig DD 19)"],qual_sp:["Vision dans le noir 18 m","Amphibie","Immunit (poison)"],carac:{for:20,dex:16,con:18,int:10,sag:14,cha:5},comptences:"Dtection +13, Natation +13, Perception auditive +13",dons:"Vigilance, Combat en aveugle, Science de l'initiative, Attaque en puissance",butin:"1/10 pices, 50% objets, 50% objets",disposition:"hostile"},{id:"roc",name:"Roc",size:"Gigantesque",type:"Animal",alignment:"N",fp:10,role:"Aigle gant lgendaire.",details:["Oiseau de proie de 9 m d'envergure.","Peut soulever un lphant.","Niche dans les plus hautes montagnes."],tactical:{bookReference:"Manuel des Monstres p.193",scenarioContext:"Montagnes, cieux.",spells:[],specialActions:["Emporter"],tacticFeats:["Attaque en vol","Attaque en puissance"],tacticSummary:"Fond en piqu, agrippe et emporte la proie."},environnement:"Montagnes chaudes",organisation:"Solitaire ou couple",ini:"+2",sens:"Vision nocturne",ca:{total:17,contact:8,pris_au_depourvu:15},pv:207,dv:"18d8+126",js:{vig:"+18",ref:"+13",vol:"+9"},vit:"6 m (4 c.), vol 24 m (moyenne)",abb:"+13",grp:"+37",attaque:"Serre +21 (2d6+12)",att_complete:"2 serres +21 (2d6+12), morsure +19 (2d8+6)",espace:"6 m",allonge:"4,50 m",att_sp:["Emporter"],qual_sp:["Vision nocturne"],carac:{for:34,dex:15,con:24,int:2,sag:13,cha:11},comptences:"Dtection +25, Perception auditive +6",dons:"Vigilance, Attaque en vol, Attaque en puissance, Enchanement, Succession d'enchanements, Arme de prdilection (serres), Vol stationnaire",butin:"Aucun",disposition:"hostile"},{id:"xorn_majeur",name:"Xorn Majeur",size:"Grand",type:"Extrieur (Extraplanaire, Terre)",alignment:"N",fp:10,role:"lmentaire de terre dvoreur de minraux.",details:["Se dplace librement  travers la pierre.","Se nourrit de mtaux prcieux et de gemmes.","Peut dtecter les trsors  distance."],tactical:{bookReference:"Manuel des Monstres p.259",scenarioContext:"Souterrains, mines, zones riches en gemmes.",spells:[],specialActions:["Nage dans la terre"],tacticFeats:["Enchanement","Attaque en puissance"],tacticSummary:"Surgit du sol, attaque, replonge si menac."},environnement:"Plan de la Terre ou souterrains",organisation:"Solitaire ou couple",ini:"+0",sens:"Vision  360, Vision dans le noir 18 m, Perception des vibrations 18 m",ca:{total:25,contact:9,pris_au_depourvu:25},pv:75,dv:"15d8+30",js:{vig:"+11",ref:"+9",vol:"+9"},vit:"6 m (4 c.), nage dans la terre 6 m",abb:"+15",grp:"+24",attaque:"Morsure +20 (4d8+5)",att_complete:"Morsure +20 (4d8+5), 3 griffes +18 (1d6+2)",espace:"3 m",allonge:"3 m",att_sp:[],qual_sp:["Vision  360","Vision dans le noir 18 m","Nage dans la terre","RD 5/contondant","Rsistance (feu 10, froid 10, lectricit 10)","Immunit (feu)"],carac:{for:21,dex:10,con:15,int:10,sag:11,cha:10},comptences:"Dtection +18, Discrtion +11, Connaissances (donjons) +18, Perception auditive +18, Survie +18",dons:"Enchanement, Attaque en puissance, Robustesse, Science de l'initiative, Attaques multiples, Arme naturelle suprieure (morsure)",butin:"Aucun, sauf gemmes ingres",disposition:"neutre"}],wh=[{name:"Le Conseil (Politique)",type:"Administration",desc:"Le Bourgmestre est un humain honnte mais dpass. Il est obsd par le maintien de la paix entre Nains et Mages pour que le commerce tourne.",icon:Ss,color:"text-blue-400 border-blue-900 bg-blue-950/30",hierarchy:[{role:"Bourgmestre",npcId:"bourgmestre",notes:"Autorit civile, cherche l'quilibre."},{role:"Capitaine de la Garde urbaine",npcId:"capitaine_garde_urbaine",notes:"Scurit, couvre-feu, sige."},{role:"Gelier du Conseil",npcId:"geolier_principal",notes:"Prisons politiques, interrogatoires."}],npcIds:["bourgmestre","capitaine_garde_urbaine","geolier_principal"],objectifs:{court_terme:"Maintenir l'ordre public et viter l'escalade entre Nains et Mages",long_terme:"Prserver la prosprit conomique de Val-d'Ombre et son statut de carrefour commercial"},alliances:[{faction:"Faction Nains",type:"alliance",desc:"Alliance fragile, tensions croissantes"},{faction:"La Guilde des Mages",type:"alliance",desc:"Dpendance conomique, influence politique forte"}],forces_militaires:{effectifs:"150 gardes urbains",capacites:["Patrouilles urbaines","Maintien de l'ordre","Arrestations"],faiblesses:["Sous-quips face  la magie","Loyaut divise","Dpasss par les vnements"]},quetes_associees:[{scenarioId:1,acte:1,sceneIndex:0,sceneLabel:"Scne 1",role:"Employeur indirect via Thorgar"},{scenarioId:3,acte:1,sceneIndex:0,sceneLabel:"Scne 1",role:"Sommet de rconciliation"}]},{name:"Faction Nains",type:"Foi & Mineurs",desc:"Le bloc nain runit les mineurs et le Temple-Forgeron : gardiens du savoir ancestral, protecteurs des galeries et des reliques sacres.",icon:Ci,color:"text-amber-400 border-amber-900 bg-amber-950/30",hierarchy:[{role:"Chef de la Guilde des Mineurs",npcId:"durnik_chef_mineur",notes:"Voix des mineurs, meneur de grve."},{role:"Haut Clerc / Prtre du Temple-Forgeron",npcId:"thorgar_pretre_nain",notes:"Avertit sur la Spirale, soutien moral."},{role:"Contrematre scurit mine",npcId:"contremaitre_nain_mine",notes:"Logistique, scurit des galeries."},{role:"Capitaine de la Garde du Temple",npcId:"capitaine_garde_temple",notes:"Organise la dfense et les patrouilles sacres."},{role:"Gardien du Cimetire",npcId:"gardien_cimetiere",notes:"Veille sur les spultures et dtecte les profanations."}],npcIds:["durnik_chef_mineur","thorgar_pretre_nain","contremaitre_nain_mine","capitaine_garde_temple","gardien_cimetiere"],objectifs:{court_terme:"Protger les tombes ancestrales et scuriser les mines face aux anomalies",long_terme:"Prserver l'hritage nain et contenir la menace de la Spirale"},alliances:[{faction:"Le Conseil (Politique)",type:"alliance",desc:"Alliance fragile, tensions sur les profanations"},{faction:"La Guilde des Mages",type:"rivalite",desc:"Mfiance envers la magie, conflit ouvert aprs l'assassinat"}],forces_militaires:{effectifs:"200 guerriers nains + 300 mineurs arms",capacites:["Combat au corps--corps","Dfense de forteresse","Connaissance des tunnels","Rsistance magique naturelle"],faiblesses:["Vulnrables  la magie ncromantique","Manque de mobilit","Isols dans le Temple-Forgeron"]},quetes_associees:[{scenarioId:1,acte:1,sceneIndex:0,sceneLabel:"Scne 1",role:"Employeur principal (Thorgar)"},{scenarioId:1,acte:1,sceneIndex:1,sceneLabel:"Scne 2",role:"Gardien du cimetire"},{scenarioId:2,acte:1,sceneIndex:0,sceneLabel:"Scne 1",role:"Crise de la mine (Durnik)"},{scenarioId:3,acte:2,sceneIndex:3,sceneLabel:"Scne 4",role:"Rfugis  sauver"},{scenarioId:3,acte:3,sceneIndex:0,sceneLabel:"Scne 1",role:"Dfense du Temple-Forgeron"},{scenarioId:5,acte:2,sceneIndex:2,sceneLabel:"Scne 3",role:"Ralliement de Thorgar"}]},{name:"La Guilde des Mages",type:"Les Ambitieux",desc:"Prestige intellectuel et force militaire. Officiellement contre la ncromancie et gardienne de l'orthodoxie magique. Thade Coren a infiltr le Cercle Intrieur pour manipuler la Guilde de l'intrieur.",icon:Ti,color:"text-purple-400 border-purple-900 bg-purple-950/30",hierarchy:[{role:"Cercle Intrieur",npcId:"thade_coren",notes:"Antagoniste, contrle la Tour."},{role:"Archimage dfecteur",npcId:"archimage_defecteur",notes:"Sabote Thade de l'intrieur."},{role:"Matre loyaliste",npcId:"magi_tuteur_loyal",notes:"Dfend la Tour contre tous."},{role:"Apprenti favori",npcId:"kaelen_vampire",notes:"Garde du toit, bras droit vampirique."}],npcIds:["thade_coren","archimage_defecteur","magi_tuteur_loyal","kaelen_vampire","bibliothecaire_interdits"],objectifs:{court_terme:"Maintenir le prestige de la Guilde et contrler l'accs  la connaissance magique",long_terme:"Prserver l'ordre magique et empcher les abus de la ncromancie (objectif officiel, compromis par Thade)"},alliances:[{faction:"Le Conseil (Politique)",type:"alliance",desc:"Influence politique dominante"},{faction:"Faction Nains",type:"rivalite",desc:"Tensions sur la magie vs tradition, conflit aprs l'assassinat"},{faction:"Fraternit Nyx",type:"conflit",desc:"Lutte contre la ncromancie clandestine (officiellement)"}],forces_militaires:{effectifs:"50 mages de combat + 100 apprentis + automates de guerre",capacites:["Magie destructrice","vocation","Abjuration","Automates de combat","Barrires magiques"],faiblesses:["Division interne (infiltration de Thade)","Arrogance","Isols dans leur Tour","Vulnrables aux attaques surprises"]},quetes_associees:[{scenarioId:1,acte:2,sceneIndex:0,sceneLabel:"Scne 1",role:"Enqute sur la Fraternit Nyx"},{scenarioId:1,acte:2,sceneIndex:1,sceneLabel:"Scne 2",role:"Rencontre avec Thade"},{scenarioId:2,acte:1,sceneIndex:0,sceneLabel:"Scne 1",role:"Thade offre le cristal"},{scenarioId:3,acte:1,sceneIndex:1,sceneLabel:"Scne 2",role:"Assassinat du Grand Prtre"},{scenarioId:3,acte:4,sceneIndex:3,sceneLabel:"Scne 4",role:"Confrontation avec Thade"},{scenarioId:5,acte:5,sceneLabel:"Toutes",role:"Combat final contre Thade"}]},{name:"Rseau des Ombres",type:"Assassins & Informateurs",desc:"Intermdiaires discrets, chasseurs de primes et opportunistes qui profitent du chaos pour tirer les ficelles dans l'ombre.",icon:Ix,color:"text-emerald-300 border-emerald-900 bg-emerald-950/30",hierarchy:[{role:"Courtier invisible",npcId:"marchand_fou_mercane",notes:"Marchand d'informations et d'artefacts."},{role:"Assassin Masqu",npcId:"assassin_masque",notes:"Tueur  gages li aux complots urbains."},{role:"claireuse perdue",npcId:"lysa_exploratrice_perdue",notes:"Guide occasionnelle pour qui paye ou sauve sa peau."}],npcIds:["marchand_fou_mercane","assassin_masque","lysa_exploratrice_perdue"],objectifs:{court_terme:"Profiter du chaos pour accumuler richesses et informations",long_terme:"Survivre et maintenir leur rseau d'influence quel que soit le vainqueur"},alliances:[{faction:"Le Conseil (Politique)",type:"neutre",desc:"Contrats ponctuels, pas de loyaut"},{faction:"Faction Nains",type:"neutre",desc:"Commerce d'informations"},{faction:"La Guilde des Mages",type:"neutre",desc:"Mercenaires occasionnels pour Thade"}],forces_militaires:{effectifs:"30-50 agents indpendants",capacites:["Assassinat","Espionnage","Infiltration","Commerce d'artefacts","Rseau d'informateurs"],faiblesses:["Pas d'arme organise","Loyaut limite","Vulnrables si exposs"]},quetes_associees:[{scenarioId:2,acte:5,sceneIndex:1,sceneLabel:"Scne 2",role:"Mercenaires de Thade"},{scenarioId:3,acte:2,sceneIndex:2,sceneLabel:"Scne 3",role:"Embuscade de Kael Ombrelame"},{scenarioId:4,acte:2,sceneIndex:1,sceneLabel:"Scne 2",role:"Xareth le Mercane"}]},{name:"Fraternit Nyx",type:"Ncromanciens Clandestins",desc:"Socit secrte de ncromanciens dissous officiellement par la Guilde des Mages. Thade Coren en tait membre et l'a ractive pour ses expriences sur la Spirale. Opre dans l'ombre avec des tudiants radicaliss.",icon:Ai,color:"text-violet-400 border-violet-900 bg-violet-950/30",hierarchy:[{role:"Matre Secret",npcId:"thade_coren",notes:"Fondateur et manipulateur, utilise la Fraternit pour ses plans"},{role:"Apprentie Fanatique",npcId:"ilse_nyx",notes:"Disciple zle, tente de complter le rituel de Jaren"},{role:"Cobaye Rat",npcId:"etudiant_renvoye",notes:"Jaren, tudiant instable utilis pour les expriences"},{role:"Lieutenant Corrompu",npcId:"kael_ombrelame",notes:"Ncromancien devenu vampire, bras arm de Thade"}],npcIds:["thade_coren","ilse_nyx","etudiant_renvoye","kael_ombrelame","apprenti_charme"],objectifs:{court_terme:"Mener des expriences ncromantiques sur la Spirale et crer des morts-vivants",long_terme:"Atteindre l'immortalit via la fusion avec la Spirale (agenda de Thade)"},alliances:[{faction:"La Guilde des Mages",type:"conflit",desc:"Ennemis officiels, mais Thade infiltre la Guilde"},{faction:"Faction Nains",type:"conflit",desc:"Profanation des tombes, guerre totale"},{faction:"Le Conseil (Politique)",type:"conflit",desc:"Hors-la-loi, recherchs"},{faction:"Rseau des Ombres",type:"neutre",desc:"Recrutement de mercenaires pour missions sales"}],forces_militaires:{effectifs:"10-15 ncromanciens actifs + arme mort-vivante (milliers aprs Scnario 3)",capacites:["Ncromancie de masse","Animation de morts-vivants","Magie noire","Contrle de la Spirale","Rituels interdits","Transformation en liches/vampires"],faiblesses:["Petit nombre de membres vivants","Dpendance totale  Thade","Vulnrables aux armes sacres","Instabilit des morts-vivants","Isols socialement"]},quetes_associees:[{scenarioId:1,acte:1,sceneIndex:2,sceneLabel:"Scne 3",role:"Pilleurs de tombes (Jaren)"},{scenarioId:1,acte:2,sceneIndex:0,sceneLabel:"Scne 1",role:"Enqute sur la Fraternit dissoute"},{scenarioId:1,acte:4,sceneIndex:0,sceneLabel:"Scne 1",role:"Ilse tente de stabiliser le rituel"},{scenarioId:2,acte:2,sceneIndex:1,sceneLabel:"Scne 2",role:"Laboratoire secret de Thade"},{scenarioId:3,acte:1,sceneIndex:1,sceneLabel:"Scne 2",role:"Assassinat via apprenti charm"},{scenarioId:3,acte:2,sceneIndex:1,sceneLabel:"Scne 2",role:"Transformation des nains en zombies"},{scenarioId:3,acte:3,sceneLabel:"Toutes",role:"Arme mort-vivante assige le Temple"},{scenarioId:4,acte:3,sceneIndex:2,sceneLabel:"Scne 3",role:"Usine de production de morts-vivants"},{scenarioId:5,acte:5,sceneLabel:"Toutes",role:"Combat final contre Thade-Liche"}]}],Zu={name:"Thade Coren",title:"L'Architecte de l'ternit"},Vh=[...X_,...Z_,...W_,...eq,...tq,...aq,...sq,...nq,...iq,...rq],lq=Vh;function Wu(n,i){return n.category?n.category:i==="bestiary"?"monstres":i==="ennemis"||n.est_ennemi?"ennemis":"allies"}function ec(n){switch(n){case"allies":return"text-blue-400";case"ennemis":return"text-red-400";case"monstres":return"text-purple-400";case"neutres":return"text-yellow-400";default:return"text-gray-400"}}function oq(){const n=[];return(zh||[]).forEach(i=>{const r=Wu(i,"principaux");n.push({...i,category:r,source:"principaux",color:ec(r)})}),(Oh||[]).forEach(i=>{const r=Wu(i,"ennemis");n.push({...i,category:r,source:"ennemis",color:ec(r)})}),(Vh||[]).forEach(i=>{const r=Wu(i,"bestiary");n.push({...i,category:r,source:"bestiary",isMonster:!0,color:ec(r)})}),n}function uq(n){const i=new Map;return n.forEach(r=>{r.id&&!i.has(r.id)&&i.set(r.id,r)}),i}function cq(n){const i=new Map;return n.forEach(r=>{if(r.name){const l=r.name.toLowerCase();i.has(l)||i.set(l,r)}}),i}const ya=oq(),Ph=uq(ya);cq(ya);const Eg=ya;function Nc(n){return Ph.get(n)||null}function dq(n){return n==="all"?ya:ya.filter(i=>i.category===n)}const mq={all:ya.length,allies:ya.filter(n=>n.category==="allies").length,ennemis:ya.filter(n=>n.category==="ennemis").length,monstres:ya.filter(n=>n.category==="monstres").length},pq=["all","allies","ennemis","monstres"];function fq(n){return Array.isArray(n)?n.map(i=>Ph.get(i)).filter(Boolean):[]}function kh({zoneId:n,locId:i,npcId:r}){const l=new URLSearchParams;n&&l.set("zone",n),i&&l.set("loc",i),r&&l.set("pnj",r);const c=l.toString();return c?`/univers?${c}`:"/univers"}function Uh(n){const i=Nc(n);if(!i)return null;for(const r of Dt.zones||[])for(const l of r.locations||[])if((l.npcIds||[]).includes(n))return{pnj:i,lieu:l,zone:r,source:i.source};return{pnj:i,lieu:null,zone:null,source:i.source}}function Ih(n){const i=[];for(const r of cl||[])for(const[l,c]of(r.acts||[]).entries())for(const[d,p]of(c.scenes||[]).entries())Array.isArray(p.npcIds)&&p.npcIds.includes(n)&&i.push({idScenario:r.id,titreScenario:r.title,titreActe:c.title,numeroActe:l+1,numeroScene:d+1,titreScene:p.title});return i}function gq(n){const i=new Map;for(const r of cl||[])for(const[l,c]of(r.acts||[]).entries())for(const[d,p]of(c.scenes||[]).entries())p.locationId&&String(p.locationId)===String(n)&&(p.npcIds||[]).forEach(g=>{const v=i.get(g)||{pnjId:g,occurrences:[]};v.occurrences.push({idScenario:r.id,titreScenario:r.title,titreActe:c.title,numeroActe:l+1,numeroScene:d+1,titreScene:p.title}),i.set(g,v)});return Array.from(i.values())}function hq(n){for(const i of Dt.zones||[]){const r=(i.locations||[]).find(l=>l.id===n);if(r)return{lieu:r,zone:i}}return null}function vq(n){const i=[],r=new Set;return fq(n.npcIds||[]).forEach(c=>{r.has(c.id)||(i.push(c),r.add(c.id))}),(n.npcs||[]).forEach(c=>{c?.id&&!r.has(c.id)&&(i.push(c),r.add(c.id))}),i}const bq=Uh,xq=Ih,yq=gq,dl=vq,Sq=()=>{const n=[];return Dt.zones?.forEach(i=>{n.push({type:"Zone",titre:i.name,description:i.details,chemin:`/univers?zone=${i.id}`}),i.locations?.forEach(r=>{n.push({type:"Lieu",titre:r.name,description:r.summary,chemin:`/univers?zone=${i.id}&loc=${r.id}`}),r.npcs?.forEach(l=>{n.push({type:"PNJ",titre:l.name,description:l.role,chemin:`/univers?zone=${i.id}&loc=${r.id}&pnj=${l.id}`})})})}),cl?.forEach(i=>{n.push({type:"Scnario",titre:i.title,description:i.synopsis,chemin:`/scenarios/${i.id}`})}),wh?.forEach(i=>{n.push({type:"Faction",titre:i.name,description:i.desc,chemin:"/factions"})}),Zu&&n.push({type:"Antagoniste",titre:Zu.name,description:Zu.title,chemin:"/antagoniste"}),zh?.forEach(i=>{n.push({type:"PNJ",titre:i.name,description:`${i.class} - ${i.lvl}`,chemin:`/univers?pnj=${i.id}`})}),Oh?.forEach(i=>{n.push({type:"Ennemi",titre:i.name,description:`${i.class} - ${i.lvl}`,chemin:`/univers?pnj=${i.id}`})}),lq?.forEach(i=>{n.push({type:"Crature",titre:i.name,description:`${i.class} - ${i.lvl}`,chemin:`/univers?pnj=${i.id}`})}),n};function _q(){const[n,i]=j.useState(""),r=j.useMemo(()=>{const c=Sq(),d=new hn(c,{threshold:.3,keys:["titre","description","type"]});return{entrees:c,fuse:d}},[]),l=j.useMemo(()=>n.trim()?r.fuse.search(n).map(c=>c.item):[],[n,r]);return{terme:n,definirTerme:i,resultats:l,effacer:()=>i("")}}function Xa(n,i){const[r,l]=j.useState(()=>{try{const c=localStorage.getItem(n);return c?JSON.parse(c):i}catch{return i}});return j.useEffect(()=>{try{localStorage.setItem(n,JSON.stringify(r))}catch(c){console.error(`chec de sauvegarde de ${n} dans localStorage`,c)}},[n,r]),[r,l]}const Ng=[{vers:"/univers",etiquette:"Univers",icone:nh},{vers:"/factions",etiquette:"Factions",icone:Ci},{vers:"/antagoniste",etiquette:"Antagoniste",icone:Ai},{vers:"/scenarios",etiquette:"Scnarios",icone:by}];function qq(){const{terme:n,definirTerme:i,resultats:r,effacer:l}=_q(),c=Zt(),d=il(),[p,g]=Xa("derniere-route",null),[v,h]=j.useState(!1);return j.useEffect(()=>{h(!1)},[c.pathname]),j.useEffect(()=>{c.pathname!=="/"&&g(c.pathname+c.search)},[c,g]),j.useEffect(()=>{c.pathname==="/"&&p&&p!=="/"&&d(p,{replace:!0})},[c.pathname,p,d]),m.jsxs("div",{className:"min-h-screen text-content",children:[m.jsxs("header",{className:"sticky top-0 z-50 border-b border-surface-border/80 bg-surface/90 backdrop-blur-md",children:[m.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-accent-dark/50 to-transparent"}),m.jsxs("div",{className:"mx-auto max-w-6xl px-3 sm:px-6 py-3 sm:py-4 flex items-center justify-between gap-2 sm:gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[m.jsx("div",{className:"relative flex-shrink-0",children:m.jsxs("div",{className:"w-9 h-9 sm:w-10 sm:h-10 relative",children:[m.jsx("div",{className:"absolute inset-0 border border-accent-dark/70 rotate-45"}),m.jsx("div",{className:"absolute inset-0.5 bg-gradient-to-br from-accent-muted/30 to-surface"}),m.jsx(qi,{size:18,className:"absolute inset-0 m-auto text-accent sm:w-5 sm:h-5"})]})}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("p",{className:"text-[9px] sm:text-[10px] uppercase tracking-[0.25em] text-content-subtle",children:"Wiki de campagne"}),m.jsx("h1",{className:"text-base sm:text-xl font-serif text-accent-light truncate tracking-wide",children:"L'Ombre de la Spirale"})]})]}),m.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[m.jsxs("div",{className:"relative w-64",children:[m.jsx(tl,{valeur:n,auChangement:i,placeholder:"Rechercher (PNJ, lieux, scnarios...)"}),n.trim().length>=2&&r.length>0&&m.jsx("div",{className:"absolute mt-2 w-full bg-surface border border-surface-border shadow-xl z-20 max-h-72 overflow-auto animate-slide-down",children:m.jsx("ul",{className:"divide-y divide-surface-border",children:r.map((y,b)=>m.jsx("li",{children:m.jsxs(Xt,{to:y.chemin,onClick:l,className:"flex flex-col gap-1 px-3 py-2 hover:bg-surface-raised transition-colors",children:[m.jsx("span",{className:"text-xs uppercase tracking-widest text-accent",children:y.type}),m.jsx("span",{className:"text-sm text-content",children:y.titre}),y.description&&m.jsx("span",{className:"text-xs text-content-muted line-clamp-2",children:y.description})]})},`${y.type}-${b}`))})})]}),m.jsx("nav",{className:"flex items-center gap-1",children:Ng.map(({vers:y,etiquette:b,icone:_})=>{const A=_;return m.jsxs(ic,{to:y,className:({isActive:D})=>Oe("relative flex items-center gap-2 px-4 py-2 text-sm font-medium transition-all duration-200","text-content-secondary hover:text-accent-light","before:absolute before:bottom-0 before:left-1/2 before:-translate-x-1/2 before:w-0 before:h-px before:bg-accent before:transition-all before:duration-300","hover:before:w-full",D&&"text-accent-light before:w-full before:bg-accent shadow-glow"),children:[m.jsx(A,{size:16}),m.jsx("span",{className:"tracking-wide",children:b})]},y)})})]}),m.jsxs("button",{onClick:()=>h(!v),className:"lg:hidden relative w-10 h-10 flex items-center justify-center transition-colors group","aria-label":"Menu",children:[m.jsx("div",{className:"absolute inset-0 border border-surface-border rotate-45 group-hover:border-accent-dark transition-colors"}),m.jsx("div",{className:"absolute inset-1 bg-surface-raised"}),v?m.jsx(uh,{size:18,className:"relative z-10"}):m.jsx(cy,{size:18,className:"relative z-10"})]})]}),v&&m.jsxs("div",{className:"lg:hidden border-t border-surface-border bg-surface-raised/95 backdrop-blur-md animate-slide-down",children:[m.jsx("div",{className:"px-3 py-3 border-b border-surface-border",children:m.jsxs("div",{className:"relative",children:[m.jsx(tl,{valeur:n,auChangement:i,placeholder:"Rechercher..."}),n.trim().length>=2&&r.length>0&&m.jsx("div",{className:"absolute mt-2 w-full bg-surface border border-surface-border shadow-xl z-20 max-h-60 overflow-auto",children:m.jsx("ul",{className:"divide-y divide-surface-border",children:r.map((y,b)=>m.jsx("li",{children:m.jsxs(Xt,{to:y.chemin,onClick:()=>{l(),h(!1)},className:"flex flex-col gap-1 px-3 py-2 hover:bg-surface-raised transition-colors",children:[m.jsx("span",{className:"text-xs uppercase tracking-widest text-accent",children:y.type}),m.jsx("span",{className:"text-sm text-content",children:y.titre})]})},`${y.type}-${b}`))})})]})}),m.jsx("nav",{className:"flex flex-col p-3 gap-1",children:Ng.map(({vers:y,etiquette:b,icone:_})=>{const A=_;return m.jsxs(ic,{to:y,onClick:()=>h(!1),className:({isActive:D})=>Oe("relative flex items-center gap-3 px-4 py-3 text-sm font-medium transition-all duration-200","text-content-secondary hover:text-accent-light","before:absolute before:left-0 before:top-1/2 before:-translate-y-1/2 before:w-0 before:h-6 before:border-l-2 before:border-accent before:transition-all before:duration-200","hover:before:w-1 hover:bg-surface/50",D&&"text-accent-light before:w-1 bg-surface/50"),children:[m.jsx(A,{size:18}),m.jsx("span",{className:"tracking-wide",children:b})]},y)})})]})]}),m.jsx("main",{className:"mx-auto max-w-6xl px-3 sm:px-6 py-6 sm:py-10",children:m.jsx(I0,{})})]})}function vn({titre:n,icone:i,sousTitre:r,nomClasse:l}){return m.jsxs("div",{className:Oe("mb-6 sm:mb-8 pb-4 sm:pb-5 relative",l),children:[m.jsxs("div",{className:"absolute bottom-0 left-0 right-0 h-px",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-surface-border to-transparent"}),m.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -bottom-px w-24 h-px bg-gradient-to-r from-transparent via-accent-dark to-transparent"})]}),m.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[i&&m.jsx("div",{className:"relative",children:m.jsxs("div",{className:"w-10 h-10 sm:w-12 sm:h-12 relative",children:[m.jsx("div",{className:"absolute inset-0 border-2 border-accent-dark/60 rotate-45"}),m.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-surface-overlay to-surface"}),m.jsx(i,{className:"absolute inset-0 m-auto text-accent w-5 h-5 sm:w-6 sm:h-6","aria-hidden":"true"})]})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-serif text-content tracking-wide",children:n}),r&&m.jsx("p",{className:"text-content-muted mt-1 sm:mt-1.5 text-sm sm:text-base max-w-2xl",children:r})]})]})]})}vn.propTypes={titre:O.string.isRequired,icone:O.elementType,sousTitre:O.string,nomClasse:O.string};vn.defaultProps={icone:null,sousTitre:"",nomClasse:""};function Wa({children:n,className:i,titre:r,sousTitre:l,icone:c,variante:d="defaut",effetSurvol:p=!0,...g}){const v={defaut:"card-rusted",forge:"card-forge",arcane:"card-arcane",simple:"bg-surface/80 border border-surface-border",plat:"bg-surface/40 border border-surface-border/50"};return m.jsxs("div",{className:Oe("p-4 sm:p-5 relative overflow-hidden transition-all duration-300",v[d]||v.defaut,p&&"hover-glow",i),...g,children:[m.jsx("div",{className:"absolute top-0 left-4 right-4 h-px bg-gradient-to-r from-transparent via-surface-border to-transparent"}),(r||c)&&m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c&&m.jsxs("div",{className:"relative w-10 h-10 flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-surface-overlay to-surface border border-surface-border rotate-45 transform scale-[0.85]"}),m.jsx("span",{className:"relative z-10",children:c})]}),r&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-serif text-content tracking-wide",children:r}),l&&m.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] text-content-subtle mt-0.5",children:l})]})]}),n,m.jsxs("div",{className:"absolute bottom-0 right-0 w-8 h-8 pointer-events-none",children:[m.jsx("div",{className:"absolute bottom-0 right-0 w-full h-px bg-gradient-to-l from-accent-dark/40 to-transparent"}),m.jsx("div",{className:"absolute bottom-0 right-0 h-full w-px bg-gradient-to-t from-accent-dark/40 to-transparent"})]})]})}Wa.propTypes={children:O.node,className:O.string,titre:O.string,sousTitre:O.string,icone:O.element,variante:O.oneOf(["defaut","forge","arcane","simple","plat"]),effetSurvol:O.bool};const Cq={quartier_des_mineurs:rh,quartier_du_savoir:qi,hauteurs_brumeuses:ll,vieille_ville:th,centre_civique:sh,cimetiere_et_seuil:Ai,profondeurs_mine:ih,spirale:jc},Aq={quartier_des_mineurs:"from-amber-900/40 to-amber-950/60 border-amber-700/50",quartier_du_savoir:"from-blue-900/40 to-blue-950/60 border-blue-700/50",hauteurs_brumeuses:"from-slate-800/40 to-slate-900/60 border-slate-600/50",vieille_ville:"from-stone-800/40 to-stone-900/60 border-stone-600/50",centre_civique:"from-emerald-900/40 to-emerald-950/60 border-emerald-700/50",cimetiere_et_seuil:"from-gray-800/40 to-gray-900/60 border-gray-600/50",profondeurs_mine:"from-zinc-800/40 to-zinc-900/60 border-zinc-600/50",spirale:"from-purple-900/40 to-purple-950/60 border-purple-700/50"},Tq={quartier_des_mineurs:"text-amber-400",quartier_du_savoir:"text-blue-400",hauteurs_brumeuses:"text-slate-300",vieille_ville:"text-stone-300",centre_civique:"text-emerald-400",cimetiere_et_seuil:"text-gray-300",profondeurs_mine:"text-zinc-300",spirale:"text-purple-400"};function Bh({zone:n,estSelectionnee:i,auClic:r}){const l=Cq[n.id]||mn,c=Aq[n.id]||"from-surface/40 to-surface/60 border-surface-border",d=Tq[n.id]||"text-accent-light",p=n.locations?.length||0,g=(n.locations||[]).reduce((h,y)=>h+dl(y).length,0),v=n.details?.find(h=>h.toLowerCase().startsWith("ambiance"))?.replace(/^ambiance\s*:\s*/i,"")||n.summary;return m.jsx("button",{onClick:()=>r(n.id),className:Oe("w-full text-left border transition-all duration-200 overflow-hidden group","bg-gradient-to-br",c,i?"ring-2 ring-accent-light ring-offset-2 ring-offset-surface scale-[1.02]":"hover:scale-[1.01] hover:brightness-110"),children:m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:Oe("p-2 bg-black/20 border border-white/10",i&&"bg-black/30"),children:m.jsx(l,{className:Oe("w-5 h-5",d)})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:Oe("font-serif font-semibold truncate",i?"text-white":"text-content-primary"),children:n.name}),m.jsx("p",{className:"text-xs text-content-muted line-clamp-2 mt-1",children:v})]})]}),m.jsxs("div",{className:"flex items-center gap-4 mt-3 pt-3 border-t border-white/10",children:[m.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-content-muted",children:[m.jsx(mn,{className:"w-3.5 h-3.5"}),m.jsxs("span",{children:[p," lieu",p>1?"x":""]})]}),m.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-content-muted",children:[m.jsx(Ss,{className:"w-3.5 h-3.5"}),m.jsxs("span",{children:[g," PNJ"]})]})]})]})})}Bh.propTypes={zone:O.object.isRequired,estSelectionnee:O.bool,auClic:O.func.isRequired};const jq={quartier_des_mineurs:rh,quartier_du_savoir:qi,hauteurs_brumeuses:ll,vieille_ville:th,centre_civique:sh,cimetiere_et_seuil:Ai,profondeurs_mine:ih,spirale:jc},tc={ambiance:{icone:Ti,couleur:"text-purple-400",fond:"bg-purple-900/20 border-purple-800/30"},tension:{icone:oh,couleur:"text-red-400",fond:"bg-red-900/20 border-red-800/30"},focus:{icone:Dc,couleur:"text-blue-400",fond:"bg-blue-900/20 border-blue-800/30"},opportunits:{icone:Qx,couleur:"text-green-400",fond:"bg-green-900/20 border-green-800/30"},default:{icone:mn,couleur:"text-content-muted",fond:"bg-surface/50 border-surface-border"}};function Dq(n){const i=n.match(/^(\w+)\s*:\s*(.+)$/i);if(i){const r=i[1].toLowerCase(),l=i[2],c=tc[r]||tc.default;return{etiquette:i[1],valeur:l,...c}}return{etiquette:null,valeur:n,...tc.default}}function Hh({zone:n}){if(!n)return null;const i=jq[n.id]||mn,r=(n.details||[]).map(Dq);return m.jsxs(Wa,{className:"h-full",children:[m.jsxs("div",{className:"flex items-start gap-4 mb-6 pb-4 border-b border-surface-border",children:[m.jsx("div",{className:"p-3 bg-gradient-to-br from-accent-surface to-accent-dark/30 border border-accent-muted",children:m.jsx(i,{className:"w-8 h-8 text-accent-light"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h2",{className:"text-2xl font-serif text-accent-light",children:n.name}),m.jsx("p",{className:"text-content-secondary mt-1",children:n.summary})]})]}),r.length>0&&m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map((l,c)=>{const d=l.icone;return m.jsxs("div",{className:Oe("p-4 border",l.fond),children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(d,{className:Oe("w-4 h-4",l.couleur)}),l.etiquette&&m.jsx("span",{className:Oe("text-sm font-medium",l.couleur),children:l.etiquette})]}),m.jsx("p",{className:"text-sm text-content-secondary",children:l.valeur})]},c)})})]})}Hh.propTypes={zone:O.object};function Gh({lieux:n,idLieuSelectionne:i,auClicLieu:r}){const l=n.find(b=>b.id===i)||n[0]||null,c=b=>`/antagoniste?pnj=${encodeURIComponent(b)}`,d=l?dl(l):[],p=d.map(b=>({...b,occurrences:xq(b.id)})),g=l?yq(l.id):[],v=new Set(d.map(b=>b.id)),h=g.filter(b=>!v.has(b.npcId)).map(b=>{const A=bq(b.npcId)?.pnj;return{id:b.npcId,name:A?.name||b.npcId,role:A?.role||"",isEnemy:A?.isEnemy??A?.est_ennemi??!1,occurrences:b.occurrences||[]}}),y=({pnj:b,estResident:_})=>m.jsxs("div",{className:"bg-surface/50 border border-surface-border px-3 py-2 space-y-2",children:[m.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"font-semibold text-accent-light",children:b.name}),b.isEnemy&&m.jsx("span",{className:"text-[10px] px-1.5 py-0.5 border border-red-700 text-red-300 bg-red-900/20 uppercase tracking-wide",children:"Ennemi"})]}),b.role&&m.jsx("p",{className:"text-xs text-content-muted",children:b.role})]}),b.id&&m.jsx(Xt,{to:c(b.id),className:"text-[10px] px-2 py-1 border border-accent-muted text-accent-light bg-accent-surface hover:border-accent transition-colors",children:"Fiche"})]}),_&&b.details&&b.details.length>0&&m.jsx("ul",{className:"space-y-1 mt-2",children:b.details.map((A,D)=>m.jsxs("li",{className:"flex gap-2 text-xs text-content-secondary",children:[m.jsx("span",{className:"mt-1 w-1 h-1 bg-surface-border block flex-shrink-0"}),m.jsx("span",{children:A})]},D))}),b.occurrences&&b.occurrences.length>0&&m.jsxs("div",{className:"pt-1",children:[m.jsx("p",{className:"text-[10px] uppercase tracking-widest text-content-muted mb-1.5",children:"Apparitions dans les scnarios"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:b.occurrences.map((A,D)=>m.jsxs(Xt,{to:`/scenarios?scenario=${A.idScenario||A.scenarioId}&scene=${encodeURIComponent(A.titreScene||A.sceneTitle)}`,className:"px-2 py-1 border border-accent-muted text-accent-light bg-accent-surface hover:bg-accent-surface/80 text-[10px] uppercase tracking-wide transition-colors",title:`${A.titreScenario||A.scenarioTitle}  ${A.titreActe||A.actTitle}  ${A.titreScene||A.sceneTitle}`,children:[A.idScenario||A.scenarioId,".",A.numeroActe||A.actNumber,".",A.numeroScene||A.sceneNumber]},`${b.id}-${D}-${A.titreScene||A.sceneTitle}`))})]})]});return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(Wa,{children:[m.jsx("h3",{className:"text-sm font-mono tracking-widest text-content-muted uppercase border-b border-surface-border pb-2 mb-4",children:"Lieux marquants"}),n.length>0?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"space-y-2 mb-4",children:n.map(b=>m.jsxs("button",{onClick:()=>r(b.id),className:Oe("w-full text-left px-3 py-2 border text-sm font-serif transition-colors",l&&l.id===b.id?"bg-surface-raised border-accent-dark text-accent-light":"bg-surface/50 border-surface-border text-content-secondary hover:border-surface-border"),children:[m.jsx("div",{className:"font-semibold",children:b.name}),m.jsx("div",{className:"text-xs text-content-muted line-clamp-1",children:b.summary})]},b.id))}),l&&m.jsx("div",{className:"space-y-4 text-sm text-content-secondary",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("h4",{className:"font-serif text-accent",children:l.name}),m.jsx("p",{className:"text-content-muted text-xs mb-1",children:"Dtails du lieu"}),m.jsx("ul",{className:"space-y-1.5",children:l.details?.map((b,_)=>m.jsxs("li",{className:"flex gap-2",children:[m.jsx("span",{className:"mt-1 w-1 h-1 bg-surface-border block flex-shrink-0"}),m.jsx("span",{children:b})]},_))})]})})]}):m.jsx("p",{className:"text-sm text-content-subtle",children:"Aucun lieu dfini pour cette zone."})]}),m.jsx(Wa,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-mono tracking-widest text-content-muted uppercase border-b border-surface-border pb-2 mb-4 flex items-center justify-between",children:m.jsx("span",{children:"PNJ rsidents"})}),l?p.length>0?m.jsx("div",{className:"space-y-3",children:p.map(b=>m.jsx(y,{pnj:b,estResident:!0},b.id))}):m.jsx("p",{className:"text-sm text-content-subtle",children:"Aucun rsident rpertori."}):m.jsx("p",{className:"text-sm text-content-subtle",children:"Slectionnez un lieu."})]}),h.length>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-mono tracking-widest text-content-muted uppercase border-b border-surface-border pb-2 mb-4",children:"PNJ visiteurs"}),m.jsx("div",{className:"space-y-3",children:h.map(b=>m.jsx(y,{pnj:b,estResident:!1},b.id))})]})]})})]})}Gh.propTypes={lieux:O.array.isRequired,idLieuSelectionne:O.oneOfType([O.string,O.number]),auClicLieu:O.func.isRequired};function Jh({zones:n}){const i=n.length,r=n.reduce((d,p)=>d+(p.locations?.length||0),0),l=n.reduce((d,p)=>d+(p.locations||[]).reduce((g,v)=>g+dl(v).length,0),0),c=[{icone:ny,etiquette:"Zones",valeur:i,couleur:"text-purple-400"},{icone:mn,etiquette:"Lieux",valeur:r,couleur:"text-blue-400"},{icone:Ss,etiquette:"PNJ",valeur:l,couleur:"text-green-400"},{icone:wx,etiquette:"Secrets",valeur:"",couleur:"text-amber-400"}];return m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:c.map(({icone:d,etiquette:p,valeur:g,couleur:v})=>m.jsxs("div",{className:"bg-surface/50 border border-surface-border p-4 text-center",children:[m.jsx(d,{className:`w-5 h-5 mx-auto mb-2 ${v}`}),m.jsx("div",{className:"text-2xl font-bold text-content-primary",children:g}),m.jsx("div",{className:"text-xs text-content-muted uppercase tracking-wider",children:p})]},p))})}Jh.propTypes={zones:O.array.isRequired};const Mq={cloud:ll,spiral:jc,history:Xx,secrets:ty,settings:qy,warning:oh,groups:Ss,priority_high:Rx};function Eq(){const n=Dt.zones||[],[i,r]=Xa("universe-zone",n[0]?.id||null),[l,c]=Xa("universe-loc",null),[d,p]=Xa("universe-pnj",null),[g]=Tc(),v=n.find(_=>_.id===i)||n[0]||null,h=v?.locations||[];j.useEffect(()=>{const _=g.get("zone"),A=g.get("loc"),D=g.get("pnj");if(_){const L=n.find(V=>String(V.id)===_);if(L)if(r(L.id),A){const V=L.locations?.find(H=>String(H.id)===A);if(c(V?V.id:null),V&&D){const B=dl(V).find(I=>String(I.id)===D);p(B?B.id:null)}else p(null)}else c(null),p(null)}},[g,n]);const y=_=>{r(_),c(null),p(null)},b=_=>{c(_),p(null)};return m.jsxs("div",{className:"space-y-6 sm:space-y-8 animate-fadeIn text-content-secondary",children:[m.jsx(vn,{titre:Dt.title,icone:nh,sousTitre:Dt.intro}),Dt.quote&&m.jsxs("div",{className:"relative bg-gradient-to-r from-surface/80 via-surface/60 to-surface/80 p-4 sm:p-6 border border-surface-border",children:[m.jsx(hy,{className:"absolute top-3 left-3 sm:top-4 sm:left-4 w-6 h-6 sm:w-8 sm:h-8 text-accent-dark/30"}),m.jsxs("blockquote",{className:"pl-8 sm:pl-10 pr-2 sm:pr-4",children:[m.jsxs("p",{className:"text-sm sm:text-lg italic text-content-primary font-serif",children:['"',Dt.quote.text,'"']}),m.jsxs("footer",{className:"mt-1.5 sm:mt-2 text-xs sm:text-sm text-accent-light",children:[" ",Dt.quote.author]})]})]}),m.jsx(Jh,{zones:n}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Dt.sections.map((_,A)=>{const D=Mq[_.icon]||ll;return m.jsxs(Wa,{className:"group hover:border-accent-muted transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"p-2 bg-accent-surface border border-accent-muted",children:m.jsx(D,{className:"w-5 h-5 text-accent-light"})}),m.jsx("h3",{className:"text-lg font-serif text-accent-light",children:_.title})]}),m.jsx("ul",{className:"space-y-2",children:_.content.map((L,V)=>m.jsxs("li",{className:"flex gap-2 text-sm text-content-secondary",children:[m.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 bg-accent-dark block flex-shrink-0"}),m.jsx("span",{children:L})]},V))})]},A)})}),Dt.themes&&Dt.themes.length>0&&m.jsxs(Wa,{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx(py,{className:"w-5 h-5 text-accent-light"}),m.jsx("h3",{className:"text-lg font-serif text-accent-light",children:"Thmes de la Campagne"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:Dt.themes.map((_,A)=>m.jsxs("div",{className:"bg-surface/50 p-3 border border-surface-border hover:border-accent-muted transition-colors",children:[m.jsx("h4",{className:"font-medium text-content-primary text-sm mb-1",children:_.name}),m.jsx("p",{className:"text-xs text-content-muted",children:_.desc})]},A))})]}),m.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[m.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-surface-border to-transparent"}),m.jsx("h2",{className:"text-base sm:text-xl font-serif text-accent-light whitespace-nowrap",children:"Explorer les Zones"}),m.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-surface-border to-transparent"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:n.map(_=>m.jsx(Bh,{zone:_,estSelectionnee:i===_.id,auClic:y},_.id))}),v&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[m.jsx("div",{className:"lg:col-span-1",children:m.jsx(Hh,{zone:v})}),m.jsx("div",{className:"lg:col-span-2",children:m.jsx(Gh,{lieux:h,idLieuSelectionne:l,auClicLieu:b})})]})]})}O.array,O.func.isRequired,O.string,O.string,O.string,O.bool,O.bool;function Nq(){const{t:n}=qh();return m.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[m.jsx(vn,{titre:n("factions.title"),icone:Ci,sousTitre:n("factions.subtitle")}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:wh.map(i=>m.jsxs(Wa,{className:i.color,titre:i.name,sousTitre:i.type,icone:i.icon&&m.jsx(i.icon,{size:20,className:i.color.split(" ")[0]}),variante:"simple",children:[m.jsx("p",{className:"text-sm text-content-secondary leading-relaxed",children:i.desc}),i.objectifs&&m.jsxs("div",{className:"mt-4 space-y-2",children:[m.jsxs("h4",{className:"text-xs uppercase tracking-wide text-content-muted flex items-center gap-1.5",children:[m.jsx(Dc,{size:14}),"Objectifs"]}),m.jsxs("div",{className:"space-y-1.5 text-xs",children:[m.jsxs("p",{children:[m.jsxs("span",{className:"font-semibold text-accent-light",children:["Court terme :"," "]}),m.jsx("span",{className:"text-content-secondary",children:i.objectifs.court_terme})]}),m.jsxs("p",{children:[m.jsxs("span",{className:"font-semibold text-accent-light",children:["Long terme :"," "]}),m.jsx("span",{className:"text-content-secondary",children:i.objectifs.long_terme})]})]})]}),i.alliances?.length>0&&m.jsxs("div",{className:"mt-4 space-y-2",children:[m.jsxs("h4",{className:"text-xs uppercase tracking-wide text-content-muted flex items-center gap-1.5",children:[m.jsx(ol,{size:14}),"Relations"]}),m.jsx("div",{className:"space-y-1",children:i.alliances.map((r,l)=>m.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[m.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-semibold uppercase ${r.type==="alliance"?"bg-green-900/40 text-green-300":r.type==="rivalite"?"bg-orange-900/40 text-orange-300":r.type==="conflit"?"bg-red-900/40 text-red-300":"bg-gray-900/40 text-gray-300"}`,children:r.type}),m.jsxs("div",{className:"flex-1",children:[m.jsx("span",{className:"font-semibold text-accent-light",children:r.faction}),m.jsxs("span",{className:"text-content-muted",children:[" "," ",r.desc]})]})]},l))})]}),i.forces_militaires&&m.jsxs("div",{className:"mt-4 space-y-2",children:[m.jsxs("h4",{className:"text-xs uppercase tracking-wide text-content-muted flex items-center gap-1.5",children:[m.jsx(Ss,{size:14}),"Forces Militaires"]}),m.jsxs("div",{className:"space-y-1.5 text-xs",children:[m.jsxs("p",{children:[m.jsxs("span",{className:"font-semibold text-accent-light",children:["Effectifs :"," "]}),m.jsx("span",{className:"text-content-secondary",children:i.forces_militaires.effectifs})]}),m.jsxs("p",{children:[m.jsxs("span",{className:"font-semibold text-accent-light",children:["quipement :"," "]}),m.jsx("span",{className:"text-content-secondary",children:i.forces_militaires.equipement})]})]})]}),i.membres_cles?.length>0&&m.jsxs("div",{className:"mt-4 space-y-2",children:[m.jsxs("h4",{className:"text-xs uppercase tracking-wide text-content-muted flex items-center gap-1.5",children:[m.jsx(yy,{size:14}),"Membres Cls"]}),m.jsx("ul",{className:"space-y-1 text-xs",children:i.membres_cles.map((r,l)=>{const c=Uh(r.id),d=c?.zone&&c?.lieu?kh({zoneId:c.zone.id,locId:c.lieu.id,npcId:r.id}):null;return m.jsxs("li",{className:"flex items-start gap-2",children:[d?m.jsx(Xt,{to:d,className:"text-accent-light hover:text-accent font-semibold",children:r.nom}):m.jsx("span",{className:"text-accent-light font-semibold",children:r.nom}),m.jsxs("span",{className:"text-content-muted",children:[" ",r.role]})]},l)})})]})]},i.name))})]})}function Lq(n){if(typeof n=="number"||typeof n=="string"){const c=Za(n);return c>=10?"Boss":c>=7?"Combat":c>=4?"Tension":"Social"}const i=n?.disposition;if(i)switch(i){case"hostile":return"Combat";case"tendu":return"Tension";case"neutre":return"Social";case"amical":return"Alli";case"boss":return"Boss"}const r=n?.est_ennemi??n?.isEnemy,l=n?.category;return r===!0?"Combat":l==="allies"?"Alli":l==="monstres"||l==="ennemis"?"Tension":"Social"}function Za(n){if(n==null)return 0;if(typeof n=="number")return n;const i=String(n).trim();if(i.includes("/")){const l=i.split("/");if(l.length===2)return parseFloat(l[0])/parseFloat(l[1])}const r=i.match(/\d+/g);return r&&r.length>0?r.reduce((l,c)=>l+parseInt(c,10),0):parseFloat(i)||0}function vc(n){switch(n){case"monstres":return{label:"Monstre",nomClasse:"bg-purple-900/20 text-purple-300 border-purple-800/30"};case"ennemis":return{label:"Ennemi",nomClasse:"bg-red-900/20 text-red-300 border-red-800/30"};case"allies":return{label:"Alli",nomClasse:"bg-blue-900/20 text-blue-300 border-blue-800/30"};default:return null}}function Rq({pnj:n,auClic:i}){const[r,l]=j.useState(!1),c=n.lvl??n.level_value,d=c!=null&&c!==0&&c!=="0",p=d?Za(c):n.fp??n.cr,g=d?`Niv. ${p}`:`FP ${p}`,h=n.category==="allies"?"bleu":n.category==="ennemis"?"rouge":n.category==="monstres"?n.est_ennemi===!1?"bleu":"rouge":"defaut",y=n.ini||n.initiative||"+0",b=n.ca||n.ac,_=typeof b=="object"?b.total:b?String(b).match(/^(\d+)/)?.[1]:"10",A=typeof b=="object"?b.contact:"10",D=typeof b=="object"?b.pris_au_depourvu:_,L=n.js||n.saves||{},V=L.vig||L.fort||"+0",H=L.ref||"+0",B=L.vol||L.will||"+0",I=n.attaque||n.attack||"";return m.jsx(Wa,{className:Oe("cursor-pointer transition-all duration-200 relative overflow-hidden flex flex-col bg-surface","border-2 border-surface-border hover:border-accent-light/40",r&&"scale-[1.01] shadow-2xl"),onClick:i,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:m.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[m.jsx("div",{className:"pt-3 sm:pt-4 px-3 sm:px-4 pb-1.5 sm:pb-2",children:m.jsx("h3",{className:"text-base sm:text-xl font-serif text-accent-light font-bold text-center tracking-wide leading-tight",children:n.name})}),m.jsx("div",{className:"px-3 sm:px-4",children:m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 pt-2 sm:pt-4",children:[m.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-content-subtle font-bold text-xs sm:text-sm",children:[m.jsx(ch,{size:15,className:"text-accent-light"}),m.jsxs("span",{children:[y," Init"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[vc(n.category)&&m.jsx("span",{className:Oe("px-2 sm:px-3 py-0.5 sm:py-1 text-[10px] sm:text-xs font-bold border uppercase tracking-wider shadow-sm",h==="bleu"&&"bg-blue-900/40 border-blue-500/50 text-blue-200",h==="rouge"&&"bg-red-900/40 border-red-500/50 text-red-200",h==="defaut"&&"bg-slate-800 border-slate-500 text-slate-200"),children:vc(n.category).label}),m.jsx("span",{className:Oe("px-2 sm:px-3 py-0.5 sm:py-1 text-[10px] sm:text-xs font-bold border uppercase tracking-wider shadow-sm",h==="bleu"&&"bg-blue-900/40 border-blue-500/50 text-blue-200",h==="rouge"&&"bg-red-900/40 border-red-500/50 text-red-200",h==="defaut"&&"bg-slate-800 border-slate-500 text-slate-200"),children:g})]})]})}),m.jsxs("div",{className:"p-3 sm:p-5 pt-2 sm:pt-3 space-y-3 sm:space-y-5",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-1.5 sm:gap-3",children:[m.jsx(cn,{etiquette:"CA",valeur:_}),m.jsx(cn,{etiquette:"Contact",valeur:A}),m.jsx(cn,{etiquette:"Dpourvu",valeur:D}),m.jsx(cn,{etiquette:"Vig",valeur:V}),m.jsx(cn,{etiquette:"Rf",valeur:H}),m.jsx(cn,{etiquette:"Vol",valeur:B})]}),I&&m.jsxs("div",{className:"px-3 py-2.5 border border-surface-border/40 bg-black/10",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[10px] uppercase font-bold text-content-subtle mb-1.5 opacity-80",children:[m.jsx(ol,{size:14}),m.jsx("span",{children:"Attaque"})]}),m.jsx("div",{className:"text-sm font-medium text-content leading-snug",children:I})]}),m.jsxs("div",{className:"flex items-center justify-between pt-4",children:[m.jsx("div",{className:"flex items-center gap-2",children:n.pv&&m.jsxs(m.Fragment,{children:[m.jsx(ah,{size:18,className:"text-red-500 fill-red-500/10"}),m.jsxs("span",{className:"font-bold text-base text-content",children:[n.pv," ",m.jsx("span",{className:"text-xs text-content-subtle font-normal",children:"PV"})]})]})}),n.class&&m.jsx("div",{className:"text-sm font-medium text-content leading-snug",children:n.class})]})]})]})})}const cn=({etiquette:n,valeur:i})=>m.jsxs("div",{className:"flex flex-col items-center py-2 border border-surface-border/40 bg-black/10",children:[m.jsx("div",{className:"text-[10px] uppercase font-bold text-content-subtle mb-1 tracking-wider opacity-80",children:n}),m.jsx("div",{className:"text-base font-black text-content leading-none",children:i})]});function Lc({isOpen:n,onClose:i,titre:r,sousTitre:l,badge:c,children:d,maxWidth:p="max-w-4xl"}){const g=j.useRef();return j.useEffect(()=>{if(!n)return;const v=y=>{g.current&&!g.current.contains(y.target)&&i()},h=y=>{y.key==="Escape"&&i()};return document.addEventListener("mousedown",v),document.addEventListener("keydown",h),document.body.style.overflow="hidden",()=>{document.removeEventListener("mousedown",v),document.removeEventListener("keydown",h),document.body.style.overflow=""}},[n,i]),n?m.jsxs("div",{className:"fixed inset-0 z-[100] overflow-y-auto",children:[m.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm transition-opacity",onClick:i}),m.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-2 sm:p-4",children:m.jsxs("div",{ref:g,className:Oe("relative bg-surface-raised shadow-lifted w-full overflow-hidden border border-surface-border","max-h-[95vh] sm:max-h-[90vh]",p),children:[m.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-l-2 border-t-2 border-accent-dark/40"}),m.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-r-2 border-t-2 border-accent-dark/40"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-l-2 border-b-2 border-accent-dark/40"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-r-2 border-b-2 border-accent-dark/40"}),r&&m.jsxs("div",{className:"relative bg-gradient-to-r from-accent-light/20 to-accent-light/5 p-4 sm:p-6 border-b border-surface-border",children:[m.jsx("button",{onClick:i,className:"absolute top-3 right-3 sm:top-4 sm:right-4 p-1.5 sm:p-2 bg-surface/80 hover:bg-surface border border-surface-border transition-colors","aria-label":"Fermer",children:m.jsx(uh,{size:18,className:"sm:w-5 sm:h-5 text-content"})}),m.jsx("div",{className:"flex items-start justify-between pr-10 sm:pr-12",children:m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-1 sm:mb-2",children:[m.jsx("h1",{className:"text-lg sm:text-2xl font-serif text-accent-light font-bold",children:r}),c]}),l&&m.jsx("p",{className:"text-sm sm:text-lg text-content-secondary italic line-clamp-2 sm:line-clamp-none",children:l})]})})]}),m.jsx("div",{className:Oe("p-3 sm:p-6 overflow-y-auto",r?"max-h-[calc(95vh-140px)] sm:max-h-[calc(90vh-200px)]":"max-h-[95vh] sm:max-h-[90vh]"),children:d})]})})]}):null}Lc.propTypes={isOpen:O.bool.isRequired,onClose:O.func.isRequired,titre:O.string,sousTitre:O.string,badge:O.node,children:O.node,maxWidth:O.string};const zq={Combat:"bg-red-500/15 text-red-300 border-red-600",Social:"bg-blue-500/15 text-blue-300 border-blue-500",Alli:"bg-green-500/15 text-green-300 border-green-500",Exploration:"bg-emerald-500/15 text-emerald-300 border-emerald-500",Investigation:"bg-emerald-500/15 text-emerald-300 border-emerald-500",Ambiance:"bg-stone-500/15 text-stone-300 border-stone-500",Indice:"bg-amber-500/15 text-amber-300 border-amber-500",Boss:"bg-red-600/25 text-red-200 border-red-500 font-bold animate-pulse-slow",Tension:"bg-orange-500/15 text-orange-300 border-orange-500",Magie:"bg-purple-500/15 text-purple-300 border-purple-400",Twist:"bg-pink-500/15 text-pink-300 border-pink-400",Prparation:"bg-cyan-500/15 text-cyan-300 border-cyan-400",Action:"bg-orange-600/15 text-orange-200 border-orange-500",Rencontre:"bg-sky-500/15 text-sky-300 border-sky-400",Objectif:"bg-green-600/15 text-green-300 border-green-500",Observation:"bg-slate-500/15 text-slate-300 border-slate-400",Logistique:"bg-yellow-700/15 text-yellow-300 border-yellow-600",pique:"bg-violet-600/15 text-violet-200 border-violet-500 font-bold",Pige:"bg-red-800/15 text-red-300 border-red-700",Puzzle:"bg-indigo-500/15 text-indigo-300 border-indigo-400",Dilemme:"bg-fuchsia-500/15 text-fuchsia-300 border-fuchsia-400","Mini-Boss":"bg-red-700/20 text-red-200 border-red-500 font-bold",Dcor:"bg-gray-600/15 text-gray-300 border-gray-500",Rvlation:"bg-purple-400/15 text-purple-200 border-purple-400",Transition:"bg-slate-600/15 text-slate-200 border-slate-500",Cinmatique:"bg-gray-900/20 text-yellow-300 border-yellow-700/50",Conclusion:"bg-amber-200/20 text-amber-100 border-amber-300/50",Dcouverte:"bg-teal-500/15 text-teal-300 border-teal-400",Horreur:"bg-purple-800/15 text-purple-300 border-purple-700"},Oq="bg-stone-500/15 text-stone-300 border-stone-500";function ml({type:n,variante:i,enfants:r,nomClasse:l}){const c=zq[i||n]||Oq;return m.jsx("span",{className:Oe("tag-base",c,l),children:r||i||n})}ml.propTypes={type:O.string,variante:O.string,enfants:O.node,nomClasse:O.string};ml.defaultProps={type:"",variante:"",enfants:null,nomClasse:""};function ot({titre:n,icone:i,children:r,className:l=""}){return m.jsxs("div",{className:`mb-6 ${l}`,children:[m.jsxs("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3 flex items-center gap-2",children:[i&&m.jsx(i,{size:18}),n]}),m.jsx("div",{className:"bg-surface/30 p-4 border border-surface-border",children:r})]})}ot.propTypes={titre:O.string.isRequired,icone:O.elementType,children:O.node.isRequired,className:O.string};function Fh({pnj:n}){const i=typeof n.ca=="object"?n.ca:typeof n.ac=="object"?n.ac:null,r=i?.total??n.ca??n.ac,l=i?.contact??i?.touch,c=i?.pris_au_depourvu??i?.flatFooted,d=n.pv??n.hp,p=n.fp??n.cr,g=n.ini||n.initiative,v=n.rm??n.sr,h=n.rd??n.dr;return m.jsxs("div",{className:"space-y-4 mb-6",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"bg-surface/50 p-4 text-center border border-surface-border",children:[m.jsx(Ci,{className:"w-6 h-6 mx-auto mb-2 text-accent-light"}),m.jsx("div",{className:"font-bold text-accent-light text-lg",children:"CA"}),m.jsx("div",{className:"text-xl",children:r??""}),(l||c)&&m.jsxs("div",{className:"text-xs text-content-muted mt-1",children:[l&&m.jsxs("span",{children:["contact ",l]}),l&&c&&m.jsx("span",{children:" / "}),c&&m.jsxs("span",{children:["dp. ",c]})]})]}),m.jsxs("div",{className:"bg-surface/50 p-4 text-center border border-surface-border",children:[m.jsx(ah,{className:"w-6 h-6 mx-auto mb-2 text-red-400"}),m.jsx("div",{className:"font-bold text-accent-light text-lg",children:"PV"}),m.jsx("div",{className:"text-xl",children:d??""})]}),m.jsxs("div",{className:"bg-surface/50 p-4 text-center border border-surface-border",children:[m.jsx(ch,{className:"w-6 h-6 mx-auto mb-2 text-yellow-400"}),m.jsx("div",{className:"font-bold text-accent-light text-lg",children:"Init"}),m.jsx("div",{className:"text-xl",children:g??""})]}),m.jsxs("div",{className:"bg-surface/50 p-4 text-center border border-surface-border",children:[m.jsx(Ex,{className:"w-6 h-6 mx-auto mb-2 text-purple-400"}),m.jsx("div",{className:"font-bold text-accent-light text-lg",children:n.lvl?"Niv":"FP"}),m.jsx("div",{className:"text-xl",children:n.lvl?Za(n.lvl):p??""})]})]}),(v||h)&&m.jsxs("div",{className:"flex flex-wrap gap-3",children:[v&&m.jsxs("div",{className:"flex items-center gap-2 bg-purple-900/20 text-purple-300 px-3 py-2 border border-purple-800/30",children:[m.jsx(Ti,{className:"w-4 h-4"}),m.jsxs("span",{className:"text-sm font-medium",children:["RM ",v]})]}),h&&m.jsxs("div",{className:"flex items-center gap-2 bg-orange-900/20 text-orange-300 px-3 py-2 border border-orange-800/30",children:[m.jsx(Ay,{className:"w-4 h-4"}),m.jsxs("span",{className:"text-sm font-medium",children:["RD ",h]})]})]})]})}Fh.propTypes={pnj:O.object.isRequired};function Qh({pnj:n}){const i=n.type,r=n.environment||n.environnement,l=n.organization||n.organisation,c=n.source_book||n.tactical?.bookReference;return!i&&!r&&!l&&!c?null:m.jsx(ot,{titre:"Type & Environnement",icone:Wx,children:m.jsxs("div",{className:"space-y-2 text-sm",children:[i&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"Type :"})," ",i]}),r&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"Environnement :"})," ",r]}),l&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"Organisation :"})," ",l]}),c&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"Source :"})," ",c]})]})})}Qh.propTypes={pnj:O.object.isRequired};function Yh({pnj:n}){const i=n.attaques||n.attacks,r=n.attaques_speciales||n.special_attacks,l=n.bba||n.bab,c=n.bmo_prise_lutte||n.cmb,d=n.dmd||n.cmd;return!i&&!r&&!l?null:m.jsx(ot,{titre:"Combat",icone:ol,children:m.jsxs("div",{className:"space-y-3 text-sm",children:[l&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"BBA :"})," +",l]}),c&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"BMO :"})," +",c]}),d&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"DMD :"})," ",d]}),i&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-accent-light block mb-1",children:"Attaques :"}),Array.isArray(i)?m.jsx("ul",{className:"list-disc ml-4 space-y-1",children:i.map((p,g)=>m.jsx("li",{children:p},g))}):m.jsx("p",{children:i})]}),r&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-accent-light block mb-1",children:"Attaques spciales :"}),Array.isArray(r)?m.jsx("ul",{className:"list-disc ml-4 space-y-1",children:r.map((p,g)=>m.jsx("li",{children:p},g))}):m.jsx("p",{children:r})]})]})})}Yh.propTypes={pnj:O.object.isRequired};function $h({pnj:n}){const i=n.capacites||n.abilities||n.special_abilities||n.specialAttacks||n.att_sp,r=n.dons||n.feats,l=n.pouvoirs_speciaux||n.special_qualities||n.specialQualities||n.qual_sp,c=r&&r!=="",d=i&&i.length>0,p=l&&l.length>0;return!d&&!c&&!p?null:m.jsx(ot,{titre:"Capacits & Dons",icone:Ti,children:m.jsxs("div",{className:"space-y-3 text-sm",children:[c&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-accent-light block mb-1",children:"Dons :"}),Array.isArray(r)?m.jsx("p",{children:r.join(", ")}):m.jsx("p",{children:r})]}),d&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-accent-light block mb-1",children:"Capacits :"}),Array.isArray(i)?m.jsx("ul",{className:"list-disc ml-4 space-y-1",children:i.map((g,v)=>m.jsx("li",{children:g},v))}):m.jsx("p",{children:i})]}),p&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-accent-light block mb-1",children:"Pouvoirs spciaux :"}),Array.isArray(l)?m.jsx("ul",{className:"list-disc ml-4 space-y-1",children:l.map((g,v)=>m.jsx("li",{children:g},v))}):m.jsx("p",{children:l})]})]})})}$h.propTypes={pnj:O.object.isRequired};function Kh({pnj:n}){const i=n.jets_sauvegarde||n.saves||n.saving_throws||n.js;if(!i)return null;const r=i.ref??i.reflex,l=i.vig??i.fortitude??i.fort,c=i.vol??i.will,d=h=>h==null?null:String(h).replace(/^\+/,""),p=d(r),g=d(l),v=d(c);return p===null&&g===null&&v===null?null:m.jsx(ot,{titre:"Jets de sauvegarde",icone:Ci,children:m.jsxs("div",{className:"flex gap-6 text-sm",children:[g!==null&&m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-accent-light font-bold",children:"Vigueur"}),m.jsxs("div",{className:"text-lg",children:["+",g]})]}),p!==null&&m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-accent-light font-bold",children:"Rflexes"}),m.jsxs("div",{className:"text-lg",children:["+",p]})]}),v!==null&&m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-accent-light font-bold",children:"Volont"}),m.jsxs("div",{className:"text-lg",children:["+",v]})]})]})})}Kh.propTypes={pnj:O.object.isRequired};function Xh({pnj:n}){const i=n.stats||n.abilities_scores;if(!i)return null;const r=[{nom:"For",valeur:i.for??i.str},{nom:"Dex",valeur:i.dex},{nom:"Con",valeur:i.con},{nom:"Int",valeur:i.int},{nom:"Sag",valeur:i.sag??i.wis},{nom:"Cha",valeur:i.cha}];if(!r.some(d=>d.valeur!==void 0))return null;const c=d=>{if(d==null||d==="")return"";const p=parseInt(d);if(isNaN(p))return"";const g=Math.floor((p-10)/2);return g>=0?`+${g}`:`${g}`};return m.jsx(ot,{titre:"Caractristiques",icone:Vy,children:m.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3 text-center text-sm",children:r.map(({nom:d,valeur:p})=>m.jsxs("div",{className:"bg-surface/50 p-2 border border-surface-border",children:[m.jsx("div",{className:"text-accent-light font-bold text-xs",children:d}),m.jsx("div",{className:"text-lg",children:p??""}),m.jsx("div",{className:"text-xs text-content-muted",children:c(p)})]},d))})})}Xh.propTypes={pnj:O.object.isRequired};function Zh({pnj:n}){const i=n.competences||n.comptences||n.skills;if(!i||i==="")return null;const r=typeof i=="string",l=Array.isArray(i),c=!r&&!l&&typeof i=="object";return m.jsx(ot,{titre:"Comptences",icone:qi,children:m.jsxs("div",{className:"text-sm",children:[r&&m.jsx("p",{children:i}),l&&m.jsx("p",{children:i.join(", ")}),c&&m.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(i).map(([d,p])=>m.jsxs("span",{className:"bg-surface/50 px-2 py-1 border border-surface-border",children:[d," ",m.jsxs("span",{className:"text-accent-light",children:["+",p]})]},d))})]})})}Zh.propTypes={pnj:O.object.isRequired};function Wh({pnj:n}){const i=n.langues||n.languages,r=n.equipement||n.equipment||n.gear,l=n.tresor||n.treasure;return!i&&!r&&!l?null:m.jsx(ot,{titre:"Informations",icone:Hx,children:m.jsxs("div",{className:"space-y-2 text-sm",children:[i&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"Langues : "}),Array.isArray(i)?i.join(", "):i]}),r&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"quipement : "}),Array.isArray(r)?r.join(", "):r]}),l&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"Trsor : "}),l]})]})})}Wh.propTypes={pnj:O.object.isRequired};function ev({occurrences:n}){return!n||n.length===0?null:m.jsx(ot,{titre:"Apparitions",icone:mn,children:m.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((i,r)=>m.jsxs(Xt,{to:`/scenarios?scenario=${i.idScenario||i.scenarioId}&scene=${encodeURIComponent(i.titreScene||i.sceneTitle)}`,className:"px-2 py-1 border border-accent-muted text-accent-light bg-accent-surface hover:bg-accent-surface/80 text-xs uppercase tracking-wide transition-colors",title:`${i.titreScenario||i.scenarioTitle}  ${i.titreActe||i.actTitle}  ${i.titreScene||i.sceneTitle}`,children:[i.idScenario||i.scenarioId,".",i.numeroActe||i.actNumber,".",i.numeroScene||i.sceneNumber]},r))})})}ev.propTypes={occurrences:O.array};function tv({details:n}){return!n||n.length===0?null:m.jsx(ot,{titre:"Dtails",icone:ry,children:m.jsx("ul",{className:"space-y-2 text-sm",children:n.map((i,r)=>m.jsxs("li",{className:"flex gap-2",children:[m.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 bg-accent-dark block flex-shrink-0"}),m.jsx("span",{children:i})]},r))})})}tv.propTypes={details:O.array};function av({pnj:n}){const i=n.buffs||n.active_effects;return!i||i.length===0?null:m.jsx(ot,{titre:"Effets actifs",icone:Ti,children:m.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((r,l)=>m.jsx("span",{className:"px-2 py-1 bg-green-900/20 border border-green-800/30 text-green-300 text-sm",children:typeof r=="string"?r:r.name||r.nom},l))})})}av.propTypes={pnj:O.object.isRequired};function sv({pnj:n}){const i=n.ogas||n.objectives;return i?m.jsx(ot,{titre:"Objectifs (OGAS)",icone:Dc,children:m.jsxs("div",{className:"space-y-2 text-sm",children:[i.objectif&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"Objectif :"})," ",i.objectif]}),i.gains&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"Gains :"})," ",i.gains]}),i.atouts&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"Atouts :"})," ",i.atouts]}),i.strategie&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"Stratgie :"})," ",i.strategie]})]})}):null}sv.propTypes={pnj:O.object.isRequired};function nv({pnj:n}){const i=n.tactique||n.tactiques||n.tactics||n.combat_tactics||n.tactical;if(!i)return null;if(i.tacticSummary)return m.jsx(ot,{titre:"Tactique",icone:Iu,children:m.jsx("p",{className:"text-sm",children:i.tacticSummary})});const r=i.avant_combat||i.before_combat,l=i.pendant_combat||i.during_combat,c=i.moral||i.morale;return!r&&!l&&!c?typeof i=="string"?m.jsx(ot,{titre:"Tactique",icone:Iu,children:m.jsx("p",{className:"text-sm",children:i})}):null:m.jsx(ot,{titre:"Tactique",icone:Iu,children:m.jsxs("div",{className:"space-y-2 text-sm",children:[r&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"Avant le combat :"})," ",r]}),l&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"Pendant le combat :"})," ",l]}),c&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-accent-light",children:"Moral :"})," ",c]})]})})}nv.propTypes={pnj:O.object.isRequired};function wq({pnj:n,isOpen:i,onClose:r}){if(!n)return null;const l=n.fp??n.cr,c=Ih(n.id),d=vc(n.category),p=m.jsxs(m.Fragment,{children:[d&&m.jsx("div",{className:Oe("px-3 py-1 text-sm border",d.nomClasse),children:d.label}),(n.lvl||l)&&m.jsx(ml,{variante:Lq(n),nomClasse:"text-lg font-bold ml-auto",children:n.lvl?`Niv ${Za(n.lvl)}`:`FP ${l}`})]});return m.jsxs(Lc,{isOpen:i,onClose:r,titre:n.name,sousTitre:n.role||n.description,badge:p,children:[m.jsx(Fh,{pnj:n}),m.jsx(Qh,{pnj:n}),m.jsx(av,{pnj:n}),m.jsx(sv,{pnj:n}),m.jsx(Yh,{pnj:n}),m.jsx($h,{pnj:n}),m.jsx(nv,{pnj:n}),m.jsx(Kh,{pnj:n}),m.jsx(Xh,{pnj:n}),m.jsx(Zh,{pnj:n}),m.jsx(Wh,{pnj:n}),m.jsx(ev,{occurrences:c}),m.jsx(tv,{details:n.details})]})}function Vq(){return{pnj:Eg,compteurs:mq,obtenirPnjParId:Nc,obtenirPnjParCategorie:dq,obtenirPnjParFp:(i,r=Eg)=>i==="tous"?r:r.filter(l=>{const c=l.lvl||l.level_value||l.fp||l.cr,d=Za(c);switch(i){case"inf1":return d<1;case"1-2":return d>=1&&d<=2;case"3-4":return d>=3&&d<=4;case"5-6":return d>=5&&d<=6;case"7-9":return d>=7&&d<=9;case"10+":return d>=10;default:return!0}}),categories:pq,filtresFp:["tous","inf1","1-2","3-4","5-6","7-9","10+"]}}function Pq(){const[n,i]=j.useState(null),[r,l]=j.useState(!1),[c,d]=j.useState("tous"),[p,g]=j.useState("tous"),[v,h]=j.useState(""),[y,b]=j.useState(""),[_]=Tc(),{pnj:A,obtenirPnjParCategorie:D}=Vq();j.useEffect(()=>{const I=_.get("pnj");if(I){const J=A.find(Y=>Y.id===I);J&&(i(J),l(!0),J.category&&d(J.category))}},[_,A]);const L=Og.useMemo(()=>{let I=D(c==="tous"?"all":c);if(v.trim()){const J=Za(v);!isNaN(J)&&J>0?I=I.filter(Y=>{const ae=Y.lvl||Y.level_value||Y.fp||Y.cr,Q=Za(ae);return Math.abs(Q-J)<.01}):I=I.filter(Y=>String(Y.lvl||Y.level_value||Y.fp||Y.cr)===v.trim())}else p!=="tous"&&(I=I.filter(J=>{const Y=J.lvl||J.level_value||J.fp||J.cr,ae=Za(Y);switch(p){case"inf1":return ae<1;case"1-2":return ae>=1&&ae<=2;case"3-4":return ae>=3&&ae<=4;case"5-6":return ae>=5&&ae<=6;case"7-9":return ae>=7&&ae<=9;case"10+":return ae>=10;default:return!0}}));if(y.trim()){const J=y.toLowerCase();I=I.filter(Y=>Y.name?.toLowerCase().includes(J)||Y.role?.toLowerCase().includes(J)||Y.type?.toLowerCase().includes(J)||Y.environment?.toLowerCase().includes(J)||Y.organization?.toLowerCase().includes(J))}return I},[c,p,y,D,v]),V={tous:{icone:Ss,etiquette:"Tous",couleur:"bg-gray-600"},allies:{icone:Ss,etiquette:"Allis",couleur:"bg-blue-600"},ennemis:{icone:ol,etiquette:"Ennemis",couleur:"bg-red-600"},monstres:{icone:Jx,etiquette:"Monstres",couleur:"bg-purple-600"}},H={tous:{etiquette:"Tous",couleur:"bg-gray-500"},inf1:{etiquette:"< 1",couleur:"bg-green-600"},"1-2":{etiquette:"1-2",couleur:"bg-blue-600"},"3-4":{etiquette:"3-4",couleur:"bg-yellow-600"},"5-6":{etiquette:"5-6",couleur:"bg-orange-600"},"7-9":{etiquette:"7-9",couleur:"bg-red-600"},"10+":{etiquette:"10+",couleur:"bg-purple-600"}},B=I=>{i(I),l(!0)};return m.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[m.jsx(vn,{titre:"Antagonistes & Allis",icone:Ai,sousTitre:"Personnages, cratures et monstres de la campagne"}),m.jsxs("div",{className:"space-y-4 bg-surface/50 p-4 border border-surface-border",children:[m.jsxs("div",{className:"relative",children:[m.jsx(lh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-content-subtle"}),m.jsx("input",{type:"text",placeholder:"Rechercher un PNJ...",value:y,onChange:I=>b(I.target.value),className:"w-full pl-10 pr-4 py-2 bg-surface border border-surface-border text-content text-sm focus:border-accent-dark outline-none"})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(V).map(([I,J])=>{const Y=J.icone;return m.jsxs("button",{onClick:()=>d(I),className:Oe("flex items-center gap-2 px-3 py-1.5 text-sm font-medium transition-colors",c===I?`${J.couleur} text-white`:"bg-surface-raised text-content-secondary hover:bg-surface"),children:[m.jsx(Y,{size:14}),J.etiquette]},I)})}),m.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(H).map(([I,J])=>m.jsx("button",{onClick:()=>{g(I),h("")},className:Oe("px-3 py-1.5 text-sm font-medium transition-colors",p===I&&!v?`${J.couleur} text-white`:"bg-surface-raised text-content-secondary hover:bg-surface"),children:J.etiquette},I))}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{className:"text-sm text-content-secondary",children:"FP spcifique :"}),m.jsx("input",{type:"text",placeholder:"Ex: 5 ou 1/4",value:v,onChange:I=>{h(I.target.value),g("tous")},className:"w-32 px-3 py-1.5 bg-surface border border-surface-border text-content text-sm focus:border-accent-dark outline-none"})]})]}),m.jsxs("div",{className:"text-sm text-content-muted mb-4",children:[L.length," rsultat",L.length>1?"s":""]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(I=>m.jsx(Rq,{pnj:I,auClic:()=>B(I)},I.id))}),m.jsx(wq,{pnj:n,isOpen:r,onClose:()=>l(!1)})]})}function kq({scene:n,isOpen:i,onClose:r}){return!n||!n.image?null:m.jsx(Lc,{isOpen:i,onClose:r,titre:n.title,maxWidth:"max-w-3xl",children:m.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[m.jsx("div",{className:"relative w-full",children:m.jsx("img",{src:n.image,alt:n.title,className:"w-full h-auto max-h-[40vh] object-contain border border-surface-border"})}),n.description&&m.jsx("div",{className:"w-full max-w-3xl",children:m.jsxs("div",{className:"bg-surface-raised/40 p-4 border border-surface-border",children:[m.jsx("h4",{className:"text-lg font-serif text-accent-light font-bold mb-2",children:"Description"}),m.jsxs("div",{className:"space-y-1.5 text-sm text-content-muted",children:[n.description.resume&&m.jsx("p",{className:"italic text-content-secondary/90",children:n.description.resume}),n.description.visuel&&m.jsxs("p",{children:[m.jsxs("strong",{className:"text-content-secondary",children:["Visuel :"," "]}),n.description.visuel]}),n.description.audio&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Audio : "}),n.description.audio]}),n.description.odeur&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Odeur : "}),n.description.odeur]}),n.description.lumiere&&m.jsxs("p",{children:[m.jsxs("strong",{className:"text-content-secondary",children:["Lumire :"," "]}),n.description.lumiere]})]})]})})]})})}function ji({titre:n,enfants:i,nomClasse:r="bg-surface-raised/40"}){return m.jsxs("div",{className:`mt-3 border border-surface-border p-3 ${r}`,children:[m.jsx("h6",{className:"text-xs font-mono uppercase tracking-widest text-content-subtle mb-1",children:n}),i]})}ji.propTypes={titre:O.string.isRequired,enfants:O.node.isRequired,nomClasse:O.string};function iv({description:n}){return!n||!Object.entries(n).some(([,r])=>r&&String(r).trim()!==""&&r!==n.resume)?null:m.jsx(ji,{titre:"Description",nomClasse:"bg-surface-raised/40",children:m.jsxs("div",{className:"space-y-1.5 text-sm text-content-muted",children:[n.resume&&m.jsx("p",{className:"italic text-content-secondary/90",children:n.resume}),n.visuel&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Visuel : "}),n.visuel]}),n.audio&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Audio : "}),n.audio]}),n.odeur&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Odeur : "}),n.odeur]}),n.lumiere&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Lumire : "}),n.lumiere]})]})})}iv.propTypes={description:O.shape({resume:O.string,visuel:O.string,audio:O.string,odeur:O.string,lumiere:O.string})};function rv({narration:n}){return!n||!Object.values(n).some(r=>r&&String(r).trim()!=="")?null:m.jsx(ji,{titre:"Narration",nomClasse:"bg-surface-raised/60",children:m.jsxs("div",{className:"space-y-1.5 text-sm text-content-muted",children:[n.declencheur&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Dclencheur : "}),n.declencheur]}),n.texte_a_lire&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:" lire : "}),m.jsx("span",{className:"whitespace-pre-line",children:n.texte_a_lire})]}),n.contexte_mj&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Contexte MJ : "}),Array.isArray(n.contexte_mj)?m.jsx("ul",{className:"list-disc ml-4 mt-1 space-y-0.5",children:n.contexte_mj.map((r,l)=>m.jsx("li",{children:r},l))}):m.jsx("span",{className:"whitespace-pre-line",children:n.contexte_mj})]}),n.objectif&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Objectif : "}),n.objectif]})]})})}rv.propTypes={narration:O.shape({declencheur:O.string,texte_a_lire:O.string,contexte_mj:O.oneOfType([O.string,O.arrayOf(O.string)]),objectif:O.string})};function lv({mecaniques:n}){return!n||!(Array.isArray(n.defis)&&n.defis.length>0||Array.isArray(n.indices)&&n.indices.length>0||n.recompenses)?null:m.jsx(ji,{titre:"Mcaniques",nomClasse:"bg-surface",children:m.jsxs("div",{className:"space-y-1.5 text-sm text-content-muted",children:[Array.isArray(n.defis)&&n.defis.length>0&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-content-secondary block",children:"Dfis"}),m.jsx("ul",{className:"list-disc ml-4 space-y-0.5",children:n.defis.map((r,l)=>m.jsx("li",{className:"whitespace-pre-line",children:r},l))})]}),Array.isArray(n.indices)&&n.indices.length>0&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-content-secondary block",children:"Indices"}),m.jsx("ul",{className:"list-disc ml-4 space-y-0.5",children:n.indices.map((r,l)=>m.jsx("li",{className:"whitespace-pre-line",children:r},l))})]}),n.recompenses&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Rcompenses : "}),m.jsx("span",{className:"whitespace-pre-line",children:n.recompenses})]})]})})}lv.propTypes={mecaniques:O.shape({defis:O.arrayOf(O.string),indices:O.arrayOf(O.string),recompenses:O.string})};const Uq=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4","aria-hidden":"true",children:[m.jsx("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),m.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"18"}),m.jsx("line",{x1:"16",x2:"16",y1:"6",y2:"22"})]}),Lg=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4","aria-hidden":"true",children:m.jsx("path",{d:"M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3.3 0-10 1.7-10 5v3h20v-3c0-3.3-6.7-5-10-5z"})}),Rg=(n,i)=>{if(n==="bestiary"&&i&&i.est_ennemi)return"border-red-500/60 text-red-400 bg-red-500/10 hover:border-red-400 hover:text-red-300";switch(n){case"principaux":return"border-blue-500/60 text-blue-400 bg-blue-500/10 hover:border-blue-400 hover:text-blue-300";case"ennemis":return"border-red-500/60 text-red-400 bg-red-500/10 hover:border-red-400 hover:text-red-300";case"bestiary":return"border-purple-500/60 text-purple-400 bg-purple-500/10 hover:border-purple-400 hover:text-purple-300";default:return"border-surface-border text-content-muted bg-surface-raised/30"}};function Rc({lieuLie:n,pnjLies:i}){return!n&&(!i||i.length===0)?null:m.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:[n&&m.jsxs(Xt,{to:kh({zoneId:n.zone.id,locId:n.lieu.id}),className:"inline-flex items-center gap-1 px-2 py-1 border border-accent-muted text-accent-light bg-accent-surface hover:bg-accent-surface transition-colors",children:[m.jsx(Uq,{}),n.lieu.name]}),i.map(r=>r.lien?m.jsxs(Xt,{to:r.lien,title:r.id,className:Oe("inline-flex items-center gap-1 px-2 py-1 border transition-colors",Rg(r.source,r)),children:[m.jsx(Lg,{}),r.name]},r.id):m.jsxs("span",{title:r.id,className:Oe("inline-flex items-center gap-1 px-2 py-1 border",Rg(r.source,r)),children:[m.jsx(Lg,{}),r.name]},r.id))]})}Rc.propTypes={lieuLie:O.shape({zone:O.shape({id:O.string}),lieu:O.shape({id:O.string,name:O.string})}),pnjLies:O.arrayOf(O.shape({id:O.string,name:O.string,lien:O.string,source:O.string}))};Rc.defaultProps={pnjLies:[]};function ov({transitions:n}){return!n||!Object.values(n).some(r=>r&&String(r).trim()!=="")?null:m.jsx(ji,{titre:"Transitions",nomClasse:"bg-surface-raised/40",children:m.jsxs("div",{className:"text-sm text-content-muted space-y-1",children:[n.resume&&m.jsx("p",{className:"italic text-content-secondary/90",children:n.resume}),n.success&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Succs : "}),n.success]}),n.fail&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"chec : "}),n.fail]})]})})}ov.propTypes={transitions:O.shape({resume:O.string,success:O.string,fail:O.string})};const Iq=n=>`/antagoniste?pnj=${encodeURIComponent(n)}`;function zc({scene:n,surlignee:i,estEtendue:r,auClic:l}){const[c,d]=Xa(`scene-note-${n.title}`,""),[p,g]=Xa(`scene-fav-${n.title}`,!1),[v,h]=j.useState(!1),y=()=>{n.image&&h(!0)},b=n.locationId?hq(n.locationId):null,_=Array.isArray(n.npcIds)?n.npcIds.map(D=>{const L=Nc(D);return L?{...L,id:D,name:L.name||D,link:Iq(D),source:L.source}:{id:D,name:D,link:null,source:null}}):[],A=Array.isArray(n.details)?n.details:[];return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:Oe("bg-surface border border-surface-border p-3 sm:p-4 hover:border-accent-muted transition-colors group",i&&"border-accent-dark shadow-[0_0_0_1px_rgba(217,119,6,0.35)]"),children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-3 border-b border-surface-border pb-2 gap-2 sm:gap-3",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-2 sm:gap-3 w-full sm:w-auto",children:[r&&n.image&&m.jsx("img",{src:n.image,alt:n.title,className:"w-full sm:w-48 md:w-64 h-48 sm:h-48 md:h-64 object-cover border border-surface-border flex-shrink-0 cursor-pointer hover:border-accent-muted transition-colors",onClick:y}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("h5",{className:"font-serif font-bold text-content text-base sm:text-lg",children:n.title}),p&&m.jsx("span",{className:"text-xs text-accent uppercase tracking-widest",children:"Favori"})]})]}),m.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[m.jsx("button",{type:"button",onClick:l,className:"text-xs px-2 py-1 border border-surface-border text-content-muted hover:border-accent-dark hover:text-accent-light transition-colors",children:r?"Masquer":"Afficher"}),m.jsx("button",{type:"button",onClick:()=>g(D=>!D),className:Oe("text-xs px-2 py-1 border transition-colors",p?"border-accent text-accent-light bg-accent-surface":"border-surface-border text-content-muted hover:border-accent-dark hover:text-accent-light"),children:""}),m.jsx(ml,{type:n.type})]})]}),r&&m.jsxs(m.Fragment,{children:[m.jsx("ul",{className:"space-y-1.5",children:A.map((D,L)=>m.jsxs("li",{className:"flex gap-2 text-sm text-content-muted group-hover:text-content-secondary transition-colors leading-relaxed",children:[m.jsx("span",{className:"text-content-subtle mt-1.5 w-1 h-1 bg-surface-border block flex-shrink-0 group-hover:bg-accent-dark transition-colors"}),m.jsx("span",{children:D})]},L))}),m.jsx(iv,{description:n.description}),m.jsx(rv,{narration:n.narration}),m.jsx(lv,{mecaniques:n.mecaniques}),m.jsx(ov,{transitions:n.transitions})]}),m.jsx(Rc,{lieuLie:b,pnjLies:_}),m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[!r&&n.image&&m.jsx("img",{src:n.image,alt:n.title,className:"w-12 h-12 sm:w-16 sm:h-16 object-cover border border-surface-border flex-shrink-0 cursor-pointer hover:border-accent-muted transition-colors",onClick:y}),m.jsx("label",{className:"text-xs uppercase tracking-widest text-content-subtle",children:"Notes MJ"})]}),m.jsx("textarea",{value:c,onChange:D=>d(D.target.value),className:"w-full bg-surface-raised border border-surface-border p-2 text-sm text-content focus:border-accent-dark focus:outline-none",rows:3,placeholder:"Notes, rappels, ajustements..."})]})]}),m.jsx(kq,{scene:n,isOpen:v,onClose:()=>h(!1)})]})}zc.propTypes={scene:O.shape({title:O.string.isRequired,type:O.string,details:O.arrayOf(O.string).isRequired}).isRequired,surlignee:O.bool,estEtendue:O.bool,auClic:O.func};zc.defaultProps={surlignee:!1,estEtendue:!1};function Oc({acte:n,estOuvert:i,auClic:r,titreSceneCible:l}){const[c,d]=j.useState("");return j.useEffect(()=>{if(!i)return;const p=n.scenes?.find(g=>g.title.toLowerCase()===l?.toLowerCase());p&&d(p.title)},[i,n.scenes,l]),m.jsxs("div",{className:"border-l-2 border-surface-border ml-2 sm:ml-4 pl-3 sm:pl-6 relative pb-6 sm:pb-8 last:pb-0",children:[m.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 bg-surface-overlay border-2 border-surface-border"}),m.jsxs("button",{onClick:r,className:"flex items-center gap-3 w-full text-left group mb-2",children:[m.jsx("h4",{className:"text-base sm:text-lg font-serif font-bold text-content-secondary group-hover:text-accent transition-colors",children:n.title}),m.jsx("div",{className:`transition-transform duration-300 ${i?"rotate-180":""}`,children:m.jsx("span",{className:"text-content-subtle",children:""})})]}),m.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 text-[10px] sm:text-xs font-mono text-content-subtle mb-3 sm:mb-4 pl-1",children:[m.jsxs("span",{className:"flex items-center gap-1.5 bg-surface-raised px-2 py-1 border border-surface-border",children:[m.jsx("span",{className:"text-accent-dark",children:""}),"ENJEU : ",n.stake]}),m.jsxs("span",{className:"flex items-center gap-1.5 bg-surface-raised px-2 py-1 border border-surface-border",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 text-blue-500","aria-hidden":"true",children:[m.jsx("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),m.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"18"}),m.jsx("line",{x1:"16",x2:"16",y1:"6",y2:"22"})]}),"LIEU : ",n.location]})]}),i&&m.jsx("div",{className:"grid grid-cols-1 gap-3 animate-slideDown",children:n.scenes.map((p,g)=>m.jsx(zc,{scene:p,estEtendue:c===p.title,auClic:()=>d(v=>v===p.title?"":p.title),surlignee:p.title.toLowerCase()===l?.toLowerCase()},g))})]})}Oc.propTypes={acte:O.shape({title:O.string.isRequired,stake:O.string,location:O.string,scenes:O.arrayOf(O.object).isRequired}).isRequired,estOuvert:O.bool,auClic:O.func.isRequired,titreSceneCible:O.string};Oc.defaultProps={estOuvert:!1,titreSceneCible:""};function wc({scenario:n,estOuvert:i,auClic:r,titreSceneCible:l}){const[c,d]=Xa(`scenario-open-act-${n.id}`,""),p=j.useRef(!1);return j.useEffect(()=>{i&&typeof window<"u"&&window.localStorage.setItem("current-scenario",String(n.id))},[i,n.id]),j.useEffect(()=>{if(!i||p.current)return;const g=n.acts.find(v=>v.scenes?.some(h=>h.title.toLowerCase()===l.toLowerCase()));if(g){d(g.title),p.current=!0;return}!c&&n.acts[0]&&(d(n.acts[0].title),p.current=!0)},[i,n.acts,l,c,d]),m.jsxs("div",{className:"border border-surface-border bg-surface/60 overflow-hidden transition-all duration-300 hover:border-surface-border",children:[m.jsxs("div",{onClick:r,className:"p-3 sm:p-6 cursor-pointer flex items-center justify-between bg-gradient-to-r from-surface-raised to-surface-overlay group",children:[m.jsxs("div",{className:"flex items-center gap-3 sm:gap-6 min-w-0",children:[m.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 flex-shrink-0 flex items-center justify-center bg-surface border border-surface-border font-serif font-bold text-lg sm:text-xl text-accent shadow-inner group-hover:text-accent group-hover:border-accent-muted transition-all",children:n.id}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("h3",{className:"text-lg sm:text-2xl font-serif font-bold text-content group-hover:text-accent-light transition-colors truncate",children:n.title}),m.jsx("span",{className:"text-xs sm:text-sm text-content-subtle font-mono tracking-wider",children:n.level})]})]}),m.jsx("div",{className:`transition-transform duration-300 ${i?"rotate-180":""}`,children:m.jsx("span",{className:"text-content-subtle",children:""})})]}),i&&m.jsxs("div",{className:"p-3 sm:p-6 border-t border-surface-border bg-surface/50",children:[m.jsx("div",{className:"mb-4 sm:mb-8 p-3 sm:p-4 italic text-content-muted text-xs sm:text-sm leading-relaxed max-w-3xl mx-auto text-center font-serif",children:n.synopsis}),m.jsx("div",{className:"space-y-2",children:n.acts.map((g,v)=>m.jsx(Oc,{acte:g,estOuvert:c===g.title,auClic:()=>d(h=>h===g.title?"":g.title),titreSceneCible:l},v))})]})]})}wc.propTypes={scenario:O.shape({id:O.oneOfType([O.string,O.number]).isRequired,title:O.string.isRequired,level:O.string,synopsis:O.string,acts:O.arrayOf(O.object).isRequired}).isRequired,estOuvert:O.bool.isRequired,auClic:O.func.isRequired,titreSceneCible:O.string};wc.defaultProps={titreSceneCible:""};function Bq(){const[n,i]=j.useState(""),r=()=>{const d={notes:{},favoris:{},dateExport:new Date().toISOString(),version:"1.0"};for(let b=0;b<localStorage.length;b++){const _=localStorage.key(b);if(_.startsWith("scene-note-")){const A=localStorage.getItem(_);A&&(d.notes[_.replace("scene-note-","")]=A)}else _.startsWith("scene-fav-")&&localStorage.getItem(_)==="true"&&(d.favoris[_.replace("scene-fav-","")]=!0)}const p=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),g=URL.createObjectURL(p),v=document.createElement("a");v.href=g,v.download=`notes-mj-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(g);const h=Object.keys(d.notes).length,y=Object.keys(d.favoris).length;i(` Export russi : ${h} note(s) et ${y} favori(s)`),setTimeout(()=>i(""),3e3)},l=d=>{const p=d.target.files[0];if(!p)return;const g=new FileReader;g.onload=v=>{try{const h=JSON.parse(v.target.result);if(!h.notes&&!h.favoris){i(" Format de fichier invalide"),setTimeout(()=>i(""),3e3);return}let y=0,b=0;h.notes&&Object.entries(h.notes).forEach(([_,A])=>{localStorage.setItem(`scene-note-${_}`,A),y++}),h.favoris&&Object.entries(h.favoris).forEach(([_,A])=>{A&&(localStorage.setItem(`scene-fav-${_}`,"true"),b++)}),i(` Import russi : ${y} note(s) et ${b} favori(s)`),setTimeout(()=>{i(""),window.location.reload()},2e3)}catch(h){console.error("Erreur import:",h),i(" Erreur lors de l'import du fichier"),setTimeout(()=>i(""),3e3)}},g.readAsText(p),d.target.value=""},c=()=>{if(!window.confirm(" tes-vous sr de vouloir supprimer TOUTES les notes et favoris ? Cette action est irrversible."))return;let d=0;const p=[];for(let g=0;g<localStorage.length;g++){const v=localStorage.key(g);(v.startsWith("scene-note-")||v.startsWith("scene-fav-"))&&p.push(v)}p.forEach(g=>{localStorage.removeItem(g),d++}),i(` ${d} lment(s) supprim(s)`),setTimeout(()=>{i(""),window.location.reload()},1500)};return m.jsxs("div",{className:"bg-surface-raised border border-surface-border p-4 mb-6",children:[m.jsxs("h3",{className:"text-sm font-semibold text-content-secondary mb-3 flex items-center gap-2",children:[m.jsx("span",{children:""}),"Gestion des Notes MJ"]}),m.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[m.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-2 bg-accent-surface border border-accent-muted text-accent-light hover:bg-accent-dark hover:text-white transition-colors text-sm",title:"Exporter toutes les notes et favoris",children:[m.jsx(kx,{size:16}),"Exporter"]}),m.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-blue-900/20 border border-blue-800/30 text-blue-300 hover:bg-blue-900/30 transition-colors text-sm cursor-pointer",children:[m.jsx(Oy,{size:16}),"Importer",m.jsx("input",{type:"file",accept:".json",onChange:l,className:"hidden"})]}),m.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-3 py-2 bg-red-900/20 border border-red-800/30 text-red-300 hover:bg-red-900/30 transition-colors text-sm",title:"Supprimer toutes les notes et favoris",children:[m.jsx(Ly,{size:16}),"Tout supprimer"]})]}),n&&m.jsx("div",{className:"text-xs text-content-secondary bg-surface p-2 border border-surface-border animate-fadeIn",children:n}),m.jsx("p",{className:"text-xs text-content-subtle mt-2",children:" Les notes sont stockes localement dans votre navigateur. Exportez-les rgulirement pour les sauvegarder."})]})}function zg(){const n=j0(),[i]=Tc(),r=i.get("scene")||"",l=n.id||i.get("scenario")||"",[c,d]=Xa("scenario-open-active",l||"");return j.useEffect(()=>{l&&d(String(l))},[l,d]),m.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[m.jsx(vn,{titre:"Le Livre des Scnarios",icone:qi,sousTitre:"Les dieux ont cr la mort par ngligence, c'est un dfaut de conception."}),m.jsx(Bq,{}),m.jsx("div",{className:"space-y-4",children:cl.map(p=>m.jsx(wc,{scenario:p,estOuvert:String(c)===String(p.id),auClic:()=>d(g=>String(g)===String(p.id)?"":String(p.id)),titreSceneCible:r},p.id))})]})}function Hq(){return m.jsx(H0,{children:m.jsxs(ba,{element:m.jsx(qq,{}),children:[m.jsx(ba,{index:!0,element:m.jsx(eg,{to:"/univers",replace:!0})}),m.jsx(ba,{path:"/univers",element:m.jsx(Eq,{})}),m.jsx(ba,{path:"/factions",element:m.jsx(Nq,{})}),m.jsx(ba,{path:"/antagoniste",element:m.jsx(Pq,{})}),m.jsx(ba,{path:"/scenarios",element:m.jsx(zg,{})}),m.jsx(ba,{path:"/scenarios/:id",element:m.jsx(zg,{})}),m.jsx(ba,{path:"*",element:m.jsx(eg,{to:"/univers",replace:!0})})]})})}const Gq={title:"Factions",subtitle:"Les forces en prsence  Val-d'Ombre",hierarchy:"Hirarchie",npcs:"PNJ"},Jq={title:"Le Livre des Scnarios",subtitle:"Les dieux ont cr la mort par ngligence, c'est un dfaut de conception."},Fq={title:"Univers",subtitle:"Dcouvrez les lieux et personnages de Val-d'Ombre"},Qq={placeholder:"Rechercher (PNJ, lieux, scnarios...)"},Yq={factions:Gq,scenarios:Jq,universe:Fq,search:Qq},$q={title:"Factions",subtitle:"The forces present in Val-d'Ombre",hierarchy:"Hierarchy",npcs:"NPCs"},Kq={title:"The Book of Scenarios",subtitle:"The gods created death by negligence, it's a design flaw."},Xq={title:"Universe",subtitle:"Discover the places and characters of Val-d'Ombre"},Zq={placeholder:"Search (NPCs, locations, scenarios...)"},Wq={factions:$q,scenarios:Kq,universe:Xq,search:Zq};ut.use(tS).init({resources:{fr:{translation:Yq},en:{translation:Wq}},lng:"fr",fallbackLng:"fr",interpolation:{escapeValue:!1}});Bb.createRoot(document.getElementById("root")).render(m.jsx(Og.StrictMode,{children:m.jsx(fx,{children:m.jsx(Hq,{})})}));
