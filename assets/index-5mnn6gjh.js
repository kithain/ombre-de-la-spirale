(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();function hc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mu={exports:{}},ci={};var Vf;function D1(){if(Vf)return ci;Vf=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(l,c,d){var p=null;if(d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:n,type:l,key:p,ref:c!==void 0?c:null,props:d}}return ci.Fragment=i,ci.jsx=r,ci.jsxs=r,ci}var Uf;function N1(){return Uf||(Uf=1,Mu.exports=D1()),Mu.exports}var m=N1(),Eu={exports:{}},oe={};var kf;function L1(){if(kf)return oe;kf=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function j(_){return _===null||typeof _!="object"?null:(_=T&&_[T]||_["@@iterator"],typeof _=="function"?_:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,w={};function I(_,V,F){this.props=_,this.context=V,this.refs=w,this.updater=F||D}I.prototype.isReactComponent={},I.prototype.setState=function(_,V){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,V,"setState")},I.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function B(){}B.prototype=I.prototype;function J(_,V,F){this.props=_,this.context=V,this.refs=w,this.updater=F||D}var ee=J.prototype=new B;ee.constructor=J,z(ee,I.prototype),ee.isPureReactComponent=!0;var ie=Array.isArray;function Q(){}var H={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function Y(_,V,F){var Z=F.ref;return{$$typeof:n,type:_,key:V,ref:Z!==void 0?Z:null,props:F}}function ae(_,V){return Y(_.type,V,_.props)}function ge(_){return typeof _=="object"&&_!==null&&_.$$typeof===n}function K(_){var V={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(F){return V[F]})}var ze=/\/+/g;function de(_,V){return typeof _=="object"&&_!==null&&_.key!=null?K(""+_.key):V.toString(36)}function Ue(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(Q,Q):(_.status="pending",_.then(function(V){_.status==="pending"&&(_.status="fulfilled",_.value=V)},function(V){_.status==="pending"&&(_.status="rejected",_.reason=V)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function E(_,V,F,Z,ue){var ve=typeof _;(ve==="undefined"||ve==="boolean")&&(_=null);var Ae=!1;if(_===null)Ae=!0;else switch(ve){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(_.$$typeof){case n:case i:Ae=!0;break;case y:return Ae=_._init,E(Ae(_._payload),V,F,Z,ue)}}if(Ae)return ue=ue(_),Ae=Z===""?"."+de(_,0):Z,ie(ue)?(F="",Ae!=null&&(F=Ae.replace(ze,"$&/")+"/"),E(ue,V,F,"",function(vn){return vn})):ue!=null&&(ge(ue)&&(ue=ae(ue,F+(ue.key==null||_&&_.key===ue.key?"":(""+ue.key).replace(ze,"$&/")+"/")+Ae)),V.push(ue)),1;Ae=0;var rt=Z===""?".":Z+":";if(ie(_))for(var Ge=0;Ge<_.length;Ge++)Z=_[Ge],ve=rt+de(Z,Ge),Ae+=E(Z,V,F,ve,ue);else if(Ge=j(_),typeof Ge=="function")for(_=Ge.call(_),Ge=0;!(Z=_.next()).done;)Z=Z.value,ve=rt+de(Z,Ge++),Ae+=E(Z,V,F,ve,ue);else if(ve==="object"){if(typeof _.then=="function")return E(Ue(_),V,F,Z,ue);throw V=String(_),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function G(_,V,F){if(_==null)return _;var Z=[],ue=0;return E(_,Z,"","",function(ve){return V.call(F,ve,ue++)}),Z}function te(_){if(_._status===-1){var V=_._result;V=V(),V.then(function(F){(_._status===0||_._status===-1)&&(_._status=1,_._result=F)},function(F){(_._status===0||_._status===-1)&&(_._status=2,_._result=F)}),_._status===-1&&(_._status=0,_._result=V)}if(_._status===1)return _._result.default;throw _._result}var he=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},qe={map:G,forEach:function(_,V,F){G(_,function(){V.apply(this,arguments)},F)},count:function(_){var V=0;return G(_,function(){V++}),V},toArray:function(_){return G(_,function(V){return V})||[]},only:function(_){if(!ge(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return oe.Activity=b,oe.Children=qe,oe.Component=I,oe.Fragment=r,oe.Profiler=c,oe.PureComponent=J,oe.StrictMode=l,oe.Suspense=h,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,oe.__COMPILER_RUNTIME={__proto__:null,c:function(_){return H.H.useMemoCache(_)}},oe.cache=function(_){return function(){return _.apply(null,arguments)}},oe.cacheSignal=function(){return null},oe.cloneElement=function(_,V,F){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var Z=z({},_.props),ue=_.key;if(V!=null)for(ve in V.key!==void 0&&(ue=""+V.key),V)!$.call(V,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&V.ref===void 0||(Z[ve]=V[ve]);var ve=arguments.length-2;if(ve===1)Z.children=F;else if(1<ve){for(var Ae=Array(ve),rt=0;rt<ve;rt++)Ae[rt]=arguments[rt+2];Z.children=Ae}return Y(_.type,ue,Z)},oe.createContext=function(_){return _={$$typeof:p,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:d,_context:_},_},oe.createElement=function(_,V,F){var Z,ue={},ve=null;if(V!=null)for(Z in V.key!==void 0&&(ve=""+V.key),V)$.call(V,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ue[Z]=V[Z]);var Ae=arguments.length-2;if(Ae===1)ue.children=F;else if(1<Ae){for(var rt=Array(Ae),Ge=0;Ge<Ae;Ge++)rt[Ge]=arguments[Ge+2];ue.children=rt}if(_&&_.defaultProps)for(Z in Ae=_.defaultProps,Ae)ue[Z]===void 0&&(ue[Z]=Ae[Z]);return Y(_,ve,ue)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(_){return{$$typeof:g,render:_}},oe.isValidElement=ge,oe.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:te}},oe.memo=function(_,V){return{$$typeof:v,type:_,compare:V===void 0?null:V}},oe.startTransition=function(_){var V=H.T,F={};H.T=F;try{var Z=_(),ue=H.S;ue!==null&&ue(F,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Q,he)}catch(ve){he(ve)}finally{V!==null&&F.types!==null&&(V.types=F.types),H.T=V}},oe.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},oe.use=function(_){return H.H.use(_)},oe.useActionState=function(_,V,F){return H.H.useActionState(_,V,F)},oe.useCallback=function(_,V){return H.H.useCallback(_,V)},oe.useContext=function(_){return H.H.useContext(_)},oe.useDebugValue=function(){},oe.useDeferredValue=function(_,V){return H.H.useDeferredValue(_,V)},oe.useEffect=function(_,V){return H.H.useEffect(_,V)},oe.useEffectEvent=function(_){return H.H.useEffectEvent(_)},oe.useId=function(){return H.H.useId()},oe.useImperativeHandle=function(_,V,F){return H.H.useImperativeHandle(_,V,F)},oe.useInsertionEffect=function(_,V){return H.H.useInsertionEffect(_,V)},oe.useLayoutEffect=function(_,V){return H.H.useLayoutEffect(_,V)},oe.useMemo=function(_,V){return H.H.useMemo(_,V)},oe.useOptimistic=function(_,V){return H.H.useOptimistic(_,V)},oe.useReducer=function(_,V,F){return H.H.useReducer(_,V,F)},oe.useRef=function(_){return H.H.useRef(_)},oe.useState=function(_){return H.H.useState(_)},oe.useSyncExternalStore=function(_,V,F){return H.H.useSyncExternalStore(_,V,F)},oe.useTransition=function(){return H.H.useTransition()},oe.version="19.2.3",oe}var If;function al(){return If||(If=1,Eu.exports=L1()),Eu.exports}var A=al();const Og=hc(A);var Ru={exports:{}},di={},zu={exports:{}},Ou={};var Bf;function M1(){return Bf||(Bf=1,(function(n){function i(E,G){var te=E.length;E.push(G);e:for(;0<te;){var he=te-1>>>1,qe=E[he];if(0<c(qe,G))E[he]=G,E[te]=qe,te=he;else break e}}function r(E){return E.length===0?null:E[0]}function l(E){if(E.length===0)return null;var G=E[0],te=E.pop();if(te!==G){E[0]=te;e:for(var he=0,qe=E.length,_=qe>>>1;he<_;){var V=2*(he+1)-1,F=E[V],Z=V+1,ue=E[Z];if(0>c(F,te))Z<qe&&0>c(ue,F)?(E[he]=ue,E[Z]=te,he=Z):(E[he]=F,E[V]=te,he=V);else if(Z<qe&&0>c(ue,te))E[he]=ue,E[Z]=te,he=Z;else break e}}return G}function c(E,G){var te=E.sortIndex-G.sortIndex;return te!==0?te:E.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var p=Date,g=p.now();n.unstable_now=function(){return p.now()-g}}var h=[],v=[],y=1,b=null,T=3,j=!1,D=!1,z=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ee(E){for(var G=r(v);G!==null;){if(G.callback===null)l(v);else if(G.startTime<=E)l(v),G.sortIndex=G.expirationTime,i(h,G);else break;G=r(v)}}function ie(E){if(z=!1,ee(E),!D)if(r(h)!==null)D=!0,Q||(Q=!0,K());else{var G=r(v);G!==null&&Ue(ie,G.startTime-E)}}var Q=!1,H=-1,$=5,Y=-1;function ae(){return w?!0:!(n.unstable_now()-Y<$)}function ge(){if(w=!1,Q){var E=n.unstable_now();Y=E;var G=!0;try{e:{D=!1,z&&(z=!1,B(H),H=-1),j=!0;var te=T;try{t:{for(ee(E),b=r(h);b!==null&&!(b.expirationTime>E&&ae());){var he=b.callback;if(typeof he=="function"){b.callback=null,T=b.priorityLevel;var qe=he(b.expirationTime<=E);if(E=n.unstable_now(),typeof qe=="function"){b.callback=qe,ee(E),G=!0;break t}b===r(h)&&l(h),ee(E)}else l(h);b=r(h)}if(b!==null)G=!0;else{var _=r(v);_!==null&&Ue(ie,_.startTime-E),G=!1}}break e}finally{b=null,T=te,j=!1}G=void 0}}finally{G?K():Q=!1}}}var K;if(typeof J=="function")K=function(){J(ge)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,de=ze.port2;ze.port1.onmessage=ge,K=function(){de.postMessage(null)}}else K=function(){I(ge,0)};function Ue(E,G){H=I(function(){E(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(E){E.callback=null},n.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<E?Math.floor(1e3/E):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(E){switch(T){case 1:case 2:case 3:var G=3;break;default:G=T}var te=T;T=G;try{return E()}finally{T=te}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(E,G){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var te=T;T=E;try{return G()}finally{T=te}},n.unstable_scheduleCallback=function(E,G,te){var he=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?he+te:he):te=he,E){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=te+qe,E={id:y++,callback:G,priorityLevel:E,startTime:te,expirationTime:qe,sortIndex:-1},te>he?(E.sortIndex=te,i(v,E),r(h)===null&&E===r(v)&&(z?(B(H),H=-1):z=!0,Ue(ie,te-he))):(E.sortIndex=qe,i(h,E),D||j||(D=!0,Q||(Q=!0,K()))),E},n.unstable_shouldYield=ae,n.unstable_wrapCallback=function(E){var G=T;return function(){var te=T;T=G;try{return E.apply(this,arguments)}finally{T=te}}}})(Ou)),Ou}var Hf;function E1(){return Hf||(Hf=1,zu.exports=M1()),zu.exports}var wu={exports:{}},it={};var Gf;function R1(){if(Gf)return it;Gf=1;var n=al();function i(h){var v="https://react.dev/errors/"+h;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)v+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(h,v,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:h,containerInfo:v,implementation:y}}var p=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(h,v){if(h==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,it.createPortal=function(h,v){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(i(299));return d(h,v,null,y)},it.flushSync=function(h){var v=p.T,y=l.p;try{if(p.T=null,l.p=2,h)return h()}finally{p.T=v,l.p=y,l.d.f()}},it.preconnect=function(h,v){typeof h=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(h,v))},it.prefetchDNS=function(h){typeof h=="string"&&l.d.D(h)},it.preinit=function(h,v){if(typeof h=="string"&&v&&typeof v.as=="string"){var y=v.as,b=g(y,v.crossOrigin),T=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;y==="style"?l.d.S(h,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:j}):y==="script"&&l.d.X(h,{crossOrigin:b,integrity:T,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},it.preinitModule=function(h,v){if(typeof h=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var y=g(v.as,v.crossOrigin);l.d.M(h,{crossOrigin:y,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(h)},it.preload=function(h,v){if(typeof h=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var y=v.as,b=g(y,v.crossOrigin);l.d.L(h,y,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},it.preloadModule=function(h,v){if(typeof h=="string")if(v){var y=g(v.as,v.crossOrigin);l.d.m(h,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:y,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(h)},it.requestFormReset=function(h){l.d.r(h)},it.unstable_batchedUpdates=function(h,v){return h(v)},it.useFormState=function(h,v,y){return p.H.useFormState(h,v,y)},it.useFormStatus=function(){return p.H.useHostTransitionStatus()},it.version="19.2.3",it}var Jf;function z1(){if(Jf)return wu.exports;Jf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),wu.exports=R1(),wu.exports}var Ff;function O1(){if(Ff)return di;Ff=1;var n=E1(),i=al(),r=z1();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(d(e)!==e)throw Error(l(188))}function v(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return h(o),e;if(u===s)return h(o),t;u=u.sibling}throw Error(l(188))}if(a.return!==s.return)a=o,s=u;else{for(var f=!1,x=o.child;x;){if(x===a){f=!0,a=o,s=u;break}if(x===s){f=!0,s=o,a=u;break}x=x.sibling}if(!f){for(x=u.child;x;){if(x===a){f=!0,a=u,s=o;break}if(x===s){f=!0,s=u,a=o;break}x=x.sibling}if(!f)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case I:return"Profiler";case w:return"StrictMode";case ie:return"Suspense";case Q:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case J:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case $:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}var Ue=Array.isArray,E=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},he=[],qe=-1;function _(e){return{current:e}}function V(e){0>qe||(e.current=he[qe],he[qe]=null,qe--)}function F(e,t){qe++,he[qe]=e.current,e.current=t}var Z=_(null),ue=_(null),ve=_(null),Ae=_(null);function rt(e,t){switch(F(ve,t),F(ue,e),F(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?lf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=lf(t),e=of(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(Z),F(Z,e)}function Ge(){V(Z),V(ue),V(ve)}function vn(e){e.memoizedState!==null&&F(Ae,e);var t=Z.current,a=of(t,e.type);t!==a&&(F(ue,e),F(Z,a))}function Ai(e){ue.current===e&&(V(Z),V(ue)),Ae.current===e&&(V(Ae),ri._currentValue=te)}var ml,wc;function es(e){if(ml===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ml=t&&t[1]||"",wc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ml+e+wc}var pl=!1;function fl(e,t){if(!e||pl)return"";pl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(R){var M=R}Reflect.construct(e,[],k)}else{try{k.call()}catch(R){M=R}e.call(k.prototype)}}else{try{throw Error()}catch(R){M=R}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(R){if(R&&M&&typeof R.stack=="string")return[R.stack,M.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),f=u[0],x=u[1];if(f&&x){var S=f.split(`
`),L=x.split(`
`);for(o=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;o<L.length&&!L[o].includes("DetermineComponentFrameRoot");)o++;if(s===S.length||o===L.length)for(s=S.length-1,o=L.length-1;1<=s&&0<=o&&S[s]!==L[o];)o--;for(;1<=s&&0<=o;s--,o--)if(S[s]!==L[o]){if(s!==1||o!==1)do if(s--,o--,0>o||S[s]!==L[o]){var P=`
`+S[s].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=s&&0<=o);break}}}finally{pl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?es(a):""}function iv(e,t){switch(e.tag){case 26:case 27:case 5:return es(e.type);case 16:return es("Lazy");case 13:return e.child!==t&&t!==null?es("Suspense Fallback"):es("Suspense");case 19:return es("SuspenseList");case 0:case 15:return fl(e.type,!1);case 11:return fl(e.type.render,!1);case 1:return fl(e.type,!0);case 31:return es("Activity");default:return""}}function Pc(e){try{var t="",a=null;do t+=iv(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var gl=Object.prototype.hasOwnProperty,hl=n.unstable_scheduleCallback,vl=n.unstable_cancelCallback,rv=n.unstable_shouldYield,lv=n.unstable_requestPaint,vt=n.unstable_now,ov=n.unstable_getCurrentPriorityLevel,Vc=n.unstable_ImmediatePriority,Uc=n.unstable_UserBlockingPriority,Di=n.unstable_NormalPriority,uv=n.unstable_LowPriority,kc=n.unstable_IdlePriority,cv=n.log,dv=n.unstable_setDisableYieldValue,bn=null,bt=null;function ja(e){if(typeof cv=="function"&&dv(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(bn,e)}catch{}}var xt=Math.clz32?Math.clz32:fv,mv=Math.log,pv=Math.LN2;function fv(e){return e>>>=0,e===0?32:31-(mv(e)/pv|0)|0}var Ni=256,Li=262144,Mi=4194304;function ts(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ei(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var x=s&134217727;return x!==0?(s=x&~u,s!==0?o=ts(s):(f&=x,f!==0?o=ts(f):a||(a=x&~e,a!==0&&(o=ts(a))))):(x=s&~u,x!==0?o=ts(x):f!==0?o=ts(f):a||(a=s&~e,a!==0&&(o=ts(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function xn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ic(){var e=Mi;return Mi<<=1,(Mi&62914560)===0&&(Mi=4194304),e}function bl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function yn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hv(e,t,a,s,o,u){var f=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var x=e.entanglements,S=e.expirationTimes,L=e.hiddenUpdates;for(a=f&~a;0<a;){var P=31-xt(a),k=1<<P;x[P]=0,S[P]=-1;var M=L[P];if(M!==null)for(L[P]=null,P=0;P<M.length;P++){var R=M[P];R!==null&&(R.lane&=-536870913)}a&=~k}s!==0&&Bc(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(f&~t))}function Bc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-xt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Hc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-xt(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function Gc(e,t){var a=t&-t;return a=(a&42)!==0?1:xl(a),(a&(e.suspendedLanes|t))!==0?0:a}function xl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Jc(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Mf(e.type))}function Fc(e,t){var a=G.p;try{return G.p=e,t()}finally{G.p=a}}var Ta=Math.random().toString(36).slice(2),et="__reactFiber$"+Ta,ut="__reactProps$"+Ta,_s="__reactContainer$"+Ta,Sl="__reactEvents$"+Ta,vv="__reactListeners$"+Ta,bv="__reactHandles$"+Ta,Qc="__reactResources$"+Ta,Sn="__reactMarker$"+Ta;function _l(e){delete e[et],delete e[ut],delete e[Sl],delete e[vv],delete e[bv]}function qs(e){var t=e[et];if(t)return t;for(var a=e.parentNode;a;){if(t=a[_s]||a[et]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=gf(e);e!==null;){if(a=e[et])return a;e=gf(e)}return t}e=a,a=e.parentNode}return null}function js(e){if(e=e[et]||e[_s]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function _n(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Ts(e){var t=e[Qc];return t||(t=e[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[Sn]=!0}var Yc=new Set,Kc={};function as(e,t){Cs(e,t),Cs(e+"Capture",t)}function Cs(e,t){for(Kc[e]=t,e=0;e<t.length;e++)Yc.add(t[e])}var xv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zc={},Xc={};function yv(e){return gl.call(Xc,e)?!0:gl.call(Zc,e)?!1:xv.test(e)?Xc[e]=!0:(Zc[e]=!0,!1)}function Ri(e,t,a){if(yv(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function zi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function $t(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $c(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sv(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){a=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ql(e){if(!e._valueTracker){var t=$c(e)?"checked":"value";e._valueTracker=Sv(e,t,""+e[t])}}function Wc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=$c(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _v=/[\n"\\]/g;function Mt(e){return e.replace(_v,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function jl(e,t,a,s,o,u,f,x){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Tl(e,f,Lt(t)):a!=null?Tl(e,f,Lt(a)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Lt(x):e.removeAttribute("name")}function ed(e,t,a,s,o,u,f,x){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){ql(e);return}a=a!=null?""+Lt(a):"",t=t!=null?""+Lt(t):a,x||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=x?e.checked:!!s,e.defaultChecked=!!s,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),ql(e)}function Tl(e,t,a){t==="number"&&Oi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function As(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Lt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function td(e,t,a){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Lt(a):""}function ad(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(Ue(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Lt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),ql(e)}function Ds(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var qv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sd(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||qv.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function nd(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&sd(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&sd(e,u,t[u])}function Cl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wi(e){return Tv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wt(){}var Al=null;function Dl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ns=null,Ls=null;function id(e){var t=js(e);if(t&&(e=t.stateNode)){var a=e[ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(jl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[ut]||null;if(!o)throw Error(l(90));jl(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Wc(s)}break e;case"textarea":td(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&As(e,!!a.multiple,t,!1)}}}var Nl=!1;function rd(e,t,a){if(Nl)return e(t,a);Nl=!0;try{var s=e(t);return s}finally{if(Nl=!1,(Ns!==null||Ls!==null)&&(qr(),Ns&&(t=Ns,e=Ls,Ls=Ns=null,id(t),e)))for(t=0;t<e.length;t++)id(e[t])}}function qn(e,t){var a=e.stateNode;if(a===null)return null;var s=a[ut]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ll=!1;if(ea)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){Ll=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{Ll=!1}var Ca=null,Ml=null,Pi=null;function ld(){if(Pi)return Pi;var e,t=Ml,a=t.length,s,o="value"in Ca?Ca.value:Ca.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var f=a-e;for(s=1;s<=f&&t[a-s]===o[u-s];s++);return Pi=o.slice(e,1<s?1-s:void 0)}function Vi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function od(){return!1}function ct(e){function t(a,s,o,u,f){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(a=e[x],this[x]=a?a(u):u[x]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ui:od,this.isPropagationStopped=od,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),t}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=ct(ss),Tn=b({},ss,{view:0,detail:0}),Cv=ct(Tn),El,Rl,Cn,Ii=b({},Tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cn&&(Cn&&e.type==="mousemove"?(El=e.screenX-Cn.screenX,Rl=e.screenY-Cn.screenY):Rl=El=0,Cn=e),El)},movementY:function(e){return"movementY"in e?e.movementY:Rl}}),ud=ct(Ii),Av=b({},Ii,{dataTransfer:0}),Dv=ct(Av),Nv=b({},Tn,{relatedTarget:0}),zl=ct(Nv),Lv=b({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Mv=ct(Lv),Ev=b({},ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rv=ct(Ev),zv=b({},ss,{data:0}),cd=ct(zv),Ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pv[e])?!!t[e]:!1}function Ol(){return Vv}var Uv=b({},Tn,{key:function(e){if(e.key){var t=Ov[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(e){return e.type==="keypress"?Vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kv=ct(Uv),Iv=b({},Ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dd=ct(Iv),Bv=b({},Tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),Hv=ct(Bv),Gv=b({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jv=ct(Gv),Fv=b({},Ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qv=ct(Fv),Yv=b({},ss,{newState:0,oldState:0}),Kv=ct(Yv),Zv=[9,13,27,32],wl=ea&&"CompositionEvent"in window,An=null;ea&&"documentMode"in document&&(An=document.documentMode);var Xv=ea&&"TextEvent"in window&&!An,md=ea&&(!wl||An&&8<An&&11>=An),pd=" ",fd=!1;function gd(e,t){switch(e){case"keyup":return Zv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ms=!1;function $v(e,t){switch(e){case"compositionend":return hd(t);case"keypress":return t.which!==32?null:(fd=!0,pd);case"textInput":return e=t.data,e===pd&&fd?null:e;default:return null}}function Wv(e,t){if(Ms)return e==="compositionend"||!wl&&gd(e,t)?(e=ld(),Pi=Ml=Ca=null,Ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return md&&t.locale!=="ko"?null:t.data;default:return null}}var eb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eb[e.type]:t==="textarea"}function bd(e,t,a,s){Ns?Ls?Ls.push(s):Ls=[s]:Ns=s,t=Lr(t,"onChange"),0<t.length&&(a=new ki("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Dn=null,Nn=null;function tb(e){ef(e,0)}function Bi(e){var t=_n(e);if(Wc(t))return e}function xd(e,t){if(e==="change")return t}var yd=!1;if(ea){var Pl;if(ea){var Vl="oninput"in document;if(!Vl){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),Vl=typeof Sd.oninput=="function"}Pl=Vl}else Pl=!1;yd=Pl&&(!document.documentMode||9<document.documentMode)}function _d(){Dn&&(Dn.detachEvent("onpropertychange",qd),Nn=Dn=null)}function qd(e){if(e.propertyName==="value"&&Bi(Nn)){var t=[];bd(t,Nn,e,Dl(e)),rd(tb,t)}}function ab(e,t,a){e==="focusin"?(_d(),Dn=t,Nn=a,Dn.attachEvent("onpropertychange",qd)):e==="focusout"&&_d()}function sb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bi(Nn)}function nb(e,t){if(e==="click")return Bi(t)}function ib(e,t){if(e==="input"||e==="change")return Bi(t)}function rb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:rb;function Ln(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!gl.call(t,o)||!yt(e[o],t[o]))return!1}return!0}function jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Td(e,t){var a=jd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jd(a)}}function Cd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ad(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Oi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Oi(e.document)}return t}function Ul(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lb=ea&&"documentMode"in document&&11>=document.documentMode,Es=null,kl=null,Mn=null,Il=!1;function Dd(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Il||Es==null||Es!==Oi(s)||(s=Es,"selectionStart"in s&&Ul(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Mn&&Ln(Mn,s)||(Mn=s,s=Lr(kl,"onSelect"),0<s.length&&(t=new ki("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Es)))}function ns(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Rs={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},Bl={},Nd={};ea&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function is(e){if(Bl[e])return Bl[e];if(!Rs[e])return e;var t=Rs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Nd)return Bl[e]=t[a];return e}var Ld=is("animationend"),Md=is("animationiteration"),Ed=is("animationstart"),ob=is("transitionrun"),ub=is("transitionstart"),cb=is("transitioncancel"),Rd=is("transitionend"),zd=new Map,Hl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hl.push("scrollEnd");function It(e,t){zd.set(e,t),as(t,[e])}var Hi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Et=[],zs=0,Gl=0;function Gi(){for(var e=zs,t=Gl=zs=0;t<e;){var a=Et[t];Et[t++]=null;var s=Et[t];Et[t++]=null;var o=Et[t];Et[t++]=null;var u=Et[t];if(Et[t++]=null,s!==null&&o!==null){var f=s.pending;f===null?o.next=o:(o.next=f.next,f.next=o),s.pending=o}u!==0&&Od(a,o,u)}}function Ji(e,t,a,s){Et[zs++]=e,Et[zs++]=t,Et[zs++]=a,Et[zs++]=s,Gl|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Jl(e,t,a,s){return Ji(e,t,a,s),Fi(e)}function rs(e,t){return Ji(e,null,null,t),Fi(e)}function Od(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,s=u.alternate,s!==null&&(s.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-xt(a),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),u):null}function Fi(e){if(50<Wn)throw Wn=0,tu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Os={};function db(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,a,s){return new db(e,t,a,s)}function Fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ta(e,t){var a=e.alternate;return a===null?(a=St(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function wd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Qi(e,t,a,s,o,u){var f=0;if(s=e,typeof e=="function")Fl(e)&&(f=1);else if(typeof e=="string")f=h1(e,a,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=St(31,a,t,o),e.elementType=Y,e.lanes=u,e;case z:return ls(a.children,o,u,t);case w:f=8,o|=24;break;case I:return e=St(12,a,t,o|2),e.elementType=I,e.lanes=u,e;case ie:return e=St(13,a,t,o),e.elementType=ie,e.lanes=u,e;case Q:return e=St(19,a,t,o),e.elementType=Q,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:f=10;break e;case B:f=9;break e;case ee:f=11;break e;case H:f=14;break e;case $:f=16,s=null;break e}f=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=St(f,a,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function ls(e,t,a,s){return e=St(7,e,s,t),e.lanes=a,e}function Ql(e,t,a){return e=St(6,e,null,t),e.lanes=a,e}function Pd(e){var t=St(18,null,null,0);return t.stateNode=e,t}function Yl(e,t,a){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vd=new WeakMap;function Rt(e,t){if(typeof e=="object"&&e!==null){var a=Vd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Pc(t)},Vd.set(e,t),t)}return{value:e,source:t,stack:Pc(t)}}var ws=[],Ps=0,Yi=null,En=0,zt=[],Ot=0,Aa=null,Gt=1,Jt="";function aa(e,t){ws[Ps++]=En,ws[Ps++]=Yi,Yi=e,En=t}function Ud(e,t,a){zt[Ot++]=Gt,zt[Ot++]=Jt,zt[Ot++]=Aa,Aa=e;var s=Gt;e=Jt;var o=32-xt(s)-1;s&=~(1<<o),a+=1;var u=32-xt(t)+o;if(30<u){var f=o-o%5;u=(s&(1<<f)-1).toString(32),s>>=f,o-=f,Gt=1<<32-xt(t)+o|a<<o|s,Jt=u+e}else Gt=1<<u|a<<o|s,Jt=e}function Kl(e){e.return!==null&&(aa(e,1),Ud(e,1,0))}function Zl(e){for(;e===Yi;)Yi=ws[--Ps],ws[Ps]=null,En=ws[--Ps],ws[Ps]=null;for(;e===Aa;)Aa=zt[--Ot],zt[Ot]=null,Jt=zt[--Ot],zt[Ot]=null,Gt=zt[--Ot],zt[Ot]=null}function kd(e,t){zt[Ot++]=Gt,zt[Ot++]=Jt,zt[Ot++]=Aa,Gt=t.id,Jt=t.overflow,Aa=e}var tt=null,we=null,_e=!1,Da=null,wt=!1,Xl=Error(l(519));function Na(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rn(Rt(t,e)),Xl}function Id(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[et]=e,t[ut]=s,a){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(a=0;a<ti.length;a++)xe(ti[a],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),ed(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),ad(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||nf(t.textContent,a)?(s.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),s.onScroll!=null&&xe("scroll",t),s.onScrollEnd!=null&&xe("scrollend",t),s.onClick!=null&&(t.onclick=Wt),t=!0):t=!1,t||Na(e,!0)}function Bd(e){for(tt=e.return;tt;)switch(tt.tag){case 5:case 31:case 13:wt=!1;return;case 27:case 3:wt=!0;return;default:tt=tt.return}}function Vs(e){if(e!==tt)return!1;if(!_e)return Bd(e),_e=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||hu(e.type,e.memoizedProps)),a=!a),a&&we&&Na(e),Bd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));we=ff(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));we=ff(e)}else t===27?(t=we,Ha(e.type)?(e=Su,Su=null,we=e):we=t):we=tt?Vt(e.stateNode.nextSibling):null;return!0}function os(){we=tt=null,_e=!1}function $l(){var e=Da;return e!==null&&(ft===null?ft=e:ft.push.apply(ft,e),Da=null),e}function Rn(e){Da===null?Da=[e]:Da.push(e)}var Wl=_(null),us=null,sa=null;function La(e,t,a){F(Wl,t._currentValue),t._currentValue=a}function na(e){e._currentValue=Wl.current,V(Wl)}function eo(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function to(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var f=o.child;u=u.firstContext;e:for(;u!==null;){var x=u;u=o;for(var S=0;S<t.length;S++)if(x.context===t[S]){u.lanes|=a,x=u.alternate,x!==null&&(x.lanes|=a),eo(u.return,a,e),s||(f=null);break e}u=x.next}}else if(o.tag===18){if(f=o.return,f===null)throw Error(l(341));f.lanes|=a,u=f.alternate,u!==null&&(u.lanes|=a),eo(f,a,e),f=null}else f=o.child;if(f!==null)f.return=o;else for(f=o;f!==null;){if(f===e){f=null;break}if(o=f.sibling,o!==null){o.return=f.return,f=o;break}f=f.return}o=f}}function Us(e,t,a,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var f=o.alternate;if(f===null)throw Error(l(387));if(f=f.memoizedProps,f!==null){var x=o.type;yt(o.pendingProps.value,f.value)||(e!==null?e.push(x):e=[x])}}else if(o===Ae.current){if(f=o.alternate,f===null)throw Error(l(387));f.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ri):e=[ri])}o=o.return}e!==null&&to(t,e,a,s),t.flags|=262144}function Ki(e){for(e=e.firstContext;e!==null;){if(!yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cs(e){us=e,sa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return Hd(us,e)}function Zi(e,t){return us===null&&cs(e),Hd(e,t)}function Hd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},sa===null){if(e===null)throw Error(l(308));sa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sa=sa.next=t;return a}var mb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},pb=n.unstable_scheduleCallback,fb=n.unstable_NormalPriority,Qe={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ao(){return{controller:new mb,data:new Map,refCount:0}}function zn(e){e.refCount--,e.refCount===0&&pb(fb,function(){e.controller.abort()})}var On=null,so=0,ks=0,Is=null;function gb(e,t){if(On===null){var a=On=[];so=0,ks=lu(),Is={status:"pending",value:void 0,then:function(s){a.push(s)}}}return so++,t.then(Gd,Gd),t}function Gd(){if(--so===0&&On!==null){Is!==null&&(Is.status="fulfilled");var e=On;On=null,ks=0,Is=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hb(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var Jd=E.S;E.S=function(e,t){Dp=vt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&gb(e,t),Jd!==null&&Jd(e,t)};var ds=_(null);function no(){var e=ds.current;return e!==null?e:Oe.pooledCache}function Xi(e,t){t===null?F(ds,ds.current):F(ds,t.pool)}function Fd(){var e=no();return e===null?null:{parent:Qe._currentValue,pool:e}}var Bs=Error(l(460)),io=Error(l(474)),$i=Error(l(542)),Wi={then:function(){}};function Qd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Wt,Wt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zd(e),e;default:if(typeof t.status=="string")t.then(Wt,Wt);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zd(e),e}throw ps=t,Bs}}function ms(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ps=a,Bs):a}}var ps=null;function Kd(){if(ps===null)throw Error(l(459));var e=ps;return ps=null,e}function Zd(e){if(e===Bs||e===$i)throw Error(l(483))}var Hs=null,wn=0;function er(e){var t=wn;return wn+=1,Hs===null&&(Hs=[]),Yd(Hs,e,t)}function Pn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function tr(e,t){throw t.$$typeof===T?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Xd(e){function t(C,q){if(e){var N=C.deletions;N===null?(C.deletions=[q],C.flags|=16):N.push(q)}}function a(C,q){if(!e)return null;for(;q!==null;)t(C,q),q=q.sibling;return null}function s(C){for(var q=new Map;C!==null;)C.key!==null?q.set(C.key,C):q.set(C.index,C),C=C.sibling;return q}function o(C,q){return C=ta(C,q),C.index=0,C.sibling=null,C}function u(C,q,N){return C.index=N,e?(N=C.alternate,N!==null?(N=N.index,N<q?(C.flags|=67108866,q):N):(C.flags|=67108866,q)):(C.flags|=1048576,q)}function f(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function x(C,q,N,U){return q===null||q.tag!==6?(q=Ql(N,C.mode,U),q.return=C,q):(q=o(q,N),q.return=C,q)}function S(C,q,N,U){var se=N.type;return se===z?P(C,q,N.props.children,U,N.key):q!==null&&(q.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===$&&ms(se)===q.type)?(q=o(q,N.props),Pn(q,N),q.return=C,q):(q=Qi(N.type,N.key,N.props,null,C.mode,U),Pn(q,N),q.return=C,q)}function L(C,q,N,U){return q===null||q.tag!==4||q.stateNode.containerInfo!==N.containerInfo||q.stateNode.implementation!==N.implementation?(q=Yl(N,C.mode,U),q.return=C,q):(q=o(q,N.children||[]),q.return=C,q)}function P(C,q,N,U,se){return q===null||q.tag!==7?(q=ls(N,C.mode,U,se),q.return=C,q):(q=o(q,N),q.return=C,q)}function k(C,q,N){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Ql(""+q,C.mode,N),q.return=C,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case j:return N=Qi(q.type,q.key,q.props,null,C.mode,N),Pn(N,q),N.return=C,N;case D:return q=Yl(q,C.mode,N),q.return=C,q;case $:return q=ms(q),k(C,q,N)}if(Ue(q)||K(q))return q=ls(q,C.mode,N,null),q.return=C,q;if(typeof q.then=="function")return k(C,er(q),N);if(q.$$typeof===J)return k(C,Zi(C,q),N);tr(C,q)}return null}function M(C,q,N,U){var se=q!==null?q.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return se!==null?null:x(C,q,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case j:return N.key===se?S(C,q,N,U):null;case D:return N.key===se?L(C,q,N,U):null;case $:return N=ms(N),M(C,q,N,U)}if(Ue(N)||K(N))return se!==null?null:P(C,q,N,U,null);if(typeof N.then=="function")return M(C,q,er(N),U);if(N.$$typeof===J)return M(C,q,Zi(C,N),U);tr(C,N)}return null}function R(C,q,N,U,se){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return C=C.get(N)||null,x(q,C,""+U,se);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return C=C.get(U.key===null?N:U.key)||null,S(q,C,U,se);case D:return C=C.get(U.key===null?N:U.key)||null,L(q,C,U,se);case $:return U=ms(U),R(C,q,N,U,se)}if(Ue(U)||K(U))return C=C.get(N)||null,P(q,C,U,se,null);if(typeof U.then=="function")return R(C,q,N,er(U),se);if(U.$$typeof===J)return R(C,q,N,Zi(q,U),se);tr(q,U)}return null}function X(C,q,N,U){for(var se=null,je=null,W=q,me=q=0,Se=null;W!==null&&me<N.length;me++){W.index>me?(Se=W,W=null):Se=W.sibling;var Te=M(C,W,N[me],U);if(Te===null){W===null&&(W=Se);break}e&&W&&Te.alternate===null&&t(C,W),q=u(Te,q,me),je===null?se=Te:je.sibling=Te,je=Te,W=Se}if(me===N.length)return a(C,W),_e&&aa(C,me),se;if(W===null){for(;me<N.length;me++)W=k(C,N[me],U),W!==null&&(q=u(W,q,me),je===null?se=W:je.sibling=W,je=W);return _e&&aa(C,me),se}for(W=s(W);me<N.length;me++)Se=R(W,C,me,N[me],U),Se!==null&&(e&&Se.alternate!==null&&W.delete(Se.key===null?me:Se.key),q=u(Se,q,me),je===null?se=Se:je.sibling=Se,je=Se);return e&&W.forEach(function(Ya){return t(C,Ya)}),_e&&aa(C,me),se}function ne(C,q,N,U){if(N==null)throw Error(l(151));for(var se=null,je=null,W=q,me=q=0,Se=null,Te=N.next();W!==null&&!Te.done;me++,Te=N.next()){W.index>me?(Se=W,W=null):Se=W.sibling;var Ya=M(C,W,Te.value,U);if(Ya===null){W===null&&(W=Se);break}e&&W&&Ya.alternate===null&&t(C,W),q=u(Ya,q,me),je===null?se=Ya:je.sibling=Ya,je=Ya,W=Se}if(Te.done)return a(C,W),_e&&aa(C,me),se;if(W===null){for(;!Te.done;me++,Te=N.next())Te=k(C,Te.value,U),Te!==null&&(q=u(Te,q,me),je===null?se=Te:je.sibling=Te,je=Te);return _e&&aa(C,me),se}for(W=s(W);!Te.done;me++,Te=N.next())Te=R(W,C,me,Te.value,U),Te!==null&&(e&&Te.alternate!==null&&W.delete(Te.key===null?me:Te.key),q=u(Te,q,me),je===null?se=Te:je.sibling=Te,je=Te);return e&&W.forEach(function(A1){return t(C,A1)}),_e&&aa(C,me),se}function Re(C,q,N,U){if(typeof N=="object"&&N!==null&&N.type===z&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case j:e:{for(var se=N.key;q!==null;){if(q.key===se){if(se=N.type,se===z){if(q.tag===7){a(C,q.sibling),U=o(q,N.props.children),U.return=C,C=U;break e}}else if(q.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===$&&ms(se)===q.type){a(C,q.sibling),U=o(q,N.props),Pn(U,N),U.return=C,C=U;break e}a(C,q);break}else t(C,q);q=q.sibling}N.type===z?(U=ls(N.props.children,C.mode,U,N.key),U.return=C,C=U):(U=Qi(N.type,N.key,N.props,null,C.mode,U),Pn(U,N),U.return=C,C=U)}return f(C);case D:e:{for(se=N.key;q!==null;){if(q.key===se)if(q.tag===4&&q.stateNode.containerInfo===N.containerInfo&&q.stateNode.implementation===N.implementation){a(C,q.sibling),U=o(q,N.children||[]),U.return=C,C=U;break e}else{a(C,q);break}else t(C,q);q=q.sibling}U=Yl(N,C.mode,U),U.return=C,C=U}return f(C);case $:return N=ms(N),Re(C,q,N,U)}if(Ue(N))return X(C,q,N,U);if(K(N)){if(se=K(N),typeof se!="function")throw Error(l(150));return N=se.call(N),ne(C,q,N,U)}if(typeof N.then=="function")return Re(C,q,er(N),U);if(N.$$typeof===J)return Re(C,q,Zi(C,N),U);tr(C,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,q!==null&&q.tag===6?(a(C,q.sibling),U=o(q,N),U.return=C,C=U):(a(C,q),U=Ql(N,C.mode,U),U.return=C,C=U),f(C)):a(C,q)}return function(C,q,N,U){try{wn=0;var se=Re(C,q,N,U);return Hs=null,se}catch(W){if(W===Bs||W===$i)throw W;var je=St(29,W,null,C.mode);return je.lanes=U,je.return=C,je}}}var fs=Xd(!0),$d=Xd(!1),Ma=!1;function ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ce&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Fi(e),Od(e,null,a),t}return Ji(e,s,t,a),Fi(e)}function Vn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Hc(e,a)}}function oo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var f={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=f:u=u.next=f,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var uo=!1;function Un(){if(uo){var e=Is;if(e!==null)throw e}}function kn(e,t,a,s){uo=!1;var o=e.updateQueue;Ma=!1;var u=o.firstBaseUpdate,f=o.lastBaseUpdate,x=o.shared.pending;if(x!==null){o.shared.pending=null;var S=x,L=S.next;S.next=null,f===null?u=L:f.next=L,f=S;var P=e.alternate;P!==null&&(P=P.updateQueue,x=P.lastBaseUpdate,x!==f&&(x===null?P.firstBaseUpdate=L:x.next=L,P.lastBaseUpdate=S))}if(u!==null){var k=o.baseState;f=0,P=L=S=null,x=u;do{var M=x.lane&-536870913,R=M!==x.lane;if(R?(ye&M)===M:(s&M)===M){M!==0&&M===ks&&(uo=!0),P!==null&&(P=P.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var X=e,ne=x;M=t;var Re=a;switch(ne.tag){case 1:if(X=ne.payload,typeof X=="function"){k=X.call(Re,k,M);break e}k=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ne.payload,M=typeof X=="function"?X.call(Re,k,M):X,M==null)break e;k=b({},k,M);break e;case 2:Ma=!0}}M=x.callback,M!==null&&(e.flags|=64,R&&(e.flags|=8192),R=o.callbacks,R===null?o.callbacks=[M]:R.push(M))}else R={lane:M,tag:x.tag,payload:x.payload,callback:x.callback,next:null},P===null?(L=P=R,S=k):P=P.next=R,f|=M;if(x=x.next,x===null){if(x=o.shared.pending,x===null)break;R=x,x=R.next,R.next=null,o.lastBaseUpdate=R,o.shared.pending=null}}while(!0);P===null&&(S=k),o.baseState=S,o.firstBaseUpdate=L,o.lastBaseUpdate=P,u===null&&(o.shared.lanes=0),Va|=f,e.lanes=f,e.memoizedState=k}}function Wd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function em(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wd(a[e],t)}var Gs=_(null),ar=_(0);function tm(e,t){e=pa,F(ar,e),F(Gs,t),pa=e|t.baseLanes}function co(){F(ar,pa),F(Gs,Gs.current)}function mo(){pa=ar.current,V(Gs),V(ar)}var _t=_(null),Pt=null;function za(e){var t=e.alternate;F(Je,Je.current&1),F(_t,e),Pt===null&&(t===null||Gs.current!==null||t.memoizedState!==null)&&(Pt=e)}function po(e){F(Je,Je.current),F(_t,e),Pt===null&&(Pt=e)}function am(e){e.tag===22?(F(Je,Je.current),F(_t,e),Pt===null&&(Pt=e)):Oa()}function Oa(){F(Je,Je.current),F(_t,_t.current)}function qt(e){V(_t),Pt===e&&(Pt=null),V(Je)}var Je=_(0);function sr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xu(a)||yu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ia=0,ce=null,Me=null,Ye=null,nr=!1,Js=!1,gs=!1,ir=0,In=0,Fs=null,vb=0;function Be(){throw Error(l(321))}function fo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!yt(e[a],t[a]))return!1;return!0}function go(e,t,a,s,o,u){return ia=u,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=e===null||e.memoizedState===null?Um:Lo,gs=!1,u=a(s,o),gs=!1,Js&&(u=nm(t,a,s,o)),sm(e),u}function sm(e){E.H=Gn;var t=Me!==null&&Me.next!==null;if(ia=0,Ye=Me=ce=null,nr=!1,In=0,Fs=null,t)throw Error(l(300));e===null||Ke||(e=e.dependencies,e!==null&&Ki(e)&&(Ke=!0))}function nm(e,t,a,s){ce=e;var o=0;do{if(Js&&(Fs=null),In=0,Js=!1,25<=o)throw Error(l(301));if(o+=1,Ye=Me=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}E.H=km,u=t(a,s)}while(Js);return u}function bb(){var e=E.H,t=e.useState()[0];return t=typeof t.then=="function"?Bn(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ce.flags|=1024),t}function ho(){var e=ir!==0;return ir=0,e}function vo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function bo(e){if(nr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}nr=!1}ia=0,Ye=Me=ce=null,Js=!1,In=ir=0,Fs=null}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ce.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Fe(){if(Me===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Ye===null?ce.memoizedState:Ye.next;if(t!==null)Ye=t,Me=e;else{if(e===null)throw ce.alternate===null?Error(l(467)):Error(l(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ye===null?ce.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function rr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bn(e){var t=In;return In+=1,Fs===null&&(Fs=[]),e=Yd(Fs,e,t),t=ce,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,E.H=t===null||t.memoizedState===null?Um:Lo),e}function lr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bn(e);if(e.$$typeof===J)return at(e)}throw Error(l(438,String(e)))}function xo(e){var t=null,a=ce.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ce.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=rr(),ce.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=ae;return t.index++,a}function ra(e,t){return typeof t=="function"?t(e):t}function or(e){var t=Fe();return yo(t,Me,e)}function yo(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var f=o.next;o.next=u.next,u.next=f}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var x=f=null,S=null,L=t,P=!1;do{var k=L.lane&-536870913;if(k!==L.lane?(ye&k)===k:(ia&k)===k){var M=L.revertLane;if(M===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),k===ks&&(P=!0);else if((ia&M)===M){L=L.next,M===ks&&(P=!0);continue}else k={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},S===null?(x=S=k,f=u):S=S.next=k,ce.lanes|=M,Va|=M;k=L.action,gs&&a(u,k),u=L.hasEagerState?L.eagerState:a(u,k)}else M={lane:k,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},S===null?(x=S=M,f=u):S=S.next=M,ce.lanes|=k,Va|=k;L=L.next}while(L!==null&&L!==t);if(S===null?f=u:S.next=x,!yt(u,e.memoizedState)&&(Ke=!0,P&&(a=Is,a!==null)))throw a;e.memoizedState=u,e.baseState=f,e.baseQueue=S,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function So(e){var t=Fe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var f=o=o.next;do u=e(u,f.action),f=f.next;while(f!==o);yt(u,t.memoizedState)||(Ke=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function im(e,t,a){var s=ce,o=Fe(),u=_e;if(u){if(a===void 0)throw Error(l(407));a=a()}else a=t();var f=!yt((Me||o).memoizedState,a);if(f&&(o.memoizedState=a,Ke=!0),o=o.queue,jo(om.bind(null,s,o,e),[e]),o.getSnapshot!==t||f||Ye!==null&&Ye.memoizedState.tag&1){if(s.flags|=2048,Qs(9,{destroy:void 0},lm.bind(null,s,o,a,t),null),Oe===null)throw Error(l(349));u||(ia&127)!==0||rm(s,t,a)}return a}function rm(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ce.updateQueue,t===null?(t=rr(),ce.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function lm(e,t,a,s){t.value=a,t.getSnapshot=s,um(t)&&cm(e)}function om(e,t,a){return a(function(){um(t)&&cm(e)})}function um(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!yt(e,a)}catch{return!0}}function cm(e){var t=rs(e,2);t!==null&&gt(t,e,2)}function _o(e){var t=lt();if(typeof e=="function"){var a=e;if(e=a(),gs){ja(!0);try{a()}finally{ja(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e},t}function dm(e,t,a,s){return e.baseState=a,yo(e,Me,typeof s=="function"?s:ra)}function xb(e,t,a,s,o){if(dr(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){u.listeners.push(f)}};E.T!==null?a(!0):u.isTransition=!1,s(u),a=t.pending,a===null?(u.next=t.pending=u,mm(t,u)):(u.next=a.next,t.pending=a.next=u)}}function mm(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=E.T,f={};E.T=f;try{var x=a(o,s),S=E.S;S!==null&&S(f,x),pm(e,t,x)}catch(L){qo(e,t,L)}finally{u!==null&&f.types!==null&&(u.types=f.types),E.T=u}}else try{u=a(o,s),pm(e,t,u)}catch(L){qo(e,t,L)}}function pm(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){fm(e,t,s)},function(s){return qo(e,t,s)}):fm(e,t,a)}function fm(e,t,a){t.status="fulfilled",t.value=a,gm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,mm(e,a)))}function qo(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,gm(t),t=t.next;while(t!==s)}e.action=null}function gm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function hm(e,t){return t}function vm(e,t){if(_e){var a=Oe.formState;if(a!==null){e:{var s=ce;if(_e){if(we){t:{for(var o=we,u=wt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Vt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){we=Vt(o.nextSibling),s=o.data==="F!";break e}}Na(s)}s=!1}s&&(t=a[0])}}return a=lt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hm,lastRenderedState:t},a.queue=s,a=wm.bind(null,ce,s),s.dispatch=a,s=_o(!1),u=No.bind(null,ce,!1,s.queue),s=lt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=xb.bind(null,ce,o,u,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function bm(e){var t=Fe();return xm(t,Me,e)}function xm(e,t,a){if(t=yo(e,t,hm)[0],e=or(ra)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Bn(t)}catch(f){throw f===Bs?$i:f}else s=t;t=Fe();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(ce.flags|=2048,Qs(9,{destroy:void 0},yb.bind(null,o,a),null)),[s,u,e]}function yb(e,t){e.action=t}function ym(e){var t=Fe(),a=Me;if(a!==null)return xm(t,a,e);Fe(),t=t.memoizedState,a=Fe();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Qs(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ce.updateQueue,t===null&&(t=rr(),ce.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Sm(){return Fe().memoizedState}function ur(e,t,a,s){var o=lt();ce.flags|=e,o.memoizedState=Qs(1|t,{destroy:void 0},a,s===void 0?null:s)}function cr(e,t,a,s){var o=Fe();s=s===void 0?null:s;var u=o.memoizedState.inst;Me!==null&&s!==null&&fo(s,Me.memoizedState.deps)?o.memoizedState=Qs(t,u,a,s):(ce.flags|=e,o.memoizedState=Qs(1|t,u,a,s))}function _m(e,t){ur(8390656,8,e,t)}function jo(e,t){cr(2048,8,e,t)}function Sb(e){ce.flags|=4;var t=ce.updateQueue;if(t===null)t=rr(),ce.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function qm(e){var t=Fe().memoizedState;return Sb({ref:t,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function jm(e,t){return cr(4,2,e,t)}function Tm(e,t){return cr(4,4,e,t)}function Cm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Am(e,t,a){a=a!=null?a.concat([e]):null,cr(4,4,Cm.bind(null,t,e),a)}function To(){}function Dm(e,t){var a=Fe();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&fo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Nm(e,t){var a=Fe();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&fo(t,s[1]))return s[0];if(s=e(),gs){ja(!0);try{e()}finally{ja(!1)}}return a.memoizedState=[s,t],s}function Co(e,t,a){return a===void 0||(ia&1073741824)!==0&&(ye&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Lp(),ce.lanes|=e,Va|=e,a)}function Lm(e,t,a,s){return yt(a,t)?a:Gs.current!==null?(e=Co(e,a,s),yt(e,t)||(Ke=!0),e):(ia&42)===0||(ia&1073741824)!==0&&(ye&261930)===0?(Ke=!0,e.memoizedState=a):(e=Lp(),ce.lanes|=e,Va|=e,t)}function Mm(e,t,a,s,o){var u=G.p;G.p=u!==0&&8>u?u:8;var f=E.T,x={};E.T=x,No(e,!1,t,a);try{var S=o(),L=E.S;if(L!==null&&L(x,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=hb(S,s);Hn(e,t,P,Ct(e))}else Hn(e,t,s,Ct(e))}catch(k){Hn(e,t,{then:function(){},status:"rejected",reason:k},Ct())}finally{G.p=u,f!==null&&x.types!==null&&(f.types=x.types),E.T=f}}function _b(){}function Ao(e,t,a,s){if(e.tag!==5)throw Error(l(476));var o=Em(e).queue;Mm(e,o,t,te,a===null?_b:function(){return Rm(e),a(s)})}function Em(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:te},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Rm(e){var t=Em(e);t.next===null&&(t=e.alternate.memoizedState),Hn(e,t.next.queue,{},Ct())}function Do(){return at(ri)}function zm(){return Fe().memoizedState}function Om(){return Fe().memoizedState}function qb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ct();e=Ea(a);var s=Ra(t,e,a);s!==null&&(gt(s,t,a),Vn(s,t,a)),t={cache:ao()},e.payload=t;return}t=t.return}}function jb(e,t,a){var s=Ct();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dr(e)?Pm(t,a):(a=Jl(e,t,a,s),a!==null&&(gt(a,e,s),Vm(a,t,s)))}function wm(e,t,a){var s=Ct();Hn(e,t,a,s)}function Hn(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(dr(e))Pm(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,x=u(f,a);if(o.hasEagerState=!0,o.eagerState=x,yt(x,f))return Ji(e,t,o,0),Oe===null&&Gi(),!1}catch{}if(a=Jl(e,t,o,s),a!==null)return gt(a,e,s),Vm(a,t,s),!0}return!1}function No(e,t,a,s){if(s={lane:2,revertLane:lu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},dr(e)){if(t)throw Error(l(479))}else t=Jl(e,a,s,2),t!==null&&gt(t,e,2)}function dr(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Pm(e,t){Js=nr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Vm(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Hc(e,a)}}var Gn={readContext:at,use:lr,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Gn.useEffectEvent=Be;var Um={readContext:at,use:lr,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:_m,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ur(4194308,4,Cm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ur(4194308,4,e,t)},useInsertionEffect:function(e,t){ur(4,2,e,t)},useMemo:function(e,t){var a=lt();t=t===void 0?null:t;var s=e();if(gs){ja(!0);try{e()}finally{ja(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=lt();if(a!==void 0){var o=a(t);if(gs){ja(!0);try{a(t)}finally{ja(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=jb.bind(null,ce,e),[s.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:function(e){e=_o(e);var t=e.queue,a=wm.bind(null,ce,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:To,useDeferredValue:function(e,t){var a=lt();return Co(a,e,t)},useTransition:function(){var e=_o(!1);return e=Mm.bind(null,ce,e.queue,!0,!1),lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ce,o=lt();if(_e){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Oe===null)throw Error(l(349));(ye&127)!==0||rm(s,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,_m(om.bind(null,s,u,e),[e]),s.flags|=2048,Qs(9,{destroy:void 0},lm.bind(null,s,u,a,t),null),a},useId:function(){var e=lt(),t=Oe.identifierPrefix;if(_e){var a=Jt,s=Gt;a=(s&~(1<<32-xt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ir++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=vb++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:vm,useActionState:vm,useOptimistic:function(e){var t=lt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=No.bind(null,ce,!0,a),a.dispatch=t,[e,t]},useMemoCache:xo,useCacheRefresh:function(){return lt().memoizedState=qb.bind(null,ce)},useEffectEvent:function(e){var t=lt(),a={impl:e};return t.memoizedState=a,function(){if((Ce&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Lo={readContext:at,use:lr,useCallback:Dm,useContext:at,useEffect:jo,useImperativeHandle:Am,useInsertionEffect:jm,useLayoutEffect:Tm,useMemo:Nm,useReducer:or,useRef:Sm,useState:function(){return or(ra)},useDebugValue:To,useDeferredValue:function(e,t){var a=Fe();return Lm(a,Me.memoizedState,e,t)},useTransition:function(){var e=or(ra)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Bn(e),t]},useSyncExternalStore:im,useId:zm,useHostTransitionStatus:Do,useFormState:bm,useActionState:bm,useOptimistic:function(e,t){var a=Fe();return dm(a,Me,e,t)},useMemoCache:xo,useCacheRefresh:Om};Lo.useEffectEvent=qm;var km={readContext:at,use:lr,useCallback:Dm,useContext:at,useEffect:jo,useImperativeHandle:Am,useInsertionEffect:jm,useLayoutEffect:Tm,useMemo:Nm,useReducer:So,useRef:Sm,useState:function(){return So(ra)},useDebugValue:To,useDeferredValue:function(e,t){var a=Fe();return Me===null?Co(a,e,t):Lm(a,Me.memoizedState,e,t)},useTransition:function(){var e=So(ra)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Bn(e),t]},useSyncExternalStore:im,useId:zm,useHostTransitionStatus:Do,useFormState:ym,useActionState:ym,useOptimistic:function(e,t){var a=Fe();return Me!==null?dm(a,Me,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:xo,useCacheRefresh:Om};km.useEffectEvent=qm;function Mo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Eo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Ct(),o=Ea(s);o.payload=t,a!=null&&(o.callback=a),t=Ra(e,o,s),t!==null&&(gt(t,e,s),Vn(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Ct(),o=Ea(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Ra(e,o,s),t!==null&&(gt(t,e,s),Vn(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ct(),s=Ea(a);s.tag=2,t!=null&&(s.callback=t),t=Ra(e,s,a),t!==null&&(gt(t,e,a),Vn(t,e,a))}};function Im(e,t,a,s,o,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,f):t.prototype&&t.prototype.isPureReactComponent?!Ln(a,s)||!Ln(o,u):!0}function Bm(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Eo.enqueueReplaceState(t,t.state,null)}function hs(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Hm(e){Hi(e)}function Gm(e){console.error(e)}function Jm(e){Hi(e)}function mr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Fm(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ro(e,t,a){return a=Ea(a),a.tag=3,a.payload={element:null},a.callback=function(){mr(e,t)},a}function Qm(e){return e=Ea(e),e.tag=3,e}function Ym(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){Fm(t,a,s)}}var f=a.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Fm(t,a,s),typeof o!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function Tb(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Us(t,a,o,!0),a=_t.current,a!==null){switch(a.tag){case 31:case 13:return Pt===null?jr():a.alternate===null&&He===0&&(He=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===Wi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),nu(e,s,o)),!1;case 22:return a.flags|=65536,s===Wi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),nu(e,s,o)),!1}throw Error(l(435,a.tag))}return nu(e,s,o),jr(),!1}if(_e)return t=_t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Xl&&(e=Error(l(422),{cause:s}),Rn(Rt(e,a)))):(s!==Xl&&(t=Error(l(423),{cause:s}),Rn(Rt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Rt(s,a),o=Ro(e.stateNode,s,o),oo(e,o),He!==4&&(He=2)),!1;var u=Error(l(520),{cause:s});if(u=Rt(u,a),$n===null?$n=[u]:$n.push(u),He!==4&&(He=2),t===null)return!0;s=Rt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Ro(a.stateNode,s,e),oo(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ua===null||!Ua.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Qm(o),Ym(o,e,a,s),oo(a,o),!1}a=a.return}while(a!==null);return!1}var zo=Error(l(461)),Ke=!1;function st(e,t,a,s){t.child=e===null?$d(t,null,a,s):fs(t,e.child,a,s)}function Km(e,t,a,s,o){a=a.render;var u=t.ref;if("ref"in s){var f={};for(var x in s)x!=="ref"&&(f[x]=s[x])}else f=s;return cs(t),s=go(e,t,a,f,u,o),x=ho(),e!==null&&!Ke?(vo(e,t,o),la(e,t,o)):(_e&&x&&Kl(t),t.flags|=1,st(e,t,s,o),t.child)}function Zm(e,t,a,s,o){if(e===null){var u=a.type;return typeof u=="function"&&!Fl(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Xm(e,t,u,s,o)):(e=Qi(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Bo(e,o)){var f=u.memoizedProps;if(a=a.compare,a=a!==null?a:Ln,a(f,s)&&e.ref===t.ref)return la(e,t,o)}return t.flags|=1,e=ta(u,s),e.ref=t.ref,e.return=t,t.child=e}function Xm(e,t,a,s,o){if(e!==null){var u=e.memoizedProps;if(Ln(u,s)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=s=u,Bo(e,o))(e.flags&131072)!==0&&(Ke=!0);else return t.lanes=e.lanes,la(e,t,o)}return Oo(e,t,a,s,o)}function $m(e,t,a,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return Wm(e,t,u,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xi(t,u!==null?u.cachePool:null),u!==null?tm(t,u):co(),am(t);else return s=t.lanes=536870912,Wm(e,t,u!==null?u.baseLanes|a:a,a,s)}else u!==null?(Xi(t,u.cachePool),tm(t,u),Oa(),t.memoizedState=null):(e!==null&&Xi(t,null),co(),Oa());return st(e,t,o,a),t.child}function Jn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Wm(e,t,a,s,o){var u=no();return u=u===null?null:{parent:Qe._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Xi(t,null),co(),am(t),e!==null&&Us(e,t,s,!0),t.childLanes=o,null}function pr(e,t){return t=gr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ep(e,t,a){return fs(t,e.child,null,a),e=pr(t,t.pendingProps),e.flags|=2,qt(t),t.memoizedState=null,e}function Cb(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(s.mode==="hidden")return e=pr(t,s),t.lanes=536870912,Jn(null,e);if(po(t),(e=we)?(e=pf(e,wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Aa!==null?{id:Gt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},a=Pd(e),a.return=t,t.child=a,tt=t,we=null)):e=null,e===null)throw Na(t);return t.lanes=536870912,null}return pr(t,s)}var u=e.memoizedState;if(u!==null){var f=u.dehydrated;if(po(t),o)if(t.flags&256)t.flags&=-257,t=ep(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ke||Us(e,t,a,!1),o=(a&e.childLanes)!==0,Ke||o){if(s=Oe,s!==null&&(f=Gc(s,a),f!==0&&f!==u.retryLane))throw u.retryLane=f,rs(e,f),gt(s,e,f),zo;jr(),t=ep(e,t,a)}else e=u.treeContext,we=Vt(f.nextSibling),tt=t,_e=!0,Da=null,wt=!1,e!==null&&kd(t,e),t=pr(t,s),t.flags|=4096;return t}return e=ta(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function fr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Oo(e,t,a,s,o){return cs(t),a=go(e,t,a,s,void 0,o),s=ho(),e!==null&&!Ke?(vo(e,t,o),la(e,t,o)):(_e&&s&&Kl(t),t.flags|=1,st(e,t,a,o),t.child)}function tp(e,t,a,s,o,u){return cs(t),t.updateQueue=null,a=nm(t,s,a,o),sm(e),s=ho(),e!==null&&!Ke?(vo(e,t,u),la(e,t,u)):(_e&&s&&Kl(t),t.flags|=1,st(e,t,a,u),t.child)}function ap(e,t,a,s,o){if(cs(t),t.stateNode===null){var u=Os,f=a.contextType;typeof f=="object"&&f!==null&&(u=at(f)),u=new a(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Eo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},ro(t),f=a.contextType,u.context=typeof f=="object"&&f!==null?at(f):Os,u.state=t.memoizedState,f=a.getDerivedStateFromProps,typeof f=="function"&&(Mo(t,a,f,s),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(f=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),f!==u.state&&Eo.enqueueReplaceState(u,u.state,null),kn(t,s,u,o),Un(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var x=t.memoizedProps,S=hs(a,x);u.props=S;var L=u.context,P=a.contextType;f=Os,typeof P=="object"&&P!==null&&(f=at(P));var k=a.getDerivedStateFromProps;P=typeof k=="function"||typeof u.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,P||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x||L!==f)&&Bm(t,u,s,f),Ma=!1;var M=t.memoizedState;u.state=M,kn(t,s,u,o),Un(),L=t.memoizedState,x||M!==L||Ma?(typeof k=="function"&&(Mo(t,a,k,s),L=t.memoizedState),(S=Ma||Im(t,a,S,s,M,L,f))?(P||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=L),u.props=s,u.state=L,u.context=f,s=S):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,lo(e,t),f=t.memoizedProps,P=hs(a,f),u.props=P,k=t.pendingProps,M=u.context,L=a.contextType,S=Os,typeof L=="object"&&L!==null&&(S=at(L)),x=a.getDerivedStateFromProps,(L=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==k||M!==S)&&Bm(t,u,s,S),Ma=!1,M=t.memoizedState,u.state=M,kn(t,s,u,o),Un();var R=t.memoizedState;f!==k||M!==R||Ma||e!==null&&e.dependencies!==null&&Ki(e.dependencies)?(typeof x=="function"&&(Mo(t,a,x,s),R=t.memoizedState),(P=Ma||Im(t,a,P,s,M,R,S)||e!==null&&e.dependencies!==null&&Ki(e.dependencies))?(L||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,R,S),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,R,S)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=R),u.props=s,u.state=R,u.context=S,s=P):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,fr(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=fs(t,e.child,null,o),t.child=fs(t,null,a,o)):st(e,t,a,o),t.memoizedState=u.state,e=t.child):e=la(e,t,o),e}function sp(e,t,a,s){return os(),t.flags|=256,st(e,t,a,s),t.child}var wo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Po(e){return{baseLanes:e,cachePool:Fd()}}function Vo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Tt),e}function np(e,t,a){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),f&&(o=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(o?za(t):Oa(),(e=we)?(e=pf(e,wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Aa!==null?{id:Gt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},a=Pd(e),a.return=t,t.child=a,tt=t,we=null)):e=null,e===null)throw Na(t);return yu(e)?t.lanes=32:t.lanes=536870912,null}var x=s.children;return s=s.fallback,o?(Oa(),o=t.mode,x=gr({mode:"hidden",children:x},o),s=ls(s,o,a,null),x.return=t,s.return=t,x.sibling=s,t.child=x,s=t.child,s.memoizedState=Po(a),s.childLanes=Vo(e,f,a),t.memoizedState=wo,Jn(null,s)):(za(t),Uo(t,x))}var S=e.memoizedState;if(S!==null&&(x=S.dehydrated,x!==null)){if(u)t.flags&256?(za(t),t.flags&=-257,t=ko(e,t,a)):t.memoizedState!==null?(Oa(),t.child=e.child,t.flags|=128,t=null):(Oa(),x=s.fallback,o=t.mode,s=gr({mode:"visible",children:s.children},o),x=ls(x,o,a,null),x.flags|=2,s.return=t,x.return=t,s.sibling=x,t.child=s,fs(t,e.child,null,a),s=t.child,s.memoizedState=Po(a),s.childLanes=Vo(e,f,a),t.memoizedState=wo,t=Jn(null,s));else if(za(t),yu(x)){if(f=x.nextSibling&&x.nextSibling.dataset,f)var L=f.dgst;f=L,s=Error(l(419)),s.stack="",s.digest=f,Rn({value:s,source:null,stack:null}),t=ko(e,t,a)}else if(Ke||Us(e,t,a,!1),f=(a&e.childLanes)!==0,Ke||f){if(f=Oe,f!==null&&(s=Gc(f,a),s!==0&&s!==S.retryLane))throw S.retryLane=s,rs(e,s),gt(f,e,s),zo;xu(x)||jr(),t=ko(e,t,a)}else xu(x)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,we=Vt(x.nextSibling),tt=t,_e=!0,Da=null,wt=!1,e!==null&&kd(t,e),t=Uo(t,s.children),t.flags|=4096);return t}return o?(Oa(),x=s.fallback,o=t.mode,S=e.child,L=S.sibling,s=ta(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,L!==null?x=ta(L,x):(x=ls(x,o,a,null),x.flags|=2),x.return=t,s.return=t,s.sibling=x,t.child=s,Jn(null,s),s=t.child,x=e.child.memoizedState,x===null?x=Po(a):(o=x.cachePool,o!==null?(S=Qe._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=Fd(),x={baseLanes:x.baseLanes|a,cachePool:o}),s.memoizedState=x,s.childLanes=Vo(e,f,a),t.memoizedState=wo,Jn(e.child,s)):(za(t),a=e.child,e=a.sibling,a=ta(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=a,t.memoizedState=null,a)}function Uo(e,t){return t=gr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function gr(e,t){return e=St(22,e,null,t),e.lanes=0,e}function ko(e,t,a){return fs(t,e.child,null,a),e=Uo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ip(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),eo(e.return,t,a)}function Io(e,t,a,s,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=a,f.tailMode=o,f.treeForkCount=u)}function rp(e,t,a){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var f=Je.current,x=(f&2)!==0;if(x?(f=f&1|2,t.flags|=128):f&=1,F(Je,f),st(e,t,s,a),s=_e?En:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ip(e,a,t);else if(e.tag===19)ip(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&sr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Io(t,!1,o,a,u,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&sr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Io(t,!0,a,null,u,s);break;case"together":Io(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function la(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Va|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Us(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=ta(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ta(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Bo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ki(e)))}function Ab(e,t,a){switch(t.tag){case 3:rt(t,t.stateNode.containerInfo),La(t,Qe,e.memoizedState.cache),os();break;case 27:case 5:vn(t);break;case 4:rt(t,t.stateNode.containerInfo);break;case 10:La(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,po(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(za(t),t.flags|=128,null):(a&t.child.childLanes)!==0?np(e,t,a):(za(t),e=la(e,t,a),e!==null?e.sibling:null);za(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Us(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return rp(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),F(Je,Je.current),s)break;return null;case 22:return t.lanes=0,$m(e,t,a,t.pendingProps);case 24:La(t,Qe,e.memoizedState.cache)}return la(e,t,a)}function lp(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ke=!0;else{if(!Bo(e,a)&&(t.flags&128)===0)return Ke=!1,Ab(e,t,a);Ke=(e.flags&131072)!==0}else Ke=!1,_e&&(t.flags&1048576)!==0&&Ud(t,En,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ms(t.elementType),t.type=e,typeof e=="function")Fl(e)?(s=hs(e,s),t.tag=1,t=ap(null,t,e,s,a)):(t.tag=0,t=Oo(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===ee){t.tag=11,t=Km(null,t,e,s,a);break e}else if(o===H){t.tag=14,t=Zm(null,t,e,s,a);break e}}throw t=de(e)||e,Error(l(306,t,""))}}return t;case 0:return Oo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=hs(s,t.pendingProps),ap(e,t,s,o,a);case 3:e:{if(rt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,lo(e,t),kn(t,s,null,a);var f=t.memoizedState;if(s=f.cache,La(t,Qe,s),s!==u.cache&&to(t,[Qe],a,!0),Un(),s=f.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=sp(e,t,s,a);break e}else if(s!==o){o=Rt(Error(l(424)),t),Rn(o),t=sp(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,we=Vt(e.firstChild),tt=t,_e=!0,Da=null,wt=!0,a=$d(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(os(),s===o){t=la(e,t,a);break e}st(e,t,s,a)}t=t.child}return t;case 26:return fr(e,t),e===null?(a=xf(t.type,null,t.pendingProps,null))?t.memoizedState=a:_e||(a=t.type,e=t.pendingProps,s=Mr(ve.current).createElement(a),s[et]=t,s[ut]=e,nt(s,a,e),$e(s),t.stateNode=s):t.memoizedState=xf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return vn(t),e===null&&_e&&(s=t.stateNode=hf(t.type,t.pendingProps,ve.current),tt=t,wt=!0,o=we,Ha(t.type)?(Su=o,we=Vt(s.firstChild)):we=o),st(e,t,t.pendingProps.children,a),fr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((o=s=we)&&(s=s1(s,t.type,t.pendingProps,wt),s!==null?(t.stateNode=s,tt=t,we=Vt(s.firstChild),wt=!1,o=!0):o=!1),o||Na(t)),vn(t),o=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,s=u.children,hu(o,u)?s=null:f!==null&&hu(o,f)&&(t.flags|=32),t.memoizedState!==null&&(o=go(e,t,bb,null,null,a),ri._currentValue=o),fr(e,t),st(e,t,s,a),t.child;case 6:return e===null&&_e&&((e=a=we)&&(a=n1(a,t.pendingProps,wt),a!==null?(t.stateNode=a,tt=t,we=null,e=!0):e=!1),e||Na(t)),null;case 13:return np(e,t,a);case 4:return rt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=fs(t,null,s,a):st(e,t,s,a),t.child;case 11:return Km(e,t,t.type,t.pendingProps,a);case 7:return st(e,t,t.pendingProps,a),t.child;case 8:return st(e,t,t.pendingProps.children,a),t.child;case 12:return st(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,La(t,t.type,s.value),st(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,cs(t),o=at(o),s=s(o),t.flags|=1,st(e,t,s,a),t.child;case 14:return Zm(e,t,t.type,t.pendingProps,a);case 15:return Xm(e,t,t.type,t.pendingProps,a);case 19:return rp(e,t,a);case 31:return Cb(e,t,a);case 22:return $m(e,t,a,t.pendingProps);case 24:return cs(t),s=at(Qe),e===null?(o=no(),o===null&&(o=Oe,u=ao(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:s,cache:o},ro(t),La(t,Qe,o)):((e.lanes&a)!==0&&(lo(e,t),kn(t,null,null,a),Un()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),La(t,Qe,s)):(s=u.cache,La(t,Qe,s),s!==o.cache&&to(t,[Qe],a,!0))),st(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function oa(e){e.flags|=4}function Ho(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(zp())e.flags|=8192;else throw ps=Wi,io}else e.flags&=-16777217}function op(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jf(t))if(zp())e.flags|=8192;else throw ps=Wi,io}function hr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ic():536870912,e.lanes|=t,Xs|=t)}function Fn(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Db(e,t,a){var s=t.pendingProps;switch(Zl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Pe(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),na(Qe),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vs(t)?oa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$l())),Pe(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(oa(t),u!==null?(Pe(t),op(t,u)):(Pe(t),Ho(t,o,null,s,a))):u?u!==e.memoizedState?(oa(t),Pe(t),op(t,u)):(Pe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&oa(t),Pe(t),Ho(t,o,e,s,a)),null;case 27:if(Ai(t),a=ve.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&oa(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Pe(t),null}e=Z.current,Vs(t)?Id(t):(e=hf(o,s,a),t.stateNode=e,oa(t))}return Pe(t),null;case 5:if(Ai(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&oa(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Pe(t),null}if(u=Z.current,Vs(t))Id(t);else{var f=Mr(ve.current);switch(u){case 1:u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=f.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?f.createElement("select",{is:s.is}):f.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?f.createElement(o,{is:s.is}):f.createElement(o)}}u[et]=t,u[ut]=s;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)u.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=u;e:switch(nt(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&oa(t)}}return Pe(t),Ho(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&oa(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=ve.current,Vs(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=tt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[et]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||nf(e.nodeValue,a)),e||Na(t,!0)}else e=Mr(e).createTextNode(s),e[et]=t,t.stateNode=e}return Pe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Vs(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[et]=t}else os(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),e=!1}else a=$l(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(qt(t),t):(qt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Pe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Vs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[et]=t}else os(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),o=!1}else o=$l(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(qt(t),t):(qt(t),null)}return qt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),hr(t,t.updateQueue),Pe(t),null);case 4:return Ge(),e===null&&du(t.stateNode.containerInfo),Pe(t),null;case 10:return na(t.type),Pe(t),null;case 19:if(V(Je),s=t.memoizedState,s===null)return Pe(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)Fn(s,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=sr(e),u!==null){for(t.flags|=128,Fn(s,!1),e=u.updateQueue,t.updateQueue=e,hr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)wd(a,e),a=a.sibling;return F(Je,Je.current&1|2),_e&&aa(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&vt()>Sr&&(t.flags|=128,o=!0,Fn(s,!1),t.lanes=4194304)}else{if(!o)if(e=sr(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,hr(t,e),Fn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!_e)return Pe(t),null}else 2*vt()-s.renderingStartTime>Sr&&a!==536870912&&(t.flags|=128,o=!0,Fn(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vt(),e.sibling=null,a=Je.current,F(Je,o?a&1|2:a&1),_e&&aa(t,s.treeForkCount),e):(Pe(t),null);case 22:case 23:return qt(t),mo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),a=t.updateQueue,a!==null&&hr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&V(ds),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),na(Qe),Pe(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Nb(e,t){switch(Zl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return na(Qe),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ai(t),null;case 31:if(t.memoizedState!==null){if(qt(t),t.alternate===null)throw Error(l(340));os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(Je),null;case 4:return Ge(),null;case 10:return na(t.type),null;case 22:case 23:return qt(t),mo(),e!==null&&V(ds),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return na(Qe),null;case 25:return null;default:return null}}function up(e,t){switch(Zl(t),t.tag){case 3:na(Qe),Ge();break;case 26:case 27:case 5:Ai(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&qt(t);break;case 13:qt(t);break;case 19:V(Je);break;case 10:na(t.type);break;case 22:case 23:qt(t),mo(),e!==null&&V(ds);break;case 24:na(Qe)}}function Qn(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var u=a.create,f=a.inst;s=u(),f.destroy=s}a=a.next}while(a!==o)}}catch(x){Ne(t,t.return,x)}}function wa(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var f=s.inst,x=f.destroy;if(x!==void 0){f.destroy=void 0,o=t;var S=a,L=x;try{L()}catch(P){Ne(o,S,P)}}}s=s.next}while(s!==u)}}catch(P){Ne(t,t.return,P)}}function cp(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{em(t,a)}catch(s){Ne(e,e.return,s)}}}function dp(e,t,a){a.props=hs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ne(e,t,s)}}function Yn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){Ne(e,t,o)}}function Ft(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Ne(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ne(e,t,o)}else a.current=null}function mp(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Ne(e,e.return,o)}}function Go(e,t,a){try{var s=e.stateNode;Xb(s,e.type,a,t),s[ut]=t}catch(o){Ne(e,e.return,o)}}function pp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function Jo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Wt));else if(s!==4&&(s===27&&Ha(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Fo(e,t,a),e=e.sibling;e!==null;)Fo(e,t,a),e=e.sibling}function vr(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Ha(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(vr(e,t,a),e=e.sibling;e!==null;)vr(e,t,a),e=e.sibling}function fp(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);nt(t,s,a),t[et]=e,t[ut]=a}catch(u){Ne(e,e.return,u)}}var ua=!1,Ze=!1,Qo=!1,gp=typeof WeakSet=="function"?WeakSet:Set,We=null;function Lb(e,t){if(e=e.containerInfo,fu=Vr,e=Ad(e),Ul(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var f=0,x=-1,S=-1,L=0,P=0,k=e,M=null;t:for(;;){for(var R;k!==a||o!==0&&k.nodeType!==3||(x=f+o),k!==u||s!==0&&k.nodeType!==3||(S=f+s),k.nodeType===3&&(f+=k.nodeValue.length),(R=k.firstChild)!==null;)M=k,k=R;for(;;){if(k===e)break t;if(M===a&&++L===o&&(x=f),M===u&&++P===s&&(S=f),(R=k.nextSibling)!==null)break;k=M,M=k.parentNode}k=R}a=x===-1||S===-1?null:{start:x,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(gu={focusedElem:e,selectionRange:a},Vr=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){switch(t=We,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,s=a.stateNode;try{var X=hs(a.type,o);e=s.getSnapshotBeforeUpdate(X,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(ne){Ne(a,a.return,ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)bu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}}function hp(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:da(e,a),s&4&&Qn(5,a);break;case 1:if(da(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(f){Ne(a,a.return,f)}else{var o=hs(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Ne(a,a.return,f)}}s&64&&cp(a),s&512&&Yn(a,a.return);break;case 3:if(da(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{em(e,t)}catch(f){Ne(a,a.return,f)}}break;case 27:t===null&&s&4&&fp(a);case 26:case 5:da(e,a),t===null&&s&4&&mp(a),s&512&&Yn(a,a.return);break;case 12:da(e,a);break;case 31:da(e,a),s&4&&xp(e,a);break;case 13:da(e,a),s&4&&yp(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ub.bind(null,a),i1(e,a))));break;case 22:if(s=a.memoizedState!==null||ua,!s){t=t!==null&&t.memoizedState!==null||Ze,o=ua;var u=Ze;ua=s,(Ze=t)&&!u?ma(e,a,(a.subtreeFlags&8772)!==0):da(e,a),ua=o,Ze=u}break;case 30:break;default:da(e,a)}}function vp(e){var t=e.alternate;t!==null&&(e.alternate=null,vp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_l(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,dt=!1;function ca(e,t,a){for(a=a.child;a!==null;)bp(e,t,a),a=a.sibling}function bp(e,t,a){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(bn,a)}catch{}switch(a.tag){case 26:Ze||Ft(a,t),ca(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ze||Ft(a,t);var s=ke,o=dt;Ha(a.type)&&(ke=a.stateNode,dt=!1),ca(e,t,a),si(a.stateNode),ke=s,dt=o;break;case 5:Ze||Ft(a,t);case 6:if(s=ke,o=dt,ke=null,ca(e,t,a),ke=s,dt=o,ke!==null)if(dt)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(a.stateNode)}catch(u){Ne(a,t,u)}else try{ke.removeChild(a.stateNode)}catch(u){Ne(a,t,u)}break;case 18:ke!==null&&(dt?(e=ke,df(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),rn(e)):df(ke,a.stateNode));break;case 4:s=ke,o=dt,ke=a.stateNode.containerInfo,dt=!0,ca(e,t,a),ke=s,dt=o;break;case 0:case 11:case 14:case 15:wa(2,a,t),Ze||wa(4,a,t),ca(e,t,a);break;case 1:Ze||(Ft(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&dp(a,t,s)),ca(e,t,a);break;case 21:ca(e,t,a);break;case 22:Ze=(s=Ze)||a.memoizedState!==null,ca(e,t,a),Ze=s;break;default:ca(e,t,a)}}function xp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{rn(e)}catch(a){Ne(t,t.return,a)}}}function yp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rn(e)}catch(a){Ne(t,t.return,a)}}function Mb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new gp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new gp),t;default:throw Error(l(435,e.tag))}}function br(e,t){var a=Mb(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=kb.bind(null,e,s);s.then(o,o)}})}function mt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],u=e,f=t,x=f;e:for(;x!==null;){switch(x.tag){case 27:if(Ha(x.type)){ke=x.stateNode,dt=!1;break e}break;case 5:ke=x.stateNode,dt=!1;break e;case 3:case 4:ke=x.stateNode.containerInfo,dt=!0;break e}x=x.return}if(ke===null)throw Error(l(160));bp(u,f,o),ke=null,dt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Sp(t,e),t=t.sibling}var Bt=null;function Sp(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(t,e),pt(e),s&4&&(wa(3,e,e.return),Qn(3,e),wa(5,e,e.return));break;case 1:mt(t,e),pt(e),s&512&&(Ze||a===null||Ft(a,a.return)),s&64&&ua&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=Bt;if(mt(t,e),pt(e),s&512&&(Ze||a===null||Ft(a,a.return)),s&4){var u=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Sn]||u[et]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),nt(u,s,a),u[et]=e,$e(u),s=u;break e;case"link":var f=_f("link","href",o).get(s+(a.href||""));if(f){for(var x=0;x<f.length;x++)if(u=f[x],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){f.splice(x,1);break t}}u=o.createElement(s),nt(u,s,a),o.head.appendChild(u);break;case"meta":if(f=_f("meta","content",o).get(s+(a.content||""))){for(x=0;x<f.length;x++)if(u=f[x],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){f.splice(x,1);break t}}u=o.createElement(s),nt(u,s,a),o.head.appendChild(u);break;default:throw Error(l(468,s))}u[et]=e,$e(u),s=u}e.stateNode=s}else qf(o,e.type,e.stateNode);else e.stateNode=Sf(o,s,e.memoizedProps);else u!==s?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,s===null?qf(o,e.type,e.stateNode):Sf(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Go(e,e.memoizedProps,a.memoizedProps)}break;case 27:mt(t,e),pt(e),s&512&&(Ze||a===null||Ft(a,a.return)),a!==null&&s&4&&Go(e,e.memoizedProps,a.memoizedProps);break;case 5:if(mt(t,e),pt(e),s&512&&(Ze||a===null||Ft(a,a.return)),e.flags&32){o=e.stateNode;try{Ds(o,"")}catch(X){Ne(e,e.return,X)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Go(e,o,a!==null?a.memoizedProps:o)),s&1024&&(Qo=!0);break;case 6:if(mt(t,e),pt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(X){Ne(e,e.return,X)}}break;case 3:if(zr=null,o=Bt,Bt=Er(t.containerInfo),mt(t,e),Bt=o,pt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{rn(t.containerInfo)}catch(X){Ne(e,e.return,X)}Qo&&(Qo=!1,_p(e));break;case 4:s=Bt,Bt=Er(e.stateNode.containerInfo),mt(t,e),pt(e),Bt=s;break;case 12:mt(t,e),pt(e);break;case 31:mt(t,e),pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,br(e,s)));break;case 13:mt(t,e),pt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yr=vt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,br(e,s)));break;case 22:o=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,L=ua,P=Ze;if(ua=L||o,Ze=P||S,mt(t,e),Ze=P,ua=L,pt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||S||ua||Ze||vs(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(u=S.stateNode,o)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{x=S.stateNode;var k=S.memoizedProps.style,M=k!=null&&k.hasOwnProperty("display")?k.display:null;x.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(X){Ne(S,S.return,X)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(X){Ne(S,S.return,X)}}}else if(t.tag===18){if(a===null){S=t;try{var R=S.stateNode;o?mf(R,!0):mf(S.stateNode,!1)}catch(X){Ne(S,S.return,X)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,br(e,a))));break;case 19:mt(t,e),pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,br(e,s)));break;case 30:break;case 21:break;default:mt(t,e),pt(e)}}function pt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(pp(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,u=Jo(e);vr(e,u,o);break;case 5:var f=a.stateNode;a.flags&32&&(Ds(f,""),a.flags&=-33);var x=Jo(e);vr(e,x,f);break;case 3:case 4:var S=a.stateNode.containerInfo,L=Jo(e);Fo(e,L,S);break;default:throw Error(l(161))}}catch(P){Ne(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_p(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function da(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hp(e,t.alternate,t),t=t.sibling}function vs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:wa(4,t,t.return),vs(t);break;case 1:Ft(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&dp(t,t.return,a),vs(t);break;case 27:si(t.stateNode);case 26:case 5:Ft(t,t.return),vs(t);break;case 22:t.memoizedState===null&&vs(t);break;case 30:vs(t);break;default:vs(t)}e=e.sibling}}function ma(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,f=u.flags;switch(u.tag){case 0:case 11:case 15:ma(o,u,a),Qn(4,u);break;case 1:if(ma(o,u,a),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(L){Ne(s,s.return,L)}if(s=u,o=s.updateQueue,o!==null){var x=s.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)Wd(S[o],x)}catch(L){Ne(s,s.return,L)}}a&&f&64&&cp(u),Yn(u,u.return);break;case 27:fp(u);case 26:case 5:ma(o,u,a),a&&s===null&&f&4&&mp(u),Yn(u,u.return);break;case 12:ma(o,u,a);break;case 31:ma(o,u,a),a&&f&4&&xp(o,u);break;case 13:ma(o,u,a),a&&f&4&&yp(o,u);break;case 22:u.memoizedState===null&&ma(o,u,a),Yn(u,u.return);break;case 30:break;default:ma(o,u,a)}t=t.sibling}}function Yo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&zn(a))}function Ko(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zn(e))}function Ht(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qp(e,t,a,s),t=t.sibling}function qp(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Ht(e,t,a,s),o&2048&&Qn(9,t);break;case 1:Ht(e,t,a,s);break;case 3:Ht(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zn(e)));break;case 12:if(o&2048){Ht(e,t,a,s),e=t.stateNode;try{var u=t.memoizedProps,f=u.id,x=u.onPostCommit;typeof x=="function"&&x(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ne(t,t.return,S)}}else Ht(e,t,a,s);break;case 31:Ht(e,t,a,s);break;case 13:Ht(e,t,a,s);break;case 23:break;case 22:u=t.stateNode,f=t.alternate,t.memoizedState!==null?u._visibility&2?Ht(e,t,a,s):Kn(e,t):u._visibility&2?Ht(e,t,a,s):(u._visibility|=2,Ys(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Yo(f,t);break;case 24:Ht(e,t,a,s),o&2048&&Ko(t.alternate,t);break;default:Ht(e,t,a,s)}}function Ys(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,f=t,x=a,S=s,L=f.flags;switch(f.tag){case 0:case 11:case 15:Ys(u,f,x,S,o),Qn(8,f);break;case 23:break;case 22:var P=f.stateNode;f.memoizedState!==null?P._visibility&2?Ys(u,f,x,S,o):Kn(u,f):(P._visibility|=2,Ys(u,f,x,S,o)),o&&L&2048&&Yo(f.alternate,f);break;case 24:Ys(u,f,x,S,o),o&&L&2048&&Ko(f.alternate,f);break;default:Ys(u,f,x,S,o)}t=t.sibling}}function Kn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:Kn(a,s),o&2048&&Yo(s.alternate,s);break;case 24:Kn(a,s),o&2048&&Ko(s.alternate,s);break;default:Kn(a,s)}t=t.sibling}}var Zn=8192;function Ks(e,t,a){if(e.subtreeFlags&Zn)for(e=e.child;e!==null;)jp(e,t,a),e=e.sibling}function jp(e,t,a){switch(e.tag){case 26:Ks(e,t,a),e.flags&Zn&&e.memoizedState!==null&&v1(a,Bt,e.memoizedState,e.memoizedProps);break;case 5:Ks(e,t,a);break;case 3:case 4:var s=Bt;Bt=Er(e.stateNode.containerInfo),Ks(e,t,a),Bt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Zn,Zn=16777216,Ks(e,t,a),Zn=s):Ks(e,t,a));break;default:Ks(e,t,a)}}function Tp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Xn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];We=s,Ap(s,e)}Tp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cp(e),e=e.sibling}function Cp(e){switch(e.tag){case 0:case 11:case 15:Xn(e),e.flags&2048&&wa(9,e,e.return);break;case 3:Xn(e);break;case 12:Xn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,xr(e)):Xn(e);break;default:Xn(e)}}function xr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];We=s,Ap(s,e)}Tp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:wa(8,t,t.return),xr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,xr(t));break;default:xr(t)}e=e.sibling}}function Ap(e,t){for(;We!==null;){var a=We;switch(a.tag){case 0:case 11:case 15:wa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:zn(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,We=s;else e:for(a=e;We!==null;){s=We;var o=s.sibling,u=s.return;if(vp(s),s===a){We=null;break e}if(o!==null){o.return=u,We=o;break e}We=u}}}var Eb={getCacheForType:function(e){var t=at(Qe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return at(Qe).controller.signal}},Rb=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Oe=null,be=null,ye=0,De=0,jt=null,Pa=!1,Zs=!1,Zo=!1,pa=0,He=0,Va=0,bs=0,Xo=0,Tt=0,Xs=0,$n=null,ft=null,$o=!1,yr=0,Dp=0,Sr=1/0,_r=null,Ua=null,Xe=0,ka=null,$s=null,fa=0,Wo=0,eu=null,Np=null,Wn=0,tu=null;function Ct(){return(Ce&2)!==0&&ye!==0?ye&-ye:E.T!==null?lu():Jc()}function Lp(){if(Tt===0)if((ye&536870912)===0||_e){var e=Li;Li<<=1,(Li&3932160)===0&&(Li=262144),Tt=e}else Tt=536870912;return e=_t.current,e!==null&&(e.flags|=32),Tt}function gt(e,t,a){(e===Oe&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Ws(e,0),Ia(e,ye,Tt,!1)),yn(e,a),((Ce&2)===0||e!==Oe)&&(e===Oe&&((Ce&2)===0&&(bs|=a),He===4&&Ia(e,ye,Tt,!1)),Qt(e))}function Mp(e,t,a){if((Ce&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||xn(e,t),o=s?wb(e,t):su(e,t,!0),u=s;do{if(o===0){Zs&&!s&&Ia(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!zb(a)){o=su(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var x=e;o=$n;var S=x.current.memoizedState.isDehydrated;if(S&&(Ws(x,f).flags|=256),f=su(x,f,!1),f!==2){if(Zo&&!S){x.errorRecoveryDisabledLanes|=u,bs|=u,o=4;break e}u=ft,ft=o,u!==null&&(ft===null?ft=u:ft.push.apply(ft,u))}o=f}if(u=!1,o!==2)continue}}if(o===1){Ws(e,0),Ia(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ia(s,t,Tt,!Pa);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=yr+300-vt(),10<o)){if(Ia(s,t,Tt,!Pa),Ei(s,0,!0)!==0)break e;fa=t,s.timeoutHandle=uf(Ep.bind(null,s,a,ft,_r,$o,t,Tt,bs,Xs,Pa,u,"Throttled",-0,0),o);break e}Ep(s,a,ft,_r,$o,t,Tt,bs,Xs,Pa,u,null,-0,0)}}break}while(!0);Qt(e)}function Ep(e,t,a,s,o,u,f,x,S,L,P,k,M,R){if(e.timeoutHandle=-1,k=t.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wt},jp(t,u,k);var X=(u&62914560)===u?yr-vt():(u&4194048)===u?Dp-vt():0;if(X=b1(k,X),X!==null){fa=u,e.cancelPendingCommit=X(kp.bind(null,e,t,u,a,s,o,f,x,S,P,k,null,M,R)),Ia(e,u,f,!L);return}}kp(e,t,u,a,s,o,f,x,S)}function zb(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],u=o.getSnapshot;o=o.value;try{if(!yt(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ia(e,t,a,s){t&=~Xo,t&=~bs,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-xt(o),f=1<<u;s[u]=-1,o&=~f}a!==0&&Bc(e,a,t)}function qr(){return(Ce&6)===0?(ei(0),!1):!0}function au(){if(be!==null){if(De===0)var e=be.return;else e=be,sa=us=null,bo(e),Hs=null,wn=0,e=be;for(;e!==null;)up(e.alternate,e),e=e.return;be=null}}function Ws(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,e1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),fa=0,au(),Oe=e,be=a=ta(e.current,null),ye=t,De=0,jt=null,Pa=!1,Zs=xn(e,t),Zo=!1,Xs=Tt=Xo=bs=Va=He=0,ft=$n=null,$o=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-xt(s),u=1<<o;t|=e[o],s&=~u}return pa=t,Gi(),a}function Rp(e,t){ce=null,E.H=Gn,t===Bs||t===$i?(t=Kd(),De=3):t===io?(t=Kd(),De=4):De=t===zo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,jt=t,be===null&&(He=1,mr(e,Rt(t,e.current)))}function zp(){var e=_t.current;return e===null?!0:(ye&4194048)===ye?Pt===null:(ye&62914560)===ye||(ye&536870912)!==0?e===Pt:!1}function Op(){var e=E.H;return E.H=Gn,e===null?Gn:e}function wp(){var e=E.A;return E.A=Eb,e}function jr(){He=4,Pa||(ye&4194048)!==ye&&_t.current!==null||(Zs=!0),(Va&134217727)===0&&(bs&134217727)===0||Oe===null||Ia(Oe,ye,Tt,!1)}function su(e,t,a){var s=Ce;Ce|=2;var o=Op(),u=wp();(Oe!==e||ye!==t)&&(_r=null,Ws(e,t)),t=!1;var f=He;e:do try{if(De!==0&&be!==null){var x=be,S=jt;switch(De){case 8:au(),f=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(t=!0);var L=De;if(De=0,jt=null,en(e,x,S,L),a&&Zs){f=0;break e}break;default:L=De,De=0,jt=null,en(e,x,S,L)}}Ob(),f=He;break}catch(P){Rp(e,P)}while(!0);return t&&e.shellSuspendCounter++,sa=us=null,Ce=s,E.H=o,E.A=u,be===null&&(Oe=null,ye=0,Gi()),f}function Ob(){for(;be!==null;)Pp(be)}function wb(e,t){var a=Ce;Ce|=2;var s=Op(),o=wp();Oe!==e||ye!==t?(_r=null,Sr=vt()+500,Ws(e,t)):Zs=xn(e,t);e:do try{if(De!==0&&be!==null){t=be;var u=jt;t:switch(De){case 1:De=0,jt=null,en(e,t,u,1);break;case 2:case 9:if(Qd(u)){De=0,jt=null,Vp(t);break}t=function(){De!==2&&De!==9||Oe!==e||(De=7),Qt(e)},u.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Qd(u)?(De=0,jt=null,Vp(t)):(De=0,jt=null,en(e,t,u,7));break;case 5:var f=null;switch(be.tag){case 26:f=be.memoizedState;case 5:case 27:var x=be;if(f?jf(f):x.stateNode.complete){De=0,jt=null;var S=x.sibling;if(S!==null)be=S;else{var L=x.return;L!==null?(be=L,Tr(L)):be=null}break t}}De=0,jt=null,en(e,t,u,5);break;case 6:De=0,jt=null,en(e,t,u,6);break;case 8:au(),He=6;break e;default:throw Error(l(462))}}Pb();break}catch(P){Rp(e,P)}while(!0);return sa=us=null,E.H=s,E.A=o,Ce=a,be!==null?0:(Oe=null,ye=0,Gi(),He)}function Pb(){for(;be!==null&&!rv();)Pp(be)}function Pp(e){var t=lp(e.alternate,e,pa);e.memoizedProps=e.pendingProps,t===null?Tr(e):be=t}function Vp(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=tp(a,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=tp(a,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:bo(t);default:up(a,t),t=be=wd(t,pa),t=lp(a,t,pa)}e.memoizedProps=e.pendingProps,t===null?Tr(e):be=t}function en(e,t,a,s){sa=us=null,bo(t),Hs=null,wn=0;var o=t.return;try{if(Tb(e,o,t,a,ye)){He=1,mr(e,Rt(a,e.current)),be=null;return}}catch(u){if(o!==null)throw be=o,u;He=1,mr(e,Rt(a,e.current)),be=null;return}t.flags&32768?(_e||s===1?e=!0:Zs||(ye&536870912)!==0?e=!1:(Pa=e=!0,(s===2||s===9||s===3||s===6)&&(s=_t.current,s!==null&&s.tag===13&&(s.flags|=16384))),Up(t,e)):Tr(t)}function Tr(e){var t=e;do{if((t.flags&32768)!==0){Up(t,Pa);return}e=t.return;var a=Db(t.alternate,t,pa);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);He===0&&(He=5)}function Up(e,t){do{var a=Nb(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);He=6,be=null}function kp(e,t,a,s,o,u,f,x,S){e.cancelPendingCommit=null;do Cr();while(Xe!==0);if((Ce&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=Gl,hv(e,a,u,f,x,S),e===Oe&&(be=Oe=null,ye=0),$s=t,ka=e,fa=a,Wo=u,eu=o,Np=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ib(Di,function(){return Jp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=E.T,E.T=null,o=G.p,G.p=2,f=Ce,Ce|=4;try{Lb(e,t,a)}finally{Ce=f,G.p=o,E.T=s}}Xe=1,Ip(),Bp(),Hp()}}function Ip(){if(Xe===1){Xe=0;var e=ka,t=$s,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=E.T,E.T=null;var s=G.p;G.p=2;var o=Ce;Ce|=4;try{Sp(t,e);var u=gu,f=Ad(e.containerInfo),x=u.focusedElem,S=u.selectionRange;if(f!==x&&x&&x.ownerDocument&&Cd(x.ownerDocument.documentElement,x)){if(S!==null&&Ul(x)){var L=S.start,P=S.end;if(P===void 0&&(P=L),"selectionStart"in x)x.selectionStart=L,x.selectionEnd=Math.min(P,x.value.length);else{var k=x.ownerDocument||document,M=k&&k.defaultView||window;if(M.getSelection){var R=M.getSelection(),X=x.textContent.length,ne=Math.min(S.start,X),Re=S.end===void 0?ne:Math.min(S.end,X);!R.extend&&ne>Re&&(f=Re,Re=ne,ne=f);var C=Td(x,ne),q=Td(x,Re);if(C&&q&&(R.rangeCount!==1||R.anchorNode!==C.node||R.anchorOffset!==C.offset||R.focusNode!==q.node||R.focusOffset!==q.offset)){var N=k.createRange();N.setStart(C.node,C.offset),R.removeAllRanges(),ne>Re?(R.addRange(N),R.extend(q.node,q.offset)):(N.setEnd(q.node,q.offset),R.addRange(N))}}}}for(k=[],R=x;R=R.parentNode;)R.nodeType===1&&k.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<k.length;x++){var U=k[x];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Vr=!!fu,gu=fu=null}finally{Ce=o,G.p=s,E.T=a}}e.current=t,Xe=2}}function Bp(){if(Xe===2){Xe=0;var e=ka,t=$s,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=E.T,E.T=null;var s=G.p;G.p=2;var o=Ce;Ce|=4;try{hp(e,t.alternate,t)}finally{Ce=o,G.p=s,E.T=a}}Xe=3}}function Hp(){if(Xe===4||Xe===3){Xe=0,lv();var e=ka,t=$s,a=fa,s=Np;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xe=5:(Xe=0,$s=ka=null,Gp(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ua=null),yl(a),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(bn,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=E.T,o=G.p,G.p=2,E.T=null;try{for(var u=e.onRecoverableError,f=0;f<s.length;f++){var x=s[f];u(x.value,{componentStack:x.stack})}}finally{E.T=t,G.p=o}}(fa&3)!==0&&Cr(),Qt(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===tu?Wn++:(Wn=0,tu=e):Wn=0,ei(0)}}function Gp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zn(t)))}function Cr(){return Ip(),Bp(),Hp(),Jp()}function Jp(){if(Xe!==5)return!1;var e=ka,t=Wo;Wo=0;var a=yl(fa),s=E.T,o=G.p;try{G.p=32>a?32:a,E.T=null,a=eu,eu=null;var u=ka,f=fa;if(Xe=0,$s=ka=null,fa=0,(Ce&6)!==0)throw Error(l(331));var x=Ce;if(Ce|=4,Cp(u.current),qp(u,u.current,f,a),Ce=x,ei(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(bn,u)}catch{}return!0}finally{G.p=o,E.T=s,Gp(e,t)}}function Fp(e,t,a){t=Rt(a,t),t=Ro(e.stateNode,t,2),e=Ra(e,t,2),e!==null&&(yn(e,2),Qt(e))}function Ne(e,t,a){if(e.tag===3)Fp(e,e,a);else for(;t!==null;){if(t.tag===3){Fp(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ua===null||!Ua.has(s))){e=Rt(a,e),a=Qm(2),s=Ra(t,a,2),s!==null&&(Ym(a,s,t,e),yn(s,2),Qt(s));break}}t=t.return}}function nu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Rb;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(Zo=!0,o.add(a),e=Vb.bind(null,e,t,a),t.then(e,e))}function Vb(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Oe===e&&(ye&a)===a&&(He===4||He===3&&(ye&62914560)===ye&&300>vt()-yr?(Ce&2)===0&&Ws(e,0):Xo|=a,Xs===ye&&(Xs=0)),Qt(e)}function Qp(e,t){t===0&&(t=Ic()),e=rs(e,t),e!==null&&(yn(e,t),Qt(e))}function Ub(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Qp(e,a)}function kb(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Qp(e,a)}function Ib(e,t){return hl(e,t)}var Ar=null,tn=null,iu=!1,Dr=!1,ru=!1,Ba=0;function Qt(e){e!==tn&&e.next===null&&(tn===null?Ar=tn=e:tn=tn.next=e),Dr=!0,iu||(iu=!0,Hb())}function ei(e,t){if(!ru&&Dr){ru=!0;do for(var a=!1,s=Ar;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var f=s.suspendedLanes,x=s.pingedLanes;u=(1<<31-xt(42|e)+1)-1,u&=o&~(f&~x),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Xp(s,u))}else u=ye,u=Ei(s,s===Oe?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||xn(s,u)||(a=!0,Xp(s,u));s=s.next}while(a);ru=!1}}function Bb(){Yp()}function Yp(){Dr=iu=!1;var e=0;Ba!==0&&Wb()&&(e=Ba);for(var t=vt(),a=null,s=Ar;s!==null;){var o=s.next,u=Kp(s,t);u===0?(s.next=null,a===null?Ar=o:a.next=o,o===null&&(tn=a)):(a=s,(e!==0||(u&3)!==0)&&(Dr=!0)),s=o}Xe!==0&&Xe!==5||ei(e),Ba!==0&&(Ba=0)}function Kp(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var f=31-xt(u),x=1<<f,S=o[f];S===-1?((x&a)===0||(x&s)!==0)&&(o[f]=gv(x,t)):S<=t&&(e.expiredLanes|=x),u&=~x}if(t=Oe,a=ye,a=Ei(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&vl(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||xn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&vl(s),yl(a)){case 2:case 8:a=Uc;break;case 32:a=Di;break;case 268435456:a=kc;break;default:a=Di}return s=Zp.bind(null,e),a=hl(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&vl(s),e.callbackPriority=2,e.callbackNode=null,2}function Zp(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Cr()&&e.callbackNode!==a)return null;var s=ye;return s=Ei(e,e===Oe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Mp(e,s,t),Kp(e,vt()),e.callbackNode!=null&&e.callbackNode===a?Zp.bind(null,e):null)}function Xp(e,t){if(Cr())return null;Mp(e,t,!0)}function Hb(){t1(function(){(Ce&6)!==0?hl(Vc,Bb):Yp()})}function lu(){if(Ba===0){var e=ks;e===0&&(e=Ni,Ni<<=1,(Ni&261888)===0&&(Ni=256)),Ba=e}return Ba}function $p(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wi(""+e)}function Wp(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Gb(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var u=$p((o[ut]||null).action),f=s.submitter;f&&(t=(t=f[ut]||null)?$p(t.formAction):f.getAttribute("formAction"),t!==null&&(u=t,f=null));var x=new ki("action","action",null,s,o);e.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ba!==0){var S=f?Wp(o,f):new FormData(o);Ao(a,{pending:!0,data:S,method:o.method,action:u},null,S)}}else typeof u=="function"&&(x.preventDefault(),S=f?Wp(o,f):new FormData(o),Ao(a,{pending:!0,data:S,method:o.method,action:u},u,S))},currentTarget:o}]})}}for(var ou=0;ou<Hl.length;ou++){var uu=Hl[ou],Jb=uu.toLowerCase(),Fb=uu[0].toUpperCase()+uu.slice(1);It(Jb,"on"+Fb)}It(Ld,"onAnimationEnd"),It(Md,"onAnimationIteration"),It(Ed,"onAnimationStart"),It("dblclick","onDoubleClick"),It("focusin","onFocus"),It("focusout","onBlur"),It(ob,"onTransitionRun"),It(ub,"onTransitionStart"),It(cb,"onTransitionCancel"),It(Rd,"onTransitionEnd"),Cs("onMouseEnter",["mouseout","mouseover"]),Cs("onMouseLeave",["mouseout","mouseover"]),Cs("onPointerEnter",["pointerout","pointerover"]),Cs("onPointerLeave",["pointerout","pointerover"]),as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),as("onBeforeInput",["compositionend","keypress","textInput","paste"]),as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ti));function ef(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var f=s.length-1;0<=f;f--){var x=s[f],S=x.instance,L=x.currentTarget;if(x=x.listener,S!==u&&o.isPropagationStopped())break e;u=x,o.currentTarget=L;try{u(o)}catch(P){Hi(P)}o.currentTarget=null,u=S}else for(f=0;f<s.length;f++){if(x=s[f],S=x.instance,L=x.currentTarget,x=x.listener,S!==u&&o.isPropagationStopped())break e;u=x,o.currentTarget=L;try{u(o)}catch(P){Hi(P)}o.currentTarget=null,u=S}}}}function xe(e,t){var a=t[Sl];a===void 0&&(a=t[Sl]=new Set);var s=e+"__bubble";a.has(s)||(tf(t,e,2,!1),a.add(s))}function cu(e,t,a){var s=0;t&&(s|=4),tf(a,e,s,t)}var Nr="_reactListening"+Math.random().toString(36).slice(2);function du(e){if(!e[Nr]){e[Nr]=!0,Yc.forEach(function(a){a!=="selectionchange"&&(Qb.has(a)||cu(a,!1,e),cu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nr]||(t[Nr]=!0,cu("selectionchange",!1,t))}}function tf(e,t,a,s){switch(Mf(t)){case 2:var o=S1;break;case 8:o=_1;break;default:o=Cu}a=o.bind(null,t,a,e),o=void 0,!Ll||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function mu(e,t,a,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var f=s.tag;if(f===3||f===4){var x=s.stateNode.containerInfo;if(x===o)break;if(f===4)for(f=s.return;f!==null;){var S=f.tag;if((S===3||S===4)&&f.stateNode.containerInfo===o)return;f=f.return}for(;x!==null;){if(f=qs(x),f===null)return;if(S=f.tag,S===5||S===6||S===26||S===27){s=u=f;continue e}x=x.parentNode}}s=s.return}rd(function(){var L=u,P=Dl(a),k=[];e:{var M=zd.get(e);if(M!==void 0){var R=ki,X=e;switch(e){case"keypress":if(Vi(a)===0)break e;case"keydown":case"keyup":R=kv;break;case"focusin":X="focus",R=zl;break;case"focusout":X="blur",R=zl;break;case"beforeblur":case"afterblur":R=zl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Hv;break;case Ld:case Md:case Ed:R=Mv;break;case Rd:R=Jv;break;case"scroll":case"scrollend":R=Cv;break;case"wheel":R=Qv;break;case"copy":case"cut":case"paste":R=Rv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=dd;break;case"toggle":case"beforetoggle":R=Kv}var ne=(t&4)!==0,Re=!ne&&(e==="scroll"||e==="scrollend"),C=ne?M!==null?M+"Capture":null:M;ne=[];for(var q=L,N;q!==null;){var U=q;if(N=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||N===null||C===null||(U=qn(q,C),U!=null&&ne.push(ai(q,U,N))),Re)break;q=q.return}0<ne.length&&(M=new R(M,X,null,a,P),k.push({event:M,listeners:ne}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",M&&a!==Al&&(X=a.relatedTarget||a.fromElement)&&(qs(X)||X[_s]))break e;if((R||M)&&(M=P.window===P?P:(M=P.ownerDocument)?M.defaultView||M.parentWindow:window,R?(X=a.relatedTarget||a.toElement,R=L,X=X?qs(X):null,X!==null&&(Re=d(X),ne=X.tag,X!==Re||ne!==5&&ne!==27&&ne!==6)&&(X=null)):(R=null,X=L),R!==X)){if(ne=ud,U="onMouseLeave",C="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(ne=dd,U="onPointerLeave",C="onPointerEnter",q="pointer"),Re=R==null?M:_n(R),N=X==null?M:_n(X),M=new ne(U,q+"leave",R,a,P),M.target=Re,M.relatedTarget=N,U=null,qs(P)===L&&(ne=new ne(C,q+"enter",X,a,P),ne.target=N,ne.relatedTarget=Re,U=ne),Re=U,R&&X)t:{for(ne=Yb,C=R,q=X,N=0,U=C;U;U=ne(U))N++;U=0;for(var se=q;se;se=ne(se))U++;for(;0<N-U;)C=ne(C),N--;for(;0<U-N;)q=ne(q),U--;for(;N--;){if(C===q||q!==null&&C===q.alternate){ne=C;break t}C=ne(C),q=ne(q)}ne=null}else ne=null;R!==null&&af(k,M,R,ne,!1),X!==null&&Re!==null&&af(k,Re,X,ne,!0)}}e:{if(M=L?_n(L):window,R=M.nodeName&&M.nodeName.toLowerCase(),R==="select"||R==="input"&&M.type==="file")var je=xd;else if(vd(M))if(yd)je=ib;else{je=sb;var W=ab}else R=M.nodeName,!R||R.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?L&&Cl(L.elementType)&&(je=xd):je=nb;if(je&&(je=je(e,L))){bd(k,je,a,P);break e}W&&W(e,M,L),e==="focusout"&&L&&M.type==="number"&&L.memoizedProps.value!=null&&Tl(M,"number",M.value)}switch(W=L?_n(L):window,e){case"focusin":(vd(W)||W.contentEditable==="true")&&(Es=W,kl=L,Mn=null);break;case"focusout":Mn=kl=Es=null;break;case"mousedown":Il=!0;break;case"contextmenu":case"mouseup":case"dragend":Il=!1,Dd(k,a,P);break;case"selectionchange":if(lb)break;case"keydown":case"keyup":Dd(k,a,P)}var me;if(wl)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ms?gd(e,a)&&(Se="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(md&&a.locale!=="ko"&&(Ms||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ms&&(me=ld()):(Ca=P,Ml="value"in Ca?Ca.value:Ca.textContent,Ms=!0)),W=Lr(L,Se),0<W.length&&(Se=new cd(Se,e,null,a,P),k.push({event:Se,listeners:W}),me?Se.data=me:(me=hd(a),me!==null&&(Se.data=me)))),(me=Xv?$v(e,a):Wv(e,a))&&(Se=Lr(L,"onBeforeInput"),0<Se.length&&(W=new cd("onBeforeInput","beforeinput",null,a,P),k.push({event:W,listeners:Se}),W.data=me)),Gb(k,e,L,a,P)}ef(k,t)})}function ai(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Lr(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=qn(e,a),o!=null&&s.unshift(ai(e,o,u)),o=qn(e,t),o!=null&&s.push(ai(e,o,u))),e.tag===3)return s;e=e.return}return[]}function Yb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function af(e,t,a,s,o){for(var u=t._reactName,f=[];a!==null&&a!==s;){var x=a,S=x.alternate,L=x.stateNode;if(x=x.tag,S!==null&&S===s)break;x!==5&&x!==26&&x!==27||L===null||(S=L,o?(L=qn(a,u),L!=null&&f.unshift(ai(a,L,S))):o||(L=qn(a,u),L!=null&&f.push(ai(a,L,S)))),a=a.return}f.length!==0&&e.push({event:t,listeners:f})}var Kb=/\r\n?/g,Zb=/\u0000|\uFFFD/g;function sf(e){return(typeof e=="string"?e:""+e).replace(Kb,`
`).replace(Zb,"")}function nf(e,t){return t=sf(t),sf(e)===t}function Ee(e,t,a,s,o,u){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ds(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ds(e,""+s);break;case"className":zi(e,"class",s);break;case"tabIndex":zi(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":zi(e,a,s);break;case"style":nd(e,s,u);break;case"data":if(t!=="object"){zi(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=wi(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Ee(e,t,"name",o.name,o,null),Ee(e,t,"formEncType",o.formEncType,o,null),Ee(e,t,"formMethod",o.formMethod,o,null),Ee(e,t,"formTarget",o.formTarget,o,null)):(Ee(e,t,"encType",o.encType,o,null),Ee(e,t,"method",o.method,o,null),Ee(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=wi(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Wt);break;case"onScroll":s!=null&&xe("scroll",e);break;case"onScrollEnd":s!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=wi(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Ri(e,"popover",s);break;case"xlinkActuate":$t(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":$t(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":$t(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":$t(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":$t(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":$t(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":$t(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":$t(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":$t(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ri(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jv.get(a)||a,Ri(e,a,s))}}function pu(e,t,a,s,o,u){switch(a){case"style":nd(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Ds(e,s):(typeof s=="number"||typeof s=="bigint")&&Ds(e,""+s);break;case"onScroll":s!=null&&xe("scroll",e);break;case"onScrollEnd":s!=null&&xe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Wt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[ut]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ri(e,a,s)}}}function nt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var s=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var f=a[u];if(f!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ee(e,t,u,f,a,null)}}o&&Ee(e,t,"srcSet",a.srcSet,a,null),s&&Ee(e,t,"src",a.src,a,null);return;case"input":xe("invalid",e);var x=u=f=o=null,S=null,L=null;for(s in a)if(a.hasOwnProperty(s)){var P=a[s];if(P!=null)switch(s){case"name":o=P;break;case"type":f=P;break;case"checked":S=P;break;case"defaultChecked":L=P;break;case"value":u=P;break;case"defaultValue":x=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,t));break;default:Ee(e,t,s,P,a,null)}}ed(e,u,x,S,L,f,o,!1);return;case"select":xe("invalid",e),s=f=u=null;for(o in a)if(a.hasOwnProperty(o)&&(x=a[o],x!=null))switch(o){case"value":u=x;break;case"defaultValue":f=x;break;case"multiple":s=x;default:Ee(e,t,o,x,a,null)}t=u,a=f,e.multiple=!!s,t!=null?As(e,!!s,t,!1):a!=null&&As(e,!!s,a,!0);return;case"textarea":xe("invalid",e),u=o=s=null;for(f in a)if(a.hasOwnProperty(f)&&(x=a[f],x!=null))switch(f){case"value":s=x;break;case"defaultValue":o=x;break;case"children":u=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:Ee(e,t,f,x,a,null)}ad(e,s,o,u);return;case"option":for(S in a)a.hasOwnProperty(S)&&(s=a[S],s!=null)&&(S==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Ee(e,t,S,s,a,null));return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(s=0;s<ti.length;s++)xe(ti[s],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(s=a[L],s!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ee(e,t,L,s,a,null)}return;default:if(Cl(t)){for(P in a)a.hasOwnProperty(P)&&(s=a[P],s!==void 0&&pu(e,t,P,s,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(s=a[x],s!=null&&Ee(e,t,x,s,a,null))}function Xb(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,f=null,x=null,S=null,L=null,P=null;for(R in a){var k=a[R];if(a.hasOwnProperty(R)&&k!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":S=k;default:s.hasOwnProperty(R)||Ee(e,t,R,null,s,k)}}for(var M in s){var R=s[M];if(k=a[M],s.hasOwnProperty(M)&&(R!=null||k!=null))switch(M){case"type":u=R;break;case"name":o=R;break;case"checked":L=R;break;case"defaultChecked":P=R;break;case"value":f=R;break;case"defaultValue":x=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,t));break;default:R!==k&&Ee(e,t,M,R,s,k)}}jl(e,f,x,S,L,P,u,o);return;case"select":R=f=x=M=null;for(u in a)if(S=a[u],a.hasOwnProperty(u)&&S!=null)switch(u){case"value":break;case"multiple":R=S;default:s.hasOwnProperty(u)||Ee(e,t,u,null,s,S)}for(o in s)if(u=s[o],S=a[o],s.hasOwnProperty(o)&&(u!=null||S!=null))switch(o){case"value":M=u;break;case"defaultValue":x=u;break;case"multiple":f=u;default:u!==S&&Ee(e,t,o,u,s,S)}t=x,a=f,s=R,M!=null?As(e,!!a,M,!1):!!s!=!!a&&(t!=null?As(e,!!a,t,!0):As(e,!!a,a?[]:"",!1));return;case"textarea":R=M=null;for(x in a)if(o=a[x],a.hasOwnProperty(x)&&o!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ee(e,t,x,null,s,o)}for(f in s)if(o=s[f],u=a[f],s.hasOwnProperty(f)&&(o!=null||u!=null))switch(f){case"value":M=o;break;case"defaultValue":R=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&Ee(e,t,f,o,s,u)}td(e,M,R);return;case"option":for(var X in a)M=a[X],a.hasOwnProperty(X)&&M!=null&&!s.hasOwnProperty(X)&&(X==="selected"?e.selected=!1:Ee(e,t,X,null,s,M));for(S in s)M=s[S],R=a[S],s.hasOwnProperty(S)&&M!==R&&(M!=null||R!=null)&&(S==="selected"?e.selected=M&&typeof M!="function"&&typeof M!="symbol":Ee(e,t,S,M,s,R));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in a)M=a[ne],a.hasOwnProperty(ne)&&M!=null&&!s.hasOwnProperty(ne)&&Ee(e,t,ne,null,s,M);for(L in s)if(M=s[L],R=a[L],s.hasOwnProperty(L)&&M!==R&&(M!=null||R!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(l(137,t));break;default:Ee(e,t,L,M,s,R)}return;default:if(Cl(t)){for(var Re in a)M=a[Re],a.hasOwnProperty(Re)&&M!==void 0&&!s.hasOwnProperty(Re)&&pu(e,t,Re,void 0,s,M);for(P in s)M=s[P],R=a[P],!s.hasOwnProperty(P)||M===R||M===void 0&&R===void 0||pu(e,t,P,M,s,R);return}}for(var C in a)M=a[C],a.hasOwnProperty(C)&&M!=null&&!s.hasOwnProperty(C)&&Ee(e,t,C,null,s,M);for(k in s)M=s[k],R=a[k],!s.hasOwnProperty(k)||M===R||M==null&&R==null||Ee(e,t,k,M,s,R)}function rf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $b(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],u=o.transferSize,f=o.initiatorType,x=o.duration;if(u&&x&&rf(f)){for(f=0,x=o.responseEnd,s+=1;s<a.length;s++){var S=a[s],L=S.startTime;if(L>x)break;var P=S.transferSize,k=S.initiatorType;P&&rf(k)&&(S=S.responseEnd,f+=P*(S<x?1:(x-L)/(S-L)))}if(--s,t+=8*(u+f)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fu=null,gu=null;function Mr(e){return e.nodeType===9?e:e.ownerDocument}function lf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function of(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vu=null;function Wb(){var e=window.event;return e&&e.type==="popstate"?e===vu?!1:(vu=e,!0):(vu=null,!1)}var uf=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,cf=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof cf<"u"?function(e){return cf.resolve(null).then(e).catch(a1)}:uf;function a1(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function df(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),rn(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")si(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,si(a);for(var u=a.firstChild;u;){var f=u.nextSibling,x=u.nodeName;u[Sn]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=f}}else a==="body"&&si(e.ownerDocument.body);a=o}while(a);rn(t)}function mf(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function bu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bu(a),_l(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function s1(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Sn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function n1(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vt(e.nextSibling),e===null))return null;return e}function pf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vt(e.nextSibling),e===null))return null;return e}function xu(e){return e.data==="$?"||e.data==="$~"}function yu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function i1(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Su=null;function ff(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Vt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function gf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function hf(e,t,a){switch(t=Mr(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function si(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_l(e)}var Ut=new Map,vf=new Set;function Er(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ga=G.d;G.d={f:r1,r:l1,D:o1,C:u1,L:c1,m:d1,X:p1,S:m1,M:f1};function r1(){var e=ga.f(),t=qr();return e||t}function l1(e){var t=js(e);t!==null&&t.tag===5&&t.type==="form"?Rm(t):ga.r(e)}var an=typeof document>"u"?null:document;function bf(e,t,a){var s=an;if(s&&typeof t=="string"&&t){var o=Mt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),vf.has(o)||(vf.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),nt(t,"link",e),$e(t),s.head.appendChild(t)))}}function o1(e){ga.D(e),bf("dns-prefetch",e,null)}function u1(e,t){ga.C(e,t),bf("preconnect",e,t)}function c1(e,t,a){ga.L(e,t,a);var s=an;if(s&&e&&t){var o='link[rel="preload"][as="'+Mt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Mt(a.imageSizes)+'"]')):o+='[href="'+Mt(e)+'"]';var u=o;switch(t){case"style":u=sn(e);break;case"script":u=nn(e)}Ut.has(u)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ut.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(ni(u))||t==="script"&&s.querySelector(ii(u))||(t=s.createElement("link"),nt(t,"link",e),$e(t),s.head.appendChild(t)))}}function d1(e,t){ga.m(e,t);var a=an;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Mt(s)+'"][href="'+Mt(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=nn(e)}if(!Ut.has(u)&&(e=b({rel:"modulepreload",href:e},t),Ut.set(u,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ii(u)))return}s=a.createElement("link"),nt(s,"link",e),$e(s),a.head.appendChild(s)}}}function m1(e,t,a){ga.S(e,t,a);var s=an;if(s&&e){var o=Ts(s).hoistableStyles,u=sn(e);t=t||"default";var f=o.get(u);if(!f){var x={loading:0,preload:null};if(f=s.querySelector(ni(u)))x.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ut.get(u))&&_u(e,a);var S=f=s.createElement("link");$e(S),nt(S,"link",e),S._p=new Promise(function(L,P){S.onload=L,S.onerror=P}),S.addEventListener("load",function(){x.loading|=1}),S.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Rr(f,t,s)}f={type:"stylesheet",instance:f,count:1,state:x},o.set(u,f)}}}function p1(e,t){ga.X(e,t);var a=an;if(a&&e){var s=Ts(a).hoistableScripts,o=nn(e),u=s.get(o);u||(u=a.querySelector(ii(o)),u||(e=b({src:e,async:!0},t),(t=Ut.get(o))&&qu(e,t),u=a.createElement("script"),$e(u),nt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function f1(e,t){ga.M(e,t);var a=an;if(a&&e){var s=Ts(a).hoistableScripts,o=nn(e),u=s.get(o);u||(u=a.querySelector(ii(o)),u||(e=b({src:e,async:!0,type:"module"},t),(t=Ut.get(o))&&qu(e,t),u=a.createElement("script"),$e(u),nt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function xf(e,t,a,s){var o=(o=ve.current)?Er(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=sn(a.href),a=Ts(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=sn(a.href);var u=Ts(o).hoistableStyles,f=u.get(e);if(f||(o=o.ownerDocument||o,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,f),(u=o.querySelector(ni(e)))&&!u._p&&(f.instance=u,f.state.loading=5),Ut.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ut.set(e,a),u||g1(o,e,a,f.state))),t&&s===null)throw Error(l(528,""));return f}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=nn(a),a=Ts(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function sn(e){return'href="'+Mt(e)+'"'}function ni(e){return'link[rel="stylesheet"]['+e+"]"}function yf(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function g1(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),nt(t,"link",a),$e(t),e.head.appendChild(t))}function nn(e){return'[src="'+Mt(e)+'"]'}function ii(e){return"script[async]"+e}function Sf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Mt(a.href)+'"]');if(s)return t.instance=s,$e(s),s;var o=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),$e(s),nt(s,"style",o),Rr(s,a.precedence,e),t.instance=s;case"stylesheet":o=sn(a.href);var u=e.querySelector(ni(o));if(u)return t.state.loading|=4,t.instance=u,$e(u),u;s=yf(a),(o=Ut.get(o))&&_u(s,o),u=(e.ownerDocument||e).createElement("link"),$e(u);var f=u;return f._p=new Promise(function(x,S){f.onload=x,f.onerror=S}),nt(u,"link",s),t.state.loading|=4,Rr(u,a.precedence,e),t.instance=u;case"script":return u=nn(a.src),(o=e.querySelector(ii(u)))?(t.instance=o,$e(o),o):(s=a,(o=Ut.get(u))&&(s=b({},a),qu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),$e(o),nt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Rr(s,a.precedence,e));return t.instance}function Rr(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,f=0;f<s.length;f++){var x=s[f];if(x.dataset.precedence===t)u=x;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function _u(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var zr=null;function _f(e,t,a){if(zr===null){var s=new Map,o=zr=new Map;o.set(a,s)}else o=zr,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Sn]||u[et]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var f=u.getAttribute(t)||"";f=e+f;var x=s.get(f);x?x.push(u):s.set(f,[u])}}return s}function qf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function h1(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function v1(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=sn(s.href),u=t.querySelector(ni(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Or.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,$e(u);return}u=t.ownerDocument||t,s=yf(s),(o=Ut.get(o))&&_u(s,o),u=u.createElement("link"),$e(u);var f=u;f._p=new Promise(function(x,S){f.onload=x,f.onerror=S}),nt(u,"link",s),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Or.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var ju=0;function b1(e,t){return e.stylesheets&&e.count===0&&Pr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Pr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&ju===0&&(ju=62500*$b());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Pr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>ju?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Or(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wr=null;function Pr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wr=new Map,t.forEach(x1,e),wr=null,Or.call(e))}function x1(e,t){if(!(t.state.loading&4)){var a=wr.get(e);if(a)var s=a.get(null);else{a=new Map,wr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var f=o[u];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(a.set(f.dataset.precedence,f),s=f)}s&&a.set(null,s)}o=t.instance,f=o.getAttribute("data-precedence"),u=a.get(f)||s,u===s&&a.set(null,o),a.set(f,o),this.count++,s=Or.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ri={$$typeof:J,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function y1(e,t,a,s,o,u,f,x,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bl(0),this.hiddenUpdates=bl(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Tf(e,t,a,s,o,u,f,x,S,L,P,k){return e=new y1(e,t,a,f,S,L,P,k,x),t=1,u===!0&&(t|=24),u=St(3,null,null,t),e.current=u,u.stateNode=e,t=ao(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:a,cache:t},ro(u),e}function Cf(e){return e?(e=Os,e):Os}function Af(e,t,a,s,o,u){o=Cf(o),s.context===null?s.context=o:s.pendingContext=o,s=Ea(t),s.payload={element:a},u=u===void 0?null:u,u!==null&&(s.callback=u),a=Ra(e,s,t),a!==null&&(gt(a,e,t),Vn(a,e,t))}function Df(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Tu(e,t){Df(e,t),(e=e.alternate)&&Df(e,t)}function Nf(e){if(e.tag===13||e.tag===31){var t=rs(e,67108864);t!==null&&gt(t,e,67108864),Tu(e,67108864)}}function Lf(e){if(e.tag===13||e.tag===31){var t=Ct();t=xl(t);var a=rs(e,t);a!==null&&gt(a,e,t),Tu(e,t)}}var Vr=!0;function S1(e,t,a,s){var o=E.T;E.T=null;var u=G.p;try{G.p=2,Cu(e,t,a,s)}finally{G.p=u,E.T=o}}function _1(e,t,a,s){var o=E.T;E.T=null;var u=G.p;try{G.p=8,Cu(e,t,a,s)}finally{G.p=u,E.T=o}}function Cu(e,t,a,s){if(Vr){var o=Au(s);if(o===null)mu(e,t,s,Ur,a),Ef(e,s);else if(j1(o,e,t,a,s))s.stopPropagation();else if(Ef(e,s),t&4&&-1<q1.indexOf(e)){for(;o!==null;){var u=js(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=ts(u.pendingLanes);if(f!==0){var x=u;for(x.pendingLanes|=2,x.entangledLanes|=2;f;){var S=1<<31-xt(f);x.entanglements[1]|=S,f&=~S}Qt(u),(Ce&6)===0&&(Sr=vt()+500,ei(0))}}break;case 31:case 13:x=rs(u,2),x!==null&&gt(x,u,2),qr(),Tu(u,2)}if(u=Au(s),u===null&&mu(e,t,s,Ur,a),u===o)break;o=u}o!==null&&s.stopPropagation()}else mu(e,t,s,null,a)}}function Au(e){return e=Dl(e),Du(e)}var Ur=null;function Du(e){if(Ur=null,e=qs(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=p(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ur=e,null}function Mf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ov()){case Vc:return 2;case Uc:return 8;case Di:case uv:return 32;case kc:return 268435456;default:return 32}default:return 32}}var Nu=!1,Ga=null,Ja=null,Fa=null,li=new Map,oi=new Map,Qa=[],q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ef(e,t){switch(e){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":li.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(t.pointerId)}}function ui(e,t,a,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=js(t),t!==null&&Nf(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function j1(e,t,a,s,o){switch(t){case"focusin":return Ga=ui(Ga,e,t,a,s,o),!0;case"dragenter":return Ja=ui(Ja,e,t,a,s,o),!0;case"mouseover":return Fa=ui(Fa,e,t,a,s,o),!0;case"pointerover":var u=o.pointerId;return li.set(u,ui(li.get(u)||null,e,t,a,s,o)),!0;case"gotpointercapture":return u=o.pointerId,oi.set(u,ui(oi.get(u)||null,e,t,a,s,o)),!0}return!1}function Rf(e){var t=qs(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=p(a),t!==null){e.blockedOn=t,Fc(e.priority,function(){Lf(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,Fc(e.priority,function(){Lf(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Au(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Al=s,a.target.dispatchEvent(s),Al=null}else return t=js(a),t!==null&&Nf(t),e.blockedOn=a,!1;t.shift()}return!0}function zf(e,t,a){kr(e)&&a.delete(t)}function T1(){Nu=!1,Ga!==null&&kr(Ga)&&(Ga=null),Ja!==null&&kr(Ja)&&(Ja=null),Fa!==null&&kr(Fa)&&(Fa=null),li.forEach(zf),oi.forEach(zf)}function Ir(e,t){e.blockedOn===t&&(e.blockedOn=null,Nu||(Nu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,T1)))}var Br=null;function Of(e){Br!==e&&(Br=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Br===e&&(Br=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Du(s||a)===null)continue;break}var u=js(a);u!==null&&(e.splice(t,3),t-=3,Ao(u,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function rn(e){function t(S){return Ir(S,e)}Ga!==null&&Ir(Ga,e),Ja!==null&&Ir(Ja,e),Fa!==null&&Ir(Fa,e),li.forEach(t),oi.forEach(t);for(var a=0;a<Qa.length;a++){var s=Qa[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Qa.length&&(a=Qa[0],a.blockedOn===null);)Rf(a),a.blockedOn===null&&Qa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],u=a[s+1],f=o[ut]||null;if(typeof u=="function")f||Of(a);else if(f){var x=null;if(u&&u.hasAttribute("formAction")){if(o=u,f=u[ut]||null)x=f.formAction;else if(Du(o)!==null)continue}else x=f.action;typeof x=="function"?a[s+1]=x:(a.splice(s,3),s-=3),Of(a)}}}function wf(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(f){return o=f})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Lu(e){this._internalRoot=e}Hr.prototype.render=Lu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=Ct();Af(a,s,e,t,null,null)},Hr.prototype.unmount=Lu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Af(e.current,2,null,e,null,null),qr(),t[_s]=null}};function Hr(e){this._internalRoot=e}Hr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Qa.length&&t!==0&&t<Qa[a].priority;a++);Qa.splice(a,0,e),a===0&&Rf(e)}};var Pf=i.version;if(Pf!=="19.2.3")throw Error(l(527,Pf,"19.2.3"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=v(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var C1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gr.isDisabled&&Gr.supportsFiber)try{bn=Gr.inject(C1),bt=Gr}catch{}}return di.createRoot=function(e,t){if(!c(e))throw Error(l(299));var a=!1,s="",o=Hm,u=Gm,f=Jm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Tf(e,1,!1,null,null,a,s,null,o,u,f,wf),e[_s]=t.current,du(e),new Lu(t)},di.hydrateRoot=function(e,t,a){if(!c(e))throw Error(l(299));var s=!1,o="",u=Hm,f=Gm,x=Jm,S=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=Tf(e,1,!0,t,a??null,s,o,S,u,f,x,wf),t.context=Cf(null),a=t.current,s=Ct(),s=xl(s),o=Ea(s),o.callback=null,Ra(a,o,s),a=s,t.current.lanes=a,yn(t,a),Qt(t),e[_s]=t.current,du(e),new Hr(t)},di.version="19.2.3",di}var Qf;function w1(){if(Qf)return Ru.exports;Qf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),Ru.exports=O1(),Ru.exports}var P1=w1();const V1=hc(P1);var Yf="popstate";function U1(n={}){function i(c,d){let{pathname:p="/",search:g="",hash:h=""}=Ss(c.location.hash.substring(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),$u("",{pathname:p,search:g,hash:h},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function r(c,d){let p=c.document.querySelector("base"),g="";if(p&&p.getAttribute("href")){let h=c.location.href,v=h.indexOf("#");g=v===-1?h:h.slice(0,v)}return g+"#"+(typeof d=="string"?d:bi(d))}function l(c,d){ht(c.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(d)})`)}return I1(i,r,l,n)}function Ie(n,i){if(n===!1||n===null||typeof n>"u")throw new Error(i)}function ht(n,i){if(!n){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function k1(){return Math.random().toString(36).substring(2,10)}function Kf(n,i){return{usr:n.state,key:n.key,idx:i}}function $u(n,i,r=null,l){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof i=="string"?Ss(i):i,state:r,key:i&&i.key||l||k1()}}function bi({pathname:n="/",search:i="",hash:r=""}){return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Ss(n){let i={};if(n){let r=n.indexOf("#");r>=0&&(i.hash=n.substring(r),n=n.substring(0,r));let l=n.indexOf("?");l>=0&&(i.search=n.substring(l),n=n.substring(0,l)),n&&(i.pathname=n)}return i}function I1(n,i,r,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,p=c.history,g="POP",h=null,v=y();v==null&&(v=0,p.replaceState({...p.state,idx:v},""));function y(){return(p.state||{idx:null}).idx}function b(){g="POP";let w=y(),I=w==null?null:w-v;v=w,h&&h({action:g,location:z.location,delta:I})}function T(w,I){g="PUSH";let B=$u(z.location,w,I);r&&r(B,w),v=y()+1;let J=Kf(B,v),ee=z.createHref(B);try{p.pushState(J,"",ee)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;c.location.assign(ee)}d&&h&&h({action:g,location:z.location,delta:1})}function j(w,I){g="REPLACE";let B=$u(z.location,w,I);r&&r(B,w),v=y();let J=Kf(B,v),ee=z.createHref(B);p.replaceState(J,"",ee),d&&h&&h({action:g,location:z.location,delta:0})}function D(w){return B1(w)}let z={get action(){return g},get location(){return n(c,p)},listen(w){if(h)throw new Error("A history only accepts one active listener");return c.addEventListener(Yf,b),h=w,()=>{c.removeEventListener(Yf,b),h=null}},createHref(w){return i(c,w)},createURL:D,encodeLocation(w){let I=D(w);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:T,replace:j,go(w){return p.go(w)}};return z}function B1(n,i=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(r,"No window.location.(origin|href) available to create URL");let l=typeof n=="string"?n:bi(n);return l=l.replace(/ $/,"%20"),!i&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function wg(n,i,r="/"){return H1(n,i,r,!1)}function H1(n,i,r,l){let c=typeof i=="string"?Ss(i):i,d=Sa(c.pathname||"/",r);if(d==null)return null;let p=Pg(n);G1(p);let g=null;for(let h=0;g==null&&h<p.length;++h){let v=tx(d);g=W1(p[h],v,l)}return g}function Pg(n,i=[],r=[],l="",c=!1){let d=(p,g,h=c,v)=>{let y={relativePath:v===void 0?p.path||"":v,caseSensitive:p.caseSensitive===!0,childrenIndex:g,route:p};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(l)&&h)return;Ie(y.relativePath.startsWith(l),`Absolute route path "${y.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(l.length)}let b=ya([l,y.relativePath]),T=r.concat(y);p.children&&p.children.length>0&&(Ie(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Pg(p.children,i,T,b,h)),!(p.path==null&&!p.index)&&i.push({path:b,score:X1(b,p.index),routesMeta:T})};return n.forEach((p,g)=>{if(p.path===""||!p.path?.includes("?"))d(p,g);else for(let h of Vg(p.path))d(p,g,!0,h)}),i}function Vg(n){let i=n.split("/");if(i.length===0)return[];let[r,...l]=i,c=r.endsWith("?"),d=r.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let p=Vg(l.join("/")),g=[];return g.push(...p.map(h=>h===""?d:[d,h].join("/"))),c&&g.push(...p),g.map(h=>n.startsWith("/")&&h===""?"/":h)}function G1(n){n.sort((i,r)=>i.score!==r.score?r.score-i.score:$1(i.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var J1=/^:[\w-]+$/,F1=3,Q1=2,Y1=1,K1=10,Z1=-2,Zf=n=>n==="*";function X1(n,i){let r=n.split("/"),l=r.length;return r.some(Zf)&&(l+=Z1),i&&(l+=Q1),r.filter(c=>!Zf(c)).reduce((c,d)=>c+(J1.test(d)?F1:d===""?Y1:K1),l)}function $1(n,i){return n.length===i.length&&n.slice(0,-1).every((l,c)=>l===i[c])?n[n.length-1]-i[i.length-1]:0}function W1(n,i,r=!1){let{routesMeta:l}=n,c={},d="/",p=[];for(let g=0;g<l.length;++g){let h=l[g],v=g===l.length-1,y=d==="/"?i:i.slice(d.length)||"/",b=Zr({path:h.relativePath,caseSensitive:h.caseSensitive,end:v},y),T=h.route;if(!b&&v&&r&&!l[l.length-1].route.index&&(b=Zr({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!b)return null;Object.assign(c,b.params),p.push({params:c,pathname:ya([d,b.pathname]),pathnameBase:ix(ya([d,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(d=ya([d,b.pathnameBase]))}return p}function Zr(n,i){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,l]=ex(n.path,n.caseSensitive,n.end),c=i.match(r);if(!c)return null;let d=c[0],p=d.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:l.reduce((v,{paramName:y,isOptional:b},T)=>{if(y==="*"){let D=g[T]||"";p=d.slice(0,d.length-D.length).replace(/(.)\/+$/,"$1")}const j=g[T];return b&&!j?v[y]=void 0:v[y]=(j||"").replace(/%2F/g,"/"),v},{}),pathname:d,pathnameBase:p,pattern:n}}function ex(n,i=!1,r=!0){ht(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let l=[],c="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,g,h)=>(l.push({paramName:g,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(l.push({paramName:"*"}),c+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":n!==""&&n!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),l]}function tx(n){try{return n.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return ht(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),n}}function Sa(n,i){if(i==="/")return n;if(!n.toLowerCase().startsWith(i.toLowerCase()))return null;let r=i.endsWith("/")?i.length-1:i.length,l=n.charAt(r);return l&&l!=="/"?null:n.slice(r)||"/"}var Ug=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ax=n=>Ug.test(n);function sx(n,i="/"){let{pathname:r,search:l="",hash:c=""}=typeof n=="string"?Ss(n):n,d;if(r)if(ax(r))d=r;else{if(r.includes("//")){let p=r;r=r.replace(/\/\/+/g,"/"),ht(!1,`Pathnames cannot have embedded double slashes - normalizing ${p} -> ${r}`)}r.startsWith("/")?d=Xf(r.substring(1),"/"):d=Xf(r,i)}else d=i;return{pathname:d,search:rx(l),hash:lx(c)}}function Xf(n,i){let r=i.replace(/\/+$/,"").split("/");return n.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function Pu(n,i,r,l){return`Cannot include a '${n}' character in a manually specified \`to.${i}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nx(n){return n.filter((i,r)=>r===0||i.route.path&&i.route.path.length>0)}function vc(n){let i=nx(n);return i.map((r,l)=>l===i.length-1?r.pathname:r.pathnameBase)}function bc(n,i,r,l=!1){let c;typeof n=="string"?c=Ss(n):(c={...n},Ie(!c.pathname||!c.pathname.includes("?"),Pu("?","pathname","search",c)),Ie(!c.pathname||!c.pathname.includes("#"),Pu("#","pathname","hash",c)),Ie(!c.search||!c.search.includes("#"),Pu("#","search","hash",c)));let d=n===""||c.pathname==="",p=d?"/":c.pathname,g;if(p==null)g=r;else{let b=i.length-1;if(!l&&p.startsWith("..")){let T=p.split("/");for(;T[0]==="..";)T.shift(),b-=1;c.pathname=T.join("/")}g=b>=0?i[b]:"/"}let h=sx(c,g),v=p&&p!=="/"&&p.endsWith("/"),y=(d||p===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(v||y)&&(h.pathname+="/"),h}var ya=n=>n.join("/").replace(/\/\/+/g,"/"),ix=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,lx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,ox=class{constructor(n,i,r,l=!1){this.status=n,this.statusText=i||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function ux(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function cx(n){return n.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var kg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ig(n,i){let r=n;if(typeof r!="string"||!Ug.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let l=r,c=!1;if(kg)try{let d=new URL(window.location.href),p=r.startsWith("//")?new URL(d.protocol+r):new URL(r),g=Sa(p.pathname,i);p.origin===d.origin&&g!=null?r=g+p.search+p.hash:c=!0}catch{ht(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:c,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Bg=["POST","PUT","PATCH","DELETE"];new Set(Bg);var dx=["GET",...Bg];new Set(dx);var mn=A.createContext(null);mn.displayName="DataRouter";var sl=A.createContext(null);sl.displayName="DataRouterState";var mx=A.createContext(!1),Hg=A.createContext({isTransitioning:!1});Hg.displayName="ViewTransition";var px=A.createContext(new Map);px.displayName="Fetchers";var fx=A.createContext(null);fx.displayName="Await";var Nt=A.createContext(null);Nt.displayName="Navigation";var _i=A.createContext(null);_i.displayName="Location";var kt=A.createContext({outlet:null,matches:[],isDataRoute:!1});kt.displayName="Route";var xc=A.createContext(null);xc.displayName="RouteError";var Gg="REACT_ROUTER_ERROR",gx="REDIRECT",hx="ROUTE_ERROR_RESPONSE";function vx(n){if(n.startsWith(`${Gg}:${gx}:{`))try{let i=JSON.parse(n.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function bx(n){if(n.startsWith(`${Gg}:${hx}:{`))try{let i=JSON.parse(n.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new ox(i.status,i.statusText,i.data)}catch{}}function xx(n,{relative:i}={}){Ie(pn(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=A.useContext(Nt),{hash:c,pathname:d,search:p}=qi(n,{relative:i}),g=d;return r!=="/"&&(g=d==="/"?r:ya([r,d])),l.createHref({pathname:g,search:p,hash:c})}function pn(){return A.useContext(_i)!=null}function Xt(){return Ie(pn(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(_i).location}var Jg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fg(n){A.useContext(Nt).static||A.useLayoutEffect(n)}function nl(){let{isDataRoute:n}=A.useContext(kt);return n?Ox():yx()}function yx(){Ie(pn(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext(mn),{basename:i,navigator:r}=A.useContext(Nt),{matches:l}=A.useContext(kt),{pathname:c}=Xt(),d=JSON.stringify(vc(l)),p=A.useRef(!1);return Fg(()=>{p.current=!0}),A.useCallback((h,v={})=>{if(ht(p.current,Jg),!p.current)return;if(typeof h=="number"){r.go(h);return}let y=bc(h,JSON.parse(d),c,v.relative==="path");n==null&&i!=="/"&&(y.pathname=y.pathname==="/"?i:ya([i,y.pathname])),(v.replace?r.replace:r.push)(y,v.state,v)},[i,r,d,c,n])}var Sx=A.createContext(null);function _x(n){let i=A.useContext(kt).outlet;return A.useMemo(()=>i&&A.createElement(Sx.Provider,{value:n},i),[i,n])}function qx(){let{matches:n}=A.useContext(kt),i=n[n.length-1];return i?i.params:{}}function qi(n,{relative:i}={}){let{matches:r}=A.useContext(kt),{pathname:l}=Xt(),c=JSON.stringify(vc(r));return A.useMemo(()=>bc(n,JSON.parse(c),l,i==="path"),[n,c,l,i])}function jx(n,i){return Qg(n,i)}function Qg(n,i,r,l,c){Ie(pn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=A.useContext(Nt),{matches:p}=A.useContext(kt),g=p[p.length-1],h=g?g.params:{},v=g?g.pathname:"/",y=g?g.pathnameBase:"/",b=g&&g.route;{let B=b&&b.path||"";Kg(v,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=Xt(),j;if(i){let B=typeof i=="string"?Ss(i):i;Ie(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),j=B}else j=T;let D=j.pathname||"/",z=D;if(y!=="/"){let B=y.replace(/^\//,"").split("/");z="/"+D.replace(/^\//,"").split("/").slice(B.length).join("/")}let w=wg(n,{pathname:z});ht(b||w!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ht(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=Nx(w&&w.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:ya([y,d.encodeLocation?d.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:ya([y,d.encodeLocation?d.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),p,r,l,c);return i&&I?A.createElement(_i.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},I):I}function Tx(){let n=zx(),i=ux(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},p=null;return console.error("Error handled by React Router default ErrorBoundary:",n),p=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:d},"ErrorBoundary")," or"," ",A.createElement("code",{style:d},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},i),r?A.createElement("pre",{style:c},r):null,p)}var Cx=A.createElement(Tx,null),Yg=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,i){return i.location!==n.location||i.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:i.error,location:i.location,revalidation:n.revalidation||i.revalidation}}componentDidCatch(n,i){this.props.onError?this.props.onError(n,i):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const r=bx(n.digest);r&&(n=r)}let i=n!==void 0?A.createElement(kt.Provider,{value:this.props.routeContext},A.createElement(xc.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?A.createElement(Ax,{error:n},i):i}};Yg.contextType=mx;var Vu=new WeakMap;function Ax({children:n,error:i}){let{basename:r}=A.useContext(Nt);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let l=vx(i.digest);if(l){let c=Vu.get(i);if(c)throw c;let d=Ig(l.location,r);if(kg&&!Vu.get(i))if(d.isExternal||l.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:l.replace}));throw Vu.set(i,p),p}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return n}function Dx({routeContext:n,match:i,children:r}){let l=A.useContext(mn);return l&&l.static&&l.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=i.route.id),A.createElement(kt.Provider,{value:n},r)}function Nx(n,i=[],r=null,l=null,c=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(i.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let d=n,p=r?.errors;if(p!=null){let y=d.findIndex(b=>b.route.id&&p?.[b.route.id]!==void 0);Ie(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),d=d.slice(0,Math.min(d.length,y+1))}let g=!1,h=-1;if(r)for(let y=0;y<d.length;y++){let b=d[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(h=y),b.route.id){let{loaderData:T,errors:j}=r,D=b.route.loader&&!T.hasOwnProperty(b.route.id)&&(!j||j[b.route.id]===void 0);if(b.route.lazy||D){g=!0,h>=0?d=d.slice(0,h+1):d=[d[0]];break}}}let v=r&&l?(y,b)=>{l(y,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:cx(r.matches),errorInfo:b})}:void 0;return d.reduceRight((y,b,T)=>{let j,D=!1,z=null,w=null;r&&(j=p&&b.route.id?p[b.route.id]:void 0,z=b.route.errorElement||Cx,g&&(h<0&&T===0?(Kg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,w=null):h===T&&(D=!0,w=b.route.hydrateFallbackElement||null)));let I=i.concat(d.slice(0,T+1)),B=()=>{let J;return j?J=z:D?J=w:b.route.Component?J=A.createElement(b.route.Component,null):b.route.element?J=b.route.element:J=y,A.createElement(Dx,{match:b,routeContext:{outlet:y,matches:I,isDataRoute:r!=null},children:J})};return r&&(b.route.ErrorBoundary||b.route.errorElement||T===0)?A.createElement(Yg,{location:r.location,revalidation:r.revalidation,component:z,error:j,children:B(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:v}):B()},null)}function yc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lx(n){let i=A.useContext(mn);return Ie(i,yc(n)),i}function Mx(n){let i=A.useContext(sl);return Ie(i,yc(n)),i}function Ex(n){let i=A.useContext(kt);return Ie(i,yc(n)),i}function Sc(n){let i=Ex(n),r=i.matches[i.matches.length-1];return Ie(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function Rx(){return Sc("useRouteId")}function zx(){let n=A.useContext(xc),i=Mx("useRouteError"),r=Sc("useRouteError");return n!==void 0?n:i.errors?.[r]}function Ox(){let{router:n}=Lx("useNavigate"),i=Sc("useNavigate"),r=A.useRef(!1);return Fg(()=>{r.current=!0}),A.useCallback(async(c,d={})=>{ht(r.current,Jg),r.current&&(typeof c=="number"?await n.navigate(c):await n.navigate(c,{fromRouteId:i,...d}))},[n,i])}var $f={};function Kg(n,i,r){!i&&!$f[n]&&($f[n]=!0,ht(!1,r))}A.memo(wx);function wx({routes:n,future:i,state:r,onError:l}){return Qg(n,void 0,r,l,i)}function Wf({to:n,replace:i,state:r,relative:l}){Ie(pn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=A.useContext(Nt);ht(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=A.useContext(kt),{pathname:p}=Xt(),g=nl(),h=bc(n,vc(d),p,l==="path"),v=JSON.stringify(h);return A.useEffect(()=>{g(JSON.parse(v),{replace:i,state:r,relative:l})},[g,v,l,i,r]),null}function Px(n){return _x(n.context)}function va(n){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vx({basename:n="/",children:i=null,location:r,navigationType:l="POP",navigator:c,static:d=!1,unstable_useTransitions:p}){Ie(!pn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=n.replace(/^\/*/,"/"),h=A.useMemo(()=>({basename:g,navigator:c,static:d,unstable_useTransitions:p,future:{}}),[g,c,d,p]);typeof r=="string"&&(r=Ss(r));let{pathname:v="/",search:y="",hash:b="",state:T=null,key:j="default"}=r,D=A.useMemo(()=>{let z=Sa(v,g);return z==null?null:{location:{pathname:z,search:y,hash:b,state:T,key:j},navigationType:l}},[g,v,y,b,T,j,l]);return ht(D!=null,`<Router basename="${g}"> is not able to match the URL "${v}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:A.createElement(Nt.Provider,{value:h},A.createElement(_i.Provider,{children:i,value:D}))}function Ux({children:n,location:i}){return jx(Wu(n),i)}function Wu(n,i=[]){let r=[];return A.Children.forEach(n,(l,c)=>{if(!A.isValidElement(l))return;let d=[...i,c];if(l.type===A.Fragment){r.push.apply(r,Wu(l.props.children,d));return}Ie(l.type===va,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!l.props.index||!l.props.children,"An index route cannot have child routes.");let p={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(p.children=Wu(l.props.children,d)),r.push(p)}),r}var Yr="get",Kr="application/x-www-form-urlencoded";function il(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function kx(n){return il(n)&&n.tagName.toLowerCase()==="button"}function Ix(n){return il(n)&&n.tagName.toLowerCase()==="form"}function Bx(n){return il(n)&&n.tagName.toLowerCase()==="input"}function Hx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Gx(n,i){return n.button===0&&(!i||i==="_self")&&!Hx(n)}function ec(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((i,r)=>{let l=n[r];return i.concat(Array.isArray(l)?l.map(c=>[r,c]):[[r,l]])},[]))}function Jx(n,i){let r=ec(n);return i&&i.forEach((l,c)=>{r.has(c)||i.getAll(c).forEach(d=>{r.append(c,d)})}),r}var Jr=null;function Fx(){if(Jr===null)try{new FormData(document.createElement("form"),0),Jr=!1}catch{Jr=!0}return Jr}var Qx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uu(n){return n!=null&&!Qx.has(n)?(ht(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kr}"`),null):n}function Yx(n,i){let r,l,c,d,p;if(Ix(n)){let g=n.getAttribute("action");l=g?Sa(g,i):null,r=n.getAttribute("method")||Yr,c=Uu(n.getAttribute("enctype"))||Kr,d=new FormData(n)}else if(kx(n)||Bx(n)&&(n.type==="submit"||n.type==="image")){let g=n.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||g.getAttribute("action");if(l=h?Sa(h,i):null,r=n.getAttribute("formmethod")||g.getAttribute("method")||Yr,c=Uu(n.getAttribute("formenctype"))||Uu(g.getAttribute("enctype"))||Kr,d=new FormData(g,n),!Fx()){let{name:v,type:y,value:b}=n;if(y==="image"){let T=v?`${v}.`:"";d.append(`${T}x`,"0"),d.append(`${T}y`,"0")}else v&&d.append(v,b)}}else{if(il(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Yr,l=null,c=Kr,p=n}return d&&c==="text/plain"&&(p=d,d=void 0),{action:l,method:r.toLowerCase(),encType:c,formData:d,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _c(n,i){if(n===!1||n===null||typeof n>"u")throw new Error(i)}function Kx(n,i,r){let l=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return l.pathname==="/"?l.pathname=`_root.${r}`:i&&Sa(l.pathname,i)==="/"?l.pathname=`${i.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function Zx(n,i){if(n.id in i)return i[n.id];try{let r=await import(n.module);return i[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $x(n,i,r){let l=await Promise.all(n.map(async c=>{let d=i.routes[c.route.id];if(d){let p=await Zx(d,r);return p.links?p.links():[]}return[]}));return a0(l.flat(1).filter(Xx).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function eg(n,i,r,l,c,d){let p=(h,v)=>r[v]?h.route.id!==r[v].route.id:!0,g=(h,v)=>r[v].pathname!==h.pathname||r[v].route.path?.endsWith("*")&&r[v].params["*"]!==h.params["*"];return d==="assets"?i.filter((h,v)=>p(h,v)||g(h,v)):d==="data"?i.filter((h,v)=>{let y=l.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(p(h,v)||g(h,v))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Wx(n,i,{includeHydrateFallback:r}={}){return e0(n.map(l=>{let c=i.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),r&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function e0(n){return[...new Set(n)]}function t0(n){let i={},r=Object.keys(n).sort();for(let l of r)i[l]=n[l];return i}function a0(n,i){let r=new Set;return new Set(i),n.reduce((l,c)=>{let d=JSON.stringify(t0(c));return r.has(d)||(r.add(d),l.push({key:d,link:c})),l},[])}function Zg(){let n=A.useContext(mn);return _c(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function s0(){let n=A.useContext(sl);return _c(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var qc=A.createContext(void 0);qc.displayName="FrameworkContext";function Xg(){let n=A.useContext(qc);return _c(n,"You must render this element inside a <HydratedRouter> element"),n}function n0(n,i){let r=A.useContext(qc),[l,c]=A.useState(!1),[d,p]=A.useState(!1),{onFocus:g,onBlur:h,onMouseEnter:v,onMouseLeave:y,onTouchStart:b}=i,T=A.useRef(null);A.useEffect(()=>{if(n==="render"&&p(!0),n==="viewport"){let z=I=>{I.forEach(B=>{p(B.isIntersecting)})},w=new IntersectionObserver(z,{threshold:.5});return T.current&&w.observe(T.current),()=>{w.disconnect()}}},[n]),A.useEffect(()=>{if(l){let z=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(z)}}},[l]);let j=()=>{c(!0)},D=()=>{c(!1),p(!1)};return r?n!=="intent"?[d,T,{}]:[d,T,{onFocus:mi(g,j),onBlur:mi(h,D),onMouseEnter:mi(v,j),onMouseLeave:mi(y,D),onTouchStart:mi(b,j)}]:[!1,T,{}]}function mi(n,i){return r=>{n&&n(r),r.defaultPrevented||i(r)}}function i0({page:n,...i}){let{router:r}=Zg(),l=A.useMemo(()=>wg(r.routes,n,r.basename),[r.routes,n,r.basename]);return l?A.createElement(l0,{page:n,matches:l,...i}):null}function r0(n){let{manifest:i,routeModules:r}=Xg(),[l,c]=A.useState([]);return A.useEffect(()=>{let d=!1;return $x(n,i,r).then(p=>{d||c(p)}),()=>{d=!0}},[n,i,r]),l}function l0({page:n,matches:i,...r}){let l=Xt(),{manifest:c,routeModules:d}=Xg(),{basename:p}=Zg(),{loaderData:g,matches:h}=s0(),v=A.useMemo(()=>eg(n,i,h,c,l,"data"),[n,i,h,c,l]),y=A.useMemo(()=>eg(n,i,h,c,l,"assets"),[n,i,h,c,l]),b=A.useMemo(()=>{if(n===l.pathname+l.search+l.hash)return[];let D=new Set,z=!1;if(i.forEach(I=>{let B=c.routes[I.route.id];!B||!B.hasLoader||(!v.some(J=>J.route.id===I.route.id)&&I.route.id in g&&d[I.route.id]?.shouldRevalidate||B.hasClientLoader?z=!0:D.add(I.route.id))}),D.size===0)return[];let w=Kx(n,p,"data");return z&&D.size>0&&w.searchParams.set("_routes",i.filter(I=>D.has(I.route.id)).map(I=>I.route.id).join(",")),[w.pathname+w.search]},[p,g,l,c,v,i,n,d]),T=A.useMemo(()=>Wx(y,c),[y,c]),j=r0(y);return A.createElement(A.Fragment,null,b.map(D=>A.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...r})),T.map(D=>A.createElement("link",{key:D,rel:"modulepreload",href:D,...r})),j.map(({key:D,link:z})=>A.createElement("link",{key:D,nonce:r.nonce,...z})))}function o0(...n){return i=>{n.forEach(r=>{typeof r=="function"?r(i):r!=null&&(r.current=i)})}}var u0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u0&&(window.__reactRouterVersion="7.11.0")}catch{}function c0({basename:n,children:i,unstable_useTransitions:r,window:l}){let c=A.useRef();c.current==null&&(c.current=U1({window:l,v5Compat:!0}));let d=c.current,[p,g]=A.useState({action:d.action,location:d.location}),h=A.useCallback(v=>{r===!1?g(v):A.startTransition(()=>g(v))},[r]);return A.useLayoutEffect(()=>d.listen(h),[d,h]),A.createElement(Vx,{basename:n,children:i,location:p.location,navigationType:p.action,navigator:d,unstable_useTransitions:r})}var $g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zt=A.forwardRef(function({onClick:i,discover:r="render",prefetch:l="none",relative:c,reloadDocument:d,replace:p,state:g,target:h,to:v,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:T,...j},D){let{basename:z,unstable_useTransitions:w}=A.useContext(Nt),I=typeof v=="string"&&$g.test(v),B=Ig(v,z);v=B.to;let J=xx(v,{relative:c}),[ee,ie,Q]=n0(l,j),H=p0(v,{replace:p,state:g,target:h,preventScrollReset:y,relative:c,viewTransition:b,unstable_defaultShouldRevalidate:T,unstable_useTransitions:w});function $(ae){i&&i(ae),ae.defaultPrevented||H(ae)}let Y=A.createElement("a",{...j,...Q,href:B.absoluteURL||J,onClick:B.isExternal||d?i:$,ref:o0(D,ie),target:h,"data-discover":!I&&r==="render"?"true":void 0});return ee&&!I?A.createElement(A.Fragment,null,Y,A.createElement(i0,{page:J})):Y});Zt.displayName="Link";var tc=A.forwardRef(function({"aria-current":i="page",caseSensitive:r=!1,className:l="",end:c=!1,style:d,to:p,viewTransition:g,children:h,...v},y){let b=qi(p,{relative:v.relative}),T=Xt(),j=A.useContext(sl),{navigator:D,basename:z}=A.useContext(Nt),w=j!=null&&b0(b)&&g===!0,I=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,B=T.pathname,J=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;r||(B=B.toLowerCase(),J=J?J.toLowerCase():null,I=I.toLowerCase()),J&&z&&(J=Sa(J,z)||J);const ee=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let ie=B===I||!c&&B.startsWith(I)&&B.charAt(ee)==="/",Q=J!=null&&(J===I||!c&&J.startsWith(I)&&J.charAt(I.length)==="/"),H={isActive:ie,isPending:Q,isTransitioning:w},$=ie?i:void 0,Y;typeof l=="function"?Y=l(H):Y=[l,ie?"active":null,Q?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let ae=typeof d=="function"?d(H):d;return A.createElement(Zt,{...v,"aria-current":$,className:Y,ref:y,style:ae,to:p,viewTransition:g},typeof h=="function"?h(H):h)});tc.displayName="NavLink";var d0=A.forwardRef(({discover:n="render",fetcherKey:i,navigate:r,reloadDocument:l,replace:c,state:d,method:p=Yr,action:g,onSubmit:h,relative:v,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:T,...j},D)=>{let{unstable_useTransitions:z}=A.useContext(Nt),w=h0(),I=v0(g,{relative:v}),B=p.toLowerCase()==="get"?"get":"post",J=typeof g=="string"&&$g.test(g),ee=ie=>{if(h&&h(ie),ie.defaultPrevented)return;ie.preventDefault();let Q=ie.nativeEvent.submitter,H=Q?.getAttribute("formmethod")||p,$=()=>w(Q||ie.currentTarget,{fetcherKey:i,method:H,navigate:r,replace:c,state:d,relative:v,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:T});z&&r!==!1?A.startTransition(()=>$()):$()};return A.createElement("form",{ref:D,method:B,action:I,onSubmit:l?h:ee,...j,"data-discover":!J&&n==="render"?"true":void 0})});d0.displayName="Form";function m0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wg(n){let i=A.useContext(mn);return Ie(i,m0(n)),i}function p0(n,{target:i,replace:r,state:l,preventScrollReset:c,relative:d,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:h}={}){let v=nl(),y=Xt(),b=qi(n,{relative:d});return A.useCallback(T=>{if(Gx(T,i)){T.preventDefault();let j=r!==void 0?r:bi(y)===bi(b),D=()=>v(n,{replace:j,state:l,preventScrollReset:c,relative:d,viewTransition:p,unstable_defaultShouldRevalidate:g});h?A.startTransition(()=>D()):D()}},[y,v,b,r,l,i,n,c,d,p,g,h])}function jc(n){ht(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=A.useRef(ec(n)),r=A.useRef(!1),l=Xt(),c=A.useMemo(()=>Jx(l.search,r.current?null:i.current),[l.search]),d=nl(),p=A.useCallback((g,h)=>{const v=ec(typeof g=="function"?g(new URLSearchParams(c)):g);r.current=!0,d("?"+v,h)},[d,c]);return[c,p]}var f0=0,g0=()=>`__${String(++f0)}__`;function h0(){let{router:n}=Wg("useSubmit"),{basename:i}=A.useContext(Nt),r=Rx(),l=n.fetch,c=n.navigate;return A.useCallback(async(d,p={})=>{let{action:g,method:h,encType:v,formData:y,body:b}=Yx(d,i);if(p.navigate===!1){let T=p.fetcherKey||g0();await l(T,r,p.action||g,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:y,body:b,formMethod:p.method||h,formEncType:p.encType||v,flushSync:p.flushSync})}else await c(p.action||g,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:y,body:b,formMethod:p.method||h,formEncType:p.encType||v,replace:p.replace,state:p.state,fromRouteId:r,flushSync:p.flushSync,viewTransition:p.viewTransition})},[l,c,i,r])}function v0(n,{relative:i}={}){let{basename:r}=A.useContext(Nt),l=A.useContext(kt);Ie(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={...qi(n||".",{relative:i})},p=Xt();if(n==null){d.search=p.search;let g=new URLSearchParams(d.search),h=g.getAll("index");if(h.some(y=>y==="")){g.delete("index"),h.filter(b=>b).forEach(b=>g.append("index",b));let y=g.toString();d.search=y?`?${y}`:""}}return(!n||n===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(d.pathname=d.pathname==="/"?r:ya([r,d.pathname])),bi(d)}function b0(n,{relative:i}={}){let r=A.useContext(Hg);Ie(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Wg("useViewTransitionState"),c=qi(n,{relative:i});if(!r.isTransitioning)return!1;let d=Sa(r.currentLocation.pathname,l)||r.currentLocation.pathname,p=Sa(r.nextLocation.pathname,l)||r.nextLocation.pathname;return Zr(c.pathname,p)!=null||Zr(c.pathname,d)!=null}const x0=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y0=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,r,l)=>l?l.toUpperCase():r.toLowerCase()),tg=n=>{const i=y0(n);return i.charAt(0).toUpperCase()+i.slice(1)},eh=(...n)=>n.filter((i,r,l)=>!!i&&i.trim()!==""&&l.indexOf(i)===r).join(" ").trim(),S0=n=>{for(const i in n)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};var _0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const q0=A.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:p,...g},h)=>A.createElement("svg",{ref:h,..._0,width:i,height:i,stroke:n,strokeWidth:l?Number(r)*24/Number(i):r,className:eh("lucide",c),...!d&&!S0(g)&&{"aria-hidden":"true"},...g},[...p.map(([v,y])=>A.createElement(v,y)),...Array.isArray(d)?d:[d]]));const fe=(n,i)=>{const r=A.forwardRef(({className:l,...c},d)=>A.createElement(q0,{ref:d,iconNode:i,className:eh(`lucide-${x0(tg(n))}`,`lucide-${n}`,l),...c}));return r.displayName=tg(n),r};const j0=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ji=fe("book-open",j0);const T0=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],C0=fe("brain",T0);const A0=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],th=fe("building-2",A0);const D0=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],N0=fe("clock",D0);const L0=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],rl=fe("cloud",L0);const M0=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],E0=fe("compass",M0);const R0=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z0=fe("eye",R0);const O0=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],w0=fe("flame",O0);const P0=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],V0=fe("funnel",P0);const U0=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],k0=fe("ghost",U0);const I0=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],B0=fe("gift",I0);const H0=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ah=fe("heart",H0);const G0=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],Tc=fe("hexagon",G0);const J0=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],F0=fe("history",J0);const Q0=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Y0=fe("key-round",Q0);const K0=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],sh=fe("landmark",K0);const Z0=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],X0=fe("layers",Z0);const $0=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],W0=fe("lightbulb",$0);const ey=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xi=fe("map-pin",ey);const ty=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],nh=fe("map",ty);const ay=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],sy=fe("menu",ay);const ny=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],iy=fe("message-circle",ny);const ry=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],ih=fe("mountain",ry);const ly=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],oy=fe("palette",ly);const uy=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3L11 9.999",key:"1lw9ds"}],["path",{d:"M15.973 4.027A13 13 0 0 0 5.902 2.373c-1.398.342-1.092 2.158.277 2.601a19.9 19.9 0 0 1 5.822 3.024",key:"ffj4ej"}],["path",{d:"M16.001 11.999a19.9 19.9 0 0 1 3.024 5.824c.444 1.369 2.26 1.676 2.603.278A13 13 0 0 0 20 8.069",key:"8tj4zw"}],["path",{d:"M18.352 3.352a1.205 1.205 0 0 0-1.704 0l-5.296 5.296a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l5.296-5.296a1.205 1.205 0 0 0 0-1.704z",key:"hh6h97"}]],rh=fe("pickaxe",uy);const cy=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],dy=fe("quote",cy);const my=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],py=fe("scroll-text",my);const fy=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],gy=fe("scroll",fy);const hy=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lh=fe("search",hy);const vy=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],by=fe("shield-off",vy);const xy=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ll=fe("shield",xy);const yy=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],cn=fe("skull",yy);const Sy=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ol=fe("sparkles",Sy);const _y=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],qy=fe("sword",_y);const jy=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],yi=fe("swords",jy);const Ty=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Cc=fe("target",Ty);const Cy=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oh=fe("triangle-alert",Cy);const Ay=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dy=fe("user",Ay);const Ny=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dn=fe("users",Ny);const Ly=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uh=fe("x",Ly);const My=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ch=fe("zap",My);function dh(n){var i,r,l="";if(typeof n=="string"||typeof n=="number")l+=n;else if(typeof n=="object")if(Array.isArray(n)){var c=n.length;for(i=0;i<c;i++)n[i]&&(r=dh(n[i]))&&(l&&(l+=" "),l+=r)}else for(r in n)n[r]&&(l&&(l+=" "),l+=r);return l}function Ey(){for(var n,i,r=0,l="",c=arguments.length;r<c;r++)(n=arguments[r])&&(i=dh(n))&&(l&&(l+=" "),l+=i);return l}const Ac="-",Ry=n=>{const i=Oy(n),{conflictingClassGroups:r,conflictingClassGroupModifiers:l}=n;return{getClassGroupId:p=>{const g=p.split(Ac);return g[0]===""&&g.length!==1&&g.shift(),mh(g,i)||zy(p)},getConflictingClassGroupIds:(p,g)=>{const h=r[p]||[];return g&&l[p]?[...h,...l[p]]:h}}},mh=(n,i)=>{if(n.length===0)return i.classGroupId;const r=n[0],l=i.nextPart.get(r),c=l?mh(n.slice(1),l):void 0;if(c)return c;if(i.validators.length===0)return;const d=n.join(Ac);return i.validators.find(({validator:p})=>p(d))?.classGroupId},ag=/^\[(.+)\]$/,zy=n=>{if(ag.test(n)){const i=ag.exec(n)[1],r=i?.substring(0,i.indexOf(":"));if(r)return"arbitrary.."+r}},Oy=n=>{const{theme:i,prefix:r}=n,l={nextPart:new Map,validators:[]};return Py(Object.entries(n.classGroups),r).forEach(([d,p])=>{ac(p,l,d,i)}),l},ac=(n,i,r,l)=>{n.forEach(c=>{if(typeof c=="string"){const d=c===""?i:sg(i,c);d.classGroupId=r;return}if(typeof c=="function"){if(wy(c)){ac(c(l),i,r,l);return}i.validators.push({validator:c,classGroupId:r});return}Object.entries(c).forEach(([d,p])=>{ac(p,sg(i,d),r,l)})})},sg=(n,i)=>{let r=n;return i.split(Ac).forEach(l=>{r.nextPart.has(l)||r.nextPart.set(l,{nextPart:new Map,validators:[]}),r=r.nextPart.get(l)}),r},wy=n=>n.isThemeGetter,Py=(n,i)=>i?n.map(([r,l])=>{const c=l.map(d=>typeof d=="string"?i+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([p,g])=>[i+p,g])):d);return[r,c]}):n,Vy=n=>{if(n<1)return{get:()=>{},set:()=>{}};let i=0,r=new Map,l=new Map;const c=(d,p)=>{r.set(d,p),i++,i>n&&(i=0,l=r,r=new Map)};return{get(d){let p=r.get(d);if(p!==void 0)return p;if((p=l.get(d))!==void 0)return c(d,p),p},set(d,p){r.has(d)?r.set(d,p):c(d,p)}}},ph="!",Uy=n=>{const{separator:i,experimentalParseClassName:r}=n,l=i.length===1,c=i[0],d=i.length,p=g=>{const h=[];let v=0,y=0,b;for(let w=0;w<g.length;w++){let I=g[w];if(v===0){if(I===c&&(l||g.slice(w,w+d)===i)){h.push(g.slice(y,w)),y=w+d;continue}if(I==="/"){b=w;continue}}I==="["?v++:I==="]"&&v--}const T=h.length===0?g:g.substring(y),j=T.startsWith(ph),D=j?T.substring(1):T,z=b&&b>y?b-y:void 0;return{modifiers:h,hasImportantModifier:j,baseClassName:D,maybePostfixModifierPosition:z}};return r?g=>r({className:g,parseClassName:p}):p},ky=n=>{if(n.length<=1)return n;const i=[];let r=[];return n.forEach(l=>{l[0]==="["?(i.push(...r.sort(),l),r=[]):r.push(l)}),i.push(...r.sort()),i},Iy=n=>({cache:Vy(n.cacheSize),parseClassName:Uy(n),...Ry(n)}),By=/\s+/,Hy=(n,i)=>{const{parseClassName:r,getClassGroupId:l,getConflictingClassGroupIds:c}=i,d=[],p=n.trim().split(By);let g="";for(let h=p.length-1;h>=0;h-=1){const v=p[h],{modifiers:y,hasImportantModifier:b,baseClassName:T,maybePostfixModifierPosition:j}=r(v);let D=!!j,z=l(D?T.substring(0,j):T);if(!z){if(!D){g=v+(g.length>0?" "+g:g);continue}if(z=l(T),!z){g=v+(g.length>0?" "+g:g);continue}D=!1}const w=ky(y).join(":"),I=b?w+ph:w,B=I+z;if(d.includes(B))continue;d.push(B);const J=c(z,D);for(let ee=0;ee<J.length;++ee){const ie=J[ee];d.push(I+ie)}g=v+(g.length>0?" "+g:g)}return g};function Gy(){let n=0,i,r,l="";for(;n<arguments.length;)(i=arguments[n++])&&(r=fh(i))&&(l&&(l+=" "),l+=r);return l}const fh=n=>{if(typeof n=="string")return n;let i,r="";for(let l=0;l<n.length;l++)n[l]&&(i=fh(n[l]))&&(r&&(r+=" "),r+=i);return r};function Jy(n,...i){let r,l,c,d=p;function p(h){const v=i.reduce((y,b)=>b(y),n());return r=Iy(v),l=r.cache.get,c=r.cache.set,d=g,g(h)}function g(h){const v=l(h);if(v)return v;const y=Hy(h,r);return c(h,y),y}return function(){return d(Gy.apply(null,arguments))}}const Ve=n=>{const i=r=>r[n]||[];return i.isThemeGetter=!0,i},gh=/^\[(?:([a-z-]+):)?(.+)\]$/i,Fy=/^\d+\/\d+$/,Qy=new Set(["px","full","screen"]),Yy=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ky=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zy=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Xy=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$y=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ha=n=>un(n)||Qy.has(n)||Fy.test(n),Ka=n=>fn(n,"length",rS),un=n=>!!n&&!Number.isNaN(Number(n)),ku=n=>fn(n,"number",un),pi=n=>!!n&&Number.isInteger(Number(n)),Wy=n=>n.endsWith("%")&&un(n.slice(0,-1)),pe=n=>gh.test(n),Za=n=>Yy.test(n),eS=new Set(["length","size","percentage"]),tS=n=>fn(n,eS,hh),aS=n=>fn(n,"position",hh),sS=new Set(["image","url"]),nS=n=>fn(n,sS,oS),iS=n=>fn(n,"",lS),fi=()=>!0,fn=(n,i,r)=>{const l=gh.exec(n);return l?l[1]?typeof i=="string"?l[1]===i:i.has(l[1]):r(l[2]):!1},rS=n=>Ky.test(n)&&!Zy.test(n),hh=()=>!1,lS=n=>Xy.test(n),oS=n=>$y.test(n),uS=()=>{const n=Ve("colors"),i=Ve("spacing"),r=Ve("blur"),l=Ve("brightness"),c=Ve("borderColor"),d=Ve("borderRadius"),p=Ve("borderSpacing"),g=Ve("borderWidth"),h=Ve("contrast"),v=Ve("grayscale"),y=Ve("hueRotate"),b=Ve("invert"),T=Ve("gap"),j=Ve("gradientColorStops"),D=Ve("gradientColorStopPositions"),z=Ve("inset"),w=Ve("margin"),I=Ve("opacity"),B=Ve("padding"),J=Ve("saturate"),ee=Ve("scale"),ie=Ve("sepia"),Q=Ve("skew"),H=Ve("space"),$=Ve("translate"),Y=()=>["auto","contain","none"],ae=()=>["auto","hidden","clip","visible","scroll"],ge=()=>["auto",pe,i],K=()=>[pe,i],ze=()=>["",ha,Ka],de=()=>["auto",un,pe],Ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],he=()=>["","0",pe],qe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>[un,pe];return{cacheSize:500,separator:":",theme:{colors:[fi],spacing:[ha,Ka],blur:["none","",Za,pe],brightness:_(),borderColor:[n],borderRadius:["none","","full",Za,pe],borderSpacing:K(),borderWidth:ze(),contrast:_(),grayscale:he(),hueRotate:_(),invert:he(),gap:K(),gradientColorStops:[n],gradientColorStopPositions:[Wy,Ka],inset:ge(),margin:ge(),opacity:_(),padding:K(),saturate:_(),scale:_(),sepia:he(),skew:_(),space:K(),translate:K()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Za]}],"break-after":[{"break-after":qe()}],"break-before":[{"break-before":qe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ue(),pe]}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[z]}],"inset-x":[{"inset-x":[z]}],"inset-y":[{"inset-y":[z]}],start:[{start:[z]}],end:[{end:[z]}],top:[{top:[z]}],right:[{right:[z]}],bottom:[{bottom:[z]}],left:[{left:[z]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pi,pe]}],basis:[{basis:ge()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:he()}],shrink:[{shrink:he()}],order:[{order:["first","last","none",pi,pe]}],"grid-cols":[{"grid-cols":[fi]}],"col-start-end":[{col:["auto",{span:["full",pi,pe]},pe]}],"col-start":[{"col-start":de()}],"col-end":[{"col-end":de()}],"grid-rows":[{"grid-rows":[fi]}],"row-start-end":[{row:["auto",{span:[pi,pe]},pe]}],"row-start":[{"row-start":de()}],"row-end":[{"row-end":de()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[T]}],"gap-x":[{"gap-x":[T]}],"gap-y":[{"gap-y":[T]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[B]}],px:[{px:[B]}],py:[{py:[B]}],ps:[{ps:[B]}],pe:[{pe:[B]}],pt:[{pt:[B]}],pr:[{pr:[B]}],pb:[{pb:[B]}],pl:[{pl:[B]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,i]}],"min-w":[{"min-w":[pe,i,"min","max","fit"]}],"max-w":[{"max-w":[pe,i,"none","full","min","max","fit","prose",{screen:[Za]},Za]}],h:[{h:[pe,i,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,i,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,i,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,i,"auto","min","max","fit"]}],"font-size":[{text:["base",Za,Ka]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ku]}],"font-family":[{font:[fi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",un,ku]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ha,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ha,Ka]}],"underline-offset":[{"underline-offset":["auto",ha,pe]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ue(),aS]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nS]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[D]}],"gradient-via-pos":[{via:[D]}],"gradient-to-pos":[{to:[D]}],"gradient-from":[{from:[j]}],"gradient-via":[{via:[j]}],"gradient-to":[{to:[j]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...E(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:E()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-s":[{"border-s":[c]}],"border-color-e":[{"border-e":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...E()]}],"outline-offset":[{"outline-offset":[ha,pe]}],"outline-w":[{outline:[ha,Ka]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:ze()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[ha,Ka]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Za,iS]}],"shadow-color":[{shadow:[fi]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[l]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Za,pe]}],grayscale:[{grayscale:[v]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[b]}],saturate:[{saturate:[J]}],sepia:[{sepia:[ie]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[l]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[v]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[J]}],"backdrop-sepia":[{"backdrop-sepia":[ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[p]}],"border-spacing-x":[{"border-spacing-x":[p]}],"border-spacing-y":[{"border-spacing-y":[p]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:_()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:_()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[ee]}],"scale-x":[{"scale-x":[ee]}],"scale-y":[{"scale-y":[ee]}],rotate:[{rotate:[pi,pe]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[Q]}],"skew-y":[{"skew-y":[Q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ha,Ka,ku]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cS=Jy(uS);function Le(...n){return cS(Ey(n))}var Iu={exports:{}},Bu,ng;function dS(){if(ng)return Bu;ng=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bu=n,Bu}var Hu,ig;function mS(){if(ig)return Hu;ig=1;var n=dS();function i(){}function r(){}return r.resetWarningCache=i,Hu=function(){function l(p,g,h,v,y,b){if(b!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}l.isRequired=l;function c(){return l}var d={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:c,element:l,elementType:l,instanceOf:c,node:l,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:r,resetWarningCache:i};return d.PropTypes=d,d},Hu}var rg;function pS(){return rg||(rg=1,Iu.exports=mS()()),Iu.exports}var fS=pS();const O=hc(fS),re=n=>typeof n=="string",gi=()=>{let n,i;const r=new Promise((l,c)=>{n=l,i=c});return r.resolve=n,r.reject=i,r},lg=n=>n==null?"":""+n,gS=(n,i,r)=>{n.forEach(l=>{i[l]&&(r[l]=i[l])})},hS=/###/g,og=n=>n&&n.indexOf("###")>-1?n.replace(hS,"."):n,ug=n=>!n||re(n),hi=(n,i,r)=>{const l=re(i)?i.split("."):i;let c=0;for(;c<l.length-1;){if(ug(n))return{};const d=og(l[c]);!n[d]&&r&&(n[d]=new r),Object.prototype.hasOwnProperty.call(n,d)?n=n[d]:n={},++c}return ug(n)?{}:{obj:n,k:og(l[c])}},cg=(n,i,r)=>{const{obj:l,k:c}=hi(n,i,Object);if(l!==void 0||i.length===1){l[c]=r;return}let d=i[i.length-1],p=i.slice(0,i.length-1),g=hi(n,p,Object);for(;g.obj===void 0&&p.length;)d=`${p[p.length-1]}.${d}`,p=p.slice(0,p.length-1),g=hi(n,p,Object),g?.obj&&typeof g.obj[`${g.k}.${d}`]<"u"&&(g.obj=void 0);g.obj[`${g.k}.${d}`]=r},vS=(n,i,r,l)=>{const{obj:c,k:d}=hi(n,i,Object);c[d]=c[d]||[],c[d].push(r)},Xr=(n,i)=>{const{obj:r,k:l}=hi(n,i);if(r&&Object.prototype.hasOwnProperty.call(r,l))return r[l]},bS=(n,i,r)=>{const l=Xr(n,r);return l!==void 0?l:Xr(i,r)},vh=(n,i,r)=>{for(const l in i)l!=="__proto__"&&l!=="constructor"&&(l in n?re(n[l])||n[l]instanceof String||re(i[l])||i[l]instanceof String?r&&(n[l]=i[l]):vh(n[l],i[l],r):n[l]=i[l]);return n},ln=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var xS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const yS=n=>re(n)?n.replace(/[&<>"'\/]/g,i=>xS[i]):n;class SS{constructor(i){this.capacity=i,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(i){const r=this.regExpMap.get(i);if(r!==void 0)return r;const l=new RegExp(i);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(i,l),this.regExpQueue.push(i),l}}const _S=[" ",",","?","!",";"],qS=new SS(20),jS=(n,i,r)=>{i=i||"",r=r||"";const l=_S.filter(p=>i.indexOf(p)<0&&r.indexOf(p)<0);if(l.length===0)return!0;const c=qS.getRegExp(`(${l.map(p=>p==="?"?"\\?":p).join("|")})`);let d=!c.test(n);if(!d){const p=n.indexOf(r);p>0&&!c.test(n.substring(0,p))&&(d=!0)}return d},sc=(n,i,r=".")=>{if(!n)return;if(n[i])return Object.prototype.hasOwnProperty.call(n,i)?n[i]:void 0;const l=i.split(r);let c=n;for(let d=0;d<l.length;){if(!c||typeof c!="object")return;let p,g="";for(let h=d;h<l.length;++h)if(h!==d&&(g+=r),g+=l[h],p=c[g],p!==void 0){if(["string","number","boolean"].indexOf(typeof p)>-1&&h<l.length-1)continue;d+=h-d+1;break}c=p}return c},Si=n=>n?.replace("_","-"),TS={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,i){console?.[n]?.apply?.(console,i)}};class $r{constructor(i,r={}){this.init(i,r)}init(i,r={}){this.prefix=r.prefix||"i18next:",this.logger=i||TS,this.options=r,this.debug=r.debug}log(...i){return this.forward(i,"log","",!0)}warn(...i){return this.forward(i,"warn","",!0)}error(...i){return this.forward(i,"error","")}deprecate(...i){return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(i,r,l,c){return c&&!this.debug?null:(re(i[0])&&(i[0]=`${l}${this.prefix} ${i[0]}`),this.logger[r](i))}create(i){return new $r(this.logger,{prefix:`${this.prefix}:${i}:`,...this.options})}clone(i){return i=i||this.options,i.prefix=i.prefix||this.prefix,new $r(this.logger,i)}}var Yt=new $r;class ul{constructor(){this.observers={}}on(i,r){return i.split(" ").forEach(l=>{this.observers[l]||(this.observers[l]=new Map);const c=this.observers[l].get(r)||0;this.observers[l].set(r,c+1)}),this}off(i,r){if(this.observers[i]){if(!r){delete this.observers[i];return}this.observers[i].delete(r)}}emit(i,...r){this.observers[i]&&Array.from(this.observers[i].entries()).forEach(([c,d])=>{for(let p=0;p<d;p++)c(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([c,d])=>{for(let p=0;p<d;p++)c.apply(c,[i,...r])})}}class dg extends ul{constructor(i,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=i||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}removeNamespaces(i){const r=this.options.ns.indexOf(i);r>-1&&this.options.ns.splice(r,1)}getResource(i,r,l,c={}){const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,p=c.ignoreJSONStructure!==void 0?c.ignoreJSONStructure:this.options.ignoreJSONStructure;let g;i.indexOf(".")>-1?g=i.split("."):(g=[i,r],l&&(Array.isArray(l)?g.push(...l):re(l)&&d?g.push(...l.split(d)):g.push(l)));const h=Xr(this.data,g);return!h&&!r&&!l&&i.indexOf(".")>-1&&(i=g[0],r=g[1],l=g.slice(2).join(".")),h||!p||!re(l)?h:sc(this.data?.[i]?.[r],l,d)}addResource(i,r,l,c,d={silent:!1}){const p=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator;let g=[i,r];l&&(g=g.concat(p?l.split(p):l)),i.indexOf(".")>-1&&(g=i.split("."),c=r,r=g[1]),this.addNamespaces(r),cg(this.data,g,c),d.silent||this.emit("added",i,r,l,c)}addResources(i,r,l,c={silent:!1}){for(const d in l)(re(l[d])||Array.isArray(l[d]))&&this.addResource(i,r,d,l[d],{silent:!0});c.silent||this.emit("added",i,r,l)}addResourceBundle(i,r,l,c,d,p={silent:!1,skipCopy:!1}){let g=[i,r];i.indexOf(".")>-1&&(g=i.split("."),c=l,l=r,r=g[1]),this.addNamespaces(r);let h=Xr(this.data,g)||{};p.skipCopy||(l=JSON.parse(JSON.stringify(l))),c?vh(h,l,d):h={...h,...l},cg(this.data,g,h),p.silent||this.emit("added",i,r,l)}removeResourceBundle(i,r){this.hasResourceBundle(i,r)&&delete this.data[i][r],this.removeNamespaces(r),this.emit("removed",i,r)}hasResourceBundle(i,r){return this.getResource(i,r)!==void 0}getResourceBundle(i,r){return r||(r=this.options.defaultNS),this.getResource(i,r)}getDataByLanguage(i){return this.data[i]}hasLanguageSomeTranslations(i){const r=this.getDataByLanguage(i);return!!(r&&Object.keys(r)||[]).find(c=>r[c]&&Object.keys(r[c]).length>0)}toJSON(){return this.data}}var bh={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,i,r,l,c){return n.forEach(d=>{i=this.processors[d]?.process(i,r,l,c)??i}),i}};const xh=Symbol("i18next/PATH_KEY");function CS(){const n=[],i=Object.create(null);let r;return i.get=(l,c)=>(r?.revoke?.(),c===xh?n:(n.push(c),r=Proxy.revocable(l,i),r.proxy)),Proxy.revocable(Object.create(null),i).proxy}function nc(n,i){const{[xh]:r}=n(CS());return r.join(i?.keySeparator??".")}const mg={},Gu=n=>!re(n)&&typeof n!="boolean"&&typeof n!="number";class Wr extends ul{constructor(i,r={}){super(),gS(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Yt.create("translator")}changeLanguage(i){i&&(this.language=i)}exists(i,r={interpolation:{}}){const l={...r};if(i==null)return!1;const c=this.resolve(i,l);if(c?.res===void 0)return!1;const d=Gu(c.res);return!(l.returnObjects===!1&&d)}extractFromKey(i,r){let l=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;l===void 0&&(l=":");const c=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let d=r.ns||this.options.defaultNS||[];const p=l&&i.indexOf(l)>-1,g=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!jS(i,l,c);if(p&&!g){const h=i.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:i,namespaces:re(d)?[d]:d};const v=i.split(l);(l!==c||l===c&&this.options.ns.indexOf(v[0])>-1)&&(d=v.shift()),i=v.join(c)}return{key:i,namespaces:re(d)?[d]:d}}translate(i,r,l){let c=typeof r=="object"?{...r}:r;if(typeof c!="object"&&this.options.overloadTranslationOptionHandler&&(c=this.options.overloadTranslationOptionHandler(arguments)),typeof c=="object"&&(c={...c}),c||(c={}),i==null)return"";typeof i=="function"&&(i=nc(i,{...this.options,...c})),Array.isArray(i)||(i=[String(i)]);const d=c.returnDetails!==void 0?c.returnDetails:this.options.returnDetails,p=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,{key:g,namespaces:h}=this.extractFromKey(i[i.length-1],c),v=h[h.length-1];let y=c.nsSeparator!==void 0?c.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const b=c.lng||this.language,T=c.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(b?.toLowerCase()==="cimode")return T?d?{res:`${v}${y}${g}`,usedKey:g,exactUsedKey:g,usedLng:b,usedNS:v,usedParams:this.getUsedParamsDetails(c)}:`${v}${y}${g}`:d?{res:g,usedKey:g,exactUsedKey:g,usedLng:b,usedNS:v,usedParams:this.getUsedParamsDetails(c)}:g;const j=this.resolve(i,c);let D=j?.res;const z=j?.usedKey||g,w=j?.exactUsedKey||g,I=["[object Number]","[object Function]","[object RegExp]"],B=c.joinArrays!==void 0?c.joinArrays:this.options.joinArrays,J=!this.i18nFormat||this.i18nFormat.handleAsObject,ee=c.count!==void 0&&!re(c.count),ie=Wr.hasDefaultValue(c),Q=ee?this.pluralResolver.getSuffix(b,c.count,c):"",H=c.ordinal&&ee?this.pluralResolver.getSuffix(b,c.count,{ordinal:!1}):"",$=ee&&!c.ordinal&&c.count===0,Y=$&&c[`defaultValue${this.options.pluralSeparator}zero`]||c[`defaultValue${Q}`]||c[`defaultValue${H}`]||c.defaultValue;let ae=D;J&&!D&&ie&&(ae=Y);const ge=Gu(ae),K=Object.prototype.toString.apply(ae);if(J&&ae&&ge&&I.indexOf(K)<0&&!(re(B)&&Array.isArray(ae))){if(!c.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ze=this.options.returnedObjectHandler?this.options.returnedObjectHandler(z,ae,{...c,ns:h}):`key '${g} (${this.language})' returned an object instead of string.`;return d?(j.res=ze,j.usedParams=this.getUsedParamsDetails(c),j):ze}if(p){const ze=Array.isArray(ae),de=ze?[]:{},Ue=ze?w:z;for(const E in ae)if(Object.prototype.hasOwnProperty.call(ae,E)){const G=`${Ue}${p}${E}`;ie&&!D?de[E]=this.translate(G,{...c,defaultValue:Gu(Y)?Y[E]:void 0,joinArrays:!1,ns:h}):de[E]=this.translate(G,{...c,joinArrays:!1,ns:h}),de[E]===G&&(de[E]=ae[E])}D=de}}else if(J&&re(B)&&Array.isArray(D))D=D.join(B),D&&(D=this.extendTranslation(D,i,c,l));else{let ze=!1,de=!1;!this.isValidLookup(D)&&ie&&(ze=!0,D=Y),this.isValidLookup(D)||(de=!0,D=g);const E=(c.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&de?void 0:D,G=ie&&Y!==D&&this.options.updateMissing;if(de||ze||G){if(this.logger.log(G?"updateKey":"missingKey",b,v,g,G?Y:D),p){const _=this.resolve(g,{...c,keySeparator:!1});_&&_.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let te=[];const he=this.languageUtils.getFallbackCodes(this.options.fallbackLng,c.lng||this.language);if(this.options.saveMissingTo==="fallback"&&he&&he[0])for(let _=0;_<he.length;_++)te.push(he[_]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(c.lng||this.language):te.push(c.lng||this.language);const qe=(_,V,F)=>{const Z=ie&&F!==D?F:E;this.options.missingKeyHandler?this.options.missingKeyHandler(_,v,V,Z,G,c):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(_,v,V,Z,G,c),this.emit("missingKey",_,v,V,D)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ee?te.forEach(_=>{const V=this.pluralResolver.getSuffixes(_,c);$&&c[`defaultValue${this.options.pluralSeparator}zero`]&&V.indexOf(`${this.options.pluralSeparator}zero`)<0&&V.push(`${this.options.pluralSeparator}zero`),V.forEach(F=>{qe([_],g+F,c[`defaultValue${F}`]||Y)})}):qe(te,g,Y))}D=this.extendTranslation(D,i,c,j,l),de&&D===g&&this.options.appendNamespaceToMissingKey&&(D=`${v}${y}${g}`),(de||ze)&&this.options.parseMissingKeyHandler&&(D=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${v}${y}${g}`:g,ze?D:void 0,c))}return d?(j.res=D,j.usedParams=this.getUsedParamsDetails(c),j):D}extendTranslation(i,r,l,c,d){if(this.i18nFormat?.parse)i=this.i18nFormat.parse(i,{...this.options.interpolation.defaultVariables,...l},l.lng||this.language||c.usedLng,c.usedNS,c.usedKey,{resolved:c});else if(!l.skipInterpolation){l.interpolation&&this.interpolator.init({...l,interpolation:{...this.options.interpolation,...l.interpolation}});const h=re(i)&&(l?.interpolation?.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(h){const b=i.match(this.interpolator.nestingRegexp);v=b&&b.length}let y=l.replace&&!re(l.replace)?l.replace:l;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),i=this.interpolator.interpolate(i,y,l.lng||this.language||c.usedLng,l),h){const b=i.match(this.interpolator.nestingRegexp),T=b&&b.length;v<T&&(l.nest=!1)}!l.lng&&c&&c.res&&(l.lng=this.language||c.usedLng),l.nest!==!1&&(i=this.interpolator.nest(i,(...b)=>d?.[0]===b[0]&&!l.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${r[0]}`),null):this.translate(...b,r),l)),l.interpolation&&this.interpolator.reset()}const p=l.postProcess||this.options.postProcess,g=re(p)?[p]:p;return i!=null&&g?.length&&l.applyPostProcessor!==!1&&(i=bh.handle(g,i,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...c,usedParams:this.getUsedParamsDetails(l)},...l}:l,this)),i}resolve(i,r={}){let l,c,d,p,g;return re(i)&&(i=[i]),i.forEach(h=>{if(this.isValidLookup(l))return;const v=this.extractFromKey(h,r),y=v.key;c=y;let b=v.namespaces;this.options.fallbackNS&&(b=b.concat(this.options.fallbackNS));const T=r.count!==void 0&&!re(r.count),j=T&&!r.ordinal&&r.count===0,D=r.context!==void 0&&(re(r.context)||typeof r.context=="number")&&r.context!=="",z=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);b.forEach(w=>{this.isValidLookup(l)||(g=w,!mg[`${z[0]}-${w}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(g)&&(mg[`${z[0]}-${w}`]=!0,this.logger.warn(`key "${c}" for languages "${z.join(", ")}" won't get resolved as namespace "${g}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),z.forEach(I=>{if(this.isValidLookup(l))return;p=I;const B=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(B,y,I,w,r);else{let ee;T&&(ee=this.pluralResolver.getSuffix(I,r.count,r));const ie=`${this.options.pluralSeparator}zero`,Q=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(T&&(r.ordinal&&ee.indexOf(Q)===0&&B.push(y+ee.replace(Q,this.options.pluralSeparator)),B.push(y+ee),j&&B.push(y+ie)),D){const H=`${y}${this.options.contextSeparator||"_"}${r.context}`;B.push(H),T&&(r.ordinal&&ee.indexOf(Q)===0&&B.push(H+ee.replace(Q,this.options.pluralSeparator)),B.push(H+ee),j&&B.push(H+ie))}}let J;for(;J=B.pop();)this.isValidLookup(l)||(d=J,l=this.getResource(I,w,J,r))}))})}),{res:l,usedKey:c,exactUsedKey:d,usedLng:p,usedNS:g}}isValidLookup(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}getResource(i,r,l,c={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(i,r,l,c):this.resourceStore.getResource(i,r,l,c)}getUsedParamsDetails(i={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],l=i.replace&&!re(i.replace);let c=l?i.replace:i;if(l&&typeof i.count<"u"&&(c.count=i.count),this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),!l){c={...c};for(const d of r)delete c[d]}return c}static hasDefaultValue(i){const r="defaultValue";for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)&&r===l.substring(0,r.length)&&i[l]!==void 0)return!0;return!1}}class pg{constructor(i){this.options=i,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Yt.create("languageUtils")}getScriptPartFromCode(i){if(i=Si(i),!i||i.indexOf("-")<0)return null;const r=i.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(i){if(i=Si(i),!i||i.indexOf("-")<0)return i;const r=i.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(i){if(re(i)&&i.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(i)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?i.toLowerCase():i)}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}isSupportedCode(i){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}getBestMatchFromCodes(i){if(!i)return null;let r;return i.forEach(l=>{if(r)return;const c=this.formatLanguageCode(l);(!this.options.supportedLngs||this.isSupportedCode(c))&&(r=c)}),!r&&this.options.supportedLngs&&i.forEach(l=>{if(r)return;const c=this.getScriptPartFromCode(l);if(this.isSupportedCode(c))return r=c;const d=this.getLanguagePartFromCode(l);if(this.isSupportedCode(d))return r=d;r=this.options.supportedLngs.find(p=>{if(p===d)return p;if(!(p.indexOf("-")<0&&d.indexOf("-")<0)&&(p.indexOf("-")>0&&d.indexOf("-")<0&&p.substring(0,p.indexOf("-"))===d||p.indexOf(d)===0&&d.length>1))return p})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(i,r){if(!i)return[];if(typeof i=="function"&&(i=i(r)),re(i)&&(i=[i]),Array.isArray(i))return i;if(!r)return i.default||[];let l=i[r];return l||(l=i[this.getScriptPartFromCode(r)]),l||(l=i[this.formatLanguageCode(r)]),l||(l=i[this.getLanguagePartFromCode(r)]),l||(l=i.default),l||[]}toResolveHierarchy(i,r){const l=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],i),c=[],d=p=>{p&&(this.isSupportedCode(p)?c.push(p):this.logger.warn(`rejecting language code not found in supportedLngs: ${p}`))};return re(i)&&(i.indexOf("-")>-1||i.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(i)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(i)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(i))):re(i)&&d(this.formatLanguageCode(i)),l.forEach(p=>{c.indexOf(p)<0&&d(this.formatLanguageCode(p))}),c}}const fg={zero:0,one:1,two:2,few:3,many:4,other:5},gg={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class AS{constructor(i,r={}){this.languageUtils=i,this.options=r,this.logger=Yt.create("pluralResolver"),this.pluralRulesCache={}}addRule(i,r){this.rules[i]=r}clearCache(){this.pluralRulesCache={}}getRule(i,r={}){const l=Si(i==="dev"?"en":i),c=r.ordinal?"ordinal":"cardinal",d=JSON.stringify({cleanedCode:l,type:c});if(d in this.pluralRulesCache)return this.pluralRulesCache[d];let p;try{p=new Intl.PluralRules(l,{type:c})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),gg;if(!i.match(/-|_/))return gg;const h=this.languageUtils.getLanguagePartFromCode(i);p=this.getRule(h,r)}return this.pluralRulesCache[d]=p,p}needsPlural(i,r={}){let l=this.getRule(i,r);return l||(l=this.getRule("dev",r)),l?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(i,r,l={}){return this.getSuffixes(i,l).map(c=>`${r}${c}`)}getSuffixes(i,r={}){let l=this.getRule(i,r);return l||(l=this.getRule("dev",r)),l?l.resolvedOptions().pluralCategories.sort((c,d)=>fg[c]-fg[d]).map(c=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${c}`):[]}getSuffix(i,r,l={}){const c=this.getRule(i,l);return c?`${this.options.prepend}${l.ordinal?`ordinal${this.options.prepend}`:""}${c.select(r)}`:(this.logger.warn(`no plural rule found for: ${i}`),this.getSuffix("dev",r,l))}}const hg=(n,i,r,l=".",c=!0)=>{let d=bS(n,i,r);return!d&&c&&re(r)&&(d=sc(n,r,l),d===void 0&&(d=sc(i,r,l))),d},Ju=n=>n.replace(/\$/g,"$$$$");class vg{constructor(i={}){this.logger=Yt.create("interpolator"),this.options=i,this.format=i?.interpolation?.format||(r=>r),this.init(i)}init(i={}){i.interpolation||(i.interpolation={escapeValue:!0});const{escape:r,escapeValue:l,useRawValueToEscape:c,prefix:d,prefixEscaped:p,suffix:g,suffixEscaped:h,formatSeparator:v,unescapeSuffix:y,unescapePrefix:b,nestingPrefix:T,nestingPrefixEscaped:j,nestingSuffix:D,nestingSuffixEscaped:z,nestingOptionsSeparator:w,maxReplaces:I,alwaysFormat:B}=i.interpolation;this.escape=r!==void 0?r:yS,this.escapeValue=l!==void 0?l:!0,this.useRawValueToEscape=c!==void 0?c:!1,this.prefix=d?ln(d):p||"{{",this.suffix=g?ln(g):h||"}}",this.formatSeparator=v||",",this.unescapePrefix=y?"":b||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=T?ln(T):j||ln("$t("),this.nestingSuffix=D?ln(D):z||ln(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=I||1e3,this.alwaysFormat=B!==void 0?B:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const i=(r,l)=>r?.source===l?(r.lastIndex=0,r):new RegExp(l,"g");this.regexp=i(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=i(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=i(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(i,r,l,c){let d,p,g;const h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},v=j=>{if(j.indexOf(this.formatSeparator)<0){const I=hg(r,h,j,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(I,void 0,l,{...c,...r,interpolationkey:j}):I}const D=j.split(this.formatSeparator),z=D.shift().trim(),w=D.join(this.formatSeparator).trim();return this.format(hg(r,h,z,this.options.keySeparator,this.options.ignoreJSONStructure),w,l,{...c,...r,interpolationkey:z})};this.resetRegExp();const y=c?.missingInterpolationHandler||this.options.missingInterpolationHandler,b=c?.interpolation?.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:j=>Ju(j)},{regex:this.regexp,safeValue:j=>this.escapeValue?Ju(this.escape(j)):Ju(j)}].forEach(j=>{for(g=0;d=j.regex.exec(i);){const D=d[1].trim();if(p=v(D),p===void 0)if(typeof y=="function"){const w=y(i,d,c);p=re(w)?w:""}else if(c&&Object.prototype.hasOwnProperty.call(c,D))p="";else if(b){p=d[0];continue}else this.logger.warn(`missed to pass in variable ${D} for interpolating ${i}`),p="";else!re(p)&&!this.useRawValueToEscape&&(p=lg(p));const z=j.safeValue(p);if(i=i.replace(d[0],z),b?(j.regex.lastIndex+=p.length,j.regex.lastIndex-=d[0].length):j.regex.lastIndex=0,g++,g>=this.maxReplaces)break}}),i}nest(i,r,l={}){let c,d,p;const g=(h,v)=>{const y=this.nestingOptionsSeparator;if(h.indexOf(y)<0)return h;const b=h.split(new RegExp(`${y}[ ]*{`));let T=`{${b[1]}`;h=b[0],T=this.interpolate(T,p);const j=T.match(/'/g),D=T.match(/"/g);((j?.length??0)%2===0&&!D||D.length%2!==0)&&(T=T.replace(/'/g,'"'));try{p=JSON.parse(T),v&&(p={...v,...p})}catch(z){return this.logger.warn(`failed parsing options string in nesting for key ${h}`,z),`${h}${y}${T}`}return p.defaultValue&&p.defaultValue.indexOf(this.prefix)>-1&&delete p.defaultValue,h};for(;c=this.nestingRegexp.exec(i);){let h=[];p={...l},p=p.replace&&!re(p.replace)?p.replace:p,p.applyPostProcessor=!1,delete p.defaultValue;const v=/{.*}/.test(c[1])?c[1].lastIndexOf("}")+1:c[1].indexOf(this.formatSeparator);if(v!==-1&&(h=c[1].slice(v).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),c[1]=c[1].slice(0,v)),d=r(g.call(this,c[1].trim(),p),p),d&&c[0]===i&&!re(d))return d;re(d)||(d=lg(d)),d||(this.logger.warn(`missed to resolve ${c[1]} for nesting ${i}`),d=""),h.length&&(d=h.reduce((y,b)=>this.format(y,b,l.lng,{...l,interpolationkey:c[1].trim()}),d.trim())),i=i.replace(c[0],d),this.regexp.lastIndex=0}return i}}const DS=n=>{let i=n.toLowerCase().trim();const r={};if(n.indexOf("(")>-1){const l=n.split("(");i=l[0].toLowerCase().trim();const c=l[1].substring(0,l[1].length-1);i==="currency"&&c.indexOf(":")<0?r.currency||(r.currency=c.trim()):i==="relativetime"&&c.indexOf(":")<0?r.range||(r.range=c.trim()):c.split(";").forEach(p=>{if(p){const[g,...h]=p.split(":"),v=h.join(":").trim().replace(/^'+|'+$/g,""),y=g.trim();r[y]||(r[y]=v),v==="false"&&(r[y]=!1),v==="true"&&(r[y]=!0),isNaN(v)||(r[y]=parseInt(v,10))}})}return{formatName:i,formatOptions:r}},bg=n=>{const i={};return(r,l,c)=>{let d=c;c&&c.interpolationkey&&c.formatParams&&c.formatParams[c.interpolationkey]&&c[c.interpolationkey]&&(d={...d,[c.interpolationkey]:void 0});const p=l+JSON.stringify(d);let g=i[p];return g||(g=n(Si(l),c),i[p]=g),g(r)}},NS=n=>(i,r,l)=>n(Si(r),l)(i);class LS{constructor(i={}){this.logger=Yt.create("formatter"),this.options=i,this.init(i)}init(i,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const l=r.cacheInBuiltFormats?bg:NS;this.formats={number:l((c,d)=>{const p=new Intl.NumberFormat(c,{...d});return g=>p.format(g)}),currency:l((c,d)=>{const p=new Intl.NumberFormat(c,{...d,style:"currency"});return g=>p.format(g)}),datetime:l((c,d)=>{const p=new Intl.DateTimeFormat(c,{...d});return g=>p.format(g)}),relativetime:l((c,d)=>{const p=new Intl.RelativeTimeFormat(c,{...d});return g=>p.format(g,d.range||"day")}),list:l((c,d)=>{const p=new Intl.ListFormat(c,{...d});return g=>p.format(g)})}}add(i,r){this.formats[i.toLowerCase().trim()]=r}addCached(i,r){this.formats[i.toLowerCase().trim()]=bg(r)}format(i,r,l,c={}){const d=r.split(this.formatSeparator);if(d.length>1&&d[0].indexOf("(")>1&&d[0].indexOf(")")<0&&d.find(g=>g.indexOf(")")>-1)){const g=d.findIndex(h=>h.indexOf(")")>-1);d[0]=[d[0],...d.splice(1,g)].join(this.formatSeparator)}return d.reduce((g,h)=>{const{formatName:v,formatOptions:y}=DS(h);if(this.formats[v]){let b=g;try{const T=c?.formatParams?.[c.interpolationkey]||{},j=T.locale||T.lng||c.locale||c.lng||l;b=this.formats[v](g,j,{...y,...c,...T})}catch(T){this.logger.warn(T)}return b}else this.logger.warn(`there was no format function for ${v}`);return g},i)}}const MS=(n,i)=>{n.pending[i]!==void 0&&(delete n.pending[i],n.pendingCount--)};class ES extends ul{constructor(i,r,l,c={}){super(),this.backend=i,this.store=r,this.services=l,this.languageUtils=l.languageUtils,this.options=c,this.logger=Yt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=c.maxParallelReads||10,this.readingCalls=0,this.maxRetries=c.maxRetries>=0?c.maxRetries:5,this.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(l,c.backend,c)}queueLoad(i,r,l,c){const d={},p={},g={},h={};return i.forEach(v=>{let y=!0;r.forEach(b=>{const T=`${v}|${b}`;!l.reload&&this.store.hasResourceBundle(v,b)?this.state[T]=2:this.state[T]<0||(this.state[T]===1?p[T]===void 0&&(p[T]=!0):(this.state[T]=1,y=!1,p[T]===void 0&&(p[T]=!0),d[T]===void 0&&(d[T]=!0),h[b]===void 0&&(h[b]=!0)))}),y||(g[v]=!0)}),(Object.keys(d).length||Object.keys(p).length)&&this.queue.push({pending:p,pendingCount:Object.keys(p).length,loaded:{},errors:[],callback:c}),{toLoad:Object.keys(d),pending:Object.keys(p),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(h)}}loaded(i,r,l){const c=i.split("|"),d=c[0],p=c[1];r&&this.emit("failedLoading",d,p,r),!r&&l&&this.store.addResourceBundle(d,p,l,void 0,void 0,{skipCopy:!0}),this.state[i]=r?-1:2,r&&l&&(this.state[i]=0);const g={};this.queue.forEach(h=>{vS(h.loaded,[d],p),MS(h,i),r&&h.errors.push(r),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(v=>{g[v]||(g[v]={});const y=h.loaded[v];y.length&&y.forEach(b=>{g[v][b]===void 0&&(g[v][b]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",g),this.queue=this.queue.filter(h=>!h.done)}read(i,r,l,c=0,d=this.retryTimeout,p){if(!i.length)return p(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:r,fcName:l,tried:c,wait:d,callback:p});return}this.readingCalls++;const g=(v,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const b=this.waitingReads.shift();this.read(b.lng,b.ns,b.fcName,b.tried,b.wait,b.callback)}if(v&&y&&c<this.maxRetries){setTimeout(()=>{this.read.call(this,i,r,l,c+1,d*2,p)},d);return}p(v,y)},h=this.backend[l].bind(this.backend);if(h.length===2){try{const v=h(i,r);v&&typeof v.then=="function"?v.then(y=>g(null,y)).catch(g):g(null,v)}catch(v){g(v)}return}return h(i,r,g)}prepareLoading(i,r,l={},c){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();re(i)&&(i=this.languageUtils.toResolveHierarchy(i)),re(r)&&(r=[r]);const d=this.queueLoad(i,r,l,c);if(!d.toLoad.length)return d.pending.length||c(),null;d.toLoad.forEach(p=>{this.loadOne(p)})}load(i,r,l){this.prepareLoading(i,r,{},l)}reload(i,r,l){this.prepareLoading(i,r,{reload:!0},l)}loadOne(i,r=""){const l=i.split("|"),c=l[0],d=l[1];this.read(c,d,"read",void 0,void 0,(p,g)=>{p&&this.logger.warn(`${r}loading namespace ${d} for language ${c} failed`,p),!p&&g&&this.logger.log(`${r}loaded namespace ${d} for language ${c}`,g),this.loaded(i,p,g)})}saveMissing(i,r,l,c,d,p={},g=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${l}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(l==null||l==="")){if(this.backend?.create){const h={...p,isUpdate:d},v=this.backend.create.bind(this.backend);if(v.length<6)try{let y;v.length===5?y=v(i,r,l,c,h):y=v(i,r,l,c),y&&typeof y.then=="function"?y.then(b=>g(null,b)).catch(g):g(null,y)}catch(y){g(y)}else v(i,r,l,c,g,h)}!i||!i[0]||this.store.addResource(i[0],r,l,c)}}}const xg=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let i={};if(typeof n[1]=="object"&&(i=n[1]),re(n[1])&&(i.defaultValue=n[1]),re(n[2])&&(i.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const r=n[3]||n[2];Object.keys(r).forEach(l=>{i[l]=r[l]})}return i},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),yg=n=>(re(n.ns)&&(n.ns=[n.ns]),re(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),re(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),Fr=()=>{},RS=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(r=>{typeof n[r]=="function"&&(n[r]=n[r].bind(n))})};class vi extends ul{constructor(i={},r){if(super(),this.options=yg(i),this.services={},this.logger=Yt,this.modules={external:[]},RS(this),r&&!this.isInitialized&&!i.isClone){if(!this.options.initAsync)return this.init(i,r),this;setTimeout(()=>{this.init(i,r)},0)}}init(i={},r){this.isInitializing=!0,typeof i=="function"&&(r=i,i={}),i.defaultNS==null&&i.ns&&(re(i.ns)?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));const l=xg();this.options={...l,...this.options,...yg(i)},this.options.interpolation={...l.interpolation,...this.options.interpolation},i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=l.overloadTranslationOptionHandler);const c=v=>v?typeof v=="function"?new v:v:null;if(!this.options.isClone){this.modules.logger?Yt.init(c(this.modules.logger),this.options):Yt.init(null,this.options);let v;this.modules.formatter?v=this.modules.formatter:v=LS;const y=new pg(this.options);this.store=new dg(this.options.resources,this.options);const b=this.services;b.logger=Yt,b.resourceStore=this.store,b.languageUtils=y,b.pluralResolver=new AS(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==l.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),v&&(!this.options.interpolation.format||this.options.interpolation.format===l.interpolation.format)&&(b.formatter=c(v),b.formatter.init&&b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new vg(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new ES(c(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",(j,...D)=>{this.emit(j,...D)}),this.modules.languageDetector&&(b.languageDetector=c(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=c(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new Wr(this.services,this.options),this.translator.on("*",(j,...D)=>{this.emit(j,...D)}),this.modules.external.forEach(j=>{j.init&&j.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Fr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const v=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);v.length>0&&v[0]!=="dev"&&(this.options.lng=v[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(v=>{this[v]=(...y)=>this.store[v](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(v=>{this[v]=(...y)=>(this.store[v](...y),this)});const g=gi(),h=()=>{const v=(y,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),g.resolve(b),r(y,b)};if(this.languages&&!this.isInitialized)return v(null,this.t.bind(this));this.changeLanguage(this.options.lng,v)};return this.options.resources||!this.options.initAsync?h():setTimeout(h,0),g}loadResources(i,r=Fr){let l=r;const c=re(i)?i:this.language;if(typeof i=="function"&&(l=i),!this.options.resources||this.options.partialBundledLanguages){if(c?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return l();const d=[],p=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(v=>{v!=="cimode"&&d.indexOf(v)<0&&d.push(v)})};c?p(c):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>p(h)),this.options.preload?.forEach?.(g=>p(g)),this.services.backendConnector.load(d,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),l(g)})}else l(null)}reloadResources(i,r,l){const c=gi();return typeof i=="function"&&(l=i,i=void 0),typeof r=="function"&&(l=r,r=void 0),i||(i=this.languages),r||(r=this.options.ns),l||(l=Fr),this.services.backendConnector.reload(i,r,d=>{c.resolve(),l(d)}),c}use(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&bh.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}setResolvedLanguage(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1)){for(let r=0;r<this.languages.length;r++){const l=this.languages[r];if(!(["cimode","dev"].indexOf(l)>-1)&&this.store.hasLanguageSomeTranslations(l)){this.resolvedLanguage=l;break}}!this.resolvedLanguage&&this.languages.indexOf(i)<0&&this.store.hasLanguageSomeTranslations(i)&&(this.resolvedLanguage=i,this.languages.unshift(i))}}changeLanguage(i,r){this.isLanguageChangingTo=i;const l=gi();this.emit("languageChanging",i);const c=g=>{this.language=g,this.languages=this.services.languageUtils.toResolveHierarchy(g),this.resolvedLanguage=void 0,this.setResolvedLanguage(g)},d=(g,h)=>{h?this.isLanguageChangingTo===i&&(c(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,l.resolve((...v)=>this.t(...v)),r&&r(g,(...v)=>this.t(...v))},p=g=>{!i&&!g&&this.services.languageDetector&&(g=[]);const h=re(g)?g:g&&g[0],v=this.store.hasLanguageSomeTranslations(h)?h:this.services.languageUtils.getBestMatchFromCodes(re(g)?[g]:g);v&&(this.language||c(v),this.translator.language||this.translator.changeLanguage(v),this.services.languageDetector?.cacheUserLanguage?.(v)),this.loadResources(v,y=>{d(y,v)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?p(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(p):this.services.languageDetector.detect(p):p(i),l}getFixedT(i,r,l){const c=(d,p,...g)=>{let h;typeof p!="object"?h=this.options.overloadTranslationOptionHandler([d,p].concat(g)):h={...p},h.lng=h.lng||c.lng,h.lngs=h.lngs||c.lngs,h.ns=h.ns||c.ns,h.keyPrefix!==""&&(h.keyPrefix=h.keyPrefix||l||c.keyPrefix);const v=this.options.keySeparator||".";let y;return h.keyPrefix&&Array.isArray(d)?y=d.map(b=>(typeof b=="function"&&(b=nc(b,{...this.options,...p})),`${h.keyPrefix}${v}${b}`)):(typeof d=="function"&&(d=nc(d,{...this.options,...p})),y=h.keyPrefix?`${h.keyPrefix}${v}${d}`:d),this.t(y,h)};return re(i)?c.lng=i:c.lngs=i,c.ns=r,c.keyPrefix=l,c}t(...i){return this.translator?.translate(...i)}exists(...i){return this.translator?.exists(...i)}setDefaultNamespace(i){this.options.defaultNS=i}hasLoadedNamespace(i,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const l=r.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(l.toLowerCase()==="cimode")return!0;const p=(g,h)=>{const v=this.services.backendConnector.state[`${g}|${h}`];return v===-1||v===0||v===2};if(r.precheck){const g=r.precheck(this,p);if(g!==void 0)return g}return!!(this.hasResourceBundle(l,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||p(l,i)&&(!c||p(d,i)))}loadNamespaces(i,r){const l=gi();return this.options.ns?(re(i)&&(i=[i]),i.forEach(c=>{this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}),this.loadResources(c=>{l.resolve(),r&&r(c)}),l):(r&&r(),Promise.resolve())}loadLanguages(i,r){const l=gi();re(i)&&(i=[i]);const c=this.options.preload||[],d=i.filter(p=>c.indexOf(p)<0&&this.services.languageUtils.isSupportedCode(p));return d.length?(this.options.preload=c.concat(d),this.loadResources(p=>{l.resolve(),r&&r(p)}),l):(r&&r(),Promise.resolve())}dir(i){if(i||(i=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!i)return"rtl";try{const c=new Intl.Locale(i);if(c&&c.getTextInfo){const d=c.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],l=this.services?.languageUtils||new pg(xg());return i.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(l.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(i={},r){const l=new vi(i,r);return l.createInstance=vi.createInstance,l}cloneInstance(i={},r=Fr){const l=i.forkResourceStore;l&&delete i.forkResourceStore;const c={...this.options,...i,isClone:!0},d=new vi(c);if((i.debug!==void 0||i.prefix!==void 0)&&(d.logger=d.logger.clone(i)),["store","services","language"].forEach(g=>{d[g]=this[g]}),d.services={...this.services},d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},l){const g=Object.keys(this.store.data).reduce((h,v)=>(h[v]={...this.store.data[v]},h[v]=Object.keys(h[v]).reduce((y,b)=>(y[b]={...h[v][b]},y),h[v]),h),{});d.store=new dg(g,c),d.services.resourceStore=d.store}return i.interpolation&&(d.services.interpolator=new vg(c)),d.translator=new Wr(d.services,c),d.translator.on("*",(g,...h)=>{d.emit(g,...h)}),d.init(c,r),d.translator.options=c,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ot=vi.createInstance();ot.createInstance;ot.dir;ot.init;ot.loadResources;ot.reloadResources;ot.use;ot.changeLanguage;ot.getFixedT;ot.t;ot.exists;ot.setDefaultNamespace;ot.hasLoadedNamespace;ot.loadNamespaces;ot.loadLanguages;const zS=(n,i,r,l)=>{const c=[r,{code:i,...l||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(c,"warn","react-i18next::",!0);ys(c[0])&&(c[0]=`react-i18next:: ${c[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...c):console?.warn&&console.warn(...c)},Sg={},yh=(n,i,r,l)=>{ys(r)&&Sg[r]||(ys(r)&&(Sg[r]=new Date),zS(n,i,r,l))},Sh=(n,i)=>()=>{if(n.isInitialized)i();else{const r=()=>{setTimeout(()=>{n.off("initialized",r)},0),i()};n.on("initialized",r)}},ic=(n,i,r)=>{n.loadNamespaces(i,Sh(n,r))},_g=(n,i,r,l)=>{if(ys(r)&&(r=[r]),n.options.preload&&n.options.preload.indexOf(i)>-1)return ic(n,r,l);r.forEach(c=>{n.options.ns.indexOf(c)<0&&n.options.ns.push(c)}),n.loadLanguages(i,Sh(n,l))},OS=(n,i,r={})=>!i.languages||!i.languages.length?(yh(i,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:i.languages}),!0):i.hasLoadedNamespace(n,{lng:r.lng,precheck:(l,c)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&l.services.backendConnector.backend&&l.isLanguageChangingTo&&!c(l.isLanguageChangingTo,n))return!1}}),ys=n=>typeof n=="string",wS=n=>typeof n=="object"&&n!==null,PS=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,VS={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},US=n=>VS[n],kS=n=>n.replace(PS,US);let rc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:kS,transDefaultProps:void 0};const IS=(n={})=>{rc={...rc,...n}},BS=()=>rc;let _h;const HS=n=>{_h=n},GS=()=>_h,JS={type:"3rdParty",init(n){IS(n.options.react),HS(n)}},FS=A.createContext();class QS{constructor(){this.usedNamespaces={}}addUsedNamespaces(i){i.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Fu={exports:{}},Qu={};var qg;function YS(){if(qg)return Qu;qg=1;var n=al();function i(b,T){return b===T&&(b!==0||1/b===1/T)||b!==b&&T!==T}var r=typeof Object.is=="function"?Object.is:i,l=n.useState,c=n.useEffect,d=n.useLayoutEffect,p=n.useDebugValue;function g(b,T){var j=T(),D=l({inst:{value:j,getSnapshot:T}}),z=D[0].inst,w=D[1];return d(function(){z.value=j,z.getSnapshot=T,h(z)&&w({inst:z})},[b,j,T]),c(function(){return h(z)&&w({inst:z}),b(function(){h(z)&&w({inst:z})})},[b]),p(j),j}function h(b){var T=b.getSnapshot;b=b.value;try{var j=T();return!r(b,j)}catch{return!0}}function v(b,T){return T()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:g;return Qu.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,Qu}var jg;function KS(){return jg||(jg=1,Fu.exports=YS()),Fu.exports}var ZS=KS();const XS=(n,i)=>ys(i)?i:wS(i)&&ys(i.defaultValue)?i.defaultValue:Array.isArray(n)?n[n.length-1]:n,$S={t:XS,ready:!1},WS=()=>()=>{},qh=(n,i={})=>{const{i18n:r}=i,{i18n:l,defaultNS:c}=A.useContext(FS)||{},d=r||l||GS();d&&!d.reportNamespaces&&(d.reportNamespaces=new QS),d||yh(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const p=A.useMemo(()=>({...BS(),...d?.options?.react,...i}),[d,i]),{useSuspense:g,keyPrefix:h}=p,v=c||d?.options?.defaultNS,y=ys(v)?[v]:v||["translation"],b=A.useMemo(()=>y,y);d?.reportNamespaces?.addUsedNamespaces?.(b);const T=A.useRef(0),j=A.useCallback(Y=>{if(!d)return WS;const{bindI18n:ae,bindI18nStore:ge}=p,K=()=>{T.current+=1,Y()};return ae&&d.on(ae,K),ge&&d.store.on(ge,K),()=>{ae&&ae.split(" ").forEach(ze=>d.off(ze,K)),ge&&ge.split(" ").forEach(ze=>d.store.off(ze,K))}},[d,p]),D=A.useRef(),z=A.useCallback(()=>{if(!d)return $S;const Y=!!(d.isInitialized||d.initializedStoreOnce)&&b.every(Ue=>OS(Ue,d,p)),ae=i.lng||d.language,ge=T.current,K=D.current;if(K&&K.ready===Y&&K.lng===ae&&K.keyPrefix===h&&K.revision===ge)return K;const de={t:d.getFixedT(ae,p.nsMode==="fallback"?b:b[0],h),ready:Y,lng:ae,keyPrefix:h,revision:ge};return D.current=de,de},[d,b,h,p,i.lng]),[w,I]=A.useState(0),{t:B,ready:J}=ZS.useSyncExternalStore(j,z,z);A.useEffect(()=>{if(d&&!J&&!g){const Y=()=>I(ae=>ae+1);i.lng?_g(d,i.lng,b,Y):ic(d,b,Y)}},[d,i.lng,b,J,g,w]);const ee=d||{},ie=A.useRef(null),Q=A.useRef(),H=Y=>{const ae=Object.getOwnPropertyDescriptors(Y);ae.__original&&delete ae.__original;const ge=Object.create(Object.getPrototypeOf(Y),ae);if(!Object.prototype.hasOwnProperty.call(ge,"__original"))try{Object.defineProperty(ge,"__original",{value:Y,writable:!1,enumerable:!1,configurable:!1})}catch{}return ge},$=A.useMemo(()=>{const Y=ee,ae=Y?.language;let ge=Y;Y&&(ie.current&&ie.current.__original===Y?Q.current!==ae?(ge=H(Y),ie.current=ge,Q.current=ae):ge=ie.current:(ge=H(Y),ie.current=ge,Q.current=ae));const K=[B,ge,J];return K.t=B,K.i18n=ge,K.ready=J,K},[B,ee,J,ee.resolvedLanguage,ee.language,ee.languages]);if(d&&g&&!J)throw new Promise(Y=>{const ae=()=>Y();i.lng?_g(d,i.lng,b,ae):ic(d,b,ae)});return $};function el({value:n,onChange:i,placeholder:r,className:l}){const{t:c}=qh();return m.jsxs("div",{className:Le("flex items-center gap-3 px-4 py-2 rounded-md border border-surface-border bg-surface/70 transition-all duration-200","focus-within:border-accent-dark focus-within:shadow-glow",l),children:[m.jsx(lh,{size:18,className:"text-content-subtle","aria-hidden":"true"}),m.jsx("input",{type:"search",value:n,onChange:d=>i(d.target.value),placeholder:r||c("search.placeholder"),className:"bg-transparent outline-none w-full text-sm text-content placeholder:text-content-subtle","aria-label":r||c("search.placeholder")})]})}el.propTypes={value:O.string.isRequired,onChange:O.func.isRequired,placeholder:O.string,className:O.string};el.defaultProps={placeholder:"Rechercher...",className:""};function _a(n){return Array.isArray?Array.isArray(n):Ch(n)==="[object Array]"}function e2(n){if(typeof n=="string")return n;let i=n+"";return i=="0"&&1/n==-1/0?"-0":i}function t2(n){return n==null?"":e2(n)}function Kt(n){return typeof n=="string"}function jh(n){return typeof n=="number"}function a2(n){return n===!0||n===!1||s2(n)&&Ch(n)=="[object Boolean]"}function Th(n){return typeof n=="object"}function s2(n){return Th(n)&&n!==null}function Dt(n){return n!=null}function Yu(n){return!n.trim().length}function Ch(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const n2="Incorrect 'index' type",i2=n=>`Invalid value for key ${n}`,r2=n=>`Pattern length exceeds max of ${n}.`,l2=n=>`Missing ${n} property in key`,o2=n=>`Property 'weight' in key '${n}' must be a positive integer`,Tg=Object.prototype.hasOwnProperty;class u2{constructor(i){this._keys=[],this._keyMap={};let r=0;i.forEach(l=>{let c=Ah(l);r+=c.weight,this._keys.push(c),this._keyMap[c.id]=c,r+=c.weight}),this._keys.forEach(l=>{l.weight/=r})}get(i){return this._keyMap[i]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ah(n){let i=null,r=null,l=null,c=1,d=null;if(Kt(n)||_a(n))l=n,i=Cg(n),r=lc(n);else{if(!Tg.call(n,"name"))throw new Error(l2("name"));const p=n.name;if(l=p,Tg.call(n,"weight")&&(c=n.weight,c<=0))throw new Error(o2(p));i=Cg(p),r=lc(p),d=n.getFn}return{path:i,id:r,weight:c,src:l,getFn:d}}function Cg(n){return _a(n)?n:n.split(".")}function lc(n){return _a(n)?n.join("."):n}function c2(n,i){let r=[],l=!1;const c=(d,p,g)=>{if(Dt(d))if(!p[g])r.push(d);else{let h=p[g];const v=d[h];if(!Dt(v))return;if(g===p.length-1&&(Kt(v)||jh(v)||a2(v)))r.push(t2(v));else if(_a(v)){l=!0;for(let y=0,b=v.length;y<b;y+=1)c(v[y],p,g+1)}else p.length&&c(v,p,g+1)}};return c(n,Kt(i)?i.split("."):i,0),l?r:r[0]}const d2={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},m2={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,i)=>n.score===i.score?n.idx<i.idx?-1:1:n.score<i.score?-1:1},p2={location:0,threshold:.6,distance:100},f2={useExtendedSearch:!1,getFn:c2,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var le={...m2,...d2,...p2,...f2};const g2=/[^ ]+/g;function h2(n=1,i=3){const r=new Map,l=Math.pow(10,i);return{get(c){const d=c.match(g2).length;if(r.has(d))return r.get(d);const p=1/Math.pow(d,.5*n),g=parseFloat(Math.round(p*l)/l);return r.set(d,g),g},clear(){r.clear()}}}class Dc{constructor({getFn:i=le.getFn,fieldNormWeight:r=le.fieldNormWeight}={}){this.norm=h2(r,3),this.getFn=i,this.isCreated=!1,this.setIndexRecords()}setSources(i=[]){this.docs=i}setIndexRecords(i=[]){this.records=i}setKeys(i=[]){this.keys=i,this._keysMap={},i.forEach((r,l)=>{this._keysMap[r.id]=l})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Kt(this.docs[0])?this.docs.forEach((i,r)=>{this._addString(i,r)}):this.docs.forEach((i,r)=>{this._addObject(i,r)}),this.norm.clear())}add(i){const r=this.size();Kt(i)?this._addString(i,r):this._addObject(i,r)}removeAt(i){this.records.splice(i,1);for(let r=i,l=this.size();r<l;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(i,r){return i[this._keysMap[r]]}size(){return this.records.length}_addString(i,r){if(!Dt(i)||Yu(i))return;let l={v:i,i:r,n:this.norm.get(i)};this.records.push(l)}_addObject(i,r){let l={i:r,$:{}};this.keys.forEach((c,d)=>{let p=c.getFn?c.getFn(i):this.getFn(i,c.path);if(Dt(p)){if(_a(p)){let g=[];const h=[{nestedArrIndex:-1,value:p}];for(;h.length;){const{nestedArrIndex:v,value:y}=h.pop();if(Dt(y))if(Kt(y)&&!Yu(y)){let b={v:y,i:v,n:this.norm.get(y)};g.push(b)}else _a(y)&&y.forEach((b,T)=>{h.push({nestedArrIndex:T,value:b})})}l.$[d]=g}else if(Kt(p)&&!Yu(p)){let g={v:p,n:this.norm.get(p)};l.$[d]=g}}}),this.records.push(l)}toJSON(){return{keys:this.keys,records:this.records}}}function Dh(n,i,{getFn:r=le.getFn,fieldNormWeight:l=le.fieldNormWeight}={}){const c=new Dc({getFn:r,fieldNormWeight:l});return c.setKeys(n.map(Ah)),c.setSources(i),c.create(),c}function v2(n,{getFn:i=le.getFn,fieldNormWeight:r=le.fieldNormWeight}={}){const{keys:l,records:c}=n,d=new Dc({getFn:i,fieldNormWeight:r});return d.setKeys(l),d.setIndexRecords(c),d}function Qr(n,{errors:i=0,currentLocation:r=0,expectedLocation:l=0,distance:c=le.distance,ignoreLocation:d=le.ignoreLocation}={}){const p=i/n.length;if(d)return p;const g=Math.abs(l-r);return c?p+g/c:g?1:p}function b2(n=[],i=le.minMatchCharLength){let r=[],l=-1,c=-1,d=0;for(let p=n.length;d<p;d+=1){let g=n[d];g&&l===-1?l=d:!g&&l!==-1&&(c=d-1,c-l+1>=i&&r.push([l,c]),l=-1)}return n[d-1]&&d-l>=i&&r.push([l,d-1]),r}const xs=32;function x2(n,i,r,{location:l=le.location,distance:c=le.distance,threshold:d=le.threshold,findAllMatches:p=le.findAllMatches,minMatchCharLength:g=le.minMatchCharLength,includeMatches:h=le.includeMatches,ignoreLocation:v=le.ignoreLocation}={}){if(i.length>xs)throw new Error(r2(xs));const y=i.length,b=n.length,T=Math.max(0,Math.min(l,b));let j=d,D=T;const z=g>1||h,w=z?Array(b):[];let I;for(;(I=n.indexOf(i,D))>-1;){let H=Qr(i,{currentLocation:I,expectedLocation:T,distance:c,ignoreLocation:v});if(j=Math.min(H,j),D=I+y,z){let $=0;for(;$<y;)w[I+$]=1,$+=1}}D=-1;let B=[],J=1,ee=y+b;const ie=1<<y-1;for(let H=0;H<y;H+=1){let $=0,Y=ee;for(;$<Y;)Qr(i,{errors:H,currentLocation:T+Y,expectedLocation:T,distance:c,ignoreLocation:v})<=j?$=Y:ee=Y,Y=Math.floor((ee-$)/2+$);ee=Y;let ae=Math.max(1,T-Y+1),ge=p?b:Math.min(T+Y,b)+y,K=Array(ge+2);K[ge+1]=(1<<H)-1;for(let de=ge;de>=ae;de-=1){let Ue=de-1,E=r[n.charAt(Ue)];if(z&&(w[Ue]=+!!E),K[de]=(K[de+1]<<1|1)&E,H&&(K[de]|=(B[de+1]|B[de])<<1|1|B[de+1]),K[de]&ie&&(J=Qr(i,{errors:H,currentLocation:Ue,expectedLocation:T,distance:c,ignoreLocation:v}),J<=j)){if(j=J,D=Ue,D<=T)break;ae=Math.max(1,2*T-D)}}if(Qr(i,{errors:H+1,currentLocation:T,expectedLocation:T,distance:c,ignoreLocation:v})>j)break;B=K}const Q={isMatch:D>=0,score:Math.max(.001,J)};if(z){const H=b2(w,g);H.length?h&&(Q.indices=H):Q.isMatch=!1}return Q}function y2(n){let i={};for(let r=0,l=n.length;r<l;r+=1){const c=n.charAt(r);i[c]=(i[c]||0)|1<<l-r-1}return i}class Nh{constructor(i,{location:r=le.location,threshold:l=le.threshold,distance:c=le.distance,includeMatches:d=le.includeMatches,findAllMatches:p=le.findAllMatches,minMatchCharLength:g=le.minMatchCharLength,isCaseSensitive:h=le.isCaseSensitive,ignoreLocation:v=le.ignoreLocation}={}){if(this.options={location:r,threshold:l,distance:c,includeMatches:d,findAllMatches:p,minMatchCharLength:g,isCaseSensitive:h,ignoreLocation:v},this.pattern=h?i:i.toLowerCase(),this.chunks=[],!this.pattern.length)return;const y=(T,j)=>{this.chunks.push({pattern:T,alphabet:y2(T),startIndex:j})},b=this.pattern.length;if(b>xs){let T=0;const j=b%xs,D=b-j;for(;T<D;)y(this.pattern.substr(T,xs),T),T+=xs;if(j){const z=b-xs;y(this.pattern.substr(z),z)}}else y(this.pattern,0)}searchIn(i){const{isCaseSensitive:r,includeMatches:l}=this.options;if(r||(i=i.toLowerCase()),this.pattern===i){let D={isMatch:!0,score:0};return l&&(D.indices=[[0,i.length-1]]),D}const{location:c,distance:d,threshold:p,findAllMatches:g,minMatchCharLength:h,ignoreLocation:v}=this.options;let y=[],b=0,T=!1;this.chunks.forEach(({pattern:D,alphabet:z,startIndex:w})=>{const{isMatch:I,score:B,indices:J}=x2(i,D,z,{location:c+w,distance:d,threshold:p,findAllMatches:g,minMatchCharLength:h,includeMatches:l,ignoreLocation:v});I&&(T=!0),b+=B,I&&J&&(y=[...y,...J])});let j={isMatch:T,score:T?b/this.chunks.length:1};return T&&l&&(j.indices=y),j}}class Wa{constructor(i){this.pattern=i}static isMultiMatch(i){return Ag(i,this.multiRegex)}static isSingleMatch(i){return Ag(i,this.singleRegex)}search(){}}function Ag(n,i){const r=n.match(i);return r?r[1]:null}class S2 extends Wa{constructor(i){super(i)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(i){const r=i===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class _2 extends Wa{constructor(i){super(i)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(i){const l=i.indexOf(this.pattern)===-1;return{isMatch:l,score:l?0:1,indices:[0,i.length-1]}}}class q2 extends Wa{constructor(i){super(i)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(i){const r=i.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class j2 extends Wa{constructor(i){super(i)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(i){const r=!i.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,i.length-1]}}}class T2 extends Wa{constructor(i){super(i)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(i){const r=i.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[i.length-this.pattern.length,i.length-1]}}}class C2 extends Wa{constructor(i){super(i)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(i){const r=!i.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,i.length-1]}}}class Lh extends Wa{constructor(i,{location:r=le.location,threshold:l=le.threshold,distance:c=le.distance,includeMatches:d=le.includeMatches,findAllMatches:p=le.findAllMatches,minMatchCharLength:g=le.minMatchCharLength,isCaseSensitive:h=le.isCaseSensitive,ignoreLocation:v=le.ignoreLocation}={}){super(i),this._bitapSearch=new Nh(i,{location:r,threshold:l,distance:c,includeMatches:d,findAllMatches:p,minMatchCharLength:g,isCaseSensitive:h,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(i){return this._bitapSearch.searchIn(i)}}class Mh extends Wa{constructor(i){super(i)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(i){let r=0,l;const c=[],d=this.pattern.length;for(;(l=i.indexOf(this.pattern,r))>-1;)r=l+d,c.push([l,r-1]);const p=!!c.length;return{isMatch:p,score:p?0:1,indices:c}}}const oc=[S2,Mh,q2,j2,C2,T2,_2,Lh],Dg=oc.length,A2=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,D2="|";function N2(n,i={}){return n.split(D2).map(r=>{let l=r.trim().split(A2).filter(d=>d&&!!d.trim()),c=[];for(let d=0,p=l.length;d<p;d+=1){const g=l[d];let h=!1,v=-1;for(;!h&&++v<Dg;){const y=oc[v];let b=y.isMultiMatch(g);b&&(c.push(new y(b,i)),h=!0)}if(!h)for(v=-1;++v<Dg;){const y=oc[v];let b=y.isSingleMatch(g);if(b){c.push(new y(b,i));break}}}return c})}const L2=new Set([Lh.type,Mh.type]);class M2{constructor(i,{isCaseSensitive:r=le.isCaseSensitive,includeMatches:l=le.includeMatches,minMatchCharLength:c=le.minMatchCharLength,ignoreLocation:d=le.ignoreLocation,findAllMatches:p=le.findAllMatches,location:g=le.location,threshold:h=le.threshold,distance:v=le.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:l,minMatchCharLength:c,findAllMatches:p,ignoreLocation:d,location:g,threshold:h,distance:v},this.pattern=r?i:i.toLowerCase(),this.query=N2(this.pattern,this.options)}static condition(i,r){return r.useExtendedSearch}searchIn(i){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:l,isCaseSensitive:c}=this.options;i=c?i:i.toLowerCase();let d=0,p=[],g=0;for(let h=0,v=r.length;h<v;h+=1){const y=r[h];p.length=0,d=0;for(let b=0,T=y.length;b<T;b+=1){const j=y[b],{isMatch:D,indices:z,score:w}=j.search(i);if(D){if(d+=1,g+=w,l){const I=j.constructor.type;L2.has(I)?p=[...p,...z]:p.push(z)}}else{g=0,d=0,p.length=0;break}}if(d){let b={isMatch:!0,score:g/d};return l&&(b.indices=p),b}}return{isMatch:!1,score:1}}}const uc=[];function E2(...n){uc.push(...n)}function cc(n,i){for(let r=0,l=uc.length;r<l;r+=1){let c=uc[r];if(c.condition(n,i))return new c(n,i)}return new Nh(n,i)}const tl={AND:"$and",OR:"$or"},dc={PATH:"$path",PATTERN:"$val"},mc=n=>!!(n[tl.AND]||n[tl.OR]),R2=n=>!!n[dc.PATH],z2=n=>!_a(n)&&Th(n)&&!mc(n),Ng=n=>({[tl.AND]:Object.keys(n).map(i=>({[i]:n[i]}))});function Eh(n,i,{auto:r=!0}={}){const l=c=>{let d=Object.keys(c);const p=R2(c);if(!p&&d.length>1&&!mc(c))return l(Ng(c));if(z2(c)){const h=p?c[dc.PATH]:d[0],v=p?c[dc.PATTERN]:c[h];if(!Kt(v))throw new Error(i2(h));const y={keyId:lc(h),pattern:v};return r&&(y.searcher=cc(v,i)),y}let g={children:[],operator:d[0]};return d.forEach(h=>{const v=c[h];_a(v)&&v.forEach(y=>{g.children.push(l(y))})}),g};return mc(n)||(n=Ng(n)),l(n)}function O2(n,{ignoreFieldNorm:i=le.ignoreFieldNorm}){n.forEach(r=>{let l=1;r.matches.forEach(({key:c,norm:d,score:p})=>{const g=c?c.weight:null;l*=Math.pow(p===0&&g?Number.EPSILON:p,(g||1)*(i?1:d))}),r.score=l})}function w2(n,i){const r=n.matches;i.matches=[],Dt(r)&&r.forEach(l=>{if(!Dt(l.indices)||!l.indices.length)return;const{indices:c,value:d}=l;let p={indices:c,value:d};l.key&&(p.key=l.key.src),l.idx>-1&&(p.refIndex=l.idx),i.matches.push(p)})}function P2(n,i){i.score=n.score}function V2(n,i,{includeMatches:r=le.includeMatches,includeScore:l=le.includeScore}={}){const c=[];return r&&c.push(w2),l&&c.push(P2),n.map(d=>{const{idx:p}=d,g={item:i[p],refIndex:p};return c.length&&c.forEach(h=>{h(d,g)}),g})}class gn{constructor(i,r={},l){this.options={...le,...r},this.options.useExtendedSearch,this._keyStore=new u2(this.options.keys),this.setCollection(i,l)}setCollection(i,r){if(this._docs=i,r&&!(r instanceof Dc))throw new Error(n2);this._myIndex=r||Dh(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(i){Dt(i)&&(this._docs.push(i),this._myIndex.add(i))}remove(i=()=>!1){const r=[];for(let l=0,c=this._docs.length;l<c;l+=1){const d=this._docs[l];i(d,l)&&(this.removeAt(l),l-=1,c-=1,r.push(d))}return r}removeAt(i){this._docs.splice(i,1),this._myIndex.removeAt(i)}getIndex(){return this._myIndex}search(i,{limit:r=-1}={}){const{includeMatches:l,includeScore:c,shouldSort:d,sortFn:p,ignoreFieldNorm:g}=this.options;let h=Kt(i)?Kt(this._docs[0])?this._searchStringList(i):this._searchObjectList(i):this._searchLogical(i);return O2(h,{ignoreFieldNorm:g}),d&&h.sort(p),jh(r)&&r>-1&&(h=h.slice(0,r)),V2(h,this._docs,{includeMatches:l,includeScore:c})}_searchStringList(i){const r=cc(i,this.options),{records:l}=this._myIndex,c=[];return l.forEach(({v:d,i:p,n:g})=>{if(!Dt(d))return;const{isMatch:h,score:v,indices:y}=r.searchIn(d);h&&c.push({item:d,idx:p,matches:[{score:v,value:d,norm:g,indices:y}]})}),c}_searchLogical(i){const r=Eh(i,this.options),l=(g,h,v)=>{if(!g.children){const{keyId:b,searcher:T}=g,j=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(h,b),searcher:T});return j&&j.length?[{idx:v,item:h,matches:j}]:[]}const y=[];for(let b=0,T=g.children.length;b<T;b+=1){const j=g.children[b],D=l(j,h,v);if(D.length)y.push(...D);else if(g.operator===tl.AND)return[]}return y},c=this._myIndex.records,d={},p=[];return c.forEach(({$:g,i:h})=>{if(Dt(g)){let v=l(r,g,h);v.length&&(d[h]||(d[h]={idx:h,item:g,matches:[]},p.push(d[h])),v.forEach(({matches:y})=>{d[h].matches.push(...y)}))}}),p}_searchObjectList(i){const r=cc(i,this.options),{keys:l,records:c}=this._myIndex,d=[];return c.forEach(({$:p,i:g})=>{if(!Dt(p))return;let h=[];l.forEach((v,y)=>{h.push(...this._findMatches({key:v,value:p[y],searcher:r}))}),h.length&&d.push({idx:g,item:p,matches:h})}),d}_findMatches({key:i,value:r,searcher:l}){if(!Dt(r))return[];let c=[];if(_a(r))r.forEach(({v:d,i:p,n:g})=>{if(!Dt(d))return;const{isMatch:h,score:v,indices:y}=l.searchIn(d);h&&c.push({score:v,key:i,value:d,idx:p,norm:g,indices:y})});else{const{v:d,n:p}=r,{isMatch:g,score:h,indices:v}=l.searchIn(d);g&&c.push({score:h,key:i,value:d,norm:p,indices:v})}return c}}gn.version="6.6.2";gn.createIndex=Dh;gn.parseIndex=v2;gn.config=le;gn.parseQuery=Eh;E2(M2);const U2={title:"Val-d'Ombre",intro:"Cit industrielle et gothique accroche  flanc de montagne, o la poussire de roche touffe les rves et o les ombres cachent des secrets millnaires.",quote:{text:"Ici, mme la pierre a des souvenirs. Et certains feraient mieux de rester enfouis.",author:"Thorgar, prtre du Temple-Forgeron"},sections:[{title:"Atmosphre Gnrale",icon:"cloud",content:["Val-d'Ombre est une cit industrielle et gothique accroche  flanc de montagne.","L'air y est satur de poussire de roche, brume froide, odeur mtallique des forges.","C'est une ville de verticalit, de terrasses, de fumes et d'ombres."]},{title:"La Spirale des ons",icon:"spiral",content:["Tour inverse titanesque qui s'enfonce dans la crote terrestre.","Non pas construite, mais  pousse  depuis une autre ralit.","Architecture vivante : les couloirs changent si on les quitte trop longtemps.","Le Secret : Thade veut s'y brancher pour figer sa conscience et devenir immortel."]},{title:"Histoire de Val-d'Ombre",icon:"history",content:["Fonde il y a trois sicles par des clans nains cherchant du minerai rare.","L'Universit Arcane s'est installe aprs la dcouverte des premires anomalies magiques.","La mine a perc la Spirale il y a vingt ans, dclenchant les premiers  accidents .","Aujourd'hui, la ville se meurt lentement pendant que ses dirigeants complotent."]},{title:"Secrets Enfouis",icon:"secrets",content:["La Spirale n'est pas un donjon : c'est un organisme qui rve.","Les  rsonances  sont des appels de la Spirale vers ceux qui ont du potentiel.","Thade n'est pas le premier  tenter la fusion  mais il pourrait tre le dernier.","Le Conseil sait depuis des annes et a choisi de sacrifier les mineurs."]}],themes:[{name:"La Rationalit Monstrueuse",desc:"Pour Thade, la mort est un dfaut de conception  corriger, quel qu'en soit le prix humain."},{name:"Le Prix de l'Ascension",desc:"La fusion avec la Spirale exige le sacrifice de toute la cit de Val-d'Ombre."},{name:"Mmoire des lieux",desc:"Les Nains ne sont pas de simples mineurs, mais les gardiens d'une prison planaire."},{name:"Rsistance populaire",desc:"Les mineurs et le peuple peuvent renverser l'ordre tabli."}]},k2={id:"quartier_des_mineurs",name:"Quartier des Mineurs",summary:"Niveau du sol au pied de la falaise, quartier ouvrier nain o la tension sociale est permanente.",details:["Ambiance : Bruyant, satur de poussire et de jurons nains.","Tension : Piquets de grve, charrettes renverses, familles prtes  tout pour quitter la ville.","Focus : Cur du conflit social entre la Guilde des Mineurs, le Conseil et la Guilde des Mages.","Opportunits : Recruter des allis temporaires, provoquer des meutes ou organiser des actions de sabotage."],locations:[{id:"quartier_des_mineurs_place",name:"Place Centrale du Quartier",summary:"Carrefour bruyant o se croisent mineurs, contrematres et familles puises.",details:["Ambiance : Cris, odeur de sueur et de charbon, fume des forges en arrire-plan.","Tests : Diplomatie / Intimidation pour calmer ou enflammer la foule.","Ennemis potentiels : Casseurs ou briseurs de grve manipuls par Thade.","Opportunits : Lancer des rumeurs, organiser une manifestation, ngocier avec les meneurs de grve."],npcIds:["durnik_chef_mineur","contremaitre_humain"]},{id:"quartier_artisan_patrouille",name:"Alle des Artisans",summary:"Rue principale borde d'ateliers mtallurgiques, devenue terrain de rafles improvises.",details:["Ambiance : Vapeur brlante, marteaux arrts net, torches renverses.","Tests : Discrtion / Acrobaties pour se faufiler entre les barrages de caisses.","Danger : Patrouilles mixtes (gardes humains, automates de la Guilde), dnonciations forces.","Usage : Montrer la violence de la Loi Martiale et les arrestations ciblant les Nains."],npcIds:["patrouille_mixte_conseil"]},{id:"entree_mine_valdombre",name:"Entre de la Mine",summary:"Palissade garde et cage de descente massive, point de passage oblig entre la surface et les profondeurs.",details:["Ambiance : Rugissement du treuil, fume de torches, martlement des boucliers des gardes.","Tests : Diplomatie / Intimidation pour franchir le piquet de grve sans violence.","Danger : Risque d'meute, sabotage latent, surveillants prts  dclencher l'alarme.","Usage : Contrle d'accs vers la Mine d'Argent, ngociations entre Guildes et PJ."],npcIds:["garde_portail_mine"]},{id:"forge_thorgar_refuge",name:"Forge-Refuge de Thorgar",summary:"Atelier latral du Temple-Forgeron converti en sanctuaire provisoire pour les blesss et chefs nains.",details:["Ambiance : Chaleur touffante des fours, murmures de prires, odeur d'huile brle.","Tests : Premiers secours / Artisanat (forge) pour stabiliser les dfenses improvises.","Danger : Effondrement possible si les glyphes sont sabords de l'intrieur.","Usage : Lieu des dcisions morales, confrontation directe avec Thorgar sur la stratgie."],npcIds:["thorgar_pretre_nain"]},{id:"temple_forgeron",name:"Temple-Forgeron des Nains",summary:"Forteresse-temple creuse dans la roche, cur spirituel et militaire des Nains.",details:["Ambiance : Chant religieux sourd ml au martlement des marteaux sur l'enclume sacre.","Tests : Religion / Histoire pour comprendre les runes de protection graves dans la pierre.","Ennemis : Pendant la Nuit des Longs Couteaux, assaillants morts-vivants et fanatiques de Thade.","Loot : Reliques naines, armes bnies contre les morts-vivants, accs  des bndictions temporaires."],npcIds:["thorgar_pretre_nain","capitaine_garde_temple"]},{id:"egouts_val_dombre",name:"gouts de Val-d'Ombre",summary:"Rseau ancien reliant quartiers pauvres, Temple-Forgeron et Cimetire.",details:["Ambiance : Souterrains sombres, odeurs pestilentielles, eau stagnante.","Tests : Survie / Perception pour viter de se perdre ou tomber dans des fosses caches.","Ennemis : Rats gants, charognards, expriences rates de ncromancie.","Usage : Voie de fuite, terrain de gurilla naine et d'infiltration discrte."],npcIds:["sniv_kobold"]},{id:"taverne_fumees_rouges",name:"Taverne des Fumes Rouges",summary:"Bouge enfum frquent par contrematres, dockers et mercenaires sans contrat.",details:["Ambiance : Fume paisse, tables collantes, rires gras et bagarres rgulires.","Tests : Perception / Intuition pour reprer les vrais informateurs parmi les ivrognes.","Ennemis potentiels : Brutes locales, collecteurs de dettes.","Opportunits : Recruter des mercenaires, rgler des dettes, provoquer une diversion."],npcIds:["tenancier_taverne"]}]},I2={id:"quartier_du_savoir",name:"Quartier du Savoir",summary:"Quartier en terrasses ddi au savoir, aux bibliothques et aux expriences secrtes.",details:["Ambiance : De jour, agitation studieuse ; de nuit, complots en robe noire.","Tension : Rivalits entre tudiants, professeurs et cabales secrtes.","Focus : Point d'entre idal pour enquter sur la Spirale et les expriences de ncromancie.","Opportunits : Accs aux archives interdites,  des mentors ou  des ennemis puissants."],locations:[{id:"quartier_du_savoir_coeur",name:"Cur du Quartier du Savoir",summary:"Terrasses de tours fines relies par des passerelles couvertes.",details:["Ambiance : Odeur d'encre, de parchemin et d'ozone magique.","Tests : Connaissances / Investigation pour glaner des informations discrtes.","Danger : Espions de Thade  l'afft de toute curiosit mal place.","Usage : Lieu de rencontres rapides avec diffrents rudits et tudiants."],npcIds:["etudiante_cabale"]},{id:"tour_des_mages_toit",name:"Toit de la Tour des Mages",summary:"Plateforme d'affrontement final, balaye par les vents et les clairs arcaniques.",details:["Quatre pylnes alimentent un bouclier de force sur le boss.","Vue panoramique sur Val-d'Ombre en ruine.","Terrain : risque de chute, clairs, gravit instable lors de la fusion.","Climax : lieu de la confrontation contre Thade et la Spirale."],npcIds:["kaelen_vampire"]},{id:"valdombre_sommet_tour_mage",name:"Sommet ventr de la Tour des Mages",summary:"Crte brise o le tunnel de la Spirale ventre le toit, thtre d'irruptions violentes.",details:["Ambiance : Pluie de gravats, clairs arcaniques, vue panoramique sur la ville en flammes.","Tests : Acrobaties / Volont pour rester debout sous les rafales magiques.","Danger : Gardes d'lite, champs de force instables, arrive possible de Thade.","Usage : Transition entre la Spirale et l'affrontement final  la surface."],npcIds:[]},{id:"tour_des_mages",name:"Tour des Mages",summary:"Symbole de la Guilde des Mages, cur du pouvoir magique de la ville.",details:["Ambiance : Brume violette, clairs arcaniques, silhouettes en robes observant la ville.","Tests : Arcane / Politique pour naviguer entre les diffrentes factions de mages.","Ennemis : Apprentis fanatiss, lmentaires lis, gardiens magiques.","Climax : Devient thtre du combat final contre Thade dans la campagne."],npcIds:["thade_coren","archimage_defecteur","magi_tuteur_loyal"]},{id:"bureau_thade_coren",name:"Bureau de Thade Coren",summary:"Appartement panoramique o Thade orchestre la guerre : bibliothques en peau, cartes arcaniques et relais vers la Spirale.",details:["Ambiance : Parfums d'encens froid, instruments de mesure sifflants, vitraux irradiant une lueur violette.","Tests : Investigation / Magie pour dcoder les plans gravs sur les murs et dtecter les glyphes de dfense.","Danger : Serviteurs spectraux, cristaux-judas relis  la Spirale, piges qui inversent la gravit.","Usage : Pice cl pour dcouvrir les complots de Thade, voler ses recherches ou affronter sa projection."],npcIds:["thade_coren"]},{id:"universite_arcane",name:"Universit Arcane et Bibliothques",summary:"Complexe d'amphithtres, de salles de cours et d'archives interdites.",details:["Ambiance : Chuchotements, pages tournes, chandelles vacillantes.","Tests : Recherche / Investigation pour dnicher des informations sur la Spirale et la ncromancie.","Ennemis : Bibliothcaires zls, sorts de dfense animant les livres et les tagres.","Loot : Grimoires, parchemins de sorts, notes de recherches compromettantes."],npcIds:["etudiant_universite","bibliothecaire_interdits"]},{id:"place_marche_noir",name:"Place du March Noir",summary:"Place couverte  l'cart des patrouilles, ddie aux transactions interdites.",details:["Ambiance : Torches bleutres, voix basses, marchandises caches sous des bches.","Tests : Ngociation / Intimidation pour obtenir des objets rares sans se faire dpouiller.","Ennemis potentiels : Voleurs, assassins, espions.","Loot : Composants ncromantiques, artefacts de la Spirale, informations vendues au plus offrant."],npcIds:["marchand_gris"]}]},B2={id:"hauteurs_brumeuses",name:"Hauteurs Brumeuses",summary:"Plateaux suprieurs plongs dans la brume, domaine des nobles et des industriels.",details:["Ambiance : Brume froide, jardins suspendus, balcons dominant la ville.","Tension : Dcalage extrme entre le confort des hauteurs et la misre du bas.","Focus : Lieu des dcisions politiques et des complots  grande chelle.","Opportunits : Infiltration, espionnage, renversement d'alliances."],locations:[{id:"hauteurs_brumeuses_quartier",name:"Quartier des Nobles",summary:"Manoirs murs, alles silencieuses et gardes blass.",details:["Ambiance : Silence feutr, parfums coteux, lumire tamise par la brume.","Tests : Discrtion / Bluff pour se faire passer pour des invits.","Ennemis : Gardes privs, mages de cour.","Usage : Rencontres diplomatiques, chantages, soires qui peuvent tourner au massacre."],npcIds:["bourgmestre"]},{id:"manoir_bourgmestre",name:"Manoir du Bourgmestre",summary:"Rsidence officielle, mlange de luxe fatigu et de paranoa.",details:["Ambiance : Couloirs chargs de portraits svres, pices de rception rarement utilises.","Tests : Investigation pour trouver des archives caches sur la gestion de la ville.","Ennemis : Espions infiltrs, gardes loyaux au Conseil plutt qu'au Bourgmestre.","Loot : Documents compromettants, lettres codes mentionnant la Spirale."],npcIds:["secretaire_bourgmestre"]},{id:"chapelle_oublies",name:"Chapelle des Oublis",summary:"Petit sanctuaire oubli coinc entre deux demeures nobles.",details:["Ambiance : Silence pais, cierges presque consums, statues de saints oublis.","Tests : Religion / Intuition pour percevoir la lassitude du clerg local.","Ennemis potentiels : Fanatiques isols, esprits amers.","Usage : Refuge discret pour les PJ, lieu de confessions et de complots nocturnes."],npcIds:["clerc_desabuse"]},{id:"balcons_brumeux",name:"Balcons du Brumeux",summary:"Passerelles dominant le vide, idales pour rencontres secrtes et chutes spectaculaires.",details:["Ambiance : Brume paisse, vent glac, vue plongeante sur le Cimetire et la Mine.","Tests : Acrobatie / Discrtion lors de filatures en hauteur.","Ennemis : Assassins, agents de Thade, cratures volantes invoques.","Usage : Scnes dramatiques de confrontation, de trahison ou de sacrifice."],npcIds:["assassin_masque"]}]},H2={id:"vieille_ville",name:"Vieille Ville",summary:"Quartier le plus ancien, labyrinthe de ruelles troites et de maisons penches.",details:["Ambiance : Linge humide suspendu, pavs glissants, odeur de moisi.","Tension : Refuge des marginaux, des apprentis mages en fuite et des contrebandiers.","Focus : Terrain idal pour les filatures, embuscades et planques secrtes.","Opportunits : Rseaux d'information parallles, caches d'objets illicites."],locations:[{id:"vieille_ville_ruelles",name:"Vieille Ville et Ruelles Basses",summary:"Rseau de ruelles serres o l'on se perd facilement.",details:["Ambiance : Obscurit, murs humides, voix touffes derrire les volets.","Tests : Discrtion / Perception pour viter les embuscades.","Ennemis : Bandits, espions, cratures tapis dans l'ombre.","Usage : Terrain de jeu des criminels et des complots mineurs."],npcIds:["chef_bandes_ruelles"]},{id:"auberge_pic_brise",name:'Auberge "Le Pic Bris"',summary:"Grande auberge de bois sombre, point de dpart idal de la campagne.",details:["Ambiance : Rires fatigus, odeur de bire, feu chaleureux dans l'tre.","Tests : Renseignements pour glaner les premires rumeurs sur le Cimetire et la Mine.","Ennemis potentiels : Ivrognes agressifs, collecteurs de dettes.","Usage : Point de rencontre initial, lieu o les PJ reoivent leurs premires offres de mission."],npcIds:["aubergiste_pic_brise"]}]},G2={id:"centre_civique",name:"Centre Civique",summary:"Cur administratif de Val-d'Ombre, sige du pouvoir civil et judiciaire.",details:["Ambiance : Places paves, btiments officiels imposants, drapeaux flottant dans la brume.","Tension : Dcisions impopulaires, rassemblements qui dgnrent, prsence policire forte.","Focus : Lieu des annonces, des procs et des conseils de crise.","Opportunits : Plaidoyer politique, renversement d'alliances, actions spectaculaires en public."],locations:[{id:"hotel_de_ville_valdombre",name:"Htel de Ville de Val-d'Ombre",summary:"Sige administratif et salle du Conseil, cur des dcisions politiques.",details:["Ambiance : Couloirs tendus, odeur d'encre et de fume de torches.","Tests : Diplomatie / Intimidation pour influer sur les votes et discours.","Dangers : Gardes du Conseil, mages asserments, complots de Thade.","Usage : Scnes de crise, dclarations de loi martiale, assassinats politiques."],npcIds:["bourgmestre"]},{id:"hotel_de_ville_conseil",name:"Salle du Conseil Sanglant",summary:"Salle ovale aux vitraux rouges o se runissent les dirigeants lors des crises.",details:["Ambiance : Cloche d'alarme, tables couvertes de cartes, odeur de sang sch.","Tests : Diplomatie / Bluff pour survivre aux accusations croises.","Danger : Gardes du Conseil prts  dgainer, mages de Thade dissimuls.","Usage : Dclencher le massacre du Sommet et isoler les PJ politiquement."],npcIds:["bourgmestre"]},{id:"hotel_ville_place_conseil",name:"Htel de Ville et Place du Conseil",summary:"Esplanade officielle o se tiennent discours et rassemblements.",details:["Ambiance : Statues austres, estrades pour les orateurs, foule potentiellement explosive.","Tests : Discours / Intimidation pour orienter l'opinion publique.","Ennemis : Gardes du Conseil, agitateurs pays, agents de Thade.","Usage : Scnes de crise politique, dclarations de loi martiale, excutions publiques."],npcIds:["capitaine_garde_urbaine"]},{id:"rues_valdombre_nuit",name:"Rues de Val-d'Ombre (nuit)",summary:"Rseau de ruelles plonges dans la brume, patrouilles par les forces du Conseil.",details:["Ambiance : Brume lourde, lanternes sporadiques, cris touffs.","Dangers : Patrouilles mixtes (gardiens, golems de chair), embuscades.","Tests : Discrtion / Survie urbaine pour viter arrestations et rafles.","Usage : Fuites nocturnes, purges, embuscades orchestres par Thade."],npcIds:[]},{id:"rues_valdombre_brume",name:"Rues Brumeuses Ranimes",summary:"Artres noyes de brume violette o les cadavres se relvent instantanment.",details:["Ambiance : Cloches funbres, silhouettes titubantes, parfums de chair brle.","Tests : Survie / Perception pour anticiper les foyers de ranimation.","Danger : veil simultan de zombies et de golems de chair.","Usage : Mettre en scne l'veil de la Ncropole et les premires pertes massives."],npcIds:["capitaine_garde_urbaine"]},{id:"prison_conseil",name:"Prison du Conseil",summary:"Bloc de pierre sans fentres, symbole de la rpression politique.",details:["Ambiance : Couloirs troits, odeur de sueur et de dsinfectant, gravures de prires et d'insultes sur les murs.","Tests : vasion / Infiltration pour faire sortir ou entrer quelqu'un discrtement.","Ennemis : Geliers brutaux, interrogateurs, mages asserments.","Usage : Faux procs, interrogatoires politiques, vasions spectaculaires."],npcIds:["geolier_principal"]}]},J2={id:"cimetiere_et_seuil",name:"Cimetire et Seuil",summary:"Ncropole en terrasses relies par des escaliers troits, seuil vers la Spirale.",details:["Ambiance : Brume paisse, statues gothiques, lanternes mourantes.","Tension : Profanations rcentes, veilles inquites, intervention de la Garde.","Focus : Point de dpart du premier scnario, lieu de passage vers la Spirale.","Opportunits : Enqutes, combats contre les morts-vivants, rvlations sur la cabale ncromancienne."],locations:[{id:"cimetiere_terrasse",name:"Cimetire en Terrasse",summary:"Gradins funraires taills dans la falaise.",details:["Ambiance : Brouillard, silence, bruit lointain de la ville.","Tests : Perception / Investigation pour reprer les tombes profanes.","Ennemis : Pilleurs de tombes, morts-vivants, gardes nerveux.","Usage : Scnes d'enqute, de garde de nuit, de premiers combats contre la ncromancie."],npcIds:["gardien_cimetiere"]},{id:"mausolee_seuil",name:"Mausole Secret du Seuil",summary:"Tombeau scell servant de sas vers la Spirale.",details:["Ambiance : Froid mordant, silence touff, runes d'interdiction partiellement effaces.","Tests : Religion / Arcane pour comprendre les runes naines de confinement.","Ennemis : Chevaliers morts-vivants, gardiens de l'ancien ordre.","Usage : Point de non-retour de la campagne, ouverture du puits vers la Spirale."],npcIds:["spectre_ancien_heros"]},{id:"mausolee_pont_secret",name:"Pont Secret des Mausoles",summary:"Passerelle troite reliant deux terrasses funraires, pige par les ncromanciens.",details:["Ambiance : Chanes grinantes, poussire de pierre, runes fissures sous les pieds.","Tests : Acrobaties / Perception pour viter les sections sabotes.","Danger : Gardiens gargouilles, charges explosives poses par Durnik.","Usage : Lieu du sacrifice hroque bloquant l'accs au Seuil."],npcIds:["durnik_chef_mineur"]},{id:"puits_spirale_abime",name:"Puits de l'Abme Spirale",summary:"Ouverture verticale noire o l'on ressent l'appel de la Spirale.",details:["Ambiance : Vent froid venant d'en bas, chuchotements lointains.","Tests : Volont / Escalade pour affronter le vertige et descendre en rappel.","Danger : Tourbillons d'nergie attirant armes et mes, assauts d'ombres.","Usage : Dernire tape avant la fuite vers la Spirale lors de la chute de la ville."],npcIds:[]}]},F2={id:"profondeurs_mine",name:"Profondeurs de la Mine",summary:"Rseau de galeries profondes, poumon conomique et porte brise vers la Spirale.",details:["Ambiance : Grincement des cages de descente, chaleur touffante, poussire de roche.","Tension : Mineurs terroriss par les hurlements de la pierre.","Focus : Dcouverte de la paroi de la Spirale au niveau -8.","Opportunits : Exploration, survie, sabotage, ngociations avec la Guilde des Mineurs."],locations:[{id:"mine_argent",name:"La Mine d'Argent",summary:"Galeries principales et niveaux de travail ordinaires.",details:["Ambiance : Lumire de lanternes, claquement des pioches, rails grinants.","Tests : Survie / Ingnierie pour viter les effondrements et poches de gaz.","Ennemis : Monstres fouisseurs, cratures attires par la magie de la Spirale.","Usage : Lieu d'introduction  la menace surnaturelle dans les profondeurs."],npcIds:["contremaitre_nain_mine"]},{id:"galeries_silencieuses",name:"Galeries Silencieuses",summary:"Niveaux -1  -7 abandonns aprs les premiers hurlements de la pierre.",details:["Ambiance : Tables renverses, repas  moiti mangs, outils abandonns.","Tests : Perception / Sang-froid pour affronter l'atmosphre oppressante.","Ennemis : Monstres rouilleurs, ankhegs, morts oublis.","Usage : Exploration horrifique et pistes vers la paroi de la Spirale."],npcIds:["geometre_fou"]}]},Q2={id:"spirale",name:"La Spirale",summary:"Donjon invers aux lois changeantes, accessible par la brche dans la mine.",details:["Ambiance : Murmures lointains, gravit capricieuse, lumire violette sourde.","Tension : L'architecture se reconfigure, rien n'est fiable longtemps.","Focus : Les premiers cercles testent la rsilience et la prudence des explorateurs.","Opportunits : Dcouvrir la source des rsonances, isoler la gode chantante, comprendre la conscience du lieu."],locations:[{id:"spirale_premier_cercle",name:"Premier Cercle de la Spirale",summary:"Anfractuosits initiales aprs la fissure, couloirs qui se rcrivent derrire soi.",details:["Rgle :  chaque sortie d'une salle, le couloir prcdent change de topologie.","Dangers : Goules mineurs gares, cubes nettoyeurs, instabilit gravitationnelle lgre.","Indices : Veines cristallines pulsant au rythme des rsonances, inscriptions naines partiellement effaces.","Usage : Premire zone pour prouver les rgles de la Spirale et affronter la Gode chantante."],npcIds:["sentinelle_reliee","lysa_exploratrice_perdue"]},{id:"spirale_engrenages_plenaires",name:"Engrenages Plnaires",summary:"Segment de contrle o les engrenages modulent la gravit des niveaux suprieurs.",details:["Ambiance : clairs d'nergie pure, vibrations continues, champ magntique dsorientant.","Tests : Ingnierie / Acrobaties pour actionner les leviers synchroniss.","Danger : Compression brutale pour ceux qui ratent le rythme, arcs lectriques alatoires.","Usage : Dsamorcer le mcanisme avant de pntrer dans la Salle des Engrenages principale."],npcIds:[]},{id:"spirale_balcon_inverse",name:"Balcon Invers",summary:"Corniche donnant sur le vide, surplombant les structures retournes de la Spirale.",details:["Vertige constant, pluie de poussire cristalline tombant vers le haut.","Point d'observation idal pour reprer des passerelles mouvantes.","Risque : Chutes imprvisibles si la gravit change brusquement.","Indice : On entend le chant de la Gode rsonner plus fort ici."],npcIds:[]},{id:"spirale_coeur_geode",name:"Cur de la Gode Chantante",summary:"Salle cristalline o l'nergie de la Spirale se condense.",details:["Pulsations lumineuses violettes synchronises avec le cristal de Thade.","Chant harmoniquement discordant, fatigue mentale accrue.","Structure semi-organique : la gode se dfend en modifiant l'espace.","But : Dtruire ou canaliser l'nergie pour stabiliser la mine."],npcIds:["geode_avatar"]},{id:"spirale_zone_dechets",name:"Zone de Dchets",summary:"lots instables d'boulis et de gravats, premire halte aprs la chute.",details:["Gravit erratique, brume violette, clats cristallins tranchants.","Le sol se dsagrge si l'on s'y repose trop longtemps.","Point d'entre pour les survivants jects vers la Spirale.","Vestiges nains indiquant que d'autres sont dj tombs ici."],npcIds:["charognard_errant"]},{id:"spirale_couloirs_ether",name:"Couloirs de l'ther",summary:"Galeries translucides suspendues dans le vide, parcourues de vents inverses.",details:["Ambiance : Lumire blanche diffuse, poussire flottant  contresens, chos mtalliques dforms.","Tests : Acrobaties / Volont pour garder son orientation quand la gravit pivote de 90.","Dangers : Prdateurs thrs, bourrasques aspirant vers le plafond devenu sol.","Usage : Terrain d'introduction aux rgles physiques absurdes avant de rejoindre les couloirs organiques."],npcIds:[]},{id:"spirale_couloirs_chair",name:"Couloirs de Chair",summary:"Vaisseaux organiques pulsants, ragissant aux motions et au sang.",details:["Parois veineuses, yeux incrusts, chuchotements humides.","Gravit changeante, sols visqueux, escaliers de cartilage.","La Spirale observe : tests de volont et de sang-froid.","Accs vers le laboratoire secret plus bas."],npcIds:["marchand_fou_mercane"]},{id:"spirale_carrefour_mercane",name:"Carrefour du Mercane",summary:"Plateforme hexagonale o convergent six veines vivantes, transforme en bazar interdit.",details:["Ambiance : Odeur d'ozone et de trbenthine, cliquetis d'artefacts suspendus autour d'un brasero violet.","Tests : Marchandage / Bluff (souvenirs contre ressources).","Danger : Contrats pigs qui siphonnent des niveaux ou des souvenirs des PJ.","Usage : Rencontre avec le Marchand Fou, accs  des informations sur les niveaux infrieurs."],npcIds:["marchand_fou_mercane"]},{id:"spirale_salle_miroirs",name:"Salle des Miroirs du Regret",summary:"Cylindre tapiss de miroirs liquides refltant des futurs possibles.",details:["Ambiance : Chuchotements familiers, battements de cur amplifis, froid psychique.","Tests : Volont / Bluff contre soi-mme pour accepter un secret ou subir des dgts mentaux.","Danger : Reflets qui sortent des miroirs si l'on ment.","Usage : Confronter les PJ  leurs regrets avant d'accder au mcanisme d'ascenseur."],npcIds:[]},{id:"spirale_labo_secret",name:"Laboratoire Secret de Thade",summary:"Complexe technomagique enchss dans la paroi, cur des expriences de Thade.",details:["Portes runiques, odeur d'ozone et de formol, bassins d'mes.","Production de corps rassembls et d'artefacts de contrle.","Archives prouvant l'usage d'clats de Spirale sur le cur de Thade.","Pont vers les zones mcaniques plus profondes."],npcIds:["sujet_zero"]},{id:"spirale_bibliotheque_ames",name:"Bibliothque de Cristal des mes",summary:"Galerie d'tagres faites d'os et de quartz, contenant des souvenirs pigs.",details:["Ambiance : Bourdonnement harmonique, lueurs prisonnires dans chaque fiole.","Tests : Connaissance / Utilisation d'objets magiques pour consulter sans librer les esprits.","Danger : Fantmes archivistes, surtension mentale en cas de lecture prolonge.","Usage : Rvler le plan d'immortalit de Thade et des indices sur la Spirale."],npcIds:[]},{id:"spirale_laboratoire_clonage",name:"Laboratoire de Clonage",summary:"Chane de montage charnelle o des corps recomposs sont assembls.",details:["Ambiance : Pistons organiques, odeur d'aldhyde, clats de mtal ensanglants.","Tests : Sabotage / Artisanat (alchimie) pour drgler les cuves.","Danger : Berserkers frachement sortis des cuves, alarmes appelant Sujet Zro.","Usage : Prouver que Thade produit ses armes artificielles."],npcIds:[]},{id:"spirale_salle_engrenages",name:"Salle des Engrenages",summary:"Cathdrale mcanique d'engrenages gants suspendus dans le vide.",details:["Bruit assourdissant, vents tranchants, plateformes en rotation.","Flux d'nergie alimentant la surface et les pylnes de Thade.","Passerelles ncessitant synchronisation et sang-froid.","Point de sabotage critique pour affaiblir Thade."],npcIds:["inevitable_contremetre"]},{id:"spirale_tunnel_teleport",name:"Tunnel de Tlportation",summary:"Colonne luminescente propulsant vers la surface, protge par des ombres.",details:["Flux d'nergie vertical, salles-tampons cycles par la Spirale.","Purge rgulire des intrus par dcharges d'ombre et de vide.","Permet d'intercepter Thade pendant la remonte.","Termine sur la Tour des Mages si le flux est invers."],npcIds:[]}]},Y2=[k2,I2,B2,H2,G2,J2,F2,Q2],At={...U2,zones:Y2},K2={id:1,title:"SCNARIO 1 : LE PRIX DE L'IMPATIENCE",level:"Niveaux 1-3",system:"D&D 3.5",synopsis:"Le cimetire nain de Val-d'Ombre est la cible de profanations inquitantes. Ces actes, maquills en pillages, dissimulent les expriences interdites de Jaren, un tudiant manipul par le Professeur Thade Coren. Les aventuriers sont engags pour rsoudre l'affaire, sans savoir qu'ils servent en ralit  effacer les traces du vritable marionnettiste.",acts:[{title:"ACTE 1 : L'INCIDENT DU CIMETIRE",stake:"Prouver sa valeur aux nains de Val-d'Ombre en dcouvrantla nature des profanations avant que le clan ne se fasse justice lui-mme.",location:"L'Auberge du Pic Bris & Le Cimetire des Terrasses.",scenes:[{title:"Scne 1 : L'Offre du Prtre",type:"Social",image:"./images/scenes/auberge_pic_brise.jpg",locationId:"auberge_pic_brise",npcIds:["thorgar_pretre_nain","aubergiste_pic_brise"],description:{resume:"Thorgar engage les PJ pour enquter sur les profanations de tombes",visuel:"Poutres basses en chne noirci, fume de pipe paisse, clats de voix graves. Un panneau  MAGIE INTERDITE  est clou au mur.",audio:"Le choc des chopes, le crpitement du foyer, et un silence pesant  l'entre des trangers.",odeur:"Bire brune forte, viande rtie et sueur de travail.",lumiere:"Tamise par la fume, foyer central ardent aux reflets orangs."},narration:{declencheur:"Thorgar, le visage marqu par la fatigue, vous fait signe de vous asseoir sans crmonie.",texte_a_lire:"Thorgar nettoie distraitement une tache de bire sur la table. Il ne vous regarde pas directement.  On a ouvert les tombes des Thanes. La garde s'en moque, mais le clan est  bout de nerfs. Si je ne trouve pas des extrieurs pour rgler a discrtement, mes frres vont descendre dans la rue et brler le quartier humain. Retrouvez les os. Le reste, je m'en fiche. ",contexte_mj:"Thorgar est pragmatique et inquiet. Il ne cherche pas la gloire, il veut viter une guerre civile. Il paie pour la discrtion autant que pour le rsultat.",objectif:"Accepter le contrat et obtenir des informations sur les tombes vises."},mecaniques:{defis:["Diplomatie (DD 15) : Ngocier une avance ou une prime supplmentaire (50 po).","Connaissances (Folklore) (DD 12) : Apprendre que les tombes vises sont celles de la ligne des Thanes (chefs de clan)."],indices:["Les tombes ne sont pas vides de leur or, mais certains os sont prlevs avec une prcision chirurgicale."],recompenses:"200  300 po (groupe) + Amulette de protection contre les morts-vivants (1 usage)."},transitions:{success:"Thorgar offre une avance et indique le chemin du cimetire.",fail:"Thorgar les engage par ncessit mais les fait surveiller par un mineur."}},{title:"Scne 2 : Un Cimetire dans la Brume",type:"Social",image:"./images/scenes/gardien_cimetiere.jpg",locationId:"cimetiere_terrasse",npcIds:["gardien_cimetiere"],description:{resume:"Ngociation avec le gardien paranoaque du cimetire",visuel:"Une grille monumentale en fer forg. Une silhouette massive (le Gardien) surveille l'entre, arbalte au poing.",audio:"Grincement des chanes et le cliquetis mtallique du mcanisme d'arbalte.",odeur:"un parfum de terre noire sature d'eau et de pierre moisie.",lumiere:"Le halo jaune et vacillant d'une lanterne sourde."},narration:{declencheur:"Les PJ s'approchent du portail principal.",texte_a_lire:"Un carreau d'arbalte vient se planter dans la terre,  un mtre de vos bottes. Une voix rauque merge de l'obscurit :  Le prochain est pour vos genoux. Reculez. ",contexte_mj:"Le Gardien est un professionnel paranoaque. Il ne discute que si les PJ prouvent immdiatement qu'ils ne sont pas une menace.",objectif:"Gagner l'accs et reprer la zone de la prochaine profanation."},mecaniques:{defis:["Diplomatie (DD 12) : Calmer le Gardien. Succs : Il offre des carreaux d'arbalte en argent (x5).","Dtection (DD 14) : Reprer des traces de pas lgres (bottes de citadins) prs de la crypte Nord.","Art de la Magie (DD 15) : Identifier l'odeur d'ozone comme une trace de ncromancie de  conservation ."],indices:["Le Gardien confirme :  Ils ont emport le fmur gauche de l'ancien Thane. Pourquoi un fmur ? "],recompenses:"Avantage tactique (Surprise) pour la scne suivante. Le Gardien peut prter main-forte (Guerrier Niv 2)."},transitions:{success:"Les PJ se mettent en embuscade prs de la crypte.",fail:"Le Gardien refuse l'entre. Les PJ arrivent trop tard : le combat commence alors que les pilleurs s'enfuient."}},{title:"Scne 3 : Les Pilleurs",type:"Combat",image:"./images/scenes/scene_3.jpg",locationId:"cimetiere_terrasse",npcIds:["etudiant_renvoye","homme_armes_lvl1","squelette","gardien_cimetiere"],description:{resume:"Combat contre les pilleurs et capture de Jaren",visuel:"Trois mercenaires creusent sous l'il vigilant d'un jeune homme en robe d'tudiant. Celui-ci, qui semble diriger les oprations, examine un crne  la lumire de sa lanterne",audio:"Bruit des pelles contre la pierre et rire nerveux de l'tudiant.",odeur:"Une odeur de terre grasse et d'humus tremp s'lve du trou frachement creus.",lumiere:"Lumire crue de la lampe-tempte au centre de la scne."},narration:{declencheur:"L'assaut des PJ ou une maladresse.",texte_a_lire:"L'tudiant lche son crne de surprise. Il bouscule l'un des mercenaires pour se mettre  couvert et hurle d'une voix suraigu :  Protgez-moi ! Ils ne doivent pas voir a ! ",contexte_mj:"Jaren est un lche. Il ne combat pas, il fuit et laisse ses hommes mourir. Son arrogance disparat ds le premier coup d'pe.",objectif:"Neutraliser les gardes et capturer Jaren vivant."},mecaniques:{defis:["Combat : 3 Brutes (Guerrier 1) et Jaren (Magicien 1 - Spcialisation Ncromancie).","Intimidation (DD 13) : Faire fuir les mercenaires si Jaren est bless.","Magie Instable : Tout sort de zone a 20% de chance de ranimer un tas d'os (Squelette simple) qui attaque tout le monde."],indices:["Jaren porte une broche de la Fraternit Nyx.","Une liste de noms nains avec la mention  Compatible ."],recompenses:"Bourse de 50 po + Baguette de Lecture de la Magie (5 charges)."},transitions:{success:"Jaren est captur, prt  parler.",fail:"Jaren s'enfuit dans les bois, laissant sa sacoche derrire lui."}},{title:"Scne 4 : L'Autopsie du Crime",type:"Investigation",image:"./images/scenes/jaren_death.jpg",locationId:"cimetiere_terrasse",npcIds:["etudiant_renvoye","gardien_cimetiere"],description:{resume:"Jaren meurt par un sceau magique avant de parler",visuel:"Jaren tremble violemment. Ses yeux brillent d'une lueur arcanique instable.",audio:"Un bourdonnement haute frquence qui fait siffler les oreilles.",odeur:"Ozone et brl.",lumiere:"Flashs intermittents provenant des veines du cou de Jaren."},narration:{declencheur:"Les PJ posent une question sur  Le Matre .",texte_a_lire:"Ds que vous mentionnez son matre, Jaren se fige. Une veine noire pulse violemment sur sa tempe. Il n'a mme pas le temps de crier : ses yeux se rvulsent, du sang coule de son nez et il s'effondre comme une marionnette dont on a coup les fils.",contexte_mj:"Pas de derniers mots dramatiques. Le sceau de Censure est brutal et immdiat. C'est une excution  distance, froide et clinique.",objectif:"Comprendre que l'ennemi est au sein de l'Universit."},mecaniques:{defis:["Art de la Magie (DD 16) : Identifier le sort comme une variante interdite de  Vu de Silence .","Premiers Secours (DD 15) : Constater que la mort est d'origine magique et instantane.","Perception (DD 12) : Trouver sur le corps une invitation pour une confrence prive au nom du Professeur Thade Coren."],indices:["La broche de la Fraternit Nyx est un laissez-passer pour les quartiers tudiants."],recompenses:"XP d'investigation. Gratitude de Thorgar pour la rcupration des restes."},transitions:{success:"Fin de l'Acte 1. Les PJ ont un nom (Coren) et une destination (l'Universit)."}}]},{title:"ACTE 2 : LA PISTE ARCANIQUE",stake:"Remonter la piste de la ncromancie au sein de l'Universit et localiser le repaire de Jaren, tout en naviguant dans les intrigues du Professeur Coren.",location:"Universit de Magie de Val-d'Ombre.",scenes:[{title:"Scne 1 : La Fraternit Dissoute",type:"Social",image:"./images/scenes/universite_arcane.jpg",locationId:"universite_arcane",npcIds:["etudiant_universite"],description:{resume:"Enqute sur la Fraternit Nyx dissoute  l'Universit",visuel:"Niche au cur dune cit de pierre, la Tour des Mages se dresse comme un monolithe de marbre blanc grav de runes lumineuses, une anomalie verticale s'levant en spirales impossibles. Des passerelles de verre liquide relient les btiments entre eux, tandis que des orbes lumineux patrouillent silencieusement autour des plus hautes flches, projetant une lumire froide et clinique.",audio:"Le bourdonnement lectrique des barrires de mana, ponctu par le son cristallin des pas sur le verre et des chos de voix dsincarnes.",odeur:"Poussire de bibliothque, encre frache et th  la bergamote.",lumiere:"Une luminescence blanche et strile manant des murs eux-mmes, gommant les reliefs et donnant aux visages un aspect cireux."},narration:{declencheur:"Les PJ prsentent la broche de Nyx  un tudiant dans la cour.",texte_a_lire:"L'apprenti blmit instantanment. Il jette un coup d'il nerveux aux alentours et baisse la voix :  Rangez a. Si les recteurs vous voient avec un sceau de la Nyx, vous finirez au cachot. Allez voir le Professeur Coren, c'est lui qui gre le... nettoyage. Et oubliez que vous m'avez vu. ",contexte_mj:"L'Universit veut touffer le scandale. Orienter les PJ vers Thade Coren comme figure d'autorit morale.",objectif:"Localiser le bureau de Thade Coren et recueillir les bruits de couloir."},mecaniques:{defis:["Diplomatie (DD 13) : Convaincre l'tudiant de parler davantage.","Renseignements (DD 15) : Apprendre que Jaren tait le protg de Coren."],indices:["Rumeurs : On raconte que Jaren n'a pas quitt les lieux en silence. Il hurlait que son expulsion tait une  erreur monumentale  et que bientt, mme le Conseil des Mages devra se mettre  genoux devant son prochain matre."],recompenses:"Localisation du bureau de Thade."},transitions:{success:"Rencontre avec Thade (Scne 2).",fail:"Les PJ sont escorts par la garde universitaire jusqu'au bureau de Coren pour  interrogatoire ."}},{title:"Scne 2 : Le Professeur Bienveillant",type:"Social",image:"./images/scenes/thade_coren.jpg",locationId:"bureau_thade_coren",npcIds:["thade_coren"],description:{resume:"Thade Coren offre son aide pour retrouver Jaren",visuel:"Murs tapisss de grimoires impeccables. Thade est assis derrire un bureau de chne, lgant et calme.",audio:"Le grattement d'une plume de phnix et le tic-tac d'une horloge astronomique.",odeur:"Cire de bougie chaude et lavande sche.",lumiere:"Tamise par des vitraux illustrant les lois de la magie."},narration:{declencheur:"Aborder le sujet de Jaren.",texte_a_lire:"Thade ne touche pas la broche. Il continue d'crire, sans lever les yeux.  Jaren... Un esprit brillant, hlas bris par sa propre ambition. La ncromancie n'est pas un jeu. S'il a continu ses expriences, il est un danger pour lui-mme et pour la ville. Retrouvez-le. Je me chargerai de scuriser ses travaux. ",contexte_mj:"Thade sait qu'il a tu Jaren, mais joue la surprise. Il veut rcuprer les rsultats des expriences maintenant que son pion est hors-jeu.",objectif:"Accepter la mission de localiser le laboratoire et les notes de Jaren."},mecaniques:{defis:["Psychologie (DD 18) : Thade semble sincre, mais son dtachement face aux menaces contre le Conseil est troublant.","Ngociation (DD 14) : Obtenir 100 po d'avance pour  frais d'enqute ."],indices:["Le rapport d'expulsion de Jaren. En marge, l'criture lgante de Thade note :  Instabilit prvisible. Manque de discipline. "],recompenses:"Sauf-conduit de l'Universit + 1 parchemin de Dissipation de la Magie."},transitions:{success:"Vers le taudis de Jaren (Scne 3)."}},{title:"Scne 3 : La Descente aux Enfers",type:"Exploration",image:"./images/scenes/taudis_jaren.jpg",locationId:"vieille_ville_taudis_jaren",npcIds:[],description:{resume:"Dcouverte du taudis saccag de Jaren et de la trappe",visuel:"Une mansarde o la folie s'est inscrite sur les murs. Des parchemins forment une spirale obsessionnelle de croquis anatomiques nains. Au centre, les planches du parquet ont vol en clats autour d'une trappe bante.",audio:"Le claquement sec d'un volet mal fix et le grondement sourd, presque organique, de l'eau dans les profondeurs.",odeur:"Un mlange curant de papier jauni, de moisissure et l'odeur mtallique de la magie brute.",lumiere:"Des lames de lumire grise dcoupent l'obscurit, rvlant la poussire qui danse au-dessus du chaos."},narration:{declencheur:"Fouille approfondie de la pice.",texte_a_lire:`Ce qui rgne ici n'a rien du simple dsordre d'un tudiant. On sent qu'une rage dsespre a retourn chaque meuble, chaque papier, avec une frnsie presque palpable. Sur le mur, la paranoa s'est mue en obsession : une seule phrase s'y tale partout, griffonne  s'en briser les ongles :  Mensonge. Tout n'est que mensonge. Il a menti. IL A MENTI.  

Au milieu de ce chaos, le regard est invitablement attir par le sol. La trappe n'a pas t simplement ouverte ; elle a t littralement arrache, le bois pulvris et les gonds sauts sous l'impact d'une force magique brutale. On ignore qui a forc le passage, mais la violence de l'effraction trahit une urgence telle qu'on n'a mme pas cherch la cl.`,contexte_mj:"Jaren est hors d'tat (mort ou fuite). Kaela est passe rcemment pour rcuprer ses notes et a forc l'accs au laboratoire souterrain. L'odeur d'ozone et la chaleur rsiduelle indiquent que l'effraction est trs rcente : la trace est encore chaude.",objectif:"S'enfoncer dans les gouts pour traquer Kaela et dcouvrir le laboratoire secret."},mecaniques:{defis:["Fouille (DD 12) : Dnicher sous un tas de linge sale un plan partiel des gouts, avec une croix rouge marquant une zone sous le vieux manoir.","Art de la Magie (DD 14) : Analyser les traces de brlures sur la trappe. Ce n'est pas la magie du niveau de Jaren, mais une force plus puissante (celle de Kaela)."],indices:["Un journal intime brl dont il ne reste qu'une page :  Tout ce qu'on a construit n'est qu'un immense mensonge pour nourrir son ambition."],recompenses:"Accs  l'Acte 3. Si le plan est trouv, les PJ ont un Avantage sur les jets de Survie dans les gouts."},transitions:{success:"Dbut de l'Acte 3 : Les gouts et le Labyrinthe."}}]},{title:"ACTE 3 : LES GOUTS ET LE LABYRINTHE",stake:"Survivre  l'environnement hostile et localiser l'entre du repaire secret de Jaren.",location:"gouts de Val-d'Ombre & Fondations du vieux manoir.",scenes:[{title:"Scne 1 : Le Kobold Tmoin",type:"Social",image:"./images/scenes/sniv_kobold.jpg",locationId:"egouts_croisement",npcIds:["sniv_kobold"],description:{resume:"Sniv le kobold rvle l'arrive de la sorcire",visuel:"Des tunnels de briques suintantes. Deux petits yeux jaunes brillent de terreur dans un conduit de trop-plein.",audio:"Le clapotis de l'eau noire.",odeur:"Soufre, eaux croupie.",lumiere:"La lumire des PJ projette des ombres dformes sur les murs incurvs."},narration:{declencheur:"Les PJ entendent des pleurs touffs derrire une grille de fer.",texte_a_lire:" Pas taper ! Sniv rien fait ! La femme... la sorcire aux yeux fous ! Elle est arrive et l'autre... le Matre Jaren... il ne vient plus. Il ne donne plus d'ordres. Elle est pire ! Elle a pris les autres... mais les frres reviennent jamais. Pourquoi ils reviennent jamais ?",contexte_mj:"Sniv a vu la transition de pouvoir. Il servait Jaren, mais Kaela a pris le relais avec une cruaut dcuple pour finir le rituel. Il est traumatis par le changement de rgime.",objectif:"Calmer Sniv pour obtenir des informations sur les piges et l'entre du manoir."},mecaniques:{defis:["Diplomatie (DD 12) : Calmer Sniv (lui offrir de la nourriture rduit le DD  10).","Intimidation (DD 15) : Le forcer  parler, mais il risque de s'enfuir  la premire occasion."],indices:["Sniv rvle :  Elle dit que Jaren tait trop mou. Elle dit que le Matre sera fier d'elle quand le Conseil brlera. "],recompenses:"Arrive Furtive : Ils commencent la scne suivante en mode Discrtion avec un bonus de +2 ou un avantage, car ils arrivent par un endroit que les gardes de Kaela ne surveillent pas."},transitions:{success:"Sniv guide les PJ vers la porte du manoir (Scne 2).",fail:"Sniv s'enfuit dans les tuyaux. Les PJ doivent naviguer  l'aveugle (Survie DD 15) pour viter de se perdre."}},{title:"Scne 2 : La Porte du Manoir Englouti",type:"Combat",image:"./images/scenes/egouts_entree_manoir.jpg",locationId:"egouts_entree_manoir",npcIds:["squelettes_nains_gardiens"],description:{resume:"Combat contre les gardiens squelettiques du manoir",visuel:"Au dtour d'un conduit effondr, la brique suintante laisse place  une arche, sculpte de runes naines marteles. Une lourde porte en fer forg, barre le passage. Deux gardiens squelettiques, draps dans leurs armures, montent la  garde.",odeur:"L'air devient soudainement sec, froid tranche avec la puanteur des gouts.",lumiere:"Une lueur violette instable filtre  travers le trou de la serrure.",audio:"Le cliquetis des os et un bourdonnement sourd, comme un battement de cur, qui mane de derriere la porte."},narration:{declencheur:"Les PJ arrivent  porte de vue de la porte.",texte_a_lire:"Ces gardiens ne sont pas des serviteurs anonymes. Sur leurs plastrons briss, vous reconnaissez les blasons des clans fondateurs de Val-d'Ombre.  votre approche, leurs orbites vides s'allument d'une lueur haineuse, et ils lvent leurs haches de guerre dans un silence de mort.",contexte_mj:"C'est un combat symbolique. Les PJ voient ici le rsultat direct des profanations. La porte est scelle magiquement et ragit  la broche de la Fraternit Nyx.",objectif:"Vaincre les gardiens pour accder au mcanisme de la porte."},mecaniques:{defis:["Combat : 2 Squelettes de Thanes (Guerriers Nains lites, CA 16, RD 5/Contondant). Ils utilisent des tactiques militaires coordonnes.","Savoir Arcanique (DD 14) : Remarquer que le flux magique de la porte rpond  la signature de la broche de Nyx."],recompenses:"Hache de matre (naine) + la broche de Nyx s'illumine, agissant comme une cl pour la porte.",indices:["Sur le bouclier de l'un d'eux, une gravure rcente et grossire :  Nyx  par-dessus les runes anciennes."],recompenses:"Armes de matre (Haches naines) et ouverture de la porte grce  la broche."},transitions:{success:"La porte s'ouvre sur un escalier montant vers le laboratoire (Acte 4).",fail:"Le combat dure trop longtemps. L'alarme est donne et l'Acte 4 commence en alerte maximale."}}]},{title:"ACTE 4 : LE RITUEL DE LA SPIRALE",stake:"Arrter l'activation de la Spirale et dcouvrir qui a pris la suite de Jaren.",location:"Laboratoire secret du Manoir Van Kel.",scenes:[{title:"Scne 1 : L'veil Forc",type:"Combat",image:"./images/scenes/manoir_hall.jpg",locationId:"manoir_hall",npcIds:["ilse_nyx"],description:{resume:"Ilse tente de stabiliser le rituel de Jaren",visuel:"Le hall luxueux est profan : un immense cercle de cendres et de sang sch entoure le corps de Jaren. Des fils d'nergie violace relient le cadavre  des ancres d'argent plantes dans le sol.",audio:"Un bourdonnement grave qui fait vibrer les vitraux. Ilse hurle ses incantations pour couvrir le bruit de la magie qui s'emballe.",odeur:"Ozone (magie), fer (sang).",lumiere:"Des clairs de magie noire qui illuminent par intermittence le grand escalier."},narration:{declencheur:"Les PJ entrent dans le Hall.",texte_a_lire:"Ilse von Reiner lve les mains, ignorant les spasmes du cadavre  ses pieds.  Jaren n'tait qu'un mdiocre, un esprit faible qui s'est noy dans ses propres peurs. Le Matre le savait, et je le savais aussi. Il n'tait qu'un brouillon. Mais avec son sang et ma volont, je vais enfin valider les thorie du Matre ! Admirez la naissance d'un dieu ! ",contexte_mj:"Ilse est pragmatique, elle considre Jaren comme une simple ressource magique. Elle traite la ncromancie comme une science exacte. Elle veut stabiliser Jaren pour prouver  Thade qu'elle est plus utile qu'un cadavre.",objectif:"Neutraliser Ilse avant qu'elle ne stabilise la crature."},mecaniques:{defis:["Combat : Ilse (Magicienne Niv 3) protge par 2 Squelettes Instables (anciens serviteurs de Jaren qu'elle a asservis).","Anomalie (DD 12) :  chaque tour, le rituel instable libre une onde. Quiconque est  dcouvert subit 1d4 dgts de froid."],indices:["Une note de Thade dans les poches de Ilse :  Ilse, ne me dcevez pas comme votre prdcesseur, ou ne revenez pas  l'Universit. "],recompenses:"Bourse (40 po), Bague de protection +1, et les notes de recherche."},transitions:{success:"Ilse s'croule en maudissant l'incomptence de Jaren. Dans un dernier souffle magique, le cercle explose et le 'Sujet J-01' se lve, libr de ses entraves."}},{title:"Scne 2 : Le Sujet J-01",type:"Boss",image:"./images/scenes/jaren_le_maudit.jpg",locationId:"manoir_hall",npcIds:["bleme_fp3"],description:{resume:"Combat contre la dpouille ranime de Jaren",visuel:"Le corps de Jaren se redresse par saccades, comme une marionnette dont on tire brutalement les fils. La lueur qui s'chappe de ses orbites est blafarde, et sa peau se craquelle sous l'effet d'un froid surnaturel.",audio:"Le bruit sec des os qui se remettent en place et le sifflement de l'air qui s'chappe de ses poumons perfors. Aucun mot, juste un rle mcanique.",odeur:"Ozone et viande putride."},narration:{declencheur:"la dfaite d'Ilse.",texte_a_lire:"La chose qui fut Jaren ne hurle pas. Elle ne vous maudit pas. Elle avance simplement vers vous dans un silence terrifiant, chaque pas laissant une trace de givre sur le marbre du hall.",contexte_mj:"Jaren est incapable de reflechir son me est en train d'tre dvore par le rituel incomplet.",objectif:"Dtruire la dpouille de Jaren pour stopper l'anomalie."},mecaniques:{defis:["Aura de Froid : Toute personne au contact de Jaren subit des dgts de froid au dbut de son tour (Jet de Rflexes DD 12 ou 1d4 dgts).","clats de glace :  50% de ses PV, le corps de Jaren expulse des fragments d'os et de givre (Jet de Rflexes DD 13 ou 1d4 dgts)."],recompenses:"Bague de focalisation brise, fragments d'une gemme d'me (valeur 50 po)."},transitions:{success:"Le corps de Jaren s'effondre et se change instantanment en poussire givre. Le silence revient dans le hall."}},{title:"Scne 3 : Le Bilan du Matre",type:"Conclusion",image:"./images/scenes/thade_coren.jpg",locationId:"manoir_hall",npcIds:["thade_coren"],description:{resume:"Thade rcupre les rsultats de ses expriences rates",visuel:"Thade entre dans le hall par la grande porte, comme s'il rentrait d'une promenade. Il contourne les dbris avec une lgance drangeante, rangeant sa montre  gousset.",audio:"Le bruit rgulier de sa canne sur le marbre. Sa voix est calme, pose, presque monocorde.",odeur:"Lavande et tabac froid."},narration:{declencheur:"La destruction du Sujet J-01 et la dfaite d'Ilse.",texte_a_lire:`Thade s'arrte  quelques pas des restes de Jaren, sa canne produisant un cho sec dans le hall dsormais silencieux. Il te son chapeau et garde un moment de silence, l'air sincrement accabl. 

 Quel gchis...  murmure-t-il pour lui-mme avant de se tourner vers vous.  Jaren tait l'un de mes plus brillants lments. Savoir qu'il a sombr dans une telle folie, entranant la pauvre Ilse avec lui... c'est un chec pour notre institution, et un poids sur ma conscience de tuteur.  

Il soupire longuement en ramassant les notes parpilles.  Merci d'avoir mis fin  ce cauchemar avec autant de discrtion. Si cette affaire s'tait bruit, le conseil aurait ferm les laboratoires, et des dcennies de recherches bnfiques auraient t perdues  cause de l'impatience de deux jeunes gens. Vous avez sauv bien plus le repos des Nains, vous avez sauv l'honneur de l'Universit. Voici votre solde, avec une prime pour le silence que j'attends de vous. `,contexte_mj:"Thade joue la carte de l'homme d'tat. Il prsente la destruction des preuves comme un acte de paix ncessaire pour viter que les nains (qu'il dpeint comme des fanatiques) ne dtruisent l'Universit. Il est calme, raisonnable et protecteur.",objectif:"Rcuprer la prime et dcider s'ils confient les preuves compromettantes  Thade ou s'ils les gardent pour Thorgar."},mecaniques:{defis:["Psychologie (DD 13) : Raliser que Thade ne ressent absolument aucune tristesse, seulement de la dception technique.","Sens de la rpartie (DD 15) : Tenter d'obtenir une prime supplmentaire pour 'exposition  des risques biologiques non mentionns'."],recompenses:"Bourse de 200 po (la prime promise) + 100 Po (prime supplmentaire) + une sensation de malaise profond."},transitions:{success:"Fin de l'acte. Thade quitte le manoir, laissant les PJ seuls avec les cadavres de deux tudiants."}}]}]},Z2={id:2,title:"SCNARIO 2 : L'CHO DES PROFONDEURS",level:"Niveaux 4-6",system:"D&D 3.5",synopsis:"La mine d'argent est  l'arrt. Thade Coren, agissant en expert, envoie les PJ 'stabiliser' une fissure magique. En ralit, les PJ servent de vecteurs pour charger un cristal avec l'nergie d'une anomalie plantaire : la Spirale.",acts:[{title:"ACTE 1 : LA GRVE DE LA PIOCHE",stake:"Accepter la mission et l'outil de Thade sans comprendre sa vraie nature.",location:"Quartier du Savoir & Quartier des Mineurs.",scenes:[{title:"Scne 1 : Le Conseil de Crise",type:"Social",image:"./images/scenes/universite_arcane.jpg",locationId:"universite_arcane",npcIds:["durnik_chef_mineur","thade_coren"],description:{resume:"Thade offre un cristal pour stabiliser la mine",visuel:"Durnik, couvert de suie, semble minuscule face  Thade dans le hall froid de l'Universit. Entre eux, lvitant sur un coussin de velours, repose un Cristal.",audio:"Le cristal met un sifflement tnu, presque mlodique. Durnik grogne de mpris.",odeur:"Lavande et poussire de roche.",lumiere:"Lumire znithale froide tombant de la coupole."},narration:{declencheur:"Les PJ sont convoqus ou arrivent pour enquter.",texte_a_lire:`Le hall de luniversit est anim par une discussion tendue. Durnik, le contrematre nain, fixe le cristal que Thade Coren tient entre ses mains.
Durnik :  Ce truc me donne la nause ! Thade. Mes gars crvent l-dessous pendant que tu restes l  nous vendre de la verroterie ? 
Thade (se tournant vers les PJ, visiblement agac mais souriant) :  Vous arrivez bien. Ce sont eux qui ont rgl les problmes laisss par nos anciens lves. Calmons-nous. Ce nest quun effet de rsonance arcanique. Avec ce stabilisateur, plac au niveau -8, les vibrations seront contenues et les mineurs protgs. 
Durnik :  Trs bien. Dans ce cas, commencez par les Fumes Rouges, dans les quartiers bas. Mara, la tenancire, a laccs au puits secondaire. Elle saura quels mineurs peuvent vous aider. Et rangez ce cristal. Les nains sont dj assez nerveux avec la magie.`,contexte_mj:"Thade prsente la mission comme une rparation morale. Le cristal est en ralit un siphon destin  se charger de l'nergie de la Spirale.",contexte_mj:"Thade ment froidement. Le cristal n'est pas un stabilisateur, mais un condensateur vide destin  aspirer l'nergie de la Spirale.",objectif:"Accepter le Cristal et la mission de 'stabilisation'."},mecaniques:{defis:["Sens de la Magie (DD 18) : Le cristal appartient  l'cole de l'vocation et de la Ncromancie (trange pour un outil de stabilisation).","Psychologie (DD 20) : Thade semble sincre, mais son regard trahit une impatience dvorante."],indices:["Thade insiste pour que vous gardiez le cristal 'pour mesurer les vibrations'."],recompenses:"Le Cristal de Rsonance (Objet de qute)."},transitions:{success:"Les PJ quittent l'Universit avec l'artefact en direction des quartiers miniers.",fail:"Les PJ sont vus comme des agents perturbateurs, complexifiant les interactions futures."}},{title:"Scne 2 : Le Quartier Paralys",type:"Investigation",image:"./images/scenes/val-d-ombre.jpg",locationId:"quartier_des_mineurs_place",npcIds:["tenancier_taverne"],description:{resume:"Le quartier minier paralys par la peur",visuel:"Des barricades de fortune bloquent les accs aux rues principales. Des graffitis  la chaux sur les murs dnoncent la Tour des Mages. Une effigie de magicien brle lentement sur la place centrale.",audio:"Le grondement des conversations de groupe qui s'arrtent net  votre passage. On entend des insultes lances au loin.",odeur:"Brl, goudron et bire forte.",lumiere:"La lueur orange des brasiers en opposition au gris du ciel."},narration:{declencheur:"Entre des PJ dans le quartier.",texte_a_lire:" peine avez-vous franchi les premires maisons que les regards se font assassins.  la taverne des Fumes Rouges, Mara  sert des pichets  des nains agit. Elle dsigne un groupe de mineurs aux yeux injects de sang. Les mdecins disent que c'est le grisou. Mais le grisou ne vous fait pas perdre la raison comme ca.",contexte_mj:"Les rumeurs sont exagres mais bases sur des faits rels (hallucinations causes par la proximit de la Spirale).",objectif:"Recueillir des rumeurs et comprendre la nature de la menace (psychique/sonique)."},mecaniques:{defis:["Collecte d'informations (DD 10) : Apprendre les rumeurs ('ombres vivantes', 'chant de la pierre').","Intimidation/Diplomatie (DD 14) : Convaincre un mineur de parler de ce qu'il a vu en bas."],indices:["Les mineurs les plus touchs saignent des oreilles.","Le chant semble venir des niveaux les plus profonds."],recompenses:"Information sur l'accs condamn."},transitions:{success:"Piste vers l'entre de la mine.",fail:"Perte de temps, la nuit tombe et l'ambiance devient plus oppressante."}},{title:"Scne 3 : Le Puits des Soupirs",type:"Exploration",image:"./images/scenes/puits_mine_abandonne.jpg",locationId:"puits_aeration_42",npcIds:[],description:{resume:"Descente prilleuse dans le puits d'aration",visuel:"Un immense conduit vertical tapiss de suie. Des pales de ventilation monstrueuses, tordues et immobiles, barrent le passage comme des ctes de gant. Des chelles de fer rouill descendent dans un abme de tnbres.",audio:"Un sifflement d'air constant crant une note grave et lancinante. On entend le goutte--goutte lointain de l'eau sur le mtal. Par moments, un cho cristallin rsonne comme si on brisait du verre  des kilomtres de l.",odeur:"L'odeur de la poussire de pierre mle  un parfum de fleurs fanes (anomalie ncromantique).",lumiere:"Seul un mince filet de lumire grise provient de la grille en surface, s'estompant rapidement pour laisser place au noir absolu."},narration:{declencheur:"Les PJ pntrent dans le conduit par la grille de surface.",texte_a_lire:"  mesure que vous descendez, le bruit de la ville s'efface, remplac par une vibration qui s'insinue jusque dans vos dents. L'air y est lourd, charg d'une vibration qui fait vibrer vos dents. En bas,  travers les pales bantes, vous devinez une plateforme massive : le Grand Treuil. ",contexte_mj:"Le puits est imprgn par l'nergie rsiduelle de la Spirale et provoque des vertiges. C'est une preuve de sang-froid avant d'atteindre le hub logistique des mines.",objectif:"Atteindre la plateforme du Grand Treuil (l'ascenseur) sans donner l'alerte ou tomber."},mecaniques:{defis:["Escalade (DD 12) ou Acrobaties (DD 15) : Descendre les chelles vermoulues. Un chec inflige 1d6 points de dgts de chute.","quilibre (DD 15) : Traverser les pales gantes du ventilateur pour atteindre la passerelle centrale.","Dtection (DD 15) : Reprer une plaque de 'Givre d'me' sur une paroi. La toucher inflige 1d4 dgts de froid et d'nergie ngative."],indices:["Des traces de griffures fraches sur le mtal : quelque chose (ou quelqu'un) est descendu par ici trs rcemment."],recompenses:"Une sacoche d'ingnieur trouve sur un cadavre contenant 3 fioles d'huile d'allumage et une Carte des Conduits de Vapeur."},transitions:{success:"Les PJ arrivent au-dessus de la salle de l'ascenseur, leur offrant un avantage tactique de surprise.",fail:"Un PJ tombe ou fait du bruit, Le fracas mtallique rsonne dans tout le secteur : les gardes ou les cratures en bas sont en alerte."}},{title:"Scne 4 : Le Grand Treuil",type:"Combat / Transition",image:"./images/scenes/grand_treuil_mine.jpg",locationId:"plateforme_ascenseur_principal",npcIds:["mineur_nain_possede"],description:{resume:"Combat contre les mineurs possds au Grand Treuil",visuel:"Une plateforme circulaire en acier. Une cage de transport est bloque en position haute. Trois mineurs nains s'acharnent sur les rouages avec des barres de fer.",audio:"Le sifflement de la vapeur et le bruit mtallique des chocs sur le mcanisme.",odeur:"Graisse, suie et sang.",lumiere:"lampes de chantier faiblissants."},narration:{declencheur:"Les PJ arrivent sur la plateforme.",texte_a_lire:"La plateforme du Grand Treuil est un chaos de vapeur et de cris touffs. Ils ne travaillent plus : Ces nains sabotent le treuil. L'un d'eux vous repre et lve sa pioche en hurlant.",contexte_mj:"Le choc provoqu par l'onde de chox arcanique de la Spirale a grill le cerveau des nains. Ils protgent l'ascenseur pour empcher quiconque de descendre.",objectif:"Dbloquer le levier de l'ascenseur, pendant que des vagues de nains enrags attaquent l'ascenseur."},mecaniques:{defis:["Combat : 3 Mineurs Possds (Guerrier 1). Ils ignorent la douleur et ne battent jamais en retraite.","connaissance Arcanes (DD 15) : comprendre qu'a chaque mort la vibration se renforce.","Mcanique (DD 14) : Dcoincer le levier de frein pendant le combat."],indices:["Le cristal de Thade pulse en rythme avec une vibration lointaine."],recompenses:"Aucune, survie."},transitions:{success:"La cage descend. Fin de l'Acte 1.",fail:"Descente force. Les PJ arrivent en bas avec l'tat 'Secou' (-2 aux jets pour la prochaine scne)."}}]},{title:"ACTE 2 : LA DESCENTE CORROMPUE",stake:"Dcouvrir la vrit sur le Cristal de Thade tout en s'enfonant dans la corruption de la Spirale.",location:"Niveaux infrieurs (Niveaux -1  -8) de la mine d'argent.",scenes:[{title:"Scne 1 : Les chos du Pass",type:"Investigation",image:"./images/scenes/forge_desertee.jpg",locationId:"galeries_silencieuses",npcIds:[],description:{resume:"Dcouverte que le cristal absorbe l'nergie",visuel:"La salle de repos du niveau -1 est fige dans le temps. Tables renverses, repas intacts mais sec. Trace de pas en sang sur le sol.",audio:"Un bourdonnement sourd mane du cristal. Par moments, on entend des voix lointaines, des cris touffs qui semblent venir des murs eux-mmes.",odeur:"Une odeur mtallique de sang ancien et d'ozone.",lumiere:"Lampes murales brises clairent la pice par intermittence."},narration:{declencheur:"Sortie de la cage d'ascenseur.",texte_a_lire:"La cage s'immobilise dans un grincement sinistre. Devant vous, la salle de repos est un tableau de dsolation. Les mineurs ont fui en panique, abandonnant tout. Mais ce qui attire votre attention, c'est le Cristal de Thade : il pulse maintenant en rythme avec un battement lointain, comme un cur. Sur une table, un journal ouvert : 'Jour 3 : Le cristal de l'Universit brille dans le noir. Les contrematres disent que c'est pour notre scurit. Mais Gorm a disparu cette nuit. On a retrouv ses vtements... et des traces de mains ensanglantes sur les murs. Je ne veux pas finir comme lui.'",contexte_mj:"Le Cristal de Thade ragit  la proximit de la Spirale et commence  rvler sa vraie nature.",objectif:"Comprendre que le Cristal n'est pas un simple outil de mesure."},mecaniques:{defis:["Investigation (DD 13) : Trouver 3 journaux de mineurs diffrents, tous mentionnant des 'cristaux de scurit' cr par un tudiant de l'Universit.","Art de la Magie (DD 16) : Le Cristal absorbe activement l'nergie ambiante. Ce n'est pas un stabilisateur, c'est un condensateur.","Fouille (DD 15) : Remarquer que tous les canaris dans leurs cages sont morts, mais leurs corps ne sont pas dcomposs (nergie ngative)."],indices:["Journal : 'Thade Coren est venu en personne il y a 2 mois. Il a plac des cristaux aux niveaux -3, -5 et -8.'","Des traces de pas rcentes (1 semaine) mnent vers le bas. Quelqu'un d'autre est descendu aprs l'vacuation."],recompenses:"Carte annote montrant l'emplacement des autres cristaux."},transitions:{success:"Les PJ comprennent qu'ils sont manipuls et peuvent choisir de continuer ou de remonter (mais la cage ne fonctionne plus).",fail:"Progression sans comprendre le pige. Le cristal les guide insidieusement vers le bas."}},{title:"Scne 2 : Le Laboratoire Oubli",type:"Exploration",image:"./images/scenes/laboratoire_mine.jpg",locationId:"galeries_silencieuses",npcIds:["assistant_thade_mort"],description:{resume:"Laboratoire secret rvle le projet Ascension de Thade",visuel:"Une salle latrale au niveau -3, dissimule derrire un boulement rcent.  l'intrieur, un laboratoire de fortune : alambics, grimoires, et au centre, un socle vide prvu pour accueillir un cristal. Sur le mur, un schma complexe montrant une Spirale.",audio:"Le silence est oppressant. Seul le cristal des PJ met un bourdonnement de plus en plus insistant.",odeur:"Encre, parchemin brl, et cette odeur d'ozone caractristique de la magie ncromantique.",lumiere:"Des cristaux luminescents fixs au plafond projettent une lumire blafarde. Certains clignotent, mourants."},narration:{declencheur:"Les PJ suivent les traces de pas ou explorent mthodiquement.",texte_a_lire:"Derrire l'boulement, vous dcouvrez une porte de mtal grave du sceau de l'Universit Arcanique.  l'intrieur, un laboratoire secret. Sur une table, le corps d'un jeune homme en robe d'tudiant, mort depuis plusieurs jours. Son journal est ouvert : 'Le Magistere Thade m'a ordonn de placer le troisime cristal au niveau -8, prs de la brche. Il dit que c'est pour contenir l'anomalie. Mais j'ai lu ses notes... Il ne veut pas la contenir.'",contexte_mj:"Rvlation majeure : Thade Coren mne des expriences sur la Spirale depuis des mois. Il a envoy plusieurs assistants en bas, et aucun n'est remont. Les cristaux sont des siphons destins  extraire l'nergie de la Spirale pour un projet inconnu. Les PJ sont les derniers 'outils' de Thade.",objectif:"Dcouvrir les notes de Thade et comprendre le vritable objectif de la mission."},mecaniques:{defis:["Fouille (DD 12) : Rcuprer les notes cryptes.","Dchiffrement (DD 18) : Dcoder les notes. Elles rvlent un projet nomm 'Ascension' ncessitant l'nergie brute de la Spirale.","Connaissance (Arcanes) (DD 16) : Comprendre que drainer la Spirale pourrait dstabiliser la barrire entre les plans.","Mdecine (DD 10) : L'assistant est mort d'puisement magique. Son corps est dessch, comme vid de sa force vitale."],indices:["Notes de Thade : 'Le Conseil refuse de financer mes recherches. Qu'ils soient maudits. La Spirale m'offrira ce dont j'ai besoin.'","Schma montrant 4 cristaux formant un rseau. Le cristal des PJ est le dernier maillon."],recompenses:"Cl de dcodage pour les notes de Thade. Preuve de sa trahison. Possibilit de saboter le cristal (mais cela pourrait avoir des consquences)."},transitions:{success:"Les PJ peuvent dcider de continuer pour arrter Thade, ou de dtruire le cristal immdiatement (ce qui dclenche une raction en chane).",fail:"Les PJ manquent les preuves cruciales et continuent sans comprendre l'ampleur de la manipulation."}},{title:"Scne 3 : Les Veines de la Spirale",type:"Combat",image:"./images/scenes/corruption_spirale.jpg",locationId:"galeries_silencieuses",npcIds:["mineur_nain_possede","contrematre_possede"],description:{resume:"Combat contre les mineurs corrompus par la Spirale",visuel:" partir du niveau -5, les murs de la mine changent. Des veines violettes et pulsantes courent le long de la roche, comme des vaisseaux sanguins. Par endroits, la pierre semble respirer. Le Cristal de Thade vibre violemment, attir vers le bas.",audio:"Un battement sourd, rgulier, comme un cur gigantesque. Les veines mettent un sifflement aigu quand on s'en approche.",odeur:"Ozone intense, presque suffocant. Une odeur de chair brle.",lumiere:"Les veines mettent une lueur violette maladive qui pulse en rythme avec le battement."},narration:{declencheur:"Descente au niveau -5.",texte_a_lire:"Le tunnel change. Ce n'est plus une mine. Les murs sont vivants, couverts de veines violettes qui pulsent comme si quelque chose de gigantesque respirait autour de vous. Le Cristal de Thade devient brlant dans votre sac, tirant vers le bas avec une force presque magntique. Soudain, une des veines clate. Une crature en merge : un amas de chair et de cristal, autrefois un mineur, maintenant une abomination.",contexte_mj:"La Spirale corrompt activement la mine, la transformant en extension d'elle-mme. Les mineurs disparus ont t absorbs et transforms en cratures hybrides.",objectif:"Survivre  l'attaque des Corrompus et dcider du sort du cristal."},mecaniques:{defis:["Combat : 2-3 Mineurs possds (hommes d'armes 1) et 1 Contrematre possd (hommes d'armes 2).","Connaissance (Plans) (DD 17) : Les veines sont des extensions de la Spirale. Les dtruire localement ne sert  rien, il faut atteindre la source.","Choix moral : Dtruire le cristal (fin de l'quipe) ou continuer (accomplir la mission, mais risque de corruption)."],indices:["Les Corrompus portent encore des lambeaux d'uniformes de mineurs. Certains ont des plaques d'identit.","Le cristal pulse de plus en plus fort, comme s'il voulait tre libr."],recompenses:"Si le cristal est conserv : il offre un bonus de +1 aux jets de Volont (mais corrompt lentement)."},transitions:{success:"Progression vers le niveau -7. La corruption s'intensifie.",fail:"Un PJ est bless par l'nergie ngative et gagne une condition 'Marqu par la Spirale' (malus -1 aux jets de Volont)."}},{title:"Scne 4 : Le Sanctuaire Bris",type:"Social",image:"./images/scenes/sanctuaire_nain.jpg",locationId:"galeries_silencieuses",npcIds:["pretre_nain_fantome"],description:{resume:"Le fantme du prtre rvle l'histoire des sceaux",visuel:"Une vaste salle au niveau -7, clairement artificielle et ancienne. Des piliers gravs de runes naines forment un cercle. Au centre, un autel bris. Les runes sont des sceaux de confinement, mais elles ont t marteles, rendues inoprantes.",audio:"Un cho spectral de prires naines rsonne faiblement. Le vent siffle  travers les piliers briss.",odeur:"Encens ancien et poussire de pierre millnaire.",lumiere:"Les runes mettent une faible lueur dore, mourante. Le cristal des PJ pulse violemment, comme s'il voulait teindre cette lumire."},narration:{declencheur:"Dcouverte de la salle sanctuaire.",texte_a_lire:"C'est un temple nain, ancien, profan. Les runes de confinement ont t marteles avec des outils modernes. Au centre, une forme spectrale vacille. Le fantme ne vous regarde pas, il fixe le cristal que vous portez avec une terreur absolue. Il chuchote en boucle :  Ne l'approchez pas...ne l'approchez pas... ",contexte_mj:"Rvlation majeure : les anciens nains connaissaient l'existence de la Spirale et avaient construit ce sanctuaire pour la sceller. Quelqu'un (probablement Thade ou ses agents) a sabot les sceaux il y a quelques semaines pour affaiblir la barrire. Le fantme du prtre est pig ici, condamn  voir son uvre dtruite. Il peut rvler la vrit aux PJ s'ils gagnent sa confiance.",objectif:"Comprendre l'histoire de la Spirale et le rle des sceaux nains."},mecaniques:{defis:["Diplomatie (DD 14) : Calmer le fantme et obtenir son histoire.","Connaissance (Histoire/Religion) (DD 16) : Reconnatre les runes comme des sceaux de confinement planaire, datant de l'ge des Forges.","Investigation (DD 15) : Les traces de burin sur les runes sont rcentes (quelques semaines) et faites avec des outils modernes, pas nains."],indices:["Le fantme : 'Nous l'avons trouve en creusant. Une faille vers... ailleurs. Nous avons scell ce mal. Mais vous...","Sur l'autel bris, un symbole grav : le sceau de nyx,  peine visible.","Le fantme peut rvler : 'Il y a un autre chemin. Un passage d'urgence, creus par mes frres, pour fuir si les sceaux chouaient. Niveau -8, derrire la cascade souterraine.'"],recompenses:"Bndiction du prtre (+2 aux jets de Volont contre la corruption de la Spirale). Connaissance du passage secret. Preuve irrfutable de la culpabilit de Thade."},transitions:{success:"Les PJ peuvent choisir le chemin direct (vers la brche) ou le passage secret (remont en ville).",fail:"Le fantme disparat dans un cri de dsespoir. Les PJ continuent sans sa bndiction ni ses informations."}},{title:"Scne 5 : La Fissure du Niveau -8",type:"Dcouverte",image:"./images/scenes/breche_spirale.jpg",locationId:"galeries_silencieuses",npcIds:[],description:{resume:"Arrive  la fissure et activation du socle",visuel:"Le tunnel s'arrte net sur une paroi d'un noir vitreux et anormal. Une fissure verticale laisse chapper une lumire violette instable. Le sol est jonch de dbris de roche calcine.",audio:"Un sifflement lectrique constant qui sature l'oreille. Les bruits de la mine ont totalement disparu.",odeur:"Ozone brl et air mtallique (comme aprs un orage).",lumiere:"clairs de lumire violette s'chappant de la faille."},narration:{declencheur:"Arrive au cul-de-sac du niveau le plus profond.",texte_a_lire:"La paroi devant vous n'est plus faite de pierre, mais d'une sorte de verre noir huileux qui semble absorber la lumire de vos torches. Au centre, une large fissure laisse entrevoir un vide violet. Le cristal que Thade vous a confi vibre violemment dans votre sac et devient brlant.  ct de la faille, un socle mtallique portant le sceau de l'Universit a t fix  la roche : il attend manifestement le cristal.",contexte_mj:"Le cristal agit comme une batterie. Si les PJ le posent sur le socle, il commence  pomper l'nergie de la Spirale, ce qui stabilise la brche pour permettre le passage (Acte 3), mais charge l'artefact de Thade.",objectif:"Dcider d'activer le socle ou de forcer le passage."},mecaniques:{defis:["Art de la Magie (DD 16) : Le socle est un conducteur arcanique. Poser le cristal va drainer l'anomalie plutt que la 'rparer'.","Vigueur (DD 14) : La proximit de la faille cause des vertiges et des nauses.","Connaissance (Plans) (DD 18) : La fissure est une dchirure dans la trame du plan matriel. Ce qu'on voit derrire n'est pas un tunnel, mais une autre dimension."],indices:["Le socle est tout neuf, install rcemment.","Le cristal change de couleur  mesure qu'il s'approche de la faille."],recompenses:"Stabilisation temporaire du passage vers la Spirale."},transitions:{success:"Le passage s'ouvre. Les PJ entrent dans l'Antichambre (Acte 3).",fail:"Les PJ hsitent ou sont repousss par l'nergie statique, subissant 1d6 dgts d'lectricit."}}]},{title:"ACTE 3 : LA PORTE DE L'ABME",stake:"Franchir le confinement sans y laisser sa sant mentale.",location:"Zone de confinement scelle.",scenes:[{title:"Scne 1 : Les Sceaux Inertes",type:"Observation",image:"./images/scenes/runes_avertissement.jpg",locationId:"galeries_silencieuses",npcIds:[],description:{resume:"Les sceaux nains puiss ne retiennent plus rien",visuel:"De lourdes plaques de fer nain sont boulonnes  mme la roche. Les runes de protection sont ternes, grises et froides. La pierre autour des plaques est craquele par une pression interne.",audio:"Un silence total, lourd, seulement bris par votre propre respiration.",odeur:"L'odeur de la poussire vieille de mille ans.",lumiere:"La lumire de vos lanternes semble mourir  quelques mtres."},narration:{declencheur:"Approche de la porte de confinement au niveau -8.",texte_a_lire:"Ce n'est pas un boulement qui bloque la mine, mais une porte. Les anciens nains n'ont pas construit cela pour entrer, mais pour empcher quelque chose de sortir. Les sceaux magiques, autrefois puissants, ont fini par s'teindre avec le temps. La porte est entrouverte, pousse par une force que la roche elle-mme ne peut plus contenir.",contexte_mj:"L'usure du temps a rendu les sceaux inoprants, permettant  l'nergie de la Spirale de fuiter dans la mine.",objectif:"Comprendre que la mine tait une barrire."},mecaniques:{defis:["Connaissance (Histoire) (DD 12) : Identifier ces plaques comme des verrous de 'confinement absolu' du Premier ge.","Fouille (DD 15) : Constater que la roche a fondu et recristallis  cause de la fuite d'nergie."],indices:["Les verrous ne sont pas casss, ils sont simplement puiss."],recompenses:"Une comprhension claire du danger planaire."},transitions:{success:"Les PJ franchissent le seuil."}},{title:"Scne 2 : Les Statues de Sel",type:"Combat",image:"./images/scenes/elementaires_corrompus.jpg",locationId:"galeries_silencieuses",npcIds:["elementaire_terre_moyen","elementaire_terre_petit","elementaire_terre_petit"],description:{resume:"Combat contre les statues animes",visuel:"Trois statues de diffrentes tailles sont figes dans des poses de gardiens. Des cristaux violets scintillent  leur surface, pulsant doucement.",audio:"Un craquement sec de pierre qui se brise.",odeur:"Ozone.",lumiere:"Lueurs violettes intermittentes."},narration:{declencheur:"Les PJ passent la porte.",texte_a_lire:"Dans ce couloir, le temps semble s'tre arrt. Des gardiens de pierre, laisss l pour surveiller la prison, ont t lentement 'grignots' par l'nergie qu'ils devaient contenir. Ils ne sont plus que des automates dtraqus qui voient en vous une source d'nergie  absorber.",contexte_mj:"Ces lmentaires sont des restes du systme de scurit nain, corrompus par des sicles d'exposition  la Spirale.",objectif:"Passer le couloir de garde."},mecaniques:{defis:["Combat : 1 lmentaire de Terre (Moyen) + 2 lmentaires de Terre (Petit) - FP total 5.","Discrtion (DD 16) : Passer sans rveiller les statues."],indices:["Les cristaux sur leur corps vibrent en prsence du cristal de Thade."],recompenses:"clats de quartz pur (50 po)."},transitions:{success:"Accs  la faille principale.",fail:"Combat difficile qui attire l'attention de la Spirale."}},{title:"Scne 3 : La Dchirure",type:"Vision / Mcanique",image:"./images/scenes/vision_spirale.jpg",locationId:"galeries_silencieuses",npcIds:[],description:{resume:"Le cristal se charge au contact de la dchirure",visuel:"Une dchirure dans l'espace. Ce n'est pas un trou dans le mur, mais un morceau de ralit manquant.",audio:"Un sifflement de vent venant d'un endroit sans air.",odeur:"Rien. Une absence totale d'odeur.",lumiere:"Une lumire qui ne projette pas d'ombres."},narration:{declencheur:"Arrive devant la faille.",texte_a_lire:"La mine s'arrte ici. Devant vous, l'espace se courbe comme du verre chauff. Vous ne voyez pas le fond du tunnel, vous voyez un vide rempli de structures impossibles. Le cristal dans votre sac commence  absorber la lumire ambiante.",contexte_mj:"Le cristal de Thade se charge automatiquement ici. Les PJ ressentent une pression physique insupportable.",objectif:"Sauter dans l'inconnu."},mecaniques:{defis:["Volont (DD 14) : Ne pas cder au vertige devant l'infini.","Art de la Magie (DD 15) : Remarquer que la faille aspire la matire physique."],indices:["Le cristal de Thade est la seule chose qui semble stable ici."],recompenses:"Le cristal est 'Charg' (Niveau 1)."},transitions:{success:"Le groupe traverse."}},{title:"Scne 4 : L'Inversion",type:"Exploration",image:"./images/scenes/passage_gravite.jpg",locationId:"galeries_silencieuses",npcIds:[],description:{resume:"La gravit s'inverse aprs la traverse",visuel:"Le groupe 'tombe' sur ce qui tait auparavant le mur. La notion de haut et de bas disparat.",audio:"Le sang qui tape dans les tempes.",odeur:"Air froid et sec.",lumiere:"Une lumire qui ne projette pas d'ombres."},narration:{declencheur:"Sortie de la faille.",texte_a_lire:"Vous avez travers. La sensation est brutale : votre estomac se retourne, vos pieds ne touchent plus le sol, puis vous atterrissez violemment sur une surface plate. Vous le comprenez vite : ici, la gravit n'est qu'une option. Vous marchez sur une plateforme flottant dans un vide immense.",contexte_mj:"Simple scne de transition physique pour faire comprendre que les rgles D&D habituelles vont changer (mouvements en 3D).",objectif:"Stabiliser sa progression."},mecaniques:{defis:["Acrobaties (DD 12) : Se stabiliser aprs le saut.","Vigueur (DD 10) : Rsister au mal des transports dimensionnel."],indices:["Des objets flottent au loin  des angles impossibles."],recompenses:"Adaptation au milieu."},transitions:{success:"Arrive en vue du Premier Cercle.",fail:"Perte d'un objet mineur dans le vide."}}]},{title:"ACTE 4 : LE PREMIER CERCLE",stake:"Rcuprer l'nergie et vacuer avant que la prison ne se rinitialise.",location:"La Spirale (Priphrie).",scenes:[{title:"Scne 1 : La Gomtrie Changeante",type:"Mcanique",image:"./images/scenes/architecture_vivante.jpg",locationId:"spirale_premier_cercle",npcIds:[],description:{resume:"Les couloirs changent et effacent le chemin du retour",visuel:"Des couloirs de mtal gris et de pierre polie. Les angles ne semblent pas droits. Derrire vous, les portes s'effacent pour devenir des murs lisses.",audio:"Un grondement sourd, comme des plaques de mtal qui glissent les unes sur les autres.",odeur:"Air froid, sec, sans aucune particule.",lumiere:"Une lueur bleute provient des jointures entre les murs."},narration:{declencheur:"Dbut de la progression dans la Spirale.",texte_a_lire:"Ce n'est pas un donjon classique. Les couloirs se rorganisent selon une logique qui vous chappe. Si vous quittez une salle des yeux, elle n'est plus la mme quand vous vous retournez. La seule chose stable est la vibration de plus en plus forte du cristal de Thade, qui semble point vers le centre comme une boussole.",contexte_mj:"La prison change de configuration pour dsorienter les prisonniers. Rgle MJ : Le retour en arrire est impossible. Chaque porte franchie est dfinitive.",objectif:"Ne pas perdre le nord magique."},mecaniques:{defis:["Intelligence (DD 14) : Comprendre que la structure suit le mouvement du cristal."],indices:["Le sol vibre diffremment  mesure qu'on approche du centre."],recompenses:"null"},transitions:{success:"Le groupe arrive  la zone d'extraction.",fail:"Errance : le groupe arrive fatigu (malus de -2 en Initiative pour la scne suivante)."}},{title:"Scne 2 : Les Forats de Pierre",type:"Combat",image:"./images/scenes/goules_mineurs.jpg",locationId:"spirale_premier_cercle",npcIds:["elementaire_terre_petit","elementaire_terre_petit","elementaire_terre_petit","elementaire_terre_petit"],description:{resume:"Les restes de la dernire fuite.",visuel:"Des corps de nains, momifis par l'air sec, sont incrusts dans les murs ou le plafond. Certains s'agitent mcaniquement.",audio:"Le bruit sec d'os qui s'entrechoquent.",odeur:"Poussire et cuir sch.",lumiere:"Lumire violette s'chappant de leurs bouches ouvertes."},narration:{declencheur:"Entre dans une grande salle de stockage.",texte_a_lire:"Vous trouvez des mineurs, mais pas ceux de votre poque. Ces cadavres portent des outils vieux de plusieurs sicles.",contexte_mj:"Ce sont des 'coquilles' vides. Ils n'ont aucune volont propre, ils sont des extensions du systme de dfense.",objectif:"liminer les obstacles physiques."},mecaniques:{defis:["Combat : 4 Marionnettes de la Spirale (Stats de Zombies, mais vitesse normale).","Savoir (Plans) (DD 13) : Comprendre qu'ils sont aliments par la Gode proche."],indices:["Une lumire violette relie les cratures au couloir suivant."],recompenses:"Une cl naine ancienne (objet de collection, 100 po)."},transitions:{success:"Accs au cur de la prison.",fail:"Le combat s'ternise, les PJ perdent des ressources (potions/sorts)."}},{title:"Scne 3 : La Gode de Confinement",type:"Objectif",image:"./images/scenes/geode_chantante.jpg",locationId:"spirale_coeur_geode",npcIds:["geode_avatar","elementaire_terre_petit","elementaire_terre_petit","zombie_humain","zombie_humain"],description:{resume:"Le gnrateur d'nergie.",visuel:"Un cristal titanesque, haut de dix mtres, suspendu au-dessus d'un gouffre. Des clairs violets frappent les parois rgulirement.",audio:"Un bourdonnement si grave qu'il fait vibrer la cage thoracique.",odeur:"Ozone satur (piquant le nez).",lumiere:"Flashs violets aveuglants."},narration:{declencheur:"Arrive dans la salle centrale.",texte_a_lire:"C'est ici. La source de tout. Un cristal massif qui semble pomper l'nergie du vide pour maintenir la prison. Votre cristal de Thade devient presque blanc de chaleur. Pour calmer la mine en haut, il faut vous approcher assez prs pour charger votre cristal avec l'nergie de la gode. Mais attention : plus vous vous approchez, plus le rayonnement est dangereux. C'est comme un racteur nuclaire - il faut trouver la bonne distance pour charger rapidement sans mourir.",contexte_mj:"La Gode est un racteur nergtique statique. Les PJ doivent grer leur distance pour charger le cristal tout en survivant aux dgts de rayonnement. Pas de combat direct, c'est un dfi d'endurance et de positionnement.",objectif:"Charger le cristal de Thade au maximum (10 charges) tout en survivant au rayonnement."},mecaniques:{defis:[`PRESSION ENNEMIE : Vagues de cratures attires par l'nergie
 Rounds 1-3 : 2 lmentaires Terre (Petit) - FP 1 chacun
 Rounds 4-6 : 2 Zombies humains - FP 0.5 chacun
 Apparition des parois pour interrompre le chargement
 Les cratures apparaissent chaque dbut de round
 Objectif : distraire les PJ pendant la charge

`,`RAYONNEMENT : Dgts d'nergie par round selon distance
 Zone critique (0-9m) : 2d6 dgts (Vig DD 14 pour demi)
 Zone modre (9-18m) : 1d6 dgts (Vig DD 14 pour demi)
 Zone scurise (18m+) : 0 dgt (hors de porte)
 Surchauffe : +1d6 tous les 3 rounds cumulatifs
 Le rayonnement affecte toutes les cratures dans la zone

`,`RECHARGE : Taux de charge du cristal selon distance
 Zone critique (0-9m) : 1 charge/round (10 rounds = objectif)
 Zone modre (9-18m) : 0.5 charge/round (20 rounds = objectif)
 Zone scurise (18m+) : 0 charge (trop loin)
 La charge s'accumule dans le cristal de Thade
 Objectif final : 10 charges pour saturer le cristal

`,`MAINTIEN : Action requise chaque round
 Utilisation d'objet DD 16 pour maintenir la connexion
 Succs : charge selon zone de distance
 chec critique (1-5) : pas de charge + projection 2d6 dgts
 chec normal (6-15) : pas de charge cette round
 Un seul PJ peut charger  la fois
 L'action de charge occupe toute la round

`],indices:["Le cristal de Thade pulse plus fort quand il se charge.","L'air vibre plus intensment prs de la gode.","Les clairs violets deviennent plus frquents avec la surchauffe."],recompenses:"Le Cristal de Thade est 'Satur' (10 charges)."},transitions:{success:"L'nergie est absorbe. La lumire baisse. Le calme revient.",fail:"La gode explose partiellement : les PJ sont projets (2d6 dgts)."}},{title:"Scne 4 : Le Protocole de Purge",type:"Fuite",image:"./images/scenes/cube_nettoyeur.jpg",locationId:"spirale_premier_cercle",npcIds:["cube_gelatineux"],description:{resume:"Maintenance force.",visuel:"Une masse translucide et visqueuse remplit tout le couloir derrire vous, dissolvant le mtal et la pierre sur son passage.",audio:"Un sifflement acide et une succion lourde.",odeur:"Vinaigre et produits chimiques.",lumiere:"La masse met une faible lueur verdtre."},narration:{declencheur:"Dbut du retour aprs l'objectif.",texte_a_lire:"Le drainage de l'nergie a dclench une alerte. La prison tente de se 'nettoyer'. Une masse de maintenance arrive pour dissoudre tout ce qui ne devrait pas tre ici : vous y compris. Il n'y a pas de discussion possible avec cette chose. Courez.",contexte_mj:"C'est une course-poursuite. Si la masse rattrape un PJ, il subit des dgts d'acide massifs.",objectif:"Atteindre la sortie avant d'tre rattrap."},mecaniques:{defis:["Course (Skill Challenge) : 3 succs avant 3 checs (Athltisme, Acrobaties, Perception).","Dgts d'environnement : Les dbris qui tombent."],indices:["La masse ralentit quand elle doit dissoudre des obstacles plus gros."],recompenses:"Survie."},transitions:{success:"Le groupe voit la fissure de sortie.",fail:"Un PJ est bless ou mort."}},{title:"Scne 5 : L'Expulsion",type:"pilogue",image:"./images/scenes/breche_spirale.jpg",locationId:"spirale_premier_cercle",npcIds:[],description:{resume:"Le retour au monde rel.",visuel:"La faille violette vers la mine. De l'autre ct, la pierre grise familire et la poussire.",audio:"Le silence soudain aprs le chaos.",odeur:"L'odeur de la terre et de l'humidit de la mine.",lumiere:"La lumire faible des lanternes restes de l'autre ct."},narration:{declencheur:"Traverse de la fissure dans le sens inverse.",texte_a_lire:"Vous plongez  travers la dchirure. La sensation d'apesanteur s'arrte net. Vous vous crasez sur le sol dur du niveau -8. Derrire vous, la faille se rtracte et devient une simple ligne sombre sur le mur. Le calme est revenu dans la mine. Le cristal de Thade brille maintenant d'une lueur constante, froide et terrifiante.",contexte_mj:"Les PJ ont russi. Ils sont de nouveau dans la ralit physique. La menace immdiate est passe, mais ils portent maintenant une source d'nergie instable.",objectif:"Reprendre ses esprits."},mecaniques:{defis:["Vigueur (DD 12) : Ne pas s'vanouir sous le choc thermique."],indices:["Le cristal de Thade pse beaucoup plus lourd qu'avant."],recompenses:"Fin de l'Acte 4. Gain d'XP."},transitions:{success:"Vers l'Acte 5 : La Remonte.",fail:"Vers l'Acte 5, mais avec un PJ inconscient."}}]},{title:"ACTE 5 : LE PRIX DU SILENCE",stake:"Survivre au sabotage et confronter Thade Coren.",location:"Remonte vers la surface.",scenes:[{title:"Scne 1 : La Trappe de l'Ascenseur",type:"Rpit",image:"./images/scenes/grelm_cage_ascenseur.jpg",locationId:"mine_argent",npcIds:["contremaitre_nain_mine"],description:{resume:"Une sortie trop calme.",visuel:"Le niveau -1 est plong dans le noir. Grelm est prostr prs du levier d'appel de la cage d'ascenseur.",audio:"Le silence est revenu, mais on entend des bruits de pas lourds dans les tages suprieurs.",odeur:"Huile de lanterne et sueur froide.",lumiere:"Une seule lanterne pose au sol."},narration:{declencheur:"Retour au point de jonction de l'ascenseur.",texte_a_lire:"Vous mergez des profondeurs. Le chant a cess, mais l'ambiance est plus lourde qu' votre dpart. Grelm vous attend, livide. Il murmure : 'Des hommes sont descendus. Ils ne ressemblaient pas  des mineurs. Ils ont pris le contrle de la salle des machines au-dessus.'",contexte_mj:"Grelm a peur. Les mercenaires de Thade ont t envoys pour s'assurer que personne ne remonte avec des questions ou le cristal.",objectif:"Prparer la remonte."},mecaniques:{defis:["Sens de la Magie (DD 12) : Sentir que le cristal de Thade met une chaleur intense, presque radioactive.","Diplomatie (DD 10) : Convaincre Grelm de vous aider  dbloquer l'ascenseur."],indices:["Des cbles de communication ont t sectionns."],recompenses:"Information sur la position des mercenaires."},transitions:{success:"Le groupe active l'ascenseur en restant discret.",fail:"L'ascenseur grince bruyamment, alertant l'tage suprieur."}},{title:"Scne 2 : Les Agents de Nettoyage",type:"Combat",image:"./images/scenes/mercenaires_thade.jpg",locationId:"mine_argent",npcIds:[],description:{resume:"limination des tmoins.",visuel:"Trois hommes en cuir sombre barrent l'accs  la sortie. Ils portent des arbaltes charges.",audio:"Le cliquetis des mcanismes de tir.",odeur:"Mtal froid.",lumiere:"Lumire grise venant du puits de jour."},narration:{declencheur:"Arrive  la plateforme intermdiaire.",texte_a_lire:"La cage d'ascenseur s'arrte. Un homme masqu s'avance sur la passerelle. 'Donnez-nous l'artefact et on vous laisse une chance de fuir par les tunnels de service.' Son ton est plat, professionnel. Il n'est pas l pour discuter, mais pour rcuprer la batterie de son matre.",contexte_mj:"Ce sont des professionnels, pas des brutes. Ils visent les mains ou les jambes pour immobiliser, sauf si les PJ ripostent mortellement.",objectif:"Passer de force ou par la ruse."},mecaniques:{defis:["Combat : 3 Mercenaires (Stats de Roublards/Guerriers niv 4).","Intimidation (DD 18) : Les faire douter de leur contrat."],indices:["Ils portent le blason de la famille Coren dissimul sous leurs manteaux."],recompenses:"Leurs ordres crits : 'Rcuprer le cristal, condamner le puits.'"},transitions:{success:"Accs au dernier niveau avant la surface.",fail:"Le combat s'ternise alors que des bruits d'explosions retentissent."}},{title:"Scne 3 : La Mine s'croule",type:"Action / Catastrophe",image:"./images/scenes/effondrement_mine.jpg",locationId:"mine_argent",npcIds:[],description:{resume:"Le plan B de Thade.",visuel:"La poussire tombe du plafond. Des charges de poudre noire explosent sur les piliers de soutien.",audio:"Un grondement qui couvre tous les cris.",odeur:"Soufre et roche broye.",lumiere:"La lumire du jour vacille  travers les dcombres."},narration:{declencheur:"Mort du chef mercenaire ou tentative de fuite.",texte_a_lire:"Thade n'a pas seulement envoy des hommes, il a pig la mine. Des dtonations sourdes font trembler les murs. Il veut enterrer la brche, le cristal et vous avec. Les piliers cdent les uns aprs les autres. Le puits principal est votre seule chance.",contexte_mj:"C'est une preuve de vitesse pure. La mine devient un pige mortel.",objectif:"Sortir avant d'tre enterr vivant."},mecaniques:{defis:["Rflexes (DD 15) : viter les chutes de pierres (2d6 dgts).","Athltisme (DD 14) : Grimper les dernires chelles alors que l'ascenseur lche."],indices:["La sortie est presque obstrue par la poussire."],recompenses:"Survie."},transitions:{success:"Les PJ jaillissent  l'air libre, couverts de poussire.",fail:"Les PJ sortent blesss et perdent une partie de leur inventaire."}},{title:"Scne 4 : La Place du Conseil",type:"Social / Confrontation",image:"./images/scenes/confrontation_surface.jpg",locationId:"quartier_des_mineurs_place",npcIds:["durnik_chef_mineur","thade_coren"],description:{resume:"Le choc des rcits.",visuel:"Une foule de mineurs et de gardes de la ville entourent le puits fumant. Thade est l, l'air faussement accabl.",audio:"Le brouhaha d'une foule en colre et inquite.",odeur:"L'air frais de la surface, ml  la fume.",lumiere:"Le soleil couchant, rouge et bas."},narration:{declencheur:"Sortie du puits devant la foule.",texte_a_lire:"La poussire retombe. Thade est l, entour de gardes. Il tend simplement la main, le visage ferm.  Le dispositif. Donnez-le moi. C'est une proprit de l'Universit, et vu les dgts que vous avez causs, c'est la seule chose qui vous vitera la prison. ",contexte_mj:"Thade joue la comdie devant les tmoins. Si les PJ l'accusent sans preuves (ordres crits), il les fera passer pour des traumatiss dlirants. Durnik observe la scne, prt  intervenir.",objectif:"Rvler la vrit ou ngocier sa survie."},mecaniques:{defis:["Bluff (DD 15) : Cacher le fait que le cristal est charg.","Diplomatie (DD 17) : Convaincre Durnik et la foule que Thade a provoqu l'explosion."],indices:["Thade a les mains qui tremblent lgrement : il a peur que vous parliez."],recompenses:"Soutien des mineurs (Rputation +2)."},transitions:{success:"Thade est forc de battre en retraite, discrdit.",fail:"Thade rcupre le cristal et les PJ passent pour des parias."}},{title:"Scne 5 : Lendemain d'Explosion",type:"pilogue",image:"./images/scenes/epilogue_mine.jpg",locationId:"quartier_des_mineurs_place",npcIds:[],description:{resume:"Un calme amer.",visuel:"Le puits de la mine est un tas de gravats. Les mineurs se dispersent en silence.",audio:"Le sifflement du vent dans les structures abandonnes.",odeur:"Poussire et dfaite.",lumiere:"La nuit tombe sur Val-d'Ombre."},narration:{declencheur:"Dpart de la place.",texte_a_lire:"La mine d'argent est ferme pour de bon. Thade est parti, mais son ombre plane toujours sur l'Universit. Vous avez empch le chant de rendre la ville folle, mais  quel prix ? Le cristal, s'il est toujours en votre possession, pulse doucement dans le noir. Ce n'tait que le dbut.",contexte_mj:"La mine est scelle, mais la Spirale n'est pas dtruite. Thade a besoin de cette nergie pour une tape ultrieure. Les PJ sont maintenant des cibles ou des allis dangereux.",objectif:"Bilan des gains et prparation de la suite."},mecaniques:{defis:[],indices:["Le cristal semble attirer d'autres nergies planaires."],recompenses:"Gain de niveau (Passage au niveau 5 ou 6)."},transitions:{success:"Fin du Scnario 2. Vers le Scnario 3.",fail:"Fin du Scnario 2. Vers le Scnario 3."}}]}]},X2={id:3,title:"SCNARIO 3 : LA CHUTE DE VAL-D'OMBRE",level:"Niveaux 7-9",system:"D&D 3.5",synopsis:"Thade Coren orchestre un coup d'tat sanglant : l'assassinat du Grand Prtre nain dclenche une purge ethnique et la transformation de Val-d'Ombre en ncropole. Les PJ, tmoins et accuss, doivent survivre  la Nuit des Longs Couteaux, organiser la rsistance, et finalement fuir dans les profondeurs de la Spirale alors que la ville s'effondre autour d'eux.",acts:[{title:"ACTE 1 : LE PIGE SE REFERME",stake:"Survivre  l'assassinat du Grand Prtre et chapper  l'accusation.",location:"Htel de Ville de Val-d'Ombre.",scenes:[{title:"Scne 1 : Le Sommet de la Rconciliation",type:"Social / Tension",image:"./images/scenes/conseil_sanglant.jpg",locationId:"hotel_de_ville_conseil",npcIds:["bourgmestre_valdombre","grand_pretre_nain","thade_coren","secretaire_bourgmestre"],description:{resume:"Sommet de rconciliation tendu entre nains et humains",visuel:"La grande salle du conseil de l'Htel de Ville. Une table ronde en chne massif. D'un ct, le Bourgmestre Aldric Vorn et Thade Coren, impeccable dans sa robe violette. De l'autre, le Grand Prtre nain Thorin Martelforge, entour de ses gardes du corps. Les PJ sont prsents comme tmoins neutres, invits pour leur rle dans la rsolution de la crise de la mine.",audio:"Murmures tendus. Le craquement des chaises. Dehors, on entend une foule hostile scander des slogans anti-nains.",odeur:"Encens de crmonie, sueur nerveuse, et un parfum subtil de lavande (signature de Thade).",lumiere:"Lumire dore des lustres de cristal. Les ombres des participants s'allongent sur les murs tendus de tapisseries."},narration:{declencheur:"Les PJ sont convoqus comme tmoins d'honneur pour un sommet de rconciliation entre la ville et la communaut naine.",texte_a_lire:"Le Bourgmestre Vorn tente de parler de paix, mais sa voix tremble. Thorin Martelforge ne l'coute mme pas, il fixe Thade.  Mes frres sont morts pour tes expriences, Coren.  Thade ne lve mme pas les yeux de ses parchemins.  Si vous avez une plainte formelle, dposez-la au greffe, Grand Prtre. Nous ne sommes pas ici pour couter des rumeurs de taverne.  L'air dans la salle devient soudainement lectrique, charg d'ozone.",contexte_mj:"Thade a orchestr ce sommet comme un pige. Il va assassiner le Grand Prtre et faire accuser les PJ ou les nains. Les PJ peuvent sentir la tension, mais ne savent pas encore ce qui va se passer. Thade est calme, trop calme. Il a dj gagn.",objectif:"Survivre  ce qui va suivre et comprendre qu'ils sont tombs dans un pige."},mecaniques:{defis:["Psychologie (DD 18) : Raliser que Thade manipule la situation. Il veut que le Grand Prtre l'accuse publiquement.","Perception (DD 20) : Remarquer un apprenti mage dans un coin, les yeux vitreux, murmurant une incantation. Il est sous charme.","Dtection de la magie (DD 16) : Sentir une aura ncromantique puissante qui se concentre dans la salle.","Diplomatie (DD 22) : Tenter de dsamorcer la tension (trs difficile, Thade sabote activement)."],indices:["Thade ne prend aucune note. Il observe, comme un prdateur.","Le Bourgmestre semble nerveux, comme s'il savait quelque chose.","Les gardes nains ont la main sur leurs armes. Ils s'attendent  une trahison.","L'apprenti mage dans le coin est l'un des tudiants de Thade. Il ne devrait pas tre l."],recompenses:"Aucune. C'est une scne de mise en place du drame."},transitions:{success:"Les PJ dtectent le danger une fraction de seconde avant qu'il ne se produise.",fail:"L'assassinat les prend totalement par surprise."}},{title:"Scne 2 : Le Meurtre du Grand Prtre",type:"vnement / Horreur",image:"./images/scenes/mort_grand_pretre.jpg",locationId:"hotel_de_ville_valdombre",npcIds:["grand_pretre_nain","thade_coren","apprenti_charme"],description:{resume:"Assassinat du Grand Prtre par un apprenti charm",visuel:"Le Grand Prtre Thorin se lve pour rpondre  Thade. Soudain, un apprenti mage dans le coin lve les mains. Un rayon d'nergie noire jaillit, frappant Thorin en pleine poitrine. Le nain s'effondre, du sang noir coulant de sa bouche. Ses gardes hurlent. Thade recule, feignant la surprise parfaite.",audio:"Le cri du sort ncromantique, un sifflement aigu. Le choc du corps de Thorin heurtant le sol. Les hurlements des gardes nains. Le chaos.",odeur:"Ozone brl, sang et chair carbonise.",lumiere:"Le rayon noir laisse des tranes d'ombre dans l'air. Les lustres vacillent."},narration:{declencheur:"L'apprenti sous charme lance le sort mortel.",texte_a_lire:"L'apprenti dans le coin lve la main. Un clair noir. Thorin s'effondre, la poitrine ouverte, mort avant de toucher le sol. Les gardes nains hurlent. L'apprenti ouvre la bouche pour parler, mais ses yeux se rvulsent et il tombe raide mort, le cerveau liqufi par un sort de scurit. Thade se lve calmement :  Scurisez la salle. Ces nains sont dangereux. ",contexte_mj:"Thade a orchestr cet assassinat  la perfection. L'apprenti tait sous charme et programm pour se suicider aprs l'acte. Les preuves mnent  l'Universit Arcanique, mais Thade a prpar des boucs missaires. Les PJ sont tmoins, ce qui les rend dangereux pour Thade. Il va les liminer ou les discrditer.",objectif:"Comprendre qu'ils sont dans un pige et que Thade va les accuser."},mecaniques:{defis:["Rflexes (DD 18) : Tenter d'intercepter le rayon (impossible, mais permet de se positionner prs du corps).","Premiers secours (DD 25) : Tenter de sauver Thorin (impossible, il est dj mort, mais permet de constater la magie noire).","Dtection de la magie (DD 14) : L'apprenti porte une marque de charme puissante. Quelqu'un l'a contrl.","Fouille rapide (DD 16) : Trouver sur l'apprenti un mdaillon avec le sceau de Thade (preuve, mais Thade dira qu'il a t vol)."],indices:["L'apprenti tait sous contrle mental. Ce n'tait qu'un outil.","Thade ne semble pas surpris. Son jeu d'acteur est parfait, mais trop parfait.","Le Bourgmestre est en tat de choc. Il ne s'attendait pas  a (ou fait-il semblant ?).","Les gardes nains accusent immdiatement Thade et l'Universit."],recompenses:"Preuve du charme (mdaillon). Mais cette preuve sera retourne contre les PJ."},transitions:{success:"Les PJ rcuprent des preuves avant que la situation n'explose.",fail:"Le chaos clate immdiatement sans qu'ils aient le temps de ragir."}},{title:"Scne 3 : Le Chaos du Conseil",type:"Combat / Chaos",image:"./images/scenes/bataille_conseil.jpg",locationId:"hotel_de_ville_valdombre",npcIds:["gardes_nains","gardes_ville","thade_coren"],description:{resume:"Bataille range dans la salle du conseil",visuel:"La salle du conseil explose en violence. Les gardes nains, fous de rage, dgainent leurs haches et chargent vers Thade. Les gardes de la ville rpondent, pes tires. Le Bourgmestre hurle des ordres que personne n'coute. Tables renverses, tapisseries dchires, sang sur le marbre.",audio:"Fracas d'acier, cris de rage, ordres contradictoires. Le bruit d'une meute qui commence.",odeur:"Sueur, sang, fume (quelqu'un a renvers une lampe).",lumiere:"Chaos de lumires vacillantes. Des ombres dansent sur les murs."},narration:{declencheur:"La mort du Grand Prtre dclenche une bataille range.",texte_a_lire:"C'est le chaos. Les nains chargent. Thade claque des doigts et disparat dans un pli dimensionnel, vous laissant seuls au milieu du massacre. Les gardes de la ville, croyant  un coup d'tat, dgainent leurs pes contre vous.",contexte_mj:"Combat chaotique. Les PJ doivent survivre et protger le Bourgmestre (ou le laisser mourir, ce qui aggrave la situation). Thade s'chappe facilement. Les PJ ralisent qu'ils sont pigs : tmoins d'un assassinat, ils seront accuss de complicit ou d'incomptence.",objectif:"Survivre au chaos et protger le Bourgmestre (optionnel)."},mecaniques:{defis:["Combat : 4 Gardes nains (Guerrier 4) vs 6 Gardes de la ville (Guerrier 3). Les PJ sont au milieu.","Diplomatie (DD 25) : Tenter de calmer la situation (presque impossible dans le chaos).","Acrobaties (DD 14) : Se frayer un chemin vers le Bourgmestre sans tre bless.","Dtection de la magie (DD 16) : Raliser que Thade a lanc plusieurs sorts de prparation avant de partir (il savait)."],indices:["Thade s'chappe sans combattre. Il avait tout prvu.","Le Bourgmestre est en danger. Si les PJ le sauvent, il pourra tmoigner en leur faveur plus tard.","Des renforts arrivent. Les PJ doivent fuir rapidement."],recompenses:"Si le Bourgmestre survit : alli potentiel. Si mort : situation encore pire."},transitions:{success:"Les PJ s'chappent de la salle du conseil avant l'arrive des renforts.",fail:"Les PJ sont blesss ou capturs temporairement."}},{title:"Scne 4 : L'vacuation en Flammes",type:"Fuite / Action",image:"./images/scenes/evacuation_toits.jpg",locationId:"hotel_de_ville_valdombre",npcIds:[],description:{resume:"Fuite de l'Htel de Ville en flammes",visuel:"L'Htel de Ville est en feu. Des flammes magiques (violettes, signature de Thade) dvorent les couloirs. La fume est paisse, toxique. Les escaliers s'effondrent. La seule issue : les toits.",audio:"Craquements du bois qui brle, explosions de fentres, cris de panique des autres occupants.",odeur:"Fume cre, bois brl, chair carbonise.",lumiere:"Lueur orange et violette des flammes. Ombres dansantes."},narration:{declencheur:"Le btiment prend feu (sabotage de Thade).",texte_a_lire:"Des flammes violettes surgissent des murs. Ce n'est pas un incendie normal : c'est de la magie. Thade a pig le btiment. Les escaliers s'effondrent derrire vous. La fume vous brle les poumons. Vous entendez des cris : d'autres personnes sont piges. Devant vous, une fentre donne sur les toits. C'est votre seule chance. Dehors, vous entendez des cloches sonner l'alarme et une voix amplifie magiquement : 'Citoyens de Val-d'Ombre ! Le Grand Prtre nain a t assassin par des agents nains infiltrs ! La loi martiale est dcrte ! Tous les nains doivent se rendre immdiatement !'",contexte_mj:"Scne d'action pure. Les PJ doivent fuir le btiment en feu tout en entendant la propagande de Thade qui retourne la ville contre les nains. Ils ralisent que Val-d'Ombre est en train de basculer dans la folie.",objectif:"S'chapper de l'Htel de Ville en feu."},mecaniques:{defis:["Acrobaties (DD 15) : Sauter par la fentre et atterrir sur le toit adjacent.","Vigueur (DD 14) : Rsister  la fume toxique (chec = 1d6 dgts de poison et tat 'Nauseux').","Escalade (DD 12) : Descendre du toit vers une ruelle.","Choix moral : Sauver des civils pigs (ralentit la fuite mais gagne des allis) ou fuir directement."],indices:["La voix amplifie est celle de Thade. Il contrle dj la narration publique.","Des patrouilles se forment dans les rues. La chasse aux nains a commenc.","Les PJ sont recherchs : 'Tmoins du meurtre, considrs comme complices'."],recompenses:"Si les PJ sauvent des civils : reconnaissance et cachettes potentielles. Sinon : progression plus rapide."},transitions:{success:"Les PJ atteignent les toits et peuvent observer la ville qui bascule dans le chaos.",fail:"Les PJ sont blesss par les flammes ou la chute."}},{title:"Scne 5 : La Ville en Flammes",type:"Observation / Horreur",image:"./images/scenes/loi_martiale.jpg",locationId:"toits_valdombre",npcIds:[],description:{resume:"Val-d'Ombre bascule dans la purge ethnique",visuel:"Depuis les toits, les PJ ont une vue panoramique de Val-d'Ombre. Des incendies clatent dans le quartier nain. Des patrouilles de gardes et d'automates de la Guilde ratissent les rues. Des nains sont trans hors de leurs maisons. Au loin, la Tour Arcanique brille d'une lueur violette malsaine.",audio:"Cloches d'alarme, cris lointains, ordres hurls, le bruit sourd des portes enfonces.",odeur:"Fume porte par le vent, odeur de peur.",lumiere:"Crpuscule. La ville est claire par les incendies et les torches des patrouilles."},narration:{declencheur:"Les PJ atteignent un point d'observation.",texte_a_lire:"Depuis les toits, vous voyez Val-d'Ombre se transformer en enfer. Le quartier des mineurs brle. Des patrouilles de gardes, accompagnes d'automates de combat de la Guilde, enfoncent les portes des maisons naines. Vous voyez des familles entires tranes dans les rues, enchanes. Des affiches sont placardes partout : 'RECHERCHS - Complices de l'assassinat du Grand Prtre. Rcompense : 1000 po.' Vos visages sont dessins dessus. Thade a travaill vite. Au loin, vous voyez la Tour Arcanique briller d'une lueur violette. Quelque chose de terrible se prpare. Une voix magiquement amplifie rsonne : 'Couvre-feu immdiat. Toute personne dans les rues sera considre comme complice. La Guilde des Mages assure votre scurit.' C'est la voix de Thade.",contexte_mj:"Moment de ralisation. Les PJ comprennent l'ampleur du plan de Thade : il a dclench une purge ethnique et pris le contrle de la ville. Ils sont recherchs et ne peuvent plus compter sur les autorits. Leur seul espoir : rejoindre la rsistance naine ou fuir. Mais Thade ne les laissera pas partir vivants.",objectif:"Comprendre la situation et dcider d'un plan d'action."},mecaniques:{defis:["Perception (DD 12) : Reprer des patrouilles qui se dirigent vers leur position.","Connaissance (Locale) (DD 14) : Se souvenir de cachettes ou d'allis potentiels dans la ville.","Survie (DD 16) : Trouver un chemin sr  travers les toits pour rejoindre le quartier nain."],indices:["Le Temple-Forgeron (temple de Moradin) semble encore libre. Des lumires y brillent.","Des groupes de nains se battent dans les rues, tentant de protger leurs familles.","La Tour Arcanique pulse d'nergie. Thade y prpare quelque chose de grand."],recompenses:"Informations sur la situation. Choix de direction pour l'Acte 2."},transitions:{success:"Les PJ dcident de rejoindre la rsistance naine au Temple-Forgeron.",fail:"Les PJ sont reprs et doivent fuir immdiatement, sans plan clair."}}]},{title:"ACTE 2 : LA NUIT DES LONGS COUTEAUX",stake:"Traverser une ville en guerre civile et rejoindre la rsistance naine.",location:"Rues de Val-d'Ombre (Nuit).",scenes:[{title:"Scne 1 : La Traverse du Quartier Artisan",type:"Infiltration / Discrtion",image:"./images/scenes/rafle_artisan.jpg",locationId:"quartier_artisan_patrouille",npcIds:["patrouilles_mixtes","automates_guilde"],description:{resume:"Infiltration du quartier artisan patrouill",visuel:"Le quartier artisan est mconnaissable. Les ateliers sont scells, les portes marques du sceau de la Guilde. Des patrouilles mixtes (gardes humains et automates de combat) ratissent les rues. Des affiches avec les visages des PJ sont placardes partout. Des civils terrifis se cachent derrire leurs volets.",audio:"Pas lourds des patrouilles, cliquetis mcaniques des automates, ordres aboys, pleurs touffs.",odeur:"Fume de bois brl, huile des automates, peur.",lumiere:"Nuit noire. Seules les torches des patrouilles et les yeux lumineux des automates percent l'obscurit."},narration:{declencheur:"Les PJ descendent des toits et doivent traverser le quartier artisan pour rejoindre le Temple-Forgeron.",texte_a_lire:"Vous descendez dans les ruelles du quartier artisan. Chaque ombre pourrait cacher une patrouille. Devant vous, un groupe de gardes accompagns de deux automates de combat de la Guilde patrouille mthodiquement. Les automates scannent les faades avec leurs yeux de cristal rouge. L'un d'eux s'arrte, pivote vers votre position. A-t-il dtect quelque chose ? Vous retenez votre souffle. Aprs un moment qui semble durer une ternit, il reprend sa marche. Vous devez traverser trois rues principales pour atteindre le quartier nain. Chacune est patrouille.",contexte_mj:"Scne d'infiltration tendue. Les PJ doivent viter les patrouilles ou les neutraliser discrtement. Les automates sont difficiles  tromper (Perception +10). Si l'alarme est donne, des renforts arrivent rapidement. Les PJ peuvent utiliser la magie, la discrtion, ou trouver des passages alternatifs.",objectif:"Traverser le quartier artisan sans tre dtects."},mecaniques:{defis:["Discrtion (DD 16) : Se dplacer sans tre vu par les patrouilles.","Dplacement silencieux (DD 14) : Ne pas faire de bruit sur les pavs.","Connaissance (Ingnierie) (DD 15) : Comprendre les patterns de dtection des automates et les viter.","Bluff (DD 18) : Si reprs, se faire passer pour des citoyens loyaux (trs difficile avec les affiches).","Option magique : Invisibilit, Silence, Forme gazeuse facilitent grandement la traverse."],indices:["Les automates dtectent le mouvement et la chaleur. Rester immobile fonctionne.","Des gouts offrent un passage alternatif, mais ils sont surveills aussi.","Un contact dans une maison pourrait offrir un refuge temporaire."],recompenses:"Traverse russie. Si discrets : aucune alerte. Si dtects : poursuite dans la scne suivante."},transitions:{success:"Les PJ atteignent la limite du quartier nain sans tre dtects.",fail:"Les PJ sont reprs. Des renforts sont appels et les poursuivent."}},{title:"Scne 2 : L'Horreur de la Place des Excutions",type:"Horreur / Rvlation",image:"./images/scenes/necropole_brume.jpg",locationId:"place_executions_valdombre",npcIds:["capitaine_garde_urbaine","executeur_masque"],description:{resume:"Thade transforme les nains excuts en zombies",visuel:"La place centrale du quartier nain. Une scne d'horreur : des dizaines de nains enchans,  genoux. Des gardes en armure noire les excutent un par un. Mais ce qui glace le sang, c'est ce qui suit : les corps ne restent pas morts. Une brume violette s'chappe de la Tour Arcanique au loin et enveloppe les cadavres. Ils se relvent, transforms en zombies, et sont enchans pour former une arme mort-vivante.",audio:"Cris des condamns, choc des lames, puis le silence de mort. Le grognement des zombies qui se lvent. Une incantation ncromantique murmure par un mage masqu.",odeur:"Sang, chair en dcomposition acclre, ozone ncromantique.",lumiere:"Torches et la lueur violette malsaine de la brume ncromantique."},narration:{declencheur:"Les PJ arrivent  la place et assistent  l'excution et  la rsurrection.",texte_a_lire:"Vous arrivez  la limite de la place et ce que vous voyez vous glace le sang. Des dizaines de nains, hommes, femmes, mme des enfants, sont aligns, enchans. Un capitaine de la garde lit une proclamation : 'Par ordre de la Guilde des Mages, vous tes reconnus coupables de conspiration contre Val-d'Ombre. Sentence : mort.' Les excutions commencent. Mais ce n'est pas le pire une brume violette s'infiltre dans les cadavres. Ils se relvent, les yeux vides. Un mage masqu les enchane magiquement avant de noter des rsultats sur un carnet. Vous ralisez avec horreur : Thade ne se contente pas de tuer les nains. Il les transforme en arme mort-vivante.",contexte_mj:"Rvlation majeure : le plan de Thade est de transformer Val-d'Ombre en ncropole et les nains en arme de zombies. La brume ncromantique vient de la Tour Arcanique o Thade effectue un rituel de masse. Les PJ doivent dcider : intervenir (risqu, sauver quelques nains) ou continuer discrtement (pragmatique, mais moralement difficile).",objectif:"Comprendre le plan de Thade et dcider d'intervenir ou non."},mecaniques:{defis:["Volont (DD 16) : Rsister  l'horreur de la scne (chec = tat 'Secou' pendant 1 heure).","Connaissance (Religion/Arcanes) (DD 17) : Comprendre que c'est un rituel de masse. Thade canalise l'nergie de la Spirale pour crer des morts-vivants.","Choix moral : Intervenir (combat difficile, sauver 2d6 nains) ou continuer (pas de combat, mais poids moral).","Si intervention : Combat contre 1 Ncromancien (Ensorceleur 6) + 8 Zombies + 4 Gardes."],indices:["La brume vient directement de la Tour Arcanique. Thade y effectue le rituel.","Les zombies sont contrls magiquement. Dtruire le ncromancien les libre (mais ils restent hostiles).","Des survivants peuvent rvler que Durnik et Thorgar organisent la rsistance au Temple-Forgeron."],recompenses:"Si intervention : 2d6 nains sauvs (allis futurs). Informations sur le rituel. Si non : progression rapide mais culpabilit."},transitions:{success:"Les PJ s'chappent de la place, avec ou sans avoir agi.",fail:"Les PJ sont reprs et doivent fuir sous le feu ennemi."}},{title:"Scne 3 : L'Embuscade du Lieutenant",type:"Combat / Boss mineur",image:"./images/scenes/embuscade_nuit.jpg",locationId:"ruelle_sombre_valdombre",npcIds:["kael_ombrelame","squelettes_geants"],description:{resume:"Embuscade de Kael Ombrelame dans la ruelle",visuel:"Une ruelle troite, seul passage vers le Temple-Forgeron. Soudain, les ombres bougent. Un homme en robe noire merge, flanqu de squelettes gants. Kael Ombrelame, lieutenant de Thade, ncromancien de talent. Il sourit : 'Le Matre savait que vous viendriez ici. Il m'a demand de vous... accueillir.'",audio:"Cliquetis d'os, rire froid de Kael, incantations ncromantiques.",odeur:"Mort et magie noire.",lumiere:"Tnbres magiques. Seuls les yeux verts des squelettes et l'aura noire de Kael brillent."},narration:{declencheur:"Les PJ entrent dans la ruelle pige.",texte_a_lire:"Les ombres se solidifient. Kael Ombrelame barre la route. Il ne se prsente pas. Il pointe simplement son bton vers vous et murmure  ses squelettes :  Cibles prioritaires. limination. ",contexte_mj:"Boss fight mineur. Kael est un ncromancien niveau 8, dangereux mais pas imbattable. Il utilise des sorts de contrle et de dgts ncromantiques. Les squelettes gants sont des tanks. Kael fuit si rduit  moins de 20% PV, jurant de revenir. Les PJ peuvent l'interroger s'ils le capturent.",objectif:"Vaincre ou faire fuir Kael Ombrelame."},mecaniques:{defis:["Combat : Kael Ombrelame (Ncromancien 8) + 4 Squelettes Gants (FP 4 chacun).","Kael utilise : Rayon d'affaiblissement, Toucher glacial, Animation des morts, clair.","Tactique : Kael reste en arrire, les squelettes protgent. Il fuit via Porte dimensionnelle si en danger.","Si captur : Intimidation (DD 20) pour le faire parler. Rvle que Thade prpare 'l'Ascension'  la Tour."],indices:["Kael porte un mdaillon avec le sceau de Thade. Preuve de la connexion.","Il mentionne 'l'Ascension' si interrog. Thade veut devenir un liche ou pire.","Les squelettes portent des armures de la garde de Val-d'Ombre. Ce sont d'anciens soldats."],recompenses:"XP du combat. Mdaillon de Kael (preuve). Informations sur le plan de Thade. Bton de Kael (+2 aux jets de Ncromancie)."},transitions:{success:"Kael est vaincu ou fuit. La voie vers le Temple est libre.",fail:"Les PJ sont blesss et doivent se replier, cherchant un autre chemin."}},{title:"Scne 4 : Le Dilemme de la Forge",type:"Choix moral / Action",image:"./images/scenes/forge_thorgar.jpg",locationId:"forge_annexe_thorgar",npcIds:["thorgar_pretre_nain","refugies_nains"],description:{resume:"Dilemme entre sauver les rfugis ou les explosifs",visuel:"L'annexe de la forge de Thorgar, prtre de Moradin. Le btiment est encercl par des gardes et des zombies.  l'intrieur, Thorgar et une vingtaine de rfugis nains (femmes, enfants, vieillards) sont pigs. Dans la cour, des caisses d'explosifs de mine et d'armes. Les deux sont prcieux, mais les PJ ne peuvent pas tout sauver.",audio:"Cris des rfugis, ordres des gardes, grondement des zombies.",odeur:"Poudre  canon, sueur, peur.",lumiere:"Feux des torches des assigeants. L'intrieur de la forge est sombre."},narration:{declencheur:"Les PJ arrivent prs de la forge et constatent la situation.",texte_a_lire:"Vous apercevez la forge de Thorgar. Elle est encercle. Une vingtaine de gardes et autant de zombies bloquent les issues.  l'intrieur, vous voyez des silhouettes : Thorgar et des rfugis. Ils sont pigs. Mais ce n'est pas tout : dans la cour, vous voyez des caisses marques 'EXPLOSIFS - MINE'. Des armes aussi. Durnik avait stock du matriel ici pour la rsistance. Vous ralisez : vous ne pouvez pas tout sauver. Soit vous crez une diversion pour vacuer les rfugis (mais les gardes dtruiront les explosifs), soit vous scurisez les explosifs d'abord (mais les rfugis risquent de mourir). Thorgar vous voit par une fentre. Il vous fait signe : 'Sauvez-les ! Les vies avant le matriel !' Mais sans explosifs, le Temple-Forgeron ne tiendra pas longtemps.",contexte_mj:"Dilemme moral classique. Les PJ doivent choisir entre sauver des vies (rfugis) ou scuriser des ressources (explosifs). Les deux options ont des consquences. Sauver les rfugis gagne la loyaut de Thorgar mais affaiblit la dfense future. Scuriser les explosifs permet de mieux dfendre le Temple mais cote des vies innocentes.",objectif:"Choisir entre sauver les rfugis ou scuriser les explosifs."},mecaniques:{defis:["OPTION A - Sauver les rfugis : Crer une diversion (Bluff DD 16, ou sort de distraction). Combat contre 10 gardes pendant l'vacuation. Les rfugis s'chappent, mais les explosifs sont dtruits.","OPTION B - Scuriser les explosifs : Infiltration (Discrtion DD 18) pour voler les caisses. Les rfugis sont massacrs. Thorgar survit mais est bris moralement.","OPTION C - Tenter les deux : Trs difficile. Ncessite un plan labor et des jets russis. Possible mais risqu."],indices:["Thorgar est un prtre puissant. Si sauv, il sera un alli majeur.","Les explosifs permettront de tenir le Temple plus longtemps et de crer des piges.","Les rfugis incluent des artisans qui peuvent aider  fortifier le Temple."],recompenses:"OPTION A : Thorgar loyal + 20 rfugis sauvs. OPTION B : Explosifs (avantage tactique) mais Thorgar distant. OPTION C : Tout, mais trs difficile."},transitions:{success:"Les PJ accomplissent leur choix et fuient vers le Temple-Forgeron.",fail:"Les PJ chouent et perdent les deux (rfugis morts, explosifs dtruits)."}},{title:"Scne 5 : Le Dernier Bastion",type:"Arrive / Regroupement",image:"./images/scenes/temple_forteresse.jpg",locationId:"temple_forgeron_moradin",npcIds:["thorgar_pretre_nain","durnik_chef_mineur","refugies_nains"],description:{resume:"Arrive au Temple-Forgeron et regroupement",visuel:"Le Temple-Forgeron de Moradin, dieu nain de la forge et de la cration. Une forteresse de pierre massive, barricade. Des nains arms patrouillent les remparts.  l'intrieur, des centaines de rfugis : familles, guerriers blesss, artisans. Durnik, le chef mineur, organise la dfense. Thorgar (s'il a survcu) prie devant l'autel.",audio:"Prires naines, bruits de fortification, pleurs d'enfants, ordres tactiques.",odeur:"Encens de temple, sueur, mtal forg.",lumiere:"Torches et brasiers. L'autel de Moradin brille d'une lueur dore rassurante."},narration:{declencheur:"Les PJ arrivent au Temple-Forgeron.",texte_a_lire:"Vous franchissez les portes massives du Temple-Forgeron.  l'intrieur, c'est le chaos organis. Des centaines de nains s'entassent : familles terrorises, guerriers prparant leurs armes, prtres soignant les blesss. Durnik vous voit et se prcipite : 'Par la barbe de Moradin, vous tes vivants ! On vous croyait morts  l'Htel de Ville.' Il vous serre dans ses bras. 'Bienvenue au dernier bastion libre de Val-d'Ombre. Nous sommes encercls, mais nous tiendrons.' Thorgar (si prsent) s'approche : 'Vous avez fait ce que vous pouviez. Maintenant, nous devons nous prparer. Thade va venir. Et quand il viendra, ce sera avec toute son arme de morts.' Au loin, vous entendez le grondement d'une horde qui approche. Le sige va commencer.",contexte_mj:"Point de regroupement. Les PJ retrouvent des allis (Durnik, Thorgar, rfugis sauvs). C'est le moment de faire le point, de se reposer brivement, et de prparer la dfense. L'Acte 3 sera le sige du Temple. Les choix des PJ dans l'Acte 2 influencent les ressources disponibles.",objectif:"Se regrouper, partager les informations, et prparer la dfense."},mecaniques:{defis:["Aucun dfi immdiat. Scne de roleplay et de prparation.","Les PJ peuvent partager ce qu'ils ont appris (rituel de Thade, zombies, plan de ncropole).","Inventaire des ressources : Combien de combattants ? D'explosifs ? De nourriture ? D'issues de secours ?"],indices:["Durnik rvle qu'il y a un passage secret sous le Temple, menant aux gouts et au cimetire.","Thorgar peut bnir les armes des PJ (+1 contre les morts-vivants pour 24h).","Un claireur rapporte : 'Une arme de zombies approche. Des centaines. Peut-tre des milliers. Ils seront l  l'aube.'"],recompenses:"Repos court. Bndictions de Thorgar. Informations tactiques. Prparation pour l'Acte 3."},transitions:{success:"Les PJ sont prts pour le sige. L'Acte 3 commence avec l'aube.",fail:"Les PJ sont puiss et mal prpars. Le sige sera plus difficile."}}]},{title:"ACTE 3 : LE SIGE DU TEMPLE",stake:"Tenir le Temple-Forgeron contre l'arme des morts.",location:"Temple-Forgeron de Moradin.",scenes:[{title:"Scne 1 : L'Aube du Sige",type:"Prparation",image:"./images/scenes/assault_temple.jpg",locationId:"temple_moradin_enceinte",npcIds:["thorgar_pretre_nain","durnik_chef_mineur"],description:{resume:"Prparation stratgique avant le sige",visuel:"L'aube se lve sur le Temple. Une arme de morts-vivants l'entoure.",audio:"Prires, fortifications, ordres tactiques.",odeur:"Encens, mtal, sueur.",lumiere:"Aube grise sous la brume ncromantique."},narration:{declencheur:"L'aube aprs l'arrive.",texte_a_lire:"Durnik : 'Nous avons 200 combattants. Contre a...' Il dsigne l'arme de morts. 'Dites-moi comment nous survivons.'",contexte_mj:"Planification stratgique. Les choix influencent les scnes suivantes.",objectif:"Organiser la dfense."},mecaniques:{defis:["Connaissance (Guerre) DD 14","Tactique DD 16","Placer piges si explosifs"],indices:["Feu efficace","Thorgar peut canaliser nergie","gouts = issue secours"],recompenses:"Bonus tactiques selon plan."},transitions:{success:"Dfenses prtes.",fail:"Dfenses mal organises."}},{title:"Scne 2 : La Premire Vague",type:"Combat",image:"./images/scenes/assaut_zombies.jpg",locationId:"temple_moradin_remparts",npcIds:["hordes_zombies"],description:{resume:"Premire vague de zombies attaque les remparts",visuel:"Centaines de zombies chargent les murs.",audio:"Grondement, cris, chocs.",odeur:"Dcomposition, fume.",lumiere:"Jour sombre, brume."},narration:{declencheur:"L'assaut commence.",texte_a_lire:"Une vague de zombies dferle. Durnik : 'Tenez les remparts !'",contexte_mj:"3 vagues de 10-15 zombies. Systme simplifi.",objectif:"Repousser la premire vague."},mecaniques:{defis:["Combat : 3 vagues zombies","Explosifs : Timing DD 14","Canalisation Thorgar"],indices:["Attaques zone efficaces","Deuxime vague sera pire"],recompenses:"Survie, moral maintenu."},transitions:{success:"Vague repousse.",fail:"Zombies percent dfenses."}},{title:"Scne 3 : Le Tratre",type:"Intrigue",image:"./images/scenes/traitre_temple.jpg",locationId:"temple_forgeron_interieur",npcIds:["galen_traitre"],description:{resume:"Galen sabote les dfenses pour Thade",visuel:"Explosion. Glyphes s'teignent. Galen sabote.",audio:"Explosion, alarme.",odeur:"Ozone, trahison.",lumiere:"Glyphes s'teignent."},narration:{declencheur:"Sabotage entre vagues.",texte_a_lire:"Galen : 'Thade m'a promis la vie ternelle.' Il invoque des spectres.",contexte_mj:"Combat contre tratre (Clerc 5) + 3 Spectres.",objectif:"Neutraliser Galen."},mecaniques:{defis:["Combat Galen + Spectres","Religion DD 14 : ractiver glyphes"],indices:["Mdaillon Thade","Cristal noir affaiblit morts-vivants"],recompenses:"Glyphes restaurs, cristal, infos."},transitions:{success:"Galen vaincu.",fail:"Glyphes dtruits."}},{title:"Scne 4 : L'Assaut des Ombres",type:"Boss",image:"./images/scenes/assaut_ombres.jpg",locationId:"temple_moradin_parvis",npcIds:["wraiths","beliers_osseux"],description:{resume:"Wraiths et bliers osseux attaquent le Temple",visuel:"Wraiths traversent murs. Bliers osseux gants frappent portes.",audio:"Hurlements, fracas.",odeur:"Froid, mort.",lumiere:"Tnbres surnaturelles."},narration:{declencheur:"Assaut final.",texte_a_lire:"Wraiths et bliers osseux attaquent. Thorgar : 'Nous tiendrons !'",contexte_mj:"Boss multiple : 3 Bliers + 4 Wraiths.",objectif:"Dtruire bliers, repousser wraiths."},mecaniques:{defis:["Combat Bliers FP6 + Wraiths FP5","Explosifs dtruisent blier","Canalisation x2 dgts"],indices:["Crne = point faible","Wraiths drainent Force"],recompenses:"Victoire, respect nains."},transitions:{success:"Temple tient.",fail:"Portes tombent, vacuation."}},{title:"Scne 5 : Le Dme",type:"Rvlation",image:"./images/scenes/dome_violet.jpg",locationId:"temple_forgeron_remparts",npcIds:["thade_coren_projection"],description:{resume:"Thade enferme Val-d'Ombre sous un dme violet",visuel:"Dme violet enferme la ville. Projection Thade.",audio:"Bourdonnement, voix Thade.",odeur:"Ozone, ncromancie.",lumiere:"Lueur violette."},narration:{declencheur:"Aprs victoire.",texte_a_lire:"Thade : 'Bravo. Mais vous tes pigs. Val-d'Ombre est ma ncropole.'",contexte_mj:"Dme impntrable. Seule issue : Spirale.",objectif:"Comprendre qu'ils doivent fuir."},mecaniques:{defis:["Arcanes DD 18 : analyser dme","Volont DD 14 : pas dsespoir"],indices:["Durnik : passage sous Temple","Spirale = seul espoir"],recompenses:"Connaissance passage secret."},transitions:{success:"Dcident contre-attaque Tour.",fail:"Fuient immdiatement."}}]},{title:"ACTE 4 : LE DERNIER ESPOIR",stake:"Tenter de stopper le rituel de Thade avant de fuir.",location:"Tour Arcanique et Hauteurs de Val-d'Ombre.",scenes:[{title:"Scne 1 : La Ville Morte",type:"Exploration",image:"./images/scenes/ville_necropole.jpg",locationId:"rues_valdombre_necropole",npcIds:[],description:{resume:"Traverse de la ville transforme en ncropole",visuel:"Brume violette, cadavres se relevant, btiments s'effondrant.",audio:"Silence de mort, grognements, effondrements.",odeur:"Dcomposition, brume acide.",lumiere:"Crpuscule ternel sous dme violet."},narration:{declencheur:"Dpart vers la Tour.",texte_a_lire:"Val-d'Ombre agonise. Durnik : 'Si nous stoppons le rituel, le dme tombera peut-tre.'",contexte_mj:"Traverse atmosphrique. Skill challenge pour atteindre la Tour.",objectif:"Atteindre la Tour Arcanique."},mecaniques:{defis:["Skill Challenge : 5 succs avant 3 checs","Acrobaties, Athltisme, Discrtion, Survie"],indices:["Brume dense prs Tour","Survivants supplient aide","Tour garde"],recompenses:"Arrive Tour selon tat."},transitions:{success:"Arrivent en bon tat.",fail:"Arrivent puiss."}},{title:"Scne 2 : L'Ascension",type:"Infiltration",image:"./images/scenes/tour_arcanique_interieur.jpg",locationId:"tour_arcanique_escaliers",npcIds:["gardes_morts_vivants"],description:{resume:"Ascension de la Tour remplie de morts-vivants",visuel:"Couloirs dserts, cadavres mages, escaliers spirale.",audio:"Incantations lointaines, bourdonnement.",odeur:"Sang, ozone, mort.",lumiere:"Lueur violette pulsante."},narration:{declencheur:"Entre Tour.",texte_a_lire:"Thade a tu ses collgues. Sa voix : 'L'Ascension est proche.'",contexte_mj:"Monte avec combats et piges. Horloge tension : 10 rounds.",objectif:"Atteindre sommet avant fin rituel."},mecaniques:{defis:["Combats vagues gardes","Piges glyphes DD 16","Horloge 10 rounds"],indices:["Objets sur cadavres","Ascenseur pig","Rituel presque fini"],recompenses:"Arrive sommet, objets magiques."},transitions:{success:" temps.",fail:"Trop tard, Thade transform."}},{title:"Scne 3 : Le Gardien",type:"Boss",image:"./images/scenes/golem_chair.jpg",locationId:"tour_arcanique_sommet",npcIds:["golem_chair_geant"],description:{resume:"Combat contre le Golem de Chair gant",visuel:"Plateforme circulaire, pylne nergie, Golem Chair 4m.",audio:"Grondement, craquements, bourdonnement.",odeur:"Dcomposition, ncromancie.",lumiere:"clairs violets."},narration:{declencheur:"Arrive sommet.",texte_a_lire:"Golem de Chair gant bloque pylne. 'Le... Matre... protger...'",contexte_mj:"Boss FP 9. Rgnration, dangers environnementaux.",objectif:"Vaincre Golem."},mecaniques:{defis:["Combat Golem FP9","Rgnration 5/round","clairs alatoires DD 16"],indices:["Feu ralentit rgnration","Li au pylne","Thade derrire"],recompenses:"Victoire, accs Thade."},transitions:{success:"Golem vaincu.",fail:"Doivent fuir."}},{title:"Scne 4 : Face  Thade",type:"Boss impossible",image:"./images/scenes/confrontation_thade.jpg",locationId:"tour_arcanique_sommet",npcIds:["thade_coren"],description:{resume:"Confrontation impossible contre Thade devenu liche",visuel:"Thade devant pylne, aura violette, transcende.",audio:"Incantation, bourdonnement, vent.",odeur:"Pouvoir brut, ozone.",lumiere:"Thade brille violet."},narration:{declencheur:"Aprs Golem.",texte_a_lire:"Thade flotte devant le pylne. Il ne vous regarde mme pas.  Le processus est irrversible. Votre prsence est... inefficace. ",contexte_mj:"Combat impossible. Thade Liche FP12+. Doivent fuir ou dtruire pylne.",objectif:"Survivre."},mecaniques:{defis:["Thade FP12 imbattable","Option A : Dtruire pylne DD20, 3 rounds","Option B : Fuir"],indices:["Trop puissant","Pylne = faiblesse dme","Durnik : Fuyez !"],recompenses:"Survie. Si pylne dtruit : 6d6 tous."},transitions:{success:"Fuient ou dtruisent pylne.",fail:"Morts ou capturs."}},{title:"Scne 5 : La Retraite",type:"Fuite",image:"./images/scenes/retraite_temple.jpg",locationId:"rues_valdombre_effondrement",npcIds:["thade_coren_poursuite"],description:{resume:"Fuite perdue vers le Temple sous les ruines",visuel:"Tour s'effondre, ville s'croule, fuite vers Temple.",audio:"Explosions, effondrements, rire Thade.",odeur:"Fume, poussire.",lumiere:"Chaos."},narration:{declencheur:"Fuite Tour.",texte_a_lire:"Thade : 'Fuyez vers la Spirale ! C'est l que je vous voulais !'",contexte_mj:"Course-poursuite. Skill challenge vers Temple.",objectif:"Atteindre Temple."},mecaniques:{defis:["Skill Challenge 4/3","Athltisme, Acrobaties, Rflexes"],indices:["Temple en vue","Thade ne poursuit pas physiquement","Spirale = pige"],recompenses:"Arrive Temple."},transitions:{success:"Atteignent Temple.",fail:"Rattraps, combat survie."}}]},{title:"ACTE 5 : LA DESCENTE DANS L'ABME",stake:"Fuir Val-d'Ombre en plongeant dans la Spirale.",location:"gouts, Cimetire, Entre Spirale.",scenes:[{title:"Scne 1 : Le Passage Secret",type:"Urgence",image:"./images/scenes/egouts_temple.jpg",locationId:"egouts_sous_temple",npcIds:["durnik_chef_mineur","thorgar_pretre_nain"],description:{resume:"Guidage des survivants dans les gouts instables",visuel:"gouts anciens, eau monte, structure s'effondre.",audio:"Eau, effondrements, pleurs.",odeur:"gouts, humidit, peur.",lumiere:"Torches vacillantes."},narration:{declencheur:"Descente gouts.",texte_a_lire:"Durnik : 'Passage vers cimetire, puis Spirale.' 50 nains survivants.",contexte_mj:"Skill challenge. Choix difficiles, rfugis perdus si checs.",objectif:"Guider survivants au cimetire."},mecaniques:{defis:["Skill Challenge 5/3","Athltisme, Connaissance Souterrains, Diplomatie"],indices:["gouts instables","Zombies errent","Cimetire proche"],recompenses:"Survivants selon succs."},transitions:{success:"Majorit survit.",fail:"Lourdes pertes."}},{title:"Scne 2 : Le Cimetire",type:"Combat",image:"./images/scenes/cimetiere_maudit.jpg",locationId:"cimetiere_valdombre",npcIds:["morts_vivants_anciens"],description:{resume:"Perce dans le cimetire infest de morts-vivants",visuel:"Brume paisse, tombes brises, hordes morts-vivants.",audio:"Grognements, cliquetis, vent.",odeur:"Terre, dcomposition.",lumiere:"Lune rouge  travers dme."},narration:{declencheur:"Sortie gouts.",texte_a_lire:"Cimetire rveill. Durnik : 'Mausole l-bas.' Centaines morts-vivants.",contexte_mj:"Combat horde infinie. Doivent percer et courir vers Mausole.",objectif:"Atteindre Mausole."},mecaniques:{defis:["Horde infinie","Percer lignes","Canalisation Thorgar cre passage"],indices:["100m jusqu'au Mausole","Certains rfugis submergs","Ne pas s'arrter"],recompenses:"Survie, arrive Mausole."},transitions:{success:"Atteignent Mausole.",fail:"Lourdes pertes."}},{title:"Scne 3 : Le Sacrifice de Durnik",type:"Sacrifice",image:"./images/scenes/sacrifice_durnik.jpg",locationId:"mausolee_entree",npcIds:["durnik_chef_mineur","gargouille_gardienne"],description:{resume:"Durnik se sacrifie pour sceller le passage",visuel:"Porte scelle, gargouille gante, horde approche.",audio:"Rugissement, grondement.",odeur:"Pierre, mort.",lumiere:"Torches contre obscurit."},narration:{declencheur:"Arrive Mausole.",texte_a_lire:"Durnik : 'Entrez ! Je vais la retenir !' Il sort explosifs. 'On se reverra dans les Halls de Moradin.'",contexte_mj:"Sacrifice hroque. Durnik meurt, scelle passage, tue gargouille.",objectif:"Accepter sacrifice."},mecaniques:{defis:["Option A : Accepter","Option B : Sauver DD22 (trs difficile)"],indices:["Durnik dtermin","Son sacrifice donne temps","Hros  honorer"],recompenses:"Passage scell, temps gagn."},transitions:{success:"Durnik meurt en hros.",fail:"Sauv bless ou mort sans sacrifice."}},{title:"Scne 4 : Les Gardiens",type:"Boss",image:"./images/scenes/chevaliers_mort.jpg",locationId:"mausolee_interieur",npcIds:["chevaliers_de_la_mort"],description:{resume:"Combat contre les Chevaliers de la Mort",visuel:"Salle circulaire, puits central, 4 Chevaliers armure noire.",audio:"Cliquetis, voix spectrales.",odeur:"Mtal rouill, mort.",lumiere:"Lueur spectrale."},narration:{declencheur:"Entre Mausole.",texte_a_lire:"Chevaliers : 'Nul ne passe.' Thorgar : 'Laissez-nous !' 'Si vous vaincez, vous tes dignes.'",contexte_mj:"4 Chevaliers FP6. Test de valeur. Si victoire, s'inclinent.",objectif:"Vaincre Chevaliers."},mecaniques:{defis:["4 Chevaliers FP6","Immunit critiques","Aura peur DD16"],indices:["Combattent avec honneur","Pas malveillants","Puits attend"],recompenses:"Victoire, respect, accs puits."},transitions:{success:"Chevaliers s'inclinent.",fail:"Jugs indignes."}},{title:"Scne 5 : Le Saut",type:"Conclusion",image:"./images/scenes/chute_spirale.jpg",locationId:"puits_spirale",npcIds:["thade_coren_apparition","thorgar_pretre_nain"],description:{resume:"Saut dans le puits menant  la Spirale",visuel:"Puits noir insondable, escaliers spirale, tnbres.",audio:"cho infini, murmures Spirale.",odeur:"Vide, nant.",lumiere:"Obscurit totale."},narration:{declencheur:"Aprs Chevaliers.",texte_a_lire:"Thade : 'Parfait. Fuyez dans la Spirale. Explorez-la pour moi. Vous tes mes claireurs.' Thorgar : 'Ensemble ?' Vous sautez.",contexte_mj:"Fin Scnario 3. Plonge Spirale. Thade a gagn, contrle ville, force PJ explorer.",objectif:"Sauter dans puits."},mecaniques:{defis:["Aucun jet","Volont DD12 : surmonter peur"],indices:["Pas d'autre choix","Thade les manipule","Spirale = moyen vaincre"],recompenses:"Transition Scnario 4."},transitions:{success:"Plongent dans Spirale.",fail:"N/A - choix narratif."}}]}]},$2={id:4,title:"SCNARIO 4 : LE LABYRINTHE VIVANT",level:"Niveaux 10-12",system:"D&D 3.5",synopsis:"Plongs dans les profondeurs de la Spirale aprs la chute de Val-d'Ombre, les PJ doivent survivre dans un labyrinthe vivant aux lois physiques impossibles. Ils dcouvrent le laboratoire secret de Thade, comprennent le secret de son immortalit, et tentent de pirater le systme de tlportation pour remonter  la surface et l'affronter une dernire fois.",acts:[{title:"ACTE 1 : LA CHUTE DANS L'IMPOSSIBLE",stake:"Survivre  la chute et s'adapter aux lois aberrantes de la Spirale.",location:"Zone des Dchets et Priphrie de la Spirale.",scenes:[{title:"Scne 1 : La Chute Infinie",type:"Cinmatique / Action",image:"./images/scenes/chute_spirale_infinie.jpg",locationId:"spirale_puits_entree",npcIds:["thorgar_pretre_nain","refugies_nains"],description:{resume:"Chute dans la Spirale avec inversion de gravit",visuel:"Vous tombez dans le puits noir. Mais aprs quelques secondes, la gravit s'inverse brutalement. Vous tombez maintenant vers le haut, vers une vote de pierre vivante qui pulse comme un cur. Les rfugis nains hurlent. Thorgar prie.",audio:"Vent hurlant, cris, puis silence soudain quand la gravit s'inverse.",odeur:"Ozone, pierre humide, quelque chose d'organique.",lumiere:"Obscurit puis lueur violette pulsante de la vote."},narration:{declencheur:"Saut dans le puits  la fin du Scnario 3.",texte_a_lire:"Vous tombez. L'obscurit vous engloutit. Le vent hurle dans vos oreilles. Puis, soudain, votre estomac se retourne. La gravit s'inverse. Vous tombez maintenant vers le haut, vers une vote de pierre qui pulse d'une lueur violette malsaine. Thorgar crie : 'Prparez-vous  l'impact !' Vous frappez la vote... mais au lieu de vous craser, vous la traversez comme si elle tait liquide. De l'autre ct, la gravit change encore. Vous tombez latralement, puis en spirale. La Spirale joue avec vous. Finalement, vous atterrissez brutalement sur une surface dure.",contexte_mj:"Scne d'introduction spectaculaire. Les PJ subissent 4d6 dgts de chute (Rflexes DD 15 pour moiti). Test Vigueur DD 14 ou tat Nauseux 1d4 rounds. C'est le premier contact avec les lois impossibles de la Spirale.",objectif:"Survivre  la chute et se relever."},mecaniques:{defis:["Rflexes DD 15 : Rduire dgts chute de moiti (4d6  2d6)","Vigueur DD 14 : viter Nauseux 1d4 rounds","Perception DD 12 : Remarquer que certains rfugis n'ont pas survcu"],indices:["La gravit change constamment","La pierre est vivante, organique","Vous tes dans un espace impossible"],recompenses:"Survie. Premire adaptation aux lois de la Spirale."},transitions:{success:"Les PJ se relvent et valuent la situation.",fail:"Les PJ sont blesss et dsorients."}},{title:"Scne 2 : Les Charognards",type:"Combat / Horreur",image:"./images/scenes/charognards_ether.jpg",locationId:"spirale_zone_dechets",npcIds:["destrachans"],description:{resume:"Combat contre les Destrachans chassant au son",visuel:"Vous tes dans une zone de dbris flottants : pierres, ossements, objets tordus. Des cratures mergent : des Destrachans, prdateurs aveugles qui chassent au son. Ils sont attirs par les cris des blesss.",audio:"Cliquetis des dbris, cris harmoniques des Destrachans.",odeur:"Pourriture, ozone.",lumiere:"Lueur violette diffuse. Ombres mouvantes."},narration:{declencheur:"Les cris des blesss attirent les prdateurs.",texte_a_lire:"Vous vous relevez pniblement. Autour de vous, une zone de dbris flottants. Certains rfugis sont blesss, d'autres... ne bougeront plus. Soudain, Thorgar lve la main : 'Silence !' Trop tard. Des formes mergent de l'obscurit : des cratures sans yeux, peau translucide, gueules bantes. Des Destrachans. Ils chassent au son. Et ils ont entendu vos cris.",contexte_mj:"Premier combat dans la Spirale. 3 Destrachans (FP 8). Terrain difficile : dbris flottants, gravit instable. Les Destrachans utilisent leur cri destructeur. Le silence est une tactique viable.",objectif:"Vaincre ou fuir les Destrachans."},mecaniques:{defis:["Combat : 3 Destrachans FP 8","Terrain : Dbris flottants (Acrobaties DD 12 pour se dplacer)","Destrachans : Cri destructeur (cne 9m, 6d6 son, Vigueur DD 16 moiti)","Tactique : Sort Silence trs efficace (les aveugle compltement)"],indices:["Aveugles, chassent au son","Vulnrables au silence","Terrain instable peut tre utilis"],recompenses:"XP. Comprhension des dangers de la Spirale."},transitions:{success:"Destrachans vaincus ou fuis.",fail:"PJ blesss, doivent fuir."}},{title:"Scne 3 : Les les Flottantes",type:"Exploration / Survie",image:"./images/scenes/iles_flottantes.jpg",locationId:"spirale_zone_dechets",npcIds:["thorgar_pretre_nain"],description:{resume:"Repos prcaire sur des les qui se dsagrgent",visuel:"Vous progressez sur des les de pierre flottant dans le vide. Brume violette en dessous. Chaque le est instable, se dsagrgeant lentement. Thorgar compte les survivants : 30 nains sur 50.",audio:"Craquements de pierre, murmures de la brume.",odeur:"Pierre humide, quelque chose de sucr et curant.",lumiere:"Lueur violette de la brume, ombres dansantes."},narration:{declencheur:"Aprs le combat, progression force.",texte_a_lire:"Vous avancez prudemment sur des les de pierre flottant dans le vide. En dessous, une brume violette insondable. Thorgar fait le dcompte : 30 nains survivants. Il vous regarde, puis : 'Nous devons nous reposer. Mais...' Il dsigne une le. Vous voyez qu'elle se dsagrge lentement, des morceaux tombant dans la brume. 'Rien n'est stable ici. Si nous dormons trop longtemps...' Il n'a pas besoin de finir sa phrase.",contexte_mj:"Dilemme de survie. Les PJ doivent se reposer (rcuprer sorts, PV) mais les les se dsagrgent. Rgle : Aprs 4 heures, l'le commence  s'effondrer. Les PJ doivent trouver une solution (tours de garde, sorts de lvitation, trouver une le stable).",objectif:"Trouver un moyen de se reposer en scurit."},mecaniques:{defis:["Survie DD 16 : Trouver une le plus stable","Perception DD 14 : Dtecter signes de dsagrgation","Connaissance (Plans) DD 18 : Comprendre que la Spirale rejette ce qui est inerte","Solution : Rester veill, tours de garde, sorts de lvitation"],indices:["Les les se dsagrgent si on reste trop longtemps","La Spirale rejette l'immobilit","Il faut bouger constamment ou trouver une zone stable"],recompenses:"Repos russi = rcupration. chec = pas de repos, fatigue."},transitions:{success:"Repos russi, PJ rcuprs.",fail:"le s'effondre, fuite prcipite, pas de repos."}},{title:"Scne 4 : Le Bivouac Oubli",type:"Dcouverte / Lore",image:"./images/scenes/bivouac_squelette.jpg",locationId:"spirale_zone_dechets",npcIds:[],description:{resume:"Dcouverte du bivouac d'une ancienne expdition",visuel:"Sur une le plus grande, vous trouvez un bivouac ancien. Un squelette nain en armure, assis contre un rocher.  ses pieds, des objets : une bouteille de cristal, un journal, des armes rouilles.",audio:"Silence. Juste le vent lointain.",odeur:"Poussire ancienne, mtal oxyd.",lumiere:"Lueur violette attnue. L'le semble plus stable."},narration:{declencheur:"Dcouverte d'une le stable.",texte_a_lire:"Vous trouvez une le plus grande, plus stable. Et l, un bivouac ancien. Un squelette nain, en armure de la garde de Val-d'Ombre, assis contre un rocher. Mort depuis des annes. Thorgar s'agenouille : 'Frre Durin. Il faisait partie de la premire expdition, il y a 20 ans.' Il ferme les yeux du squelette. Vous fouillez le camp. Un journal, une bouteille de cristal trange, des armes. Le journal dit : 'Jour 47. La tour bouge. La gographie change. Nous sommes perdus. Que Moradin nous pardonne.'",contexte_mj:"Moment de lore. Les PJ dcouvrent que d'autres sont venus avant eux et sont morts. Le journal rvle que la Spirale est un labyrinthe changeant. La bouteille est un objet magique : Bouteille d'Air Infini (permet de respirer dans n'importe quel environnement).",objectif:"Rcuprer informations et objets."},mecaniques:{defis:["Fouille DD 12 : Trouver tous les objets","Dchiffrement DD 10 : Lire le journal (nain ancien)","Connaissance (Histoire) DD 16 : Reconnatre l'armure (premire expdition)"],indices:["D'autres sont venus avant","La gographie change","La Spirale est un labyrinthe vivant"],recompenses:"Bouteille d'Air Infini, Journal (infos), Armes +1 rouilles (rparables)."},transitions:{success:"PJ quips et informs.",fail:"Ratent certains objets."}},{title:"Scne 5 : Le Shift Gographique",type:"Rvlation / Twist",image:"./images/scenes/shift_geographie.jpg",locationId:"spirale_transition",npcIds:["thorgar_pretre_nain"],description:{resume:"La gographie change pendant le sommeil",visuel:"Aprs un repos dans une grotte, vous vous rveillez. La sortie de la grotte ne donne plus sur les les flottantes, mais sur un couloir de marbre blanc, parfaitement gomtrique. La gographie a chang pendant votre sommeil.",audio:"Silence absolu. Puis un bourdonnement lointain.",odeur:"Pierre froide, ozone.",lumiere:"Lumire blanche artificielle, sans source visible."},narration:{declencheur:"Rveil aprs repos.",texte_a_lire:"Vous vous rveillez. Thorgar est dj debout, fixant la sortie de la grotte. 'Quelque chose ne va pas.' Vous vous approchez. La sortie ne donne plus sur les les flottantes et la brume violette.  la place, un couloir de marbre blanc, parfaitement lisse, s'tend devant vous. Des runes brillent sur les murs. Ce n'tait pas l hier. Thorgar murmure : 'Le journal disait vrai. La tour bouge. La Spirale se rorganise.' Vous ralisez : vous tes dans un labyrinthe vivant qui change constamment. Il n'y a pas de carte. Pas de retour en arrire possible.",contexte_mj:"Twist majeur. Les PJ comprennent que la Spirale est un espace non-euclidien qui se rorganise. Cela explique pourquoi personne n'en est jamais revenu : impossible de retrouver son chemin. La seule option : avancer et trouver un moyen de contrler la Spirale ou de la quitter.",objectif:"Accepter la ralit et avancer."},mecaniques:{defis:["Volont DD 14 : Ne pas paniquer face  l'impossible","Connaissance (Plans) DD 20 : Comprendre la nature non-euclidienne","Aucun jet ne permet de retrouver le chemin. C'est impossible."],indices:["La Spirale se rorganise","Pas de retour possible","Seule option : avancer","Les runes sur les murs sont un langage inconnu"],recompenses:"Comprhension de la nature de la Spirale. Motivation pour trouver une sortie."},transitions:{success:"PJ acceptent et entrent dans le couloir.",fail:"PJ paniquent mais n'ont pas le choix."}}]},{title:"ACTE 2 : L'COSYSTME ABERRANT",stake:"S'adapter aux lois impossibles et progresser vers les profondeurs.",location:"Couloirs de Chair et Zones Organiques.",scenes:[{title:"Scne 1 : La Salle de Gravit Variable",type:"Combat / Environnement",image:"./images/scenes/salle_gravite.jpg",locationId:"spirale_couloirs_chair",npcIds:["gargouilles_cristal"],description:{resume:"Combat avec gravit changeante contre gargouilles",visuel:"Grande salle cubique, murs de cristal. La gravit change chaque round : sol, plafond, murs latraux. Des Gargouilles de cristal volent, immunises  ces changements.",audio:"Bourdonnement quand gravit change, cris gargouilles.",odeur:"Ozone, cristal.",lumiere:"Reflets kalidoscopiques."},narration:{declencheur:"Entre dans couloir marbre.",texte_a_lire:"Vous entrez dans une salle cubique aux murs de cristal. Soudain, la gravit bascule. Vous tombez vers le plafond. Puis vers un mur. Chaque round, la direction change. Des Gargouilles de cristal vous attaquent, parfaitement adaptes.",contexte_mj:"Combat avec gravit changeante. Chaque round, jet 1d6 : 1-2 sol, 3-4 plafond, 5 mur gauche, 6 mur droit. Acrobaties DD 14 pour ne pas tomber. Gargouilles immunises.",objectif:"Vaincre gargouilles et traverser."},mecaniques:{defis:["Combat : 4 Gargouilles Cristal FP 7","Gravit change chaque round","Acrobaties DD 14 : rester stable","Sorts vol/lvitation trs utiles"],indices:["Gargouilles immunises gravit","Cristaux murs = points d'ancrage","Sortie en face"],recompenses:"XP, adaptation gravit variable."},transitions:{success:"Traverse russie.",fail:"PJ blesss par chutes."}},{title:"Scne 2 : Le Marchand de l'Impossible",type:"Rencontre / RP",image:"./images/scenes/marchand_souvenirs.jpg",locationId:"spirale_carrefour_mercane",npcIds:["xareth_mercane"],description:{resume:"Rencontre avec Xareth le marchand Mercane",visuel:"Carrefour de couloirs. Un tre trange : Xareth, Mercane exil. choppe flottante avec objets impossibles. Il sourit : 'Bienvenue, voyageurs. Tout se vend ici.'",audio:"Tintement objets magiques, voix mlodieuse Xareth.",odeur:"Encens exotique, magie.",lumiere:"Lueur dore choppe."},narration:{declencheur:"Arrive carrefour.",texte_a_lire:"Au milieu du nant, un tre  la peau bleue, vtu de soie, trie des fioles. Ilse tiens dans ce qui ressemble a une choppe.  L'or n'a pas de cours ici. Je prends ce qui est rel. Un souvenir d'enfance, la matrise d'une langue, un an de votre esprance de vie. Choisissez vite, la ralit va bientt changer de forme. ",contexte_mj:"Rencontre unique. Xareth vend objets magiques puissants contre souvenirs (perte comptence), PV max permanents, ou annes vie. Donne info : laboratoire Thade plus bas. Peut tre alli si bien trait.",objectif:"Ngocier, obtenir infos."},mecaniques:{defis:["Diplomatie DD 16 : ngocier","Psychologie DD 18 : comprendre motivations","Choix : acheter objets ? Prix lev"],indices:["Labo Thade niveau -12","Xareth exil, hait Thade","Peut devenir alli"],recompenses:"Infos, objets magiques (si achat)."},transitions:{success:"Alliance ou commerce.",fail:"Xareth indiffrent."}},{title:"Scne 3 : Les Couloirs Vivants",type:"Horreur / Combat",image:"./images/scenes/couloirs_chair.jpg",locationId:"spirale_couloirs_chair",npcIds:["gibbering_mouther_colossal"],description:{resume:"Couloirs de chair vivante et Gibbering Mouther",visuel:"Couloirs de chair pulsante. Yeux partout. Bouches murmurent. Au bout, une masse : Gibbering Mouther colossal, fusion de victimes.",audio:"Murmures incessants, gargouillements.",odeur:"Chair, bile.",lumiere:"Lueur organique malsaine."},narration:{declencheur:"Progression force.",texte_a_lire:"Les couloirs changent. Marbre devient chair. Murs pulsent. Yeux vous fixent. Bouches murmurent vos peurs. Au bout, une abomination : masse de chair avec dizaines bouches et yeux. Gibbering Mouther colossal.",contexte_mj:"Combat horreur. Mouther FP 10. Murmures = confusion (Volont DD 16). Terrain difficile (chair glissante). Feu efficace.",objectif:"Vaincre ou fuir Mouther."},mecaniques:{defis:["Combat : Gibbering Mouther Colossal FP 10","Murmures : Volont DD 16 ou Confusion 1 round","Terrain glissant : Acrobaties DD 12","Feu : dgts x1.5"],indices:["Vulnrable feu","Murmures = attaque mentale","Yeux murs observent"],recompenses:"XP, traverse zone organique."},transitions:{success:"Mouther vaincu.",fail:"Fuite, contournement."}},{title:"Scne 4 : Le Miroir des Regrets",type:"Puzzle / Psychologique",image:"./images/scenes/miroir_regret.jpg",locationId:"spirale_salle_miroirs",npcIds:[],description:{resume:"Miroirs exigent d'avouer ses faiblesses",visuel:"Salle miroirs. Reflets ne bougent pas, vous fixent. Pour passer, porte demande : 'Donnez ce que vous cachez.'",audio:"Silence oppressant, chos penses.",odeur:"Rien, vide.",lumiere:"Reflets argents."},narration:{declencheur:"Salle bloque passage.",texte_a_lire:"Vos reflets ne bougent pas en mme temps que vous. Ils vous regardent avec mpris. Vous sentez une pression psychique intense, comme si votre propre esprit essayait de vous expulser. Pour briser la boucle, il faut lcher du lest : un secret, une honte, quelque chose de lourd.",contexte_mj:"Puzzle psychologique. Chaque PJ doit avouer une faiblesse/regret  voix haute. Roleplay important. Si refus, reflet attaque (clone hostile). Si aveu sincre, porte s'ouvre.",objectif:"Avouer faiblesse ou combattre reflet."},mecaniques:{defis:["Roleplay : avouer faiblesse/regret","Si refus : combat clone (stats identiques)","Psychologie DD 14 : comprendre test","Bluff DD 20 : mentir (difficile, reflet sait)"],indices:["Test sincrit","Reflets = vous","Spirale teste valeur"],recompenses:"Passage, dveloppement perso."},transitions:{success:"Aveux, porte ouvre.",fail:"Combat reflets."}},{title:"Scne 5 : La Vis Descendante",type:"Action / Transition",image:"./images/scenes/vis_geante.jpg",locationId:"spirale_puits_vis",npcIds:[],description:{resume:"Descente sur la vis gante tournante",visuel:"Puits immense. Vis gante tourne lentement, descendant. Seul moyen progresser : sauter dessus et descendre avec elle.",audio:"Grincement mcanique, cho profond.",odeur:"Mtal, huile.",lumiere:"Obscurit en bas, lueur en haut."},narration:{declencheur:"Fin couloirs organiques.",texte_a_lire:"Vous arrivez  un puits. Une vis gante, large de 10m, tourne lentement, descendant dans l'obscurit. Thorgar : 'C'est le seul chemin.' Vous devez sauter dessus et descendre.",contexte_mj:"Skill challenge. Acrobaties DD 14 pour sauter sur vis. Puis descente 10 minutes. Dangers : cratures volantes, piges mcaniques. Arrive niveau laboratoire.",objectif:"Descendre sur vis."},mecaniques:{defis:["Acrobaties DD 14 : sauter sur vis","quilibre DD 12 : rester stable pendant descente","Perception DD 16 : dtecter dangers","Combat possible : Mephits vapeur"],indices:["Vis mne laboratoire","Descente longue","Dangers en route"],recompenses:"Arrive niveau -12, laboratoire."},transitions:{success:"Descente russie.",fail:"Chute partielle, dgts."}}]},{title:"ACTE 3 : LE LABORATOIRE INTERDIT",stake:"Dcouvrir le secret de l'immortalit de Thade.",location:"Laboratoire Secret de Thade (Niveau -12).",scenes:[{title:"Scne 1 : Le Sas Fortifi",type:"Infiltration / Combat",image:"./images/scenes/sas_labo.jpg",locationId:"spirale_labo_secret",npcIds:["golems_fer"],description:{resume:"Infiltration du laboratoire fortifi de Thade",visuel:"Base fortifie incruste dans paroi Spirale. Porte technomagique, runes complexes. 2 Golems de Fer gardent.",audio:"Bourdonnement magique, pas lourds golems.",odeur:"Mtal, magie.",lumiere:"Runes bleues pulsantes."},narration:{declencheur:"Arrive niveau -12.",texte_a_lire:"Vous trouvez une base fortifie. Porte massive, runes complexes. Deux Golems de Fer gardent. C'est le laboratoire de Thade.",contexte_mj:"Infiltration ou combat. Porte : Dsamorage DD 22 ou mot de passe (trouvable journal Durin). Golems FP 9. Si alarme, renfort.",objectif:"Entrer dans laboratoire."},mecaniques:{defis:["Dsamorage DD 22 : ouvrir porte","Combat : 2 Golems Fer FP 9","Discrtion DD 18 : viter alarme","Mot passe dans journal Durin"],indices:["Runes = serrure magique","Golems immuniss magie","Alarme si chec"],recompenses:"Accs laboratoire."},transitions:{success:"Entre discrte.",fail:"Combat, alarme dclenche."}},{title:"Scne 2 : La Bibliothque des mes",type:"Lore / Horreur",image:"./images/scenes/bibliotheque_ames.jpg",locationId:"spirale_bibliotheque_ames",npcIds:[],description:{resume:"Dcouverte du secret d'immortalit de Thade",visuel:"Salle circulaire. tagres avec bocaux de cristal contenant mes lumineuses. Journal de Thade sur pupitre central.",audio:"Murmures mes, silence oppressant.",odeur:"Ozone, quelque chose de brl.",lumiere:"Lueur des mes prisonnires."},narration:{declencheur:"Premire salle labo.",texte_a_lire:"C'est froid, clinique. Des bocaux d'mes tiquets comme des spcimens de laboratoire. Le journal de Thade est ouvert :'Jour 847. Succs. J'ai remplac mon cur par un clat de la Spirale. Je suis immortel. Tant que la Spirale existe, j'existe.'",contexte_mj:"Rvlation majeure : Thade a fusionn avec la Spirale. Son cur est un clat. Pour le tuer, il faut dtruire l'clat OU la Spirale elle-mme. Les mes sont ses expriences.",objectif:"Lire journal, comprendre immortalit."},mecaniques:{defis:["Lecture journal : infos compltes","Connaissance Arcanes DD 18 : comprendre processus","Choix : librer mes ? (bon acte mais alarme)"],indices:["Cur = clat Spirale","Immortel tant que Spirale existe","mes = expriences rates"],recompenses:"Secret immortalit Thade."},transitions:{success:"Infos obtenues.",fail:"Infos partielles."}},{title:"Scne 3 : L'Usine  Horreurs",type:"Horreur / Sabotage",image:"./images/scenes/usine_soldats.jpg",locationId:"spirale_usine_clonage",npcIds:[],description:{resume:"Usine de production d'arme mort-vivante",visuel:"Chane montage macabre. Corps rassembls, mes implantes. Zombies amliors, golems chair. Production masse.",audio:"Machines, gargouillements, cris touffs.",odeur:"Chair, produits chimiques, mort.",lumiere:"Lueur verte malsaine."},narration:{declencheur:"Salle suivante.",texte_a_lire:"Une usine. Thade cre son arme ici. Corps assembls, mes forces dedans. Des centaines. Vous pouvez saboter.",contexte_mj:"Choix moral. Sabotage (Ingnierie DD 18) dtruit usine, ralentit arme Thade. Mais dclenche alarme et combat. Ou passer discrtement.",objectif:"Saboter ou passer."},mecaniques:{defis:["Ingnierie DD 18 : sabotage","Si sabotage : alarme, combat prototypes","Discrtion DD 16 : passer sans tre vu"],indices:["Usine cre arme","Sabotage = avantage futur","Alarme si sabotage"],recompenses:"Si sabotage : arme Thade affaiblie."},transitions:{success:"Sabotage ou passage.",fail:"Dtects, combat."}},{title:"Scne 4 : Le Sujet Zro",type:"Boss",image:"./images/scenes/sujet_zero.jpg",locationId:"spirale_salle_test",npcIds:["sujet_zero"],description:{resume:"Combat contre le Sujet Zro hybride",visuel:"Salle test. Crature enchane : fusion Troll/Dmon. Sujet Zro, prototype parfait de Thade. Vous entrez, chanes se brisent.",audio:"Rugissement, chanes brises.",odeur:"Soufre, chair.",lumiere:"Rougeoyante, infernale."},narration:{declencheur:"Salle gardien.",texte_a_lire:"Une crature massive. Troll/Dmon fusionn. Sujet Zro. Les chanes se brisent. Il charge.",contexte_mj:"Boss FP 11. Rgnration 10/round (feu/acide stop). Rsistance magie 20. Attaques puissantes. Difficile.",objectif:"Vaincre Sujet Zro."},mecaniques:{defis:["Combat : Sujet Zro FP 11","Rgnration 10/round","RM 20","Feu/acide stop rgnration"],indices:["Vulnrable feu/acide","Trs rsistant","Prototype Thade"],recompenses:"XP, accs armurerie."},transitions:{success:"Sujet Zro vaincu.",fail:"Fuite, contournement."}},{title:"Scne 5 : L'Armurerie Interdite",type:"Rcompense / Dcouverte",image:"./images/scenes/armurerie_secrete.jpg",locationId:"spirale_armurerie",npcIds:[],description:{resume:"Rcupration du Cube Runique et armes puissantes",visuel:"Armurerie. Armes exprimentales, objets magiques dangereux. Au centre : Cube Runique, cl contrle Spirale.",audio:"Bourdonnement magique.",odeur:"Ozone, mtal.",lumiere:"Lueur objets magiques."},narration:{declencheur:"Aprs Sujet Zro.",texte_a_lire:"Armurerie de Thade. Armes puissantes. Au centre : Cube Runique. Xareth vous avait parl de a. C'est la cl pour contrler les mcanismes de la Spirale.",contexte_mj:"Loot majeur. Cube Runique = cl Acte 4. Armes +2/+3, objets magiques. Les PJ peuvent s'quiper pour final.",objectif:"Rcuprer Cube et quipement."},mecaniques:{defis:["Fouille : trouver meilleurs objets","Connaissance Arcanes DD 16 : identifier Cube","Choix : quels objets prendre ?"],indices:["Cube = cl contrle","Armes puissantes","quipement pour final"],recompenses:"Cube Runique, armes +2/+3, objets magiques."},transitions:{success:"PJ quips, ont Cube.",fail:"Objets partiels."}}]},{title:"ACTE 4 : LE CUR MCANIQUE",stake:"Pirater le systme de tlportation pour remonter.",location:"Salle des Engrenages Planaires.",scenes:[{title:"Scne 1 : Les Engrenages Infinis",type:"Environnement",image:"./images/scenes/engrenages_geants.jpg",locationId:"spirale_engrenages",npcIds:[],description:{resume:"Traverse des engrenages planaires gants",visuel:"Salle immense. Engrenages gants tournent dans vide, connectant plans. Bruit assourdissant. Passerelles troites.",audio:"Fracas mcanique assourdissant.",odeur:"Huile, mtal chaud.",lumiere:"clairs nergie planaire."},narration:{declencheur:"Sortie laboratoire.",texte_a_lire:"Vous entrez dans le cur de la Spirale. Des engrenages gants, larges de 50m, tournent dans le vide. C'est le mcanisme qui connecte les plans. Le bruit est assourdissant.",contexte_mj:"Zone dangereuse. Bruit : malus -10 Perception auditive, concentration sorts DD +5. Chutes mortelles. Traverse ncessaire.",objectif:"Traverser vers salle contrle."},mecaniques:{defis:["Acrobaties DD 16 : traverser passerelles","Malus bruit : -10 Perception, +5 DD sorts","Chute = mort (vide infini)"],indices:["Engrenages = connexions planaires","Salle contrle au bout","Danger mortel"],recompenses:"Traverse russie."},transitions:{success:"Atteignent salle contrle.",fail:"Chutes, dgts."}},{title:"Scne 2 : Le Contrematre",type:"Rencontre / Combat",image:"./images/scenes/inevitable.jpg",locationId:"spirale_salle_controle",npcIds:["kolyarut_inevitable"],description:{resume:"Ngociation ou combat contre le Kolyarut",visuel:"Salle contrle. Console complexe. Gardien : Kolyarut, Inevitable (construct Loi). Il bloque accs.",audio:"Voix mtallique, bourdonnement.",odeur:"Ozone, mtal.",lumiere:"Lueur console."},narration:{declencheur:"Arrive salle contrle.",texte_a_lire:"Le construct barre le passage. Sa voix est un bourdonnement monotone :  Violation de protocole dtecte. Entits biologiques non autorises. limination. ",contexte_mj:"Choix : combat (FP 12, difficile) OU ngociation (Diplomatie DD 20). Argument : Thade menace quilibre planaire. Si convaincu, Inevitable aide.",objectif:"Passer Inevitable."},mecaniques:{defis:["Combat : Kolyarut FP 12 (difficile)","Diplomatie DD 20 : convaincre","Argument : Thade = menace Loi"],indices:["Inevitable = Loi","Thade viole quilibre","Ngociation possible"],recompenses:"Accs console, alli potentiel."},transitions:{success:"Inevitable convaincu ou vaincu.",fail:"Combat difficile."}},{title:"Scne 3 : Sabotage du Flux",type:"Action / Sabotage",image:"./images/scenes/console_controle.jpg",locationId:"spirale_salle_controle",npcIds:[],description:{resume:"Sabotage du flux d'nergie alimentant Thade",visuel:"Console contrle flux nergie Spirale  Surface. Vous pouvez couper, affaiblissant Thade.",audio:"Bourdonnement console.",odeur:"Ozone.",lumiere:"crans runiques."},narration:{declencheur:"Accs console.",texte_a_lire:"Console contrle flux nergie. Thade pompe nergie Spirale vers surface. Vous pouvez couper, l'affaiblissant pour combat final.",contexte_mj:"Choix stratgique. Sabotage (Ingnierie DD 18 ou Cube Runique auto-succs) coupe flux. Thade affaibli combat final (-2 niveaux sorts). Mais alarme.",objectif:"Saboter flux."},mecaniques:{defis:["Ingnierie DD 18 : sabotage","Cube Runique : auto-succs","Sabotage = Thade affaibli final"],indices:["Flux = pouvoir Thade","Sabotage = avantage","Alarme dclenche"],recompenses:"Thade affaibli combat final."},transitions:{success:"Flux coup.",fail:"chec, Thade pleine puissance."}},{title:"Scne 4 : Piratage du Portail",type:"Puzzle / Hacking",image:"./images/scenes/portail_teleport.jpg",locationId:"spirale_salle_portail",npcIds:[],description:{resume:"Inverser la destination.",visuel:"Plateforme tlportation. Destination actuelle : profondeurs. Vous devez inverser vers 'Tour des Mages, Val-d'Ombre'.",audio:"Bourdonnement portail.",odeur:"Ozone.",lumiere:"Lueur portail."},narration:{declencheur:"Aprs sabotage.",texte_a_lire:"Plateforme tlportation. Cube Runique permet reprogrammer. Destination : Tour des Mages. Vous allez remonter directement dans QG Thade.",contexte_mj:"Puzzle. Cube Runique facilite (DD 14 au lieu 22). Reprogrammation russie = tlportation vers surface. chec = destination alatoire (danger).",objectif:"Reprogrammer portail."},mecaniques:{defis:["Utilisation Objets Magiques DD 14 (avec Cube) ou DD 22 (sans)","Connaissance Arcanes DD 16 : comprendre systme"],indices:["Cube = cl","Destination : Tour Mages","chec = alatoire"],recompenses:"Portail reprogramm."},transitions:{success:"Portail prt.",fail:"Destination alatoire."}},{title:"Scne 5 : Activation",type:"Transition",image:"./images/scenes/activation_portail.jpg",locationId:"spirale_salle_portail",npcIds:["thorgar_pretre_nain"],description:{resume:"mergence surprise dans la Tour des Mages",visuel:"Thorgar et survivants nains vous rejoignent. Vous activez portail. Lumire aveuglante. Tlportation commence.",audio:"Bourdonnement croissant.",odeur:"Ozone intense.",lumiere:"Lumire blanche."},narration:{declencheur:"Activation portail.",texte_a_lire:"Thorgar : 'C'est le moment. Retournons finir ce que nous avons commenc.' Vous activez le portail. La lumire vous engloutit.",contexte_mj:"Transition vers Acte 5. Tlportation spectaculaire. PJ remontent vers surface.",objectif:"Tlportation."},mecaniques:{defis:["Aucun"],indices:["Retour surface","Combat final approche"],recompenses:"Tlportation russie."},transitions:{success:"Acte 5 commence.",fail:"N/A."}}]},{title:"ACTE 5 : L'ASCENSION FINALE",stake:"Remonter  la surface et affronter Thade.",location:"Tunnel de Tlportation et Tour des Mages.",scenes:[{title:"Scne 1 : Les Gardiens du Passage",type:"Combat",image:"./images/scenes/demons_ombres.jpg",locationId:"spirale_tunnel_teleport",npcIds:["demons_ombres"],description:{resume:"La dernire dfense.",visuel:"Tunnel tlportation. 2 Dmons Ombres bloquent. Chrono : 5 rounds avant purge tunnel.",audio:"Sifflements dmons, alarme.",odeur:"Soufre.",lumiere:"Tnbres, clairs."},narration:{declencheur:"Dans tunnel.",texte_a_lire:"Deux Dmons des Ombres vous attaquent. Alarme rsonne : 'Purge tunnel dans 5 rounds.' Vous devez les vaincre vite.",contexte_mj:"Combat chrono. 5 rounds pour vaincre dmons (FP 11 chacun). Si chec, purge = 10d6 tous. Combat intense.",objectif:"Vaincre dmons en 5 rounds."},mecaniques:{defis:["Combat : 2 Dmons Ombres FP 11","Chrono : 5 rounds","Si chec : purge 10d6"],indices:["Vulnrables lumire","Chrono serr","Victoire rapide ncessaire"],recompenses:"Passage libre."},transitions:{success:"Dmons vaincus.",fail:"Purge, dgts."}},{title:"Scne 2 : La Remonte",type:"Cinmatique",image:"./images/scenes/teleportation_lumiere.jpg",locationId:"spirale_tunnel_teleport",npcIds:[],description:{resume:"Activation de la tlportation vers la surface",visuel:"Vous remontez  vitesse impossible. Aperus niveaux Spirale dfilent. Visions horreurs, merveilles.",audio:"Sifflement tlportation.",odeur:"Ozone.",lumiere:"Lumire stroboscopique."},narration:{declencheur:"Aprs dmons.",texte_a_lire:"Vous remontez. Les niveaux de la Spirale dfilent : zones organiques, mcaniques, impossibles. Vous voyez tout.",contexte_mj:"Scne cinmatique. Les PJ voient structure complte Spirale. Moment pique.",objectif:"Remonter."},mecaniques:{defis:["Aucun"],indices:["Spirale = immense","Niveaux infinis","Presque surface"],recompenses:"Comprhension Spirale."},transitions:{success:"Continuent remonte.",fail:"N/A."}},{title:"Scne 3 : Le Blocage de Thade",type:"Duel Mental",image:"./images/scenes/duel_volonte.jpg",locationId:"spirale_tunnel_teleport",npcIds:["thade_coren"],description:{resume:"Le dernier obstacle.",visuel:"Projection Thade apparat dans tunnel : 'Vous n'irez nulle part.' Il tente bloquer tlportation.",audio:"Voix Thade amplifie.",odeur:"Ozone.",lumiere:"Projection violette."},narration:{declencheur:"Presque surface.",texte_a_lire:"L'image de Thade scintille devant vous.  Tentative d'extraction non autorise. Verrouillage du primtre.  Il ne vous parle pas, il donne un ordre au systme.",contexte_mj:"Duel mental. Volont oppose. PJ vs Thade (+15). Si PJ gagnent, passent. Si perdent, ralentis (dgts 3d6 psychiques).",objectif:"Rsister  Thade."},mecaniques:{defis:["Volont oppose vs Thade +15","Si chec : 3d6 psychiques","Si sabotage flux : Thade +13 au lieu +15"],indices:["Thade affaibli si sabotage","Duel mental","Rsistance ncessaire"],recompenses:"Passage russi."},transitions:{success:"Thade repouss.",fail:"Dgts, ralentis."}},{title:"Scne 4 : Vision de Val-d'Ombre",type:"Rvlation",image:"./images/scenes/valdombre_ruines.jpg",locationId:"spirale_tunnel_teleport",npcIds:[],description:{resume:"Ce qui reste.",visuel:"Vision : Val-d'Ombre en ruines. Dme violet. Ncropole. Mais aussi : survivants rsistent encore.",audio:"chos lointains.",odeur:"Rien.",lumiere:"Vision spectrale."},narration:{declencheur:"Approche surface.",texte_a_lire:"Vous voyez Val-d'Ombre. Ruines. Mais des survivants luttent encore. Vous n'tes pas seuls. Motivation renouvele.",contexte_mj:"Moment inspiration. Bonus moral +2 jets 1 heure. Les PJ voient que leur lutte a du sens.",objectif:"Voir vrit."},mecaniques:{defis:["Aucun"],indices:["Survivants existent","Espoir reste","Combat final proche"],recompenses:"Bonus moral +2."},transitions:{success:"Motivs.",fail:"N/A."}},{title:"Scne 5 : Irruption dans la Tour",type:"Cliffhanger",image:"./images/scenes/irruption_tour.jpg",locationId:"valdombre_tour_mages_sommet",npcIds:["thade_coren","lieutenants_thade"],description:{resume:"Au cur de l'ennemi.",visuel:"Explosion. Vous mergez du sol de la Tour des Mages. Thade vous attend, entour de ses lieutenants. Combat final commence.",audio:"Explosion, cris alarme.",odeur:"Fume, magie.",lumiere:"Chaos."},narration:{declencheur:"Arrive surface.",texte_a_lire:"Explosion. Vous jaillissez du sol. Tour des Mages. Thade sourit : 'Bienvenue. J'attendais ce moment.' Ses lieutenants vous encerclent. C'est l'heure.",contexte_mj:"Fin Scnario 4. Cliffhanger. Scnario 5 = combat final contre Thade. Les PJ sont dans son QG, entours. Mais ils ont sabotage, quipement, allis.",objectif:"Transition Scnario 5."},mecaniques:{defis:["Aucun"],indices:["Combat final proche","Thade attend","Scnario 5 commence"],recompenses:"Transition."},transitions:{success:"Scnario 5 commence.",fail:"N/A."}}]}]},W2={id:5,title:"SCNARIO 5 : L'AUBE DE SANG",level:"Niveaux 13-16",system:"D&D 3.5",synopsis:"Aprs avoir survcu  la Spirale et dcouvert le secret de Thade, les PJ remontent  la surface. Un mois s'est coul. Val-d'Ombre est devenue une ncropole sous le rgne de Thade, dsormais liche immortelle. Les PJ doivent rallier les derniers survivants, briser le sige du Temple-Forgeron, infiltrer la Tour des Mages, et affronter Thade dans un combat final pique sur les toits de la ville mourante. C'est l'aube de sang qui dcidera du destin de Val-d'Ombre.",acts:[{title:"ACTE 1 : LE RETOUR DES HROS",stake:"tablir une tte de pont et rallier les survivants.",location:"Tour des Mages, Ruines de Val-d'Ombre, gouts.",scenes:[{title:"Scne 1 : L'Irruption",type:"Combat / Surprise",image:"./images/scenes/irruption_tour.jpg",locationId:"tour_des_mages_sommet",npcIds:["lieutenants_thade"],description:{resume:"Attaque surprise des lieutenants de Thade",visuel:"Vous mergez du sol de la Tour. 3 lieutenants ncromanciens (niveau 11) vous font face, stupfaits. Vous avez 1 round de surprise complte.",audio:"Explosion, cris alarme, incantations interrompues.",odeur:"Fume, ozone, sang.",lumiere:"Chaos, clairs magiques."},narration:{declencheur:"Fin Scnario 4.",texte_a_lire:"Explosion. Vous jaillissez du sol. Trois ncromanciens vous fixent, bouche be. Vous avez l'avantage. Frappez vite.",contexte_mj:"Combat surprise. PJ ont 1 round complet avant initiative. 3 Ncromanciens niveau 11. limination rapide recommande. Thade arrive round 4.",objectif:"liminer lieutenants avant arrive Thade."},mecaniques:{defis:["1 round surprise complet","Combat : 3 Ncromanciens niveau 11","Round 4 : Thade arrive","Objectif : tuer avant round 4"],indices:["Surprise totale","Thade arrive vite","Fuir aprs combat"],recompenses:"XP, limination lieutenants."},transitions:{success:"Lieutenants limins avant Thade.",fail:"Thade arrive, combat difficile."}},{title:"Scne 2 : La Colre de Thade",type:"Fuite / Action",image:"./images/scenes/colere_thade.jpg",locationId:"tour_des_mages_sommet",npcIds:["thade_coren"],description:{resume:"Fuite face  la colre de Thade",visuel:"Thade apparat, furieux : 'VOUS !' Il lve les mains. Le plafond explose. Vous devez fuir. Fentre = seule issue.",audio:"Rugissement Thade, explosions, effondrement.",odeur:"Poussire, magie destructrice.",lumiere:"clairs rouges, chaos."},narration:{declencheur:"Aprs combat lieutenants.",texte_a_lire:"Thade apparat. Il vous regarde avec un dgot profond.  Encore vous. C'est une perte de temps.  Il lve la main, et le plafond commence  s'effondrer.",contexte_mj:"Fuite spectaculaire. Thade lance Mtores (20d6 zone). PJ doivent sauter par fentre (30m chute). Sorts vol/lvitation/plume utiles. Thade ne poursuit pas (veut qu'ils viennent  lui).",objectif:"Fuir Tour avant Mtores."},mecaniques:{defis:["Rflexes DD 18 : viter dbris","Chute 30m : 10d6 (sorts plume/vol annulent)","Thade lance Mtores round 2","Fuite urgente"],indices:["Thade trop puissant maintenant","Fentre = issue","Sorts vol essentiels"],recompenses:"Survie, fuite russie."},transitions:{success:"PJ s'chappent Tour.",fail:"Dgts Mtores + chute."}},{title:"Scne 3 : La Ncropole",type:"Exploration / Horreur",image:"./images/scenes/necropole_valdombre.jpg",locationId:"rues_valdombre_necropole",npcIds:[],description:{resume:"Dcouverte de Val-d'Ombre transforme en ncropole",visuel:"Val-d'Ombre mconnaissable. Cendres partout. Squelettes dans rues. Silence absolu. Dme violet au-dessus. 1 mois a pass dans Spirale, mais ici...",audio:"Silence de mort, vent dans ruines.",odeur:"Cendres, mort, dsolation.",lumiere:"Gris, crpusculaire sous dme."},narration:{declencheur:"Aprs fuite Tour.",texte_a_lire:"Vous atterrissez dans ruines. Val-d'Ombre n'existe plus. Cendres. Squelettes. Silence. Thorgar tombe  genoux : 'Un mois... Qu'a-t-il fait en un mois ?' Vous ralisez : temps diffrent dans Spirale. Ici, 1 mois. L-bas, quelques jours.",contexte_mj:"Moment choc. PJ dcouvrent ampleur destruction. 1 mois surface = quelques jours Spirale. Val-d'Ombre ncropole. Population morte ou zombifie. Seuls survivants : rsistance Temple.",objectif:"Comprendre situation, trouver survivants."},mecaniques:{defis:["Volont DD 14 : ne pas dsesprer","Perception DD 12 : voir Temple au loin (lumires)","Survie DD 16 : trouver chemin sr"],indices:["Temple brille encore","Survivants possibles","Zombies patrouillent"],recompenses:"Comprhension situation."},transitions:{success:"Voient Temple, espoir.",fail:"Dsespoir, mais continuent."}},{title:"Scne 4 : La Rsistance Souterraine",type:"Rencontre / Infiltration",image:"./images/scenes/resistance_egouts.jpg",locationId:"egouts_valdombre",npcIds:["guerilleros_nains"],description:{resume:"Rencontre avec la rsistance naine dans les gouts",visuel:"gouts. Gurilla naine. 50 combattants, familles caches. Ils vous reconnaissent : 'Les hros ! Vous tes revenus !' Chef : 'Thorgar tient Temple. Assig depuis 3 semaines.'",audio:"Murmures espoir, armes prpares.",odeur:"gouts, sueur, dtermination.",lumiere:"Torches faibles, ombres."},narration:{declencheur:"Descente gouts.",texte_a_lire:"gouts. Des nains arms surgissent, puis vous reconnaissent : 'Par Moradin ! Les hros !' Chef gurilla : 'Thorgar tient Temple. Assig. Milliers zombies. On fait raids, mais... on perd.' Il vous regarde : 'Vous pouvez changer a ?'",contexte_mj:"Rencontre rsistance. 50 combattants nains + familles. Thorgar au Temple, assig par arme zombies. Rsistance fait raids mais insuffisant. PJ = espoir. Peuvent rallier pour assaut final.",objectif:"Rencontrer rsistance, obtenir infos."},mecaniques:{defis:["Diplomatie DD 12 : rallier rsistance","Renseignements DD 14 : infos sige Temple","Tactique DD 16 : valuer forces"],indices:["Temple assig 3 semaines","Thorgar tient mais faiblit","Arme zombies immense","Rsistance prte suivre PJ"],recompenses:"Allis (50 guerriers), infos tactiques."},transitions:{success:"Rsistance rallie.",fail:"Rsistance sceptique mais suit."}},{title:"Scne 5 : Le Conseil de Guerre",type:"Planification / RP",image:"./images/scenes/conseil_guerre.jpg",locationId:"egouts_valdombre",npcIds:["chef_resistance","thorgar_pretre_nain_absent"],description:{resume:"Planification de l'assaut final contre Thade",visuel:"Carte Val-d'Ombre tale. Temple encercl. Tour au centre. Chef : 'Plan ?' Vous devez dcider : briser sige, crer diversion, infiltrer Tour.",audio:"Discussions tactiques, armes afftes.",odeur:"Carte poussireuse, dtermination.",lumiere:"Torche sur carte."},narration:{declencheur:"Aprs ralliement.",texte_a_lire:"Carte tale. Chef : 'Temple encercl. Milliers zombies. Thade  Tour. Impossible.' Vous regardez carte. Plan : briser sige Temple, rallier Thorgar, assaut Tour ensemble. Risqu. Mais seule chance.",contexte_mj:"Planification. PJ dcident stratgie : 1) Briser sige Temple (combat masse), 2) Rallier Thorgar (moral), 3) Assaut Tour (final). Rsistance suit plan PJ. Choix influencent Acte 2.",objectif:"tablir plan bataille."},mecaniques:{defis:["Tactique DD 16 : plan optimal","Diplomatie DD 14 : convaincre rsistance","Connaissance Locale DD 12 : passages secrets"],indices:["Briser sige = diversion","Thorgar = alli puissant","Tour = objectif final"],recompenses:"Plan tabli, moral +2."},transitions:{success:"Plan accept, prparation.",fail:"Plan hasardeux mais accept."}}]},{title:"ACTE 2 : LA BATAILLE DU TEMPLE",stake:"Briser le sige et rallier Thorgar pour l'assaut final.",location:"Parvis du Temple-Forgeron.",scenes:[{title:"Scne 1 : L'Arme des Morts",type:"Observation / Horreur",image:"./images/scenes/armee_morts.jpg",locationId:"temple_forgeron_exterieur",npcIds:[],description:{resume:"Observation de l'arme de zombies assigeant le Temple",visuel:"Temple encercl. Milliers zombies. Catapultes os. Wraiths volent. Impossible. Mais vous devez.",audio:"Grondement horde, catapultes.",odeur:"Mort, dcomposition.",lumiere:"Crpuscule malsain."},narration:{declencheur:"Arrive Temple.",texte_a_lire:"Vous voyez Temple. Encercl par milliers zombies. Catapultes os bombardent. Thorgar tient, mais combien temps ? Chef rsistance : 'Impossible percer.' Vous : 'On va crer miracle.'",contexte_mj:"Observation arme. Milliers zombies (traiter masse), catapultes, wraiths. Impossible victoire frontale. PJ doivent plan intelligent : attaque arrire, sabotage artillerie, diversion.",objectif:"valuer situation, planifier attaque."},mecaniques:{defis:["Perception DD 14 : identifier faiblesses","Tactique DD 18 : plan attaque optimal","Connaissance Religion DD 16 : wraiths vulnrables nergie positive"],indices:["Artillerie = priorit","Attaque arrire possible","Thorgar peut aider si signal"],recompenses:"Plan tactique."},transitions:{success:"Plan tabli.",fail:"Attaque hasardeuse."}},{title:"Scne 2 : L'Assaut Hroque",type:"Combat pique",image:"./images/scenes/assaut_heroique.jpg",locationId:"temple_forgeron_siege",npcIds:["resistance_naine"],description:{resume:"Assaut hroque contre l'arrire de l'arme",visuel:"Vous et rsistance chargez arrire arme. Sorts zone dvastent rangs. Catapultes explosent. Zombies confus.",audio:"Cris guerre, explosions, chaos.",odeur:"Feu, chair brle.",lumiere:"clairs sorts, feu."},narration:{declencheur:"Lancement attaque.",texte_a_lire:"Vous chargez. Sorts zone ravagent zombies. Rsistance dtruit catapultes. Chaos. Signal Thorgar : Temple ouvre portes. Nains sortent. Vous avez perc.",contexte_mj:"Combat masse simplifi. PJ + 50 rsistance vs arrire arme. Objectif : dtruire artillerie, crer brche. Sorts zone trs efficaces. Si succs, Thorgar sort Temple avec 200 nains. Victoire tactique.",objectif:"Dtruire artillerie, crer brche."},mecaniques:{defis:["Combat masse : PJ ciblent catapultes","Sorts zone : Boule Feu, clair, etc.","Sabotage DD 16 : dtruire catapultes","Signal Thorgar : sorts lumire/son"],indices:["Catapultes vulnrables","Zombies lents ragir","Thorgar attend signal"],recompenses:"Artillerie dtruite, brche cre."},transitions:{success:"Thorgar sort, ralliement.",fail:"Combat difficile, pertes."}},{title:"Scne 3 : Le Retour de Thorgar",type:"Ralliement / pique",image:"./images/scenes/retour_thorgar.jpg",locationId:"temple_forgeron_parvis",npcIds:["thorgar_pretre_nain"],description:{resume:"Thorgar et ses nains sortent du Temple",visuel:"Portes Temple s'ouvrent. Thorgar merge, marteau lev : 'POUR MORADIN ! POUR VAL-D'OMBRE !' 200 nains chargent. Moral explose.",audio:"Cri guerre nain, fracas armes.",odeur:"Sueur, dtermination.",lumiere:"Lueur dore Thorgar."},narration:{declencheur:"Aprs brche.",texte_a_lire:"Thorgar sort : 'Vous tes revenus ! Moradin soit lou !' Il vous serre. 'Finissons-en.' 200 nains derrire lui. Arme zombies recule. Vous avez chang bataille.",contexte_mj:"Moment pique. Thorgar + 200 nains rallis. Moral +4 tous allis. Arme zombies dsorganise. Victoire tactique. Mais Thade  Tour. Objectif final : Tour.",objectif:"Rallier Thorgar, moral."},mecaniques:{defis:["Diplomatie DD 12 : rallier (auto-succs)","Discours DD 20 : inspirer (bonus moral +2 supplmentaire)"],indices:["Thorgar alli puissant","200 nains + 50 rsistance = 250 guerriers","Peuvent tenir Temple pendant assaut Tour"],recompenses:"Thorgar alli, 250 guerriers, moral +4."},transitions:{success:"Arme rallie.",fail:"Ralliement partiel."}},{title:"Scne 4 : L'Armurerie Sacre",type:"quipement / Prparation",image:"./images/scenes/armurerie_sacree.jpg",locationId:"temple_forgeron_armurerie",npcIds:["thorgar_pretre_nain"],description:{resume:"quipement avec les armes sacres de Moradin",visuel:"Thorgar ouvre armurerie sacre. Armes lgendaires : Marteau Tueur-Mages, Armure Moradin, Potions ultimes. 'Prenez. Vous en aurez besoin.'",audio:"Cliquetis armes sacres.",odeur:"Mtal bni, encens.",lumiere:"Lueur divine."},narration:{declencheur:"Avant assaut Tour.",texte_a_lire:"Thorgar : 'Armurerie sacre. Armes lgendaires. Contre Thade, vous aurez besoin.' Marteau +3 Tueur-Mages, Armure +3, Potions Hrosme, Rsistance sorts. quipez-vous.",contexte_mj:"Loot majeur final. Armes +3 spcialises anti-mages, Armures +3, Potions puissantes (Hrosme, Rsistance Sorts, Soins Critiques). Bndictions Thorgar (+2 jets vs morts-vivants 24h). Prparation combat final.",objectif:"S'quiper pour final."},mecaniques:{defis:["Choix quipement optimal","Bndictions Thorgar : +2 vs morts-vivants"],indices:["Marteau Tueur-Mages : +2d6 vs lanceurs sorts","Potions essentielles","Bndictions cumulatives"],recompenses:"Armes +3, Armures +3, Potions, Bndictions."},transitions:{success:"quips optimalement.",fail:"quipement partiel."}},{title:"Scne 5 : La Charge Finale",type:"Transition pique",image:"./images/scenes/charge_finale.jpg",locationId:"temple_vers_tour",npcIds:["thorgar_pretre_nain","armee_naine"],description:{resume:"Charge finale vers la Tour des Mages",visuel:"Vous et lite (PJ + Thorgar + 20 meilleurs) chargez vers Tour. 230 nains tiennent Temple, repoussent zombies. Voie dgage. C'est l'heure.",audio:"Cri guerre, course.",odeur:"Sueur, dtermination.",lumiere:"Aube sanglante."},narration:{declencheur:"Dpart vers Tour.",texte_a_lire:"Thorgar : 'Nous tenons Temple. Vous, tuez Thade.' Vous et lite chargez. Tour devant. Thade attend. C'est l'heure vrit.",contexte_mj:"Transition. PJ + Thorgar + 20 lite nains chargent Tour. 230 nains tiennent Temple (diversion). Voie dgage. Acte 3 = infiltration Tour. Combat final approche.",objectif:"Atteindre Tour."},mecaniques:{defis:["Aucun combat majeur (voie dgage)","Course hroque"],indices:["Tour proche","Thade attend","Combat final imminent"],recompenses:"Arrive Tour."},transitions:{success:"Atteignent Tour.",fail:"N/A."}}]},{title:"ACTE 3 : L'ASCENSION SANGLANTE",stake:"Infiltrer la Tour et atteindre Thade.",location:"Tour des Mages (Intrieur).",scenes:[{title:"Scne 1 : Le Hall des Illusions",type:"Pige / Puzzle",image:"./images/scenes/hall_illusions.jpg",locationId:"tour_mages_hall",npcIds:[],description:{resume:"Traverse du hall piag d'illusions",visuel:"Hall entre. Mirages arcaniques. Fausses portes, vrais piges. Symboles Mort cachs. Vision Lucide rvle vrit.",audio:"chos trompeurs.",odeur:"Ozone.",lumiere:"Illusions kalidoscopiques."},narration:{declencheur:"Entre Tour.",texte_a_lire:"Hall pig. Illusions partout. Thorgar : 'Mfiez-vous.' Symboles Mort cachs. Vision Lucide ou Dtection Magie ncessaires.",contexte_mj:"Pige illusions + Symboles Mort. Volont DD 20 rsister illusions. Symboles Mort (Vigueur DD 22 ou mort). Vision Lucide/Dtection rvlent. Passage rapide recommand.",objectif:"Traverser sans mourir."},mecaniques:{defis:["Volont DD 20 : rsister illusions","Perception DD 22 : dtecter Symboles","Vision Lucide : rvle tout","Dtection Magie DD 18 : trouve piges"],indices:["Illusions cachent piges","Vision Lucide = cl","Passage rapide"],recompenses:"Traverse russie."},transitions:{success:"Passent sans dgts.",fail:"Symboles dclenchs, dgts."}},{title:"Scne 2 : La Mnagerie",type:"Combat",image:"./images/scenes/menagerie_tour.jpg",locationId:"tour_mages_escaliers",npcIds:["bebilith","golem_mithral"],description:{resume:"Combat contre le gardien de l'escalier",visuel:"Escaliers colimaon. Bbilith (araigne dmoniaque) OU Golem Mithral garde. Combat vertical difficile.",audio:"Cliquetis pattes/mtal.",odeur:"Soufre/mtal.",lumiere:"Torches vacillantes."},narration:{declencheur:"Monte escaliers.",texte_a_lire:"Escaliers. Gardien : Bbilith ou Golem Mithral. Combat vertical. Difficile.",contexte_mj:"Boss mineur. Bbilith FP 13 (toiles, poison) OU Golem Mithral FP 14 (immunits, DR). Terrain vertical = malus. Combat intense.",objectif:"Vaincre gardien."},mecaniques:{defis:["Combat : Bbilith FP 13 OU Golem Mithral FP 14","Terrain vertical : Acrobaties DD 14","Bbilith : toiles, poison","Golem : DR 15/adamantine"],indices:["Bbilith vulnrable feu","Golem immunis magie","Terrain difficile"],recompenses:"XP, passage."},transitions:{success:"Gardien vaincu.",fail:"Combat difficile, pertes."}},{title:"Scne 3 : La Salle des Portails",type:"Puzzle",image:"./images/scenes/salle_portails.jpg",locationId:"tour_mages_portails",npcIds:[],description:{resume:"Puzzle des 12 portails pour trouver le bon",visuel:"Salle 12 portails. Seul 1 mne haut. Autres = piges/boucles. Indice : suivre flux violet (nergie Spirale).",audio:"Bourdonnement portails.",odeur:"Ozone.",lumiere:"Lueurs portails."},narration:{declencheur:"Aprs gardien.",texte_a_lire:"Salle portails. 12 portes. 1 bonne, 11 piges. Indice : flux violet.",contexte_mj:"Puzzle. Dtection Magie DD 16 rvle flux violet. Bon portail = celui avec flux le plus fort. Mauvais = tlportation alatoire/dgts/retour dbut.",objectif:"Trouver bon portail."},mecaniques:{defis:["Dtection Magie DD 16 : voir flux","Connaissance Arcanes DD 18 : comprendre systme","Essai-erreur : risqu"],indices:["Flux violet = Spirale","Portail flux fort = bon","Mauvais = danger"],recompenses:"Passage tage suprieur."},transitions:{success:"Bon portail trouv.",fail:"Tlportation alatoire, retard."}},{title:"Scne 4 : Les Damns",type:"Dilemme Moral",image:"./images/scenes/damnes_conscients.jpg",locationId:"tour_mages_cachots",npcIds:["anciens_conseil_zombifies"],description:{resume:"Dilemme moral face aux conseillers zombifis",visuel:"Cachots. Anciens Conseil zombifis mais conscients. Prisonniers corps morts. Supplient mort : 'Tuez-nous... piti...'",audio:"Gmissements, supplications.",odeur:"Mort, dsespoir.",lumiere:"Tnbres, torches faibles."},narration:{declencheur:"Passage cachots.",texte_a_lire:"Cachots. Anciens Conseil. Zombifis mais conscients. Horreur ultime. Supplient mort. Choix : les librer (temps) ou continuer (rapide mais cruel).",contexte_mj:"Dilemme moral. Librer = bon acte, prend 10 minutes, risque alarme. Ignorer = rapide mais poids moral. Pas de bonne rponse.",objectif:"Choisir."},mecaniques:{defis:["Choix moral","Si libration : 10 minutes, Discrtion DD 18 viter alarme","Si ignorent : malus moral -1 (culpabilit)"],indices:["Pas de bonne rponse","Temps vs morale","Choix personnel"],recompenses:"Si libration : paix conscience. Si ignorent : temps gagn."},transitions:{success:"Choix fait.",fail:"N/A."}},{title:"Scne 5 : Kaelen le Damn",type:"Boss Mineur",image:"./images/scenes/kaelen_vampire.jpg",locationId:"tour_mages_antichambre",npcIds:["kaelen_vampire"],description:{resume:"Combat contre Kaelen devenu vampire",visuel:"Antichambre toit. Kaelen, ancien apprenti Thade. Vampire niveau 12. Garde accs toit. 'Matre m'attend. Vous ne passerez pas.'",audio:"Sifflement vampire.",odeur:"Sang.",lumiere:"Tnbres."},narration:{declencheur:"Avant toit.",texte_a_lire:"Kaelen bloque : 'Matre m'a transform. Je suis immortel.' Vampire niveau 12. Combat final avant Thade.",contexte_mj:"Boss mineur. Kaelen Vampire Ensorceleur 12. Rgnration 5, DR 10/argent+magique, sorts niveau 6. Difficile. Dernier obstacle avant Thade.",objectif:"Vaincre Kaelen."},mecaniques:{defis:["Combat : Kaelen Vampire Ensorceleur 12","Rgnration 5/round","DR 10/argent+magique","Sorts niveau 6","Domination (Volont DD 20)"],indices:["Vulnrable lumire du jour","Rgnration stop si 0 PV","Sorts puissants"],recompenses:"XP, accs toit."},transitions:{success:"Kaelen vaincu, toit accessible.",fail:"Combat difficile, ressources puises."}}]},{title:"ACTE 4 : LE SANCTUAIRE DU TYRAN",stake:"Dernire prparation avant l'affrontement final.",location:"Appartements Privs de Thade.",scenes:[{title:"Scne 1 : Le Sanctuaire Maudit",type:"Exploration / Horreur",image:"./images/scenes/sanctuaire_thade.jpg",locationId:"appartements_thade",npcIds:[],description:{resume:"Exploration des appartements maudits de Thade",visuel:"Appartements Thade. Bibliothque peau humaine. Artefacts maudits. Vue panoramique Val-d'Ombre en ruines. Horreur.",audio:"Silence oppressant.",odeur:"Sang sch, magie noire.",lumiere:"Crpuscule malsain."},narration:{declencheur:"Aprs Kaelen.",texte_a_lire:"Appartements Thade. Bibliothque peau humaine. Artefacts horribles. Vue sur ville morte. C'est ici qu'il a tout planifi.",contexte_mj:"Exploration sanctuaire. Rvle ampleur folie Thade. Bibliothque contient secrets (phylactre = Spirale confirm). Moment calme avant tempte.",objectif:"Explorer, comprendre."},mecaniques:{defis:["Fouille DD 14 : trouver objets utiles","Connaissance Arcanes DD 18 : comprendre artefacts","Volont DD 16 : rsister horreur"],indices:["Phylactre = Spirale (confirm)","Thade immortel tant que Spirale existe","Tuer corps = bannissement temporaire"],recompenses:"Confirmation phylactre, objets mineurs."},transitions:{success:"Infos obtenues.",fail:"Infos partielles."}},{title:"Scne 2 : Le Festin des Champions",type:"Prparation",image:"./images/scenes/festin_champions.jpg",locationId:"appartements_thade",npcIds:["thorgar_pretre_nain"],description:{resume:"Buffs finaux avec les potions de Thade",visuel:"Rserve potions ultimes Thade. Vous les prenez. Buffs longue dure. Thorgar bnit. Prparation finale.",audio:"Prires Thorgar.",odeur:"Potions, encens.",lumiere:"Lueur divine."},narration:{declencheur:"Prparation finale.",texte_a_lire:"Rserve potions Thade. Vous prenez tout. Hrosme, Force Taureau, Rsistance Sorts, Soins. Thorgar bnit : 'Moradin avec vous.' Prts.",contexte_mj:"Buffs finaux. Potions +4 caractristiques, Rsistance Sorts 20, Soins Critiques x3. Bndictions Thorgar (+4 tous jets 1 heure). Prparation optimale combat final.",objectif:"Buffs maximaux."},mecaniques:{defis:["Utilisation Objets Magiques : identifier potions","Choix buffs optimaux"],indices:["Potions +4 stats","Rsistance Sorts essentielle","Bndictions Thorgar puissantes"],recompenses:"Buffs complets : +4 stats, RS 20, Soins, Bndictions +4."},transitions:{success:"Buffs optimaux.",fail:"Buffs partiels."}},{title:"Scne 3 : La Tentation",type:"RP / Test Volont",image:"./images/scenes/tentation_thade.jpg",locationId:"appartements_thade",npcIds:["thade_coren_projection"],description:{resume:"Thade tente de corrompre les PJ",visuel:"Projection Thade apparat : 'Rejoignez-moi. Ensemble, nous contrlerons Spirale. Immortalit. Pouvoir. Refusez, mourez.'",audio:"Voix Thade sduisante.",odeur:"Rien.",lumiere:"Projection spectrale."},narration:{declencheur:"Avant escalier toit.",texte_a_lire:"Thade apparat (projection) : 'Dernire chance. Rejoignez-moi. Immortalit. Pouvoir. Ou mort.' Test Volont DD 24. Refusez.",contexte_mj:"Test final volont. Thade tente corrompre PJ. Volont DD 24. chec = Charm 1 round (attaque allis). Succs = rsistent, Thade furieux. Moment RP important.",objectif:"Rsister tentation."},mecaniques:{defis:["Volont DD 24 : rsister Charme","Si chec : Charm 1 round","RP : rponse PJ  Thade"],indices:["Thade dsespr","Offre = pige","Rsistance = force"],recompenses:"Si rsistent : moral +2, Thade affaibli (doute)."},transitions:{success:"Rsistent, Thade furieux.",fail:"Charms brivement, se librent."}},{title:"Scne 4 : L'Escalier de Lumire",type:"Transition pique",image:"./images/scenes/escalier_lumiere.jpg",locationId:"appartements_thade",npcIds:["thorgar_pretre_nain"],description:{resume:"Monte vers le toit pour le combat final",visuel:"chelle lumire mne toit. Orage magique dehors. Thorgar : 'C'est l'heure. Pour Val-d'Ombre.' Vous montez.",audio:"Tonnerre, vent.",odeur:"Ozone, pluie.",lumiere:"clairs, chaos."},narration:{declencheur:"Monte vers toit.",texte_a_lire:"chelle lumire. Toit au-dessus. Orage. Thorgar : 'Finissons-en.' Vous montez. Combat final attend.",contexte_mj:"Transition finale. Monte vers toit. Orage magique (Thade prpare rituel). Acte 5 = boss fight multi-phases. Moment pique.",objectif:"Monter vers toit."},mecaniques:{defis:["Aucun"],indices:["Toit = combat final","Thade attend","Orage = rituel en cours"],recompenses:"Arrive toit."},transitions:{success:"Atteignent toit.",fail:"N/A."}},{title:"Scne 5 : Le Calme Avant",type:"Moment Silence",image:"./images/scenes/calme_avant.jpg",locationId:"escalier_toit",npcIds:["thorgar_pretre_nain","allies"],description:{resume:"Un instant d'ternit.",visuel:"Sommet escalier. Porte toit devant. Thorgar et vous. Regard chang. Tout mne ici. Respirez. Ouvrez porte.",audio:"Silence. Curs battent.",odeur:"Rien.",lumiere:"Lueur porte."},narration:{declencheur:"Avant porte finale.",texte_a_lire:"Porte toit. Thorgar vous regarde : 'Quoi qu'il arrive, vous tes hros.' Vous hochez tte. Ouvrez porte. Thade attend.",contexte_mj:"Moment silence. Dernier instant paix avant tempte. RP libre. Puis porte s'ouvre. Acte 5 commence. Boss final.",objectif:"Ouvrir porte."},mecaniques:{defis:["Aucun"],indices:["Combat final imminent","Pas de retour","Tout ou rien"],recompenses:"Prparation mentale."},transitions:{success:"Porte ouvre. Acte 5.",fail:"N/A."}}]},{title:"ACTE 5 : LE CRPUSCULE DES DIEUX",stake:"Vaincre Thade Coren et librer Val-d'Ombre.",location:"Toit de la Tour des Mages.",scenes:[{title:"Phase 1 : Le Liche-Sorcier",type:"Boss - Phase 1",image:"./images/scenes/boss_phase1.jpg",locationId:"tour_toit",npcIds:["thade_coren_liche"],description:{resume:"Phase 1 : Dtruire les pylnes protgeant Thade",visuel:"Toit. Orage. Thade au centre, 4 pylnes nergie autour. Bouclier Force protge. 'Bienvenue  votre mort.'",audio:"Tonnerre, incantations.",odeur:"Ozone, mort.",lumiere:"clairs violets."},narration:{declencheur:"Ouverture porte.",texte_a_lire:"Thade vous observe depuis le centre du toit. En concentration absolue alors que les quatre pylnes d'nergie autour de lui s'activent dans un bourdonnement assourdissant.",contexte_mj:"Thade ne perd pas de temps  parler. Il vous considre comme des insectes  craser. Le combat commence immdiatement. Phase 1 : Bouclier de Force actif.",objectif:"Dtruire 4 pylnes."},mecaniques:{defis:["4 Pylnes : 100 PV, DR 10/adamantine chacun","Thade invulnrable tant que pylnes actifs","Thade lance : Dsintgration, clair Multiple, Boule Feu Retarde","Terrain : toit glissant (pluie), bords dangereux"],indices:["Pylnes = priorit","Thade bombardement distance","Travail quipe essentiel"],recompenses:"Phase 1 termine quand 4 pylnes dtruits."},transitions:{success:"4 pylnes dtruits, bouclier tombe.",fail:"PJ puiss, pylnes restent."}},{title:"Phase 2 : La Transformation",type:"Boss - Phase 2",image:"./images/scenes/boss_phase2.jpg",locationId:"tour_toit",npcIds:["thade_coren_transforme"],description:{resume:"Phase 2 : Combat contre Thade transform",visuel:"Bouclier tombe. Thade hurle, absorbe nergie pylnes. Corps mute : pierre noire, yeux rouges, griffes. Monstre. 'VOUS ALLEZ SOUFFRIR !'",audio:"Rugissement inhumain.",odeur:"Soufre, corruption.",lumiere:"Aura noire."},narration:{declencheur:"Pylnes dtruits.",texte_a_lire:"Les pylnes explosent. Thade pousse un hurlement de douleur alors que l'nergie brute le dforme. Sa peau se change en obsidienne.",contexte_mj:"Phase 2. Thade transform : 50% PV restants, mais forme physique puissante. Attaques corps--corps (3/round, +25, 2d8+10 chacune), rgnration 15/round, DR 15/bien+argent. Moins sorts, plus brutal. Combat intense.",objectif:"Rduire Thade  0 PV."},mecaniques:{defis:["Thade Transform : 50% PV, 3 attaques/round","Rgnration 15/round","DR 15/bien+argent","Attaques puissantes : +25, 2d8+10","Sorts rduits mais Souffle Tnbres (cne 18m, 12d6)"],indices:["Armes sacres efficaces","Rgnration = problme","Dgts massifs ncessaires"],recompenses:"Phase 2 termine  0 PV Thade."},transitions:{success:"Thade rduit 0 PV.",fail:"PJ vaincus."}},{title:"Phase 3 : L'Intervention",type:"Boss - Phase 3 / Twist",image:"./images/scenes/boss_phase3.jpg",locationId:"tour_toit",npcIds:["thade_coren","spirale_tentacules"],description:{resume:"Phase 3 : La Spirale intervient et attaque tous",visuel:"Thade  0 PV. Soudain, Spirale ragit. Brche s'ouvre. Tentacules jaillissent, attaquent TOUT LE MONDE. Thade : 'NON ! PAS MAINTENANT !' Chaos.",audio:"Rugissements Spirale, cris.",odeur:"Corruption planaire.",lumiere:"Brche violette."},narration:{declencheur:"Thade 0 PV.",texte_a_lire:"Thade s'effondre. Soudain, la ralit se dchire. Des tentacules d'nergie pure jaillissent. Thade regarde ses mains qui se dissolvent :  Quoi ? Non... le flux s'inverse... ",contexte_mj:"Phase 3 twist. Spirale intervient (veut reprendre clat dans cur Thade). 4 Tentacules attaquent tous (PJ + Thade + Thorgar). Thade rgnre lentement (10 PV/round). PJ doivent : 1) Survivre tentacules, 2) Finir Thade dfinitivement (arracher cur/clat). Chaos total.",objectif:"Survivre tentacules, tuer Thade dfinitivement."},mecaniques:{defis:["4 Tentacules Spirale : attaquent tous, +20, 3d6+8","Thade rgnre 10 PV/round","Objectif : arracher cur Thade (coup grce ou action spciale)","Chaos : initiative change chaque round"],indices:["Tentacules = danger pour tous","Thade vulnrable maintenant","Cur = cible finale"],recompenses:"Phase 3 termine si cur arrach."},transitions:{success:"Cur Thade arrach.",fail:"Tentacules tuent tous."}},{title:"Scne 4 : La Chute du Tyran",type:"Cinmatique Finale",image:"./images/scenes/chute_tyran.jpg",locationId:"tour_toit",npcIds:["thade_coren","spirale"],description:{resume:"Thade est aspir par la Spirale",visuel:"Cur arrach. Thade hurle. Spirale l'aspire dans brche. 'NON ! JE SUIS IMMORTEL ! NON !' Disparat. Brche ferme. Silence.",audio:"Cri Thade, puis silence.",odeur:"Ozone dissip.",lumiere:"Brche ferme, aube arrive."},narration:{declencheur:"Cur arrach.",texte_a_lire:"Thade aspir par Spirale. Cris s'vanouissent. Brche ferme. Silence. Thorgar : 'C'est... fini ?' Vous regardez horizon. Aube se lve.",contexte_mj:"Cinmatique victoire. Thade vaincu, aspir par Spirale (digr/dtruit). Dme violet s'effondre. Ville libre. Mais dtruite. Victoire amre. pilogue suit.",objectif:"Victoire."},mecaniques:{defis:["Aucun"],indices:["Thade mort","Spirale reprend clat","Ville libre"],recompenses:"Victoire finale."},transitions:{success:"pilogue.",fail:"N/A."}},{title:"Scne 5 : L'Aube Nouvelle",type:"pilogue",image:"./images/scenes/epilogue_aube.jpg",locationId:"tour_toit",npcIds:["thorgar_pretre_nain","survivants"],description:{resume:"L'aube se lve sur Val-d'Ombre libre",visuel:"Aube sur ruines Val-d'Ombre. Dme disparu. Survivants sortent cachettes. 500 nains vivants. Ville dtruite mais libre. Thorgar : 'Nous reconstruirons.' Vous regardez soleil. Victoire.",audio:"Silence, puis cris joie lointains.",odeur:"Air frais, espoir.",lumiere:"Soleil levant."},narration:{declencheur:"Aprs victoire.",texte_a_lire:"Soleil se lve. Val-d'Ombre libre. 500 survivants. Ville en ruines. Mais vivante. Thorgar : 'Grce  vous.' Vous avez gagn. Campagne termine.",contexte_mj:"pilogue. PJ hros. Val-d'Ombre libre mais dtruite. 500 survivants (nains + humains). Reconstruction longue. Spirale toujours l, mais dormante. Thade mort. Victoire amre mais victoire. FIN CAMPAGNE.",objectif:"Savourer victoire."},mecaniques:{defis:["Aucun"],indices:["Campagne termine","Victoire","Reconstruction commence"],recompenses:"Gloire ternelle, ville sauve."},transitions:{success:"FIN.",fail:"N/A."}}]}]},Ti=[K2,Z2,X2,$2,W2],e_=["size","type","alignment","fp","cr","environment","environnement","organisation","organization","ini","initiative","sens","senses","ca","ac","pv","hp","dv","hd","js","saves","rm","sr","rd","dr","vit","speed","abb","bab","grp","grapple","attaque","attack","att_complete","fullAttack","espace","space","allonge","reach","att_sp","specialAttacks","qual_sp","specialQualities","carac","abilities","comptences","competences","skills","dons","feats","tactiques","tactics","butin","loot","est_ennemi","isEnemy","role","description","tactical","buffs","spells_prepared","spellbook","ogas"],t_={vig:"+0",ref:"+0",vol:"+0"},a_={for:10,dex:10,con:10,int:10,sag:10,cha:10},s_={total:10,contact:10,pris_au_depourvu:10},ba=n=>Array.isArray(n)?n.map(ba):n&&typeof n=="object"?{...n}:n,n_=n=>{if(typeof n=="object")return{total:n.total,contact:n.touch||n.contact,pris_au_depourvu:n.flatFooted||n.pris_au_depourvu};const i=String(n).match(/^(\d+).*contact\s+(\d+).*d[e]pourvu\s+(\d+)/i);if(i)return{total:parseInt(i[1]),contact:parseInt(i[2]),pris_au_depourvu:parseInt(i[3])};const r=String(n).match(/^(\d+)/),l=r?parseInt(r[1]):10;return{total:l,contact:10,pris_au_depourvu:l}};function Rh(n={}){const i={...n};e_.forEach(l=>{l in i&&delete i[l]});const r={id:n.id??"",name:n.name??"",class:n.class??"",lvl:n.lvl??n.level_value??null,size:n.size??"Moyen",type:n.type??"Humanode (Humain)",alignment:n.alignment??"N",fp:n.fp??n.cr??1,environnement:n.environment??n.environnement??"",organisation:n.organisation??n.organization??"Solitaire",ini:n.ini??n.initiative??"+0",sens:n.sens??n.senses??"",ca:n_(n.ca??n.ac??s_),pv:n.pv??n.hp??1,dv:n.dv??n.hd??"1d8",js:ba(n.js??n.saves??t_),rm:n.rm??n.sr??null,rd:n.rd??n.dr??null,vit:n.vit??n.speed??"9 m",abb:n.abb??n.bab??"+0",grp:n.grp??n.grapple??"+0",attaque:n.attaque??n.attack??"",att_complete:n.att_complete??n.fullAttack??"",espace:n.espace??n.space??"1,5 m",allonge:n.allonge??n.reach??"1,5 m",att_sp:ba(n.att_sp??n.specialAttacks??[]),qual_sp:ba(n.qual_sp??n.specialQualities??[]),carac:ba(n.carac??n.abilities??a_),comptences:n.comptences??n.competences??n.skills??"",dons:n.dons??n.feats??"",tactiques:n.tactiques??n.tactics??"",butin:n.butin??n.loot??"",est_ennemi:n.est_ennemi??n.isEnemy??!1,role:n.role??n.description??"",tactical:ba(n.tactical??null),buffs:ba(n.buffs??[]),spells_prepared:ba(n.spells_prepared??n.spellbook??{}),ogas:ba(n.ogas??{occupation:"",goal:"",attitude:"",stake:""})};return{...i,...r}}const i_=[{id:"thade_coren",name:"Thade Coren",class:"Magicien",lvl:10,size:"Moyen",type:"Humanode (humain)",alignment:"LN",fp:10,environment:"Val-d'Ombre (Universit, Conclave) puis Spirale",organization:"Solitaire (manipulateur)",initiative:"+2",senses:"Perception +8",ac:{total:20,touch:13,flatFooted:18},hp:68,hd:"10d4+30",saves:{fort:"+7",ref:"+6",will:"+11"},speed:"9 m",attack:"bton ferr +7 (1d6+1 contondant)",fullAttack:"bton ferr +7 (1d6+1) ou rayon affaiblissant +9  distance",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de magicien/ensorceleur (NLS 10) : contrle, ncromancie, entrave","Rayon affaiblissant 4/jour"],specialQualities:["Prparation : +2 DD pour les sorts de contrle lancs sur cibles affaiblies","Rsistance mentale (contre Charme) +2","Buff actif : Brume de dissimulation (20% de chances de rater, 10 min)"],abilities:{str:10,dex:14,con:14,int:20,wis:12,cha:16},skills:"Concentration +15, Diplomatie +12, Intimidation +11, Connaissance (arcane) +17, Connaissance (plans) +12, Psychologie +10",feats:"Volont de fer, Science de l'initiative, Incantation silencieuse, Incantation rflexe, Robustesse",tactics:"Commence par entraver (corde anime, immobilisation), place des rayons affaiblissants, puis ngocie si avantage. En fuite, utilise brume de dissimulation et dimensions mineures.",buffs:[{name:"Brume de dissimulation",effect:"20% de chances de rater les attaques contre lui",duration:"10 minutes"}],loot:"Bton ferr, notes ncromantiques, cristal mouchard, anneau de protection +1",isEnemy:!1,antagonist:!0,role:"Antagoniste principal, double jeu : mcne puis manipulateur.",details:["Motivation : Fusionner avec la Spirale pour atteindre l'immortalit.","Masque : Froid, acadmique, se prsente comme un alli rationnel.","Spoiler : Manipule les PJ ds les premiers scnarios en orientant leurs enqutes.","Combat : Dans le final, utilise la Tour comme catalyseur d'nergie ncromantique."],tactical:{bookReference:"Bestiaire : Dossier 'Thade Coren' (Chap. Manipulations & Spirale)",scenarioContext:"Acte 2-3 : infiltration au Conclave, ensuite confrontation finale dans la Spirale (cercle des miroirs). Focus sur les sorts de contrle pour dstabiliser les PJ avant de ngocier.",spells:[{name:"Rayon affaiblissant",details:"+9 / DD 16 Str, -2 Str/Con pendant 1 tour, 4/j. Permet de fragiliser la cible principale avant l'assaut."},{name:"Corde anime",details:"Prpare un pige pour restreindre un seul PJ : +12 toucher, DD 15 Force, idal pour neutraliser un tank temporairement."},{name:"Brume de dissimulation",details:"Prpare sa retraite ou se repositionner derrire un masque magique ; dclenche aprs avoir lanc rayon ou immobilisation."}],tacticFeats:[{name:"Science de l'initiative",details:"Donne une fentre pour activer un sort ds le tour 1 et imposer son plan tactique."},{name:"Incantation rflexe",details:"Permet de lancer un sort de raction (rayon ou tlportation mineure) quand un PJ s'approche trop."}],tacticSummary:"Dmarre par des contrles (corde anime, immobilisation), enchane avec rayon affaiblissant, puis se met en retrait pour converser/ngocier. Garde une brume active pour fuir vers les tages suprieurs si mis en difficult."},ogas:{occupation:"Dirige ses recherches sur la Spirale depuis son laboratoire secret",goal:"Fusionner avec la Spirale pour atteindre l'immortalit arcanique",attitude:"Froid et acadmique, se prsente comme un alli rationnel mais manipule subtilement",stake:"Risque de perdre son accs  la Spirale et ses annes de recherches ; peut gagner le pouvoir ultime"}},{id:"thorgar_pretre_nain",name:"Thorgar, Haut Clerc, nain",class:"Prtre",lvl:6,size:"Moyen",type:"Humanode (nain)",alignment:"LB",fp:6,environment:"Quartier du Savoir / Temple-Forgeron",organization:"Solitaire ou avec 1-2 acolytes",initiative:"-1",senses:"Vision dans le noir 18 m, Perception +8",ac:{total:19,touch:9,flatFooted:19},hp:52,hd:"6d8+24",saves:{fort:"+9",ref:"+1",will:"+8"},speed:"6 m (armure)",attack:"marteau de guerre +9 (1d8+3 contondant)",fullAttack:"marteau de guerre +9 (1d8+3)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Renvoi des morts-vivants 4/jour (Cha +1, Prtre 6)","Spcialit : bndiction contre morts-vivants (+1 JS et jets d'attaque contre morts-vivants)"],specialQualities:["Rsistance naine (+2 JS poison, sorts, effets magiques)","Dtection des passages secrets pierreux","Buff actif : Bndiction (+1 attaque/sauvegarde peur, 6 min)"],abilities:{str:14,dex:8,con:18,int:12,wis:16,cha:12},skills:"Connaissance (religion) +10, Premiers secours +9, Diplomatie +6, Intimidation +6",feats:"Robustesse, Science de l'initiative (sacr), Incantation statique",tactics:"Ouvre avec bndiction/armes magiques, se place en premire ligne, canalise pour soutenir. Refuse de fuir tant que des reliques sont menaces.",buffs:[{name:"Bndiction",effect:"+1 aux jets d'attaque et de sauvegarde contre la peur",duration:"6 minutes"}],loot:"Marteau de guerre grav, reliques bnites, anneau d'acier runique (+1 CA naturelle)",isEnemy:!1,role:"Alli, prtre du Temple, protecteur du Savoir",details:["Motivation : Protger la mmoire des morts, empcher l'ouverture de la Spirale et sauver les civils.","Attitude : Grave, inflexible sur les questions sacres, mais reconnaissant envers les PJ.","Usage : Point d'ancrage moral, soins, informations secrtes. Dclenche le 'Dilemme de Thorgar'.","Lien : Premier  parler de la 'maladie' de la montagne."],tactical:{bookReference:"Bestiaire : Portrait 'Thorgar, prtre du Temple-Forgeron'",scenarioContext:"Acte 1-2 : support de la ligne de front dans le Temple. Utilise ses bndictions pour renforcer les gardes et ses pouvoirs contre morts-vivants dans les catacombes.",spells:[{name:"Bndiction",details:"+1 d'attaque et de sauvegardes pour les allis proches (3/j). Lance ds l'engagement pour couvrir les gardes."},{name:"Renvoi des morts-vivants",details:"4/j, 2d6+7 DV affects; priorise les morts-vivants menaant les gardes."}],tacticFeats:[{name:"Robustesse",details:"Permet de rester au contact et d'absorber les dgts lors des charges ennemies."}],tacticSummary:"Se place en premire ligne pour canaliser/ soigner les allis. S'il est menac par morts-vivants, utilise canalisation pour les affaiblir ; refuse de fuir tant que reliques sont protges."},ogas:{occupation:"Protge le Temple-Forgeron et ses reliques sacres",goal:"Empcher l'ouverture de la Spirale et protger la mmoire des morts",attitude:"Grave et inflexible sur les questions sacres, mais reconnaissant envers ceux qui aident",stake:"Risque la profanation des reliques et la perte de son temple ; peut sauver Val-d'Ombre de la corruption"}},{id:"aubergiste_pic_brise",name:"Brand, aubergiste du Pic Bris",class:"Expert",lvl:3,size:"Moyen",type:"Humanode (Humain)",alignment:"NB",fp:3,environment:"Vieille Ville  Auberge du Pic Bris",organization:"Solitaire (avec personnel 1-2)",initiative:"+1",senses:"Dtection +5",ac:{total:14,touch:11,flatFooted:13},hp:18,hd:"3d8+3",saves:{fort:"+3",ref:"+2",will:"+2"},speed:"9 m",attack:"Matraque +4 (1d6+1 non ltal)",fullAttack:"Matraque +4 (1d6+1 non ltal)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Contacts tendus en ville (+4 Estimation/Collecte d'infos sur rumeurs locales)"],abilities:{str:13,dex:12,con:12,int:10,wis:11,cha:12},skills:"Diplomatie +6, Psychologie +5, Dtection +5, Estimation +6",feats:"Arme de Prdilection (matraque), Vigilance",tactics:"Tente dapaiser, ne se bat quen lgitime dfense ; connat les issues de lauberge.",loot:"Cls des chambres, petite caisse de pices, liste de clients.",isEnemy:!1,role:"Hte bien inform qui entend toutes les conversations.",details:["Motivation : Protger sa rputation et viter les ennuis avec la garde.","Attitude : Jovial en public, prudent en priv ; observe beaucoup.","Usage : Source de rumeurs, point de contact pour guider les PJ vers leurs premires pistes."],ogas:{occupation:"Gre son auberge et coute les conversations des clients",goal:"Protger sa rputation et son commerce tout en restant inform",attitude:"Jovial et accueillant en public, mais prudent et observateur en priv",stake:"Risque des ennuis avec la garde ou des factions ; peut devenir une source d'informations prcieuse"}},{id:"etudiant_universite",name:"Althis, apprenti archiviste",class:"Expert",lvl:2,size:"Moyen",type:"Humanode (humain)",alignment:"NB",fp:2,environment:"Universit de Magie de Val-d'Ombre  Cour centrale",organization:"Solitaire (parfois avec 1-2 condisciples)",initiative:"+1",senses:"Perception +4",ac:{total:12,touch:11,flatFooted:11},hp:9,hd:"2d8",saves:{fort:"+1",ref:"+1",will:"+3"},speed:"9 m",attack:"bton runique +1 (1d6 non ltal)",fullAttack:"bton runique +1 (1d6 non ltal)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Mmoire prodigieuse (+2 Collecte d'infos sur l'Universit)","Buff actif : Calme mental (bonus +2 aux jets de Volont contre charme/peur, 10 min)"],abilities:{str:10,dex:12,con:12,int:14,wis:12,cha:11},skills:"Diplomatie +6, Collecte d'infos +7, Connaissance (arcane) +9, Psychologie +4",feats:"Science de l'initiative, Don de ngociateur",tactics:"vite toute violence. Prfre parlementer, partager des rumeurs ou accompagner les PJ jusqu'au bureau de Thade si convaincu.",loot:"Cl de dortoir en argent, carnet de rumeurs griffonnes, badge de Nyx (preuve implicante).",isEnemy:!1,role:"tudiant inquiet qui sert de premier point de contact avec l'Universit.",tactical:{bookReference:"Scnario 1  Acte 2, Scne 1 : La Fraternit Dissoute",scenarioContext:"Althis craint encore la Fraternit Nyx mais sait que Thade cache des secrets. Il accepte d'aider les PJ si ceux-ci restent discrets.",spells:[],specialActions:[{name:"Guide improvis",details:"Peut accorder un bonus circonstanciel de +2 aux tests de Diplomatie ou de Collecte d'infos  l'Universit s'il accompagne les PJ."},{name:"Rumeurs touffes",details:"Sur un test de Diplomatie DD 15 russi par les PJ, Althis partage des rumeurs ciblant directement Thade Coren."}],tacticFeats:[{name:"Science de l'initiative",details:"Toujours le premier  parler pour viter que les recteurs ne se'en mle."}],tacticSummary:"Tente de calmer toute tension et oriente les PJ vers le bureau de Thade aprs les avoir mis en garde contre la surveillance du Conseil."},ogas:{occupation:"Archive les documents de l'Universit.",goal:"Aider les PJ  dcouvrir la vrit sur Thade sans se mettre en danger",attitude:"Nerveux mais coopratif, veut bien faire mais craint les reprsailles",stake:"Peut gagner la confiance des PJ et un alli puissant"}},{id:"durnik_chef_mineur",name:"Durnik, chef de la Guilde des Mineurs",class:"Expert",lvl:5,size:"Moyen",type:"Humanode (humain)",alignment:"NB",fp:5,environment:"Quartier des Mineurs, tunnels suprieurs",organization:"Avec 2-4 gardes de mine",initiative:"+1",senses:"Perception +5",ac:{total:17,touch:11,flatFooted:16},hp:32,hd:"5d6+10",saves:{fort:"+8",ref:"+2",will:"+4"},speed:"9 m",attack:"hache de mine +8 (1d10+4 tranchant)",fullAttack:"hache de mine +8/+3 (1d10+4)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Cri d'alarme 1/j (Intimidation de masse, test VS Volont DD 14 : secou 1d4 rd)"],specialQualities:["Rsistance  la fatigue (tests Con pour marches forces +4)"],abilities:{str:16,dex:12,con:16,int:10,wis:12,cha:12},skills:"Escalade +9, Survie +7, Intimidation +8, Artisanat (mines) +9",feats:"Attaque en puissance, Science de l'initiative, Robustesse",tactics:"Se place en avant dans les tunnels mins, fait reculer les PJ s'ils menacent les mineurs ; accepte de ngocier si preuve de complot.",loot:"Hache lourde runique, carnet de codes des tunnels, pierre de tonnerre",isEnemy:!1,role:"Chef de guilde, ouvre ou ferme l'accs aux mines.",details:["Motivation : Protger les mineurs de la 'pierre malade' et des dcisions du Conseil.","Attitude : Bourru mais honnte. Respecte les PJ qui prennent des risques pour les siens.","Utilisation : Donneur de qutes pour les scnarios lis  la Mine et  la Spirale.","Test social : Difficile  convaincre si les PJ sont trop proches des Mages ou du Conseil.","Au Pont Secret : Rsolu  mourir pour gagner du temps lors de l'vacuation (sacrifice hroque)."],tactical:{bookReference:"Bestiaire : Dossier 'Durnik, chef des mineurs' (Actes 2-3)",scenarioContext:"Acte 2 : surveille les accs aux tunnels suprieurs. Utilise son terrain pour crer des goulots d'tranglement et protger les mineurs.",spells:[],specialActions:[{name:"Cri d'alarme",details:"1/j, effectue un test de Volont DD 14 pour retirer les PJ du support moral (-1 moral, secou 1d4 tours)."}],tacticFeats:[{name:"Attaque en puissance",details:"Maximise les dgts avec sa hache pour punir les intrus."},{name:"Robustesse",details:"Reste au contact mme quand les tunnels s'effondrent."}],tacticSummary:"Se place devant les berges mines, frappe en premire ligne, puis recule derrire des arcs de pierres. Fait reculer les PJ quand deux gardes tombent."},ogas:{occupation:"Dirige la Guilde des Mineurs et protge les tunnels suprieurs",goal:"Protger ses mineurs de la 'pierre malade' et des dcisions dangereuses du Conseil",attitude:"Bourru mais honnte, respecte ceux qui prennent des risques pour les siens",stake:"Risque la vie de ses mineurs et la fermeture des mines ; peut sauver ses hommes par l'vacuation"}},{id:"capitaine_garde_temple",name:"Capitaine de la garde du Temple",class:"Guerrier",lvl:5,size:"Moyen",type:"Humanode (humain)",alignment:"LN",fp:4,environment:"Temple-Forgeron et environs",organization:"Escouade (capitaine + 3-6 gardes)",initiative:"+1",senses:"Perception +6",ac:{total:18,touch:11,flatFooted:17},hp:40,hd:"5d10+10",saves:{fort:"+6",ref:"+3",will:"+2"},speed:"6 m (armure)",attack:"pe longue +8 (1d8+3 tranchant)",fullAttack:"pe longue +8/+3 (1d8+3)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Ordre de tir (les gardes allis gagnent +1 attaquer pour 1 tour)"],specialQualities:["Bonus de commandement (+1 moral aux gardes  9 m)"],abilities:{str:15,dex:12,con:14,int:10,wis:12,cha:12},skills:"Perception +6, Intimidation +7, Profession (soldat) +8",feats:"Science de l'initiative, Robustesse, Arme de prdilection (pe longue)",tactics:"Forme les gardes en ligne, couvre la retraite des civils, ngocie si l'autorit du Temple est invoque.",loot:"pe longue grave, plastron bleu nuit, sceau du Temple",isEnemy:!1,role:"Officier pragmatique, pivot entre temple et civils.",details:["Motivation : Maintenir l'ordre et viter une guerre civile ouverte.","Attitude : Suspicion envers les PJ impliqus dans trop d'incidents.","Combat : Peut devenir un ennemi direct si les PJ se rangent ouvertement contre le Conseil.","Spoiler : Manipul par des ordres falsifis provenant de la faction de Thade."],tactical:{bookReference:"Bestiaire : 'Capitaine de la garde du Temple' (Quartier du Savoir)",scenarioContext:"Acte 1 : dfend l'accs au Temple-Forgeron. Coordonne les gardes et use de ses ordres pour encadrer les civils.",spells:[],specialActions:[{name:"Ordre de tir",details:"+1 aux jets dattaque des gardes  9 m pendant 1 tour (1/j)."}],tacticFeats:[{name:"Science de l'initiative",details:"Initie les charges coordonnes avant que les PJ ne s'organisent."},{name:"Robustesse",details:"Absorbe les attaques pendant qu'il protge un passage."}],tacticSummary:"Reste en formation serre, couvre la retraite des civils et force les PJ  passer par les gardes. Plie si l'autorit du Temple l'exige."},ogas:{occupation:"Commande l'escouade de gardes du Temple-Forgeron",goal:"Maintenir l'ordre et viter une guerre civile ouverte",attitude:"Suspicieux envers les PJ impliqus dans trop d'incidents, mais pragmatique",stake:"Risque de perdre le contrle de la situation et de voir le chaos s'installer ; peut restaurer l'ordre"}},{id:"marchand_fou_mercane",name:"Le Marchand Fou (Mercane exil)",class:null,lvl:null,size:"Grand",type:"Extrieur (Extraplanaire)",alignment:"LN",fp:5,environment:"Spirale  Couloirs de Chair",organization:"Solitaire",initiative:"+2",senses:"Vision dans le noir 18 m, Dtection +10",ac:{total:15,touch:11,flatFooted:13},hp:26,hd:"4d8+8",saves:{fort:"+3",ref:"+6",will:"+8"},speed:"9 m (6 c.)",attack:"Dague +3 corps  corps (1d6)",fullAttack:"Dague +3 corps  corps (1d6)",space:"3 m",reach:"3 m",specialAttacks:[],specialQualities:["Rsistance  la magie 25","Tlpathie 30 m","Pouvoirs magiques (NLS 9) : porte dimensionnelle 3/j, invisibilit (personnel)  volont, dtection de la magie  volont","Coffre secret (Mag) : comme coffre secret de Lomund"],abilities:{str:11,dex:14,con:14,int:20,wis:15,cha:16},skills:"Estimation +17, Bluff +10, Diplomatie +10, Intimidation +10, Psychologie +9, Connaissance (plans) +12",feats:"Vigilance, Talent (Estimation)",tactics:"Ngocie d'abord, se rend invisible si menac, tente la fuite dimensionnelle. Vend information contre vitalit.",buffs:[],loot:"Trousse de marchandises exotiques, anneau de discrtion mineure",isEnemy:!1,role:"Marchand opportuniste, prt  des marchs tranges.",tactical:{bookReference:"Manuel des Monstres II p.152",scenarioContext:"Acte 4 : apparait en ngociateur instable dans les couloirs de la Spirale, prt  sacrifier des objets contre des informations.",spells:[{name:"Porte dimensionnelle (Mag)",details:"3/j pour s'chapper ou faire traverser un alli."},{name:"Invisibilit (Mag)",details:" volont, personnel uniquement."}],specialActions:[{name:"Coffre secret",details:"Stocke ses marchandises dans un coffre extradimensionnel, invoque  volont."}],tacticFeats:[{name:"Vigilance",details:"Repre les mensonges et les embuscades."},{name:"Talent (Estimation)",details:"Expert en valuation d'objets magiques et prcieux."}],tacticSummary:"Ngocie, propose des deals, puis se rend invisible ou franchit une porte dimensionnelle si la situation tourne au combat."},ogas:{occupation:"Erre dans les Couloirs de Chair de la Spirale en cherchant une sortie",goal:"chapper  la Spirale et retrouver la libert, quitte  faire des marchs tranges",attitude:"Opportuniste et instable, prt  ngocier mais mfiant",stake:"Risque de rester pig ternellement dans la Spirale ; peut obtenir sa libert par un march"}},{id:"lysa_exploratrice_perdue",name:"Lysa, exploratrice perdue",class:"Roublard",lvl:4,size:"Moyen",type:"Humanode (humain)",alignment:"NB",fp:4,environment:"Spirale  Premier cercle",organization:"Solitaire (survivante)",initiative:"+3",senses:"Perception +7",ac:{total:17,touch:13,flatFooted:14},hp:22,hd:"4d6+8",saves:{fort:"+3",ref:"+7",will:"+1"},speed:"9 m",attack:"pe courte +6 (1d6+1)",fullAttack:"pe courte +6 (1d6+1)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Attaque sournoise +2d6"],specialQualities:["vasion","Esquive instinctive","Recherche des piges"],abilities:{str:12,dex:17,con:14,int:12,wis:10,cha:10},skills:"Discrtion +10, Dtection +7, Survie +5, Acrobaties +10, Dplacement silencieux +10",feats:"Arme de prdilection (pe courte), Science de l'initiative, Esquive",tactics:"Observe avant d'agir ; coopre si on partage eau/soins. vite le combat direct, cherche les issues.",loot:"Carte dforme de la Spirale, rations maigres",isEnemy:!1,role:"Guide de circonstance, possible allie ou romance survie.",tactical:{bookReference:"Bestiaire : 'Lysa, exploratrice perdue' (Spirale  Premier cercle)",scenarioContext:"Acte 3 : guide les PJ puis doit se dfendre contre des chasseurs. Prfre viter le combat direct.",spells:[],specialActions:[{name:"Attaque sournoise",details:"+2d6 quand elle frappe depuis la cachette ou aprs une vasion."}],tacticFeats:[{name:"Tir de prcision",details:"Finit les cratures blesses  distance."},{name:"Esquive",details:"Reste hors de porte avec des dplacements prcis."}],tacticSummary:"Observe d'abord, coopre quand on partage ressources, puis frappe en retrait en visant les ouvertures ; fuit si la situation dgnre."},ogas:{occupation:"Survit dans le Premier cercle de la Spirale en cherchant une sortie",goal:"chapper  la Spirale et retrouver la surface",attitude:"Mfiante mais prte  cooprer si on partage ressources et informations",stake:"Risque de mourir de faim ou d'tre tue par les cratures ; peut s'chapper avec l'aide des PJ"}},{id:"zelekhut",name:"Zelekhut",class:null,lvl:null,size:"Grand",type:"Extrieur (Extraplanaire, Loi)",alignment:"LN",fp:9,environment:"Plan Mcanicus, Spirale  Salle des Engrenages",organization:"Solitaire",initiative:"+0",senses:"Vision dans le noir 18 m, vision lucide, dtection du chaos/mensonge",ac:{total:24,touch:9,flatFooted:24},hp:66,hd:"8d8+32",saves:{fort:"+10",ref:"+6",will:"+7"},speed:"15 m (10 c.), vol 18 m (moyenne)",attack:"Chane +13 corps  corps (2d6+7 plus paralysie)",fullAttack:"2 chanes +13 corps  corps (2d6+7 plus paralysie)",space:"3 m",reach:"3 m",specialAttacks:["Paralysie (Sur) : Vig DD 18 ou paralys 1d6+2 minutes"],specialQualities:["RD 10/chaotique","Rgnration 5 (chaotique)","Rsistance  la magie 20","Vision lucide permanente","Immunit : poison, maladie"],abilities:{str:25,dex:10,con:19,int:10,wis:13,cha:14},skills:"Dtection +12, Perception auditive +12, Psychologie +12, Fouille +11, Survie +12",feats:"Attaque en vol, Vigilance, Arme de prdilection (chane)",tactics:"Neutralise les fuyards et les parjures, ngocie si preuve de l'anomalie de Thade ; peut basculer d'alli  ennemi.",loot:"Cl de recalibrage, noyau d'nergie rgul.",isEnemy:!1,role:"Gardien neutre des mcanismes de la Spirale, potentiel alli si convaincu.",tactical:{bookReference:"Manuel des Monstres p.160",scenarioContext:"Acte 4 : surveille l'accs mcanique de la Spirale. Utilise ses chanes paralysantes pour neutraliser les intrus.",spells:[],specialActions:[{name:"Paralysie",details:"Vig DD 18 ou paralys 1d6+2 minutes ; priorise les fuyards."}],tacticFeats:[{name:"Attaque en vol",details:"Fond sur les cibles et remonte aprs avoir frapp."},{name:"Vigilance",details:"Dtecte les intrus avant qu'ils ne puissent fuir."}],tacticSummary:"Vole au-dessus des intrus, frappe avec ses chanes pour paralyser, puis interroge. Peut ngocier si on prouve que Thade viole les lois cosmiques."},ogas:{occupation:"Surveille et maintient les mcanismes de la Salle des Engrenages",goal:"Prserver l'ordre et l'quilibre de la Spirale selon les lois cosmiques",attitude:"Neutre et mthodique, peut devenir alli si on prouve que Thade viole les lois",stake:"Risque de voir la Spirale corrompue par le chaos ; peut restaurer l'quilibre cosmique"}},{id:"gardien_cimetiere",name:"Rorek fils de Kargun, Gardien du Cimetire",class:"Prtre",lvl:4,size:"Moyen",type:"Humanode (Humain)",alignment:"NB",fp:4,environment:"Cimetire en terrasse",organization:"Solitaire",initiative:"+1",senses:"Dtection +7",ac:{total:16,touch:11,flatFooted:15},hp:32,hd:"4d8+12",saves:{fort:"+6",ref:"+2",will:"+2"},speed:"9 m",attack:"Bton Ferr +6 (1d6+2 non ltal)",fullAttack:"Bton Ferr +6 (1d6+2 non ltal)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Renvoi des morts-vivants 3/jour (Cha +0, Prtre 4)"],specialQualities:["Bonus +2 JS contre la peur dans le cimetire","Dtection des Perturbations du Sol Sacr"],abilities:{str:14,dex:12,con:16,int:10,wis:12,cha:10},skills:"Survie +8, Dtection +7, Connaissance (religion) +6",feats:"Robustesse, Vigilance, Arme de Prdilection (bton)",tactics:"Avertit avant dattaquer, soutient les PJ contre profanateurs ; se replie dans le mausole si submerg.",loot:"Cls du mausole, amulette bnie (+1 JS contre peur).",isEnemy:!1,role:"Protecteur bienveillant du cimetire, ressource pour informations ou bndictions.",tactical:{bookReference:"Bestiaire : 'Gardien du Cimetire' (Terrasse du Cimetire)",scenarioContext:"Acte 2 : protge les spultures contre les profanateurs et les morts-vivants ; sert d'alli mais peut repousser les PJ si la peur s'installe.",spells:[],specialActions:[{name:"Renvoi des morts-vivants",details:"3/j, 2d6+4 DV affects, repousse ou dtruit les morts-vivants."}],tacticFeats:[{name:"Robustesse",details:"Soutient la ligne quand les morts-vivants attaquent en masse."},{name:"Vigilance",details:"Maintient les PJ en scurit avec une perception accrue de la peur et de la trahison."}],tacticSummary:"Privilgie la prvention : avertit avant d'attaquer, soutient les PJ contre les profanations, puis se replie dans le mausole si submerg."},ogas:{occupation:"Protge le cimetire en terrasse contre les profanateurs et morts-vivants",goal:"Prserver la saintet des spultures et empcher toute profanation",attitude:"Bienveillant et protecteur, avertit avant d'attaquer",stake:"Risque la profanation des tombes et l'invasion de morts-vivants ; peut sanctifier le cimetire"}},{id:"archimage_defecteur",name:"Archimage Dfecteur",class:"Magicien",lvl:9,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:9,environment:"Quartier du Savoir  Tour des Mages (cachette)",organization:"Solitaire",initiative:"+2",senses:"Vision dans le noir (sort), Dtection +10",ac:{total:18,touch:12,flatFooted:16},hp:45,hd:"9d4+18",saves:{fort:"+5",ref:"+5",will:"+9"},speed:"9 m",attack:"Bton de force +5 (1d6+1)",fullAttack:"Bton de force +5 (1d6+1)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de Magicien NLS 9"],specialQualities:["Contre-mesures anti-ncromancie","Portails Rapides"],abilities:{str:8,dex:14,con:14,int:19,wis:14,cha:10},skills:"Art de la magie +16, Connaissances (arcanes) +16, Connaissances (plans) +14, Dcryptage +12",feats:"Ecole Renforce (Abjuration), Extension d'effet, Magie de Guerre",tactics:"Reste invisible, observe, et n'intervient que pour saboter un rituel ou fuir via un portail.",loot:"Parchemin de Dissipation Suprme, Cl de contournement des protections de la Tour.",isEnemy:!1,role:"Ancien matre du Conseil, tente de saboter Thade de l'intrieur.",details:["Motivation : Stopper Thade avant la fusion avec la Spirale.","Attitude : Paranoaque, exige des preuves de loyaut.","Pouvoir : Portails rapides, contre-mesures anti-ncromancie.","Usage : Peut fournir des cls de contournement dans la Tour."],ogas:{occupation:"Se cache dans la Tour des Mages et observe les agissements de Thade",goal:"Stopper Thade avant qu'il ne fusionne avec la Spirale",attitude:"Paranoaque et mfiant, exige des preuves de loyaut avant d'aider",stake:"Risque d'tre dcouvert et limin par Thade ; peut empcher la catastrophe finale"}},{id:"tenancier_taverne",name:"Mara, des Fumes Rouges",class:"Expert",lvl:4,size:"Moyen",type:"Humanode (humain)",alignment:"NB",fp:3,environment:"Quartier des Mineurs  Taverne des Fumes Rouges",organization:"Solitaire (avec personnel)",initiative:"+0",senses:"Psychologie +8",ac:{total:12,touch:10,flatFooted:12},hp:22,hd:"4d8+4",saves:{fort:"+2",ref:"+1",will:"+5"},speed:"9 m",attack:"Gourdin +4 (1d6+1)",fullAttack:"Gourdin +4 (1d6+1)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Rseau des mineurs (+4 Collecte d'infos dans le quartier)"],abilities:{str:12,dex:10,con:12,int:12,wis:14,cha:14},skills:"Psychologie +8, Diplomatie +9, Profession (aubergiste) +10, Intimidation +6",feats:"Volont de fer, Ngociateur",tactics:"Utilise sa rputation pour calmer les bagarres. Sort son gourdin 'Brise-Crne' si ncessaire.",loot:"Caisse de la taverne, cl du puits secondaire.",isEnemy:!1,role:"Tenancire respecte, point d'info central du quartier minier.",details:["Motivation : Protger 'ses' mineurs et garder son tablissement debout.","Attitude : Maternelle mais ferme. Ne s'en laisse pas compter par les mages.","Lien : Possde les cls d'accs aux puits secondaires (Scnario 2)."],ogas:{occupation:"Gre la Taverne des Fumes Rouges et coute les conversations des mineurs",goal:"Protger 'ses' mineurs et maintenir son tablissement debout",attitude:"Maternelle mais ferme, ne se laisse pas intimider par les mages",stake:"Risque de perdre son tablissement et de voir ses mineurs en danger ; peut devenir une allie cl"}},{id:"sniv_kobold",name:"Sniv",class:"Guerrier",lvl:1,size:"Petit",type:"Humanode (Reptilien)",alignment:"LM",fp:"1/4",environment:"gouts de Val-d'Ombre",organization:"Solitaire (survivant)",initiative:"+1",senses:"Vision dans le noir 18 m, Dtection +2",ac:{total:15,touch:12,flatFooted:14},hp:4,hd:"1d8",saves:{fort:"+2",ref:"+1",will:"-1"},speed:"9 m",attack:"Lance +1 corps  corps (1d6-1) ou fronde +3  distance (1d3-1)",fullAttack:"Lance +1 corps  corps (1d6-1) ou fronde +3  distance (1d3-1)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Vision dans le noir 18 m","Sensibilit  la lumire","Traits des reptiliens"],abilities:{str:9,dex:13,con:10,int:10,wis:9,cha:8},skills:"Artisanat (piges) +2, Discrtion +6, Dplacement silencieux +2, Dtection +2, Fouille +2, Profession (mineur) +2",feats:"Vigilance",tactics:"Ne combat pas, fuit et se cache, ngocie sa survie en pleurnichant.",loot:"Un morceau de craie, une dent en or (vole), cl tordue.",isEnemy:!1,role:"Tmoin cl des vnements dans les gouts, guide potentiel.",details:["Motivation : Survivre  la colre de Kaela et s'enfuir des gouts.","Attitude : Lche, pleurnichard, mais utile si rassur.","Lien : Ancien serviteur de Jaren, terrifi par la 'Sorcire' (Kaela/Ilse)."],tactical:{bookReference:"Scnario 1  Acte 3, Scne 1 : Le Kobold Tmoin",scenarioContext:"Cach dans un conduit, il observe les PJ. Il ne combat pas sauf si accul.",spells:[],specialActions:[{name:"Supplication",details:"Peut donner des informations prcises sur les piges si on lui promet la vie sauve (Diplomatie DD 12)."},{name:"Guide des conduits",details:"Connat les passages troits permettant d'viter les patrouilles (Avantage furtivit)."}],tacticFeats:[],tacticSummary:"Ne combat pas. Se rend immdiatement ou fuit. Utilise sa petite taille pour passer dans les tuyaux."},ogas:{occupation:"Se cache dans les gouts en attendant que a se calme",goal:"chapper  la sorcire et trouver un nouveau matre ou un coin sr",attitude:"Terrifi et soumis, prt  trahir ses anciens matres pour survivre",stake:"Risque d'tre tu par les cratures de Kaela ou les PJ ; peut offrir un accs sr au manoir"}},{id:"pretre_nain_fantome",name:"Fantme de Borin, Ancien Prtre du Temple",class:"Esprit",lvl:null,size:"Moyen",type:"Esprit (Incorporel)",alignment:"NB",fp:0,environment:"Sanctuaire Bris  Temple-Forgeron",organization:"Solitaire",initiative:"+0",senses:"Vision dans le noir 18 m, perception des motions",ac:{total:12,touch:12,flatFooted:12},hp:1,hd:"1d8",saves:{fort:"+0",ref:"+0",will:"+5"},speed:"Vol 9 m (parfaite)",attack:"",fullAttack:"",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Incorporel","Communication tlpathique (porte 9 m)","Immunit : dgts physiques, poison, sommeil","Rsistance 50% contre les effets magiques"],abilities:{str:null,dex:null,con:null,int:12,wis:14,cha:10},skills:"Connaissance (religion) +8, Psychologie +6",feats:"Volont de fer",tactics:"Inoffensif, apparat pour guider et raconter l'histoire.",loot:"Aucun",isEnemy:!1,role:"Gardien spirituel du sanctuaire, source de lore.",details:["Apparat comme une silhouette naine translucide tenant un symbole sacr.","Ne peut ni attaquer ni interagir physiquement avec le monde matriel.","Parle avec une voix douce et triste.","Reste li au sanctuaire qu'il protgeait de son vivant."],tactical:{bookReference:"Scnario 1  Acte 2, Scne 4 : Le Sanctuaire Bris",scenarioContext:"Apparat quand les PJ entrent dans le sanctuaire dtruit pour leur raconter ce qui s'est pass.",spells:[],specialActions:[{name:"Apparition pacifique",details:"Se matrialise doucement, ne cherche pas  effrayer."},{name:"Rcit historique",details:"Raconte la trahison de Thade et la destruction du sanctuaire."}],tacticFeats:[],tacticSummary:"Guide spirituel inoffensif qui fournit des informations cruciales sur l'histoire du Temple."},ogas:{occupation:"Veille sur les ruines du sanctuaire",goal:"Faire connatre la vrit sur la trahison de Thade",attitude:"Calme et mlancolique, bienveillant envers les visiteurs respectueux",stake:"Risque de disparatre si le sanctuaire est compltement dtruit ; peut rvler des secrets importants"}}],r_=i_.map(n=>Rh(n)),l_=[{id:"troll",name:"Troll",class:null,lvl:null,size:"Grand",type:"Gant",alignment:"CM",fp:5,environment:"Marais froids, souterrains",organization:"Solitaire ou groupe (2-4)",initiative:"+2",senses:"Vision dans le noir 27 m, vision nocturne, odorat",ac:{total:16,touch:11,flatFooted:14},hp:63,hd:"6d8+36",saves:{fort:"+11",ref:"+4",will:"+3"},sr:null,dr:null,speed:"9 m (6 c.)",attack:"Griffe +9 corps  corps (1d6+6)",fullAttack:"2 griffes +9 corps  corps (1d6+6) et morsure +4 corps  corps (1d6+3)",space:"3 m",reach:"3 m",specialAttacks:["ventration (Ext) : 2d6+9 si touche avec les deux griffes"],specialQualities:["Rgnration 5 (supprime par acide ou feu)","Vision dans le noir 27 m","Vision nocturne","Odorat"],abilities:{str:23,dex:14,con:23,int:6,wis:9,cha:6},skills:"Dtection +5, Perception auditive +5",feats:"Vigilance, Arme de prdilection (griffe), Pistage",tactics:"S'acharne sur la cible la plus proche ; rgnre constamment sauf si brl ou dissous  l'acide.",buffs:[],loot:"Standard",isEnemy:!0,role:"Prdateur rgnrant, terreur des souterrains.",tactical:{bookReference:"Manuel des Monstres p.247",scenarioContext:"Souterrains, marais, grottes. S'acharne sur les proies jusqu' ce qu'elles soient mortes ou qu'il soit brl.",spells:[],specialActions:[{name:"ventration",details:"2d6+9 dgts si touche avec les deux griffes."},{name:"Rgnration",details:"Rgnre 5 PV/round sauf dgts de feu ou d'acide."}],tacticFeats:[{name:"Pistage",details:"Suit les proies par l'odeur."},{name:"Arme de prdilection (griffe)",details:"+1 aux jets d'attaque avec les griffes."}],tacticSummary:"Fonce sur la cible la plus proche, utilise sa rgnration pour rester au combat ; vulnrable au feu et  l'acide."},ogas:{occupation:"Chasse dans les souterrains et les marais",goal:"Se nourrir et protger son territoire",attitude:"Agressif et bestial, attaque sans ngociation",stake:"Risque d'tre tu si brl ou dissous ; peut liminer les intrus"}},{id:"assassin_masque",name:"Assassin",class:"Roublard",lvl:6,size:"Moyen",type:"Humanode (Humain)",alignment:"NM",fp:5,environment:"Ruelles de Val-d'Ombre, toits",organization:"Solitaire ou duo",initiative:"+6",senses:"Dtection +8",ac:"18 (+4 Dex, +4 Armure) ; contact 14, pris au dpourvu 14",hp:33,dv:"6d6+12",js:{vig:"+5",ref:"+9",vol:"+3"},vit:"9 m, escalade 6 m",abb:"+4",grp:"+6",attaque:"Dague +8 (1d4+2, x2) ou Arbalte Lgre +8 (1d8, 19-20/x2)",att_complete:"Dague +8/+3 (1d4+2, x2) ou Arbalte Lgre +8 (1d8, 19-20/x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Attaque Sournoise +3d6","Poison Enduit (Vig. DD 15)"],qual_sp:["Esquive Instinctive","Bonus Discrtion +4 en milieu urbain"],carac:{for:12,dex:18,con:14,int:12,sag:10,cha:10},comptences:"Discrtion +14, Acrobaties +12, Dtection +8, Escalade +10",dons:"Science de l'Initiative, Tir de Prcision, Arme de Prdilection (dague)",tactiques:"Frappe depuis les ombres, s'acharne sur les cibles isoles ; peut ngocier un contrat si pris de vitesse.",butin:"Lettre scelle, fiole de poison, masque rituel",est_ennemi:!0,role:"Tueur  gages li aux complots urbains.",details:["Motivation : L'argent et le frisson du danger.","Attitude : Ne parle presque jamais, communique par gestes.","Combat : Spcialiste des attaques surprise et des chutes mortelles.","Spoiler : Peut tre li  une faction que les PJ croyaient allie."],tactical:{bookReference:"Bestiaire urbain",scenarioContext:"Acte 1-3 : embuscade dans les toits. Prfre frapper isolment avant que les gardes se regroupent.",spells:[],specialActions:[{name:"Attaque sournoise",details:"+3d6 ds qu'il frappe un ennemi en dehors du combat."},{name:"Poison enduit",details:"Application sur dague (Vig DD 15), utilis sur ses premires attaques pour maximiser la victime engage."}],tacticFeats:[{name:"Tir de prcision",details:"Ouverture sur la cible isole (dague ou arbalte)."},{name:"Science de l'initiative",details:"Permet d'agir avant la majorit de la troupe et de choisir sa cible."}],tacticSummary:"Frappe depuis les ombres, vise les cibles isoles, peut ngocier ou s'enfuir si surpris."},ogas:{occupation:"Traque ses cibles dans les ruelles et sur les toits de Val-d'Ombre",goal:"Accomplir son contrat d'assassinat pour l'argent et le frisson",attitude:"Silencieux et professionnel, communique par gestes, peut ngocier si pris de vitesse",stake:"Risque sa vie et sa rputation ; peut gagner une grosse somme et sa rputation"}},{id:"etudiant_renvoye",name:"Jaren",class:"Magicien",lvl:1,size:"Moyen",type:"Humanode (Humain)",alignment:"Neutre Mauvais",fp:1,environment:"Cimetire des Terrasses, Universit de Magie",organization:"Solitaire (accompagn de 3 brutes)",initiative:"+6",senses:"Dtection +2",ac:"12 (+2 Dex) ; contact 12, pris au dpourvu 10",hp:5,dv:"1d4+1",js:{vig:"+1",ref:"+2",vol:"+2"},vit:"9 m",abb:"+0",grp:"+1",attaque:"Dague +1 (1d4+1) ou Bton +1 (1d6+1)",att_complete:"Dague +1 (1d4+1) ou Bton +1 (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sort mineur  volont (Rayon de givre +3 toucher  distance, 1d3 froid)","Couverture : +4 CA contre les attaques  distance derrire une stle (terrain)"],qual_sp:["Science acadmique (+2 en Connaissances : arcanes)","Vu de Silence (Inconscient) : si interrog sur le Matre, dclenchement de censure (lment de scnario)","Buff actif : Armure de mage (+4 CA darmure, 1 heure)"],carac:{for:12,dex:14,con:12,int:15,sag:10,cha:8},comptences:"Connaissances (arcanes) +9, Art de la magie +6, Discrtion +6, Dtection +2",dons:"Science de l'Initiative, criture de parchemins",tactiques:"Reste derrire les brutes. Tour 1 : lance Armure de mage si menac (CA 16 ensuite). Sinon, Projectile magique sur la cible la plus blesse. Utilise Rayon de givre pour harceler et reculer. Cherche  fuir ds quune brute tombe.",buffs:[{name:"Armure de mage",effect:"+4 CA darmure (CA passe  16)",duration:"1 heure"}],spells_prepared:{niveau0:["Rayon de givre","Dtection de la magie","Lumire"],niveau1:["Armure de mage","Projectile magique"]},butin:"Broche en argent (fraternit Nyx), Outils chirurgicaux (Universit), Liste de 'Sujets' (Nains), 1 parchemin de Rayon affaiblissant",est_ennemi:!0,role:"tudiant dsespr et manipul, pivot de l'enqute entre le Cimetire et l'Universit.",tactical:{bookReference:"Scnario 1  Acte 1, Scne 3 : L'Interrogatoire interrompu",scenarioContext:"Membre junior de la Fraternit Nyx. Terrifi par Thade Coren, mais obsd par ses recherches.",spells:[{name:"Rayon de givre",details:"+3 toucher  distance, 1d3 froid."},{name:"Projectile magique",details:"1 projectile (1d4+1), pas de JS."},{name:"Armure de mage",details:"+4 CA darmure, dure 1 heure."}],specialActions:[{name:"Appel  l'aide",details:"Si Jaren tombe  3 PV ou moins, il tente de se rendre/fuir et marchande sa vie."}],tacticSummary:"Terrain + brutes = cran. Jaren nest pas un duelliste : il pique, recule, puis tente la fuite."},ogas:{occupation:"Mne des expriences ncromantiques au cimetire avec ses brutes",goal:"Prouver sa valeur  Thade Coren et regagner sa place  l'Universit",attitude:"Terrifi et dsespr, prt  se rendre si sa vie est menace",stake:"Risque l'emprisonnement ou la mort ; peut retrouver sa place  l'Universit"}},{id:"contremaitre_humain",name:"Varrus, contrematre humain",class:"Expert",lvl:5,size:"Moyen",type:"Humanode (Humain)",alignment:"LE",fp:5,environment:"Quartier des Mineurs  Place Centrale",organization:"Solitaire (avec 2 gardes)",initiative:"+1",senses:"Perception +5",ac:{total:16,touch:11,flatFooted:15},hp:27,hd:"5d6+10",saves:{fort:"+4",ref:"+2",will:"+4"},speed:"9 m",attack:"Fouet +6 (1d3 non ltal ou ltal)",fullAttack:"Fouet +6 (1d3)",space:"1,5 m",reach:"4,5 m (fouet)",specialAttacks:["Dsarmement (Amlior)"],specialQualities:["Autorit Tyranique (+2 Intimidation sur les mineurs)"],abilities:{str:14,dex:12,con:14,int:12,sag:10,cha:14},skills:"Intimidation +10, Psychologie +6, Profession (contrematre) +8",feats:"Maniement du fouet, Expertise du combat",tactics:"Reste derrire ses gardes, utilise son fouet pour dsarmer ou faire trbucher les meneurs.",loot:"Fouet de matre, liste noire des mineurs, lettre scelle (ordre de Thade).",isEnemy:!0,role:"Intermdiaire entre le Conseil et les mineurs.",details:["Motivation : Maintenir la production cote que cote pour conserver ses privilges.","Attitude : Mprisant envers les Nains, agressif envers les PJ qui remettent en cause l'autorit.","Combat : Peut devenir un antagoniste lors d'une meute ou d'un piquet de grve qui dgnre.","Indice : Reoit des ordres indirectement lis  Thade via des lettres scelles."],ogas:{occupation:"Supervise les mineurs sur la Place Centrale avec ses gardes",goal:"Maintenir la production cote que cote pour conserver ses privilges",attitude:"Mprisant envers les Nains, agressif envers ceux qui remettent en cause l'autorit",stake:"Risque de perdre sa position et ses privilges ; peut maintenir le contrle de la mine"}},{id:"patrouille_mixte_conseil",name:"Patrouille Mixte du Conseil",class:"Guerrier",lvl:4,size:"Moyen",type:"Humanode (Humain/Nain)",alignment:"LN",fp:4,environment:"Quartier des Mineurs  Alle des Artisans",organization:"Escouade (4 gardes)",initiative:"+0",senses:"Perception +4",ac:{total:17,touch:10,flatFooted:17},hp:30,hd:"4d10+8",saves:{fort:"+6",ref:"+1",will:"+1"},speed:"6 m",attack:"Hallebarde +6 (1d10+2)",fullAttack:"Hallebarde +6 (1d10+2)",space:"1,5 m",reach:"3 m",specialAttacks:["Formation de mur (Couverture +4 si adjacents)"],specialQualities:[],abilities:{str:15,dex:10,con:14,int:10,wis:10,cha:10},skills:"Dtection +5, Intimidation +6",feats:"Robustesse, Arme de prdilection (hallebarde)",tactics:"Barricadent les ruelles, utilisent l'allonge des hallebardes pour tenir la foule  distance.",loot:"Uniforme du Conseil, ordre d'arrestation vierge, cristal relais.",isEnemy:!0,role:"Escouade composite charge de briser la rsistance artisanale.",details:["Motivation : Appliquer les ordres de Thade sous couvert du Conseil.","Tactiques : Barricader les ruelles, utiliser des immobilisations magiques.","Indice : Le chef porte un cristal relais identique  celui de Thade."],ogas:{occupation:"Patrouille dans l'Alle des Artisans pour maintenir l'ordre",goal:"Appliquer les ordres du Conseil et briser la rsistance artisanale",attitude:"Disciplins et mthodiques, suivent les ordres sans question",stake:"Risque d'tre dbords par la foule ; peut rtablir l'ordre par la force"}},{id:"garde_portail_mine",name:"Escouade de Gardes du Portail",class:"Guerrier",lvl:3,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:3,environment:"Quartier des Mineurs  Entre de la Mine",organization:"Groupe (3-5)",initiative:"+1",senses:"Perception +5",ac:{total:16,touch:11,flatFooted:15},hp:26,hd:"3d10+6",saves:{fort:"+5",ref:"+2",will:"+1"},speed:"9 m",attack:"pe courte +5 (1d6+2)",fullAttack:"pe courte +5 (1d6+2)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:[],abilities:{str:14,dex:12,con:14,int:10,wis:10,cha:10},skills:"Psychologie +4, Dtection +5",feats:"Vigilance, Arme de prdilection",tactics:"Dfensive stricte. Ne frappent que si on force le passage ou si une arme est tire.",loot:"Cls du treuil, lanterne, sceau falsifi.",isEnemy:!0,role:"Soldats puiss chargs de verrouiller l'accs.",details:["Motivation : Obir aux ordres contradictoires du Conseil tout en vitant un massacre.","Attitude : Nerveuse, souponne les PJ d'espionnage.","Usage : Obstacles physiques ou ngociation sous pression.","Indice : Portent des sceaux falsifis lis aux lettres de Thade."],ogas:{occupation:"Garde l'entre de la mine et contrle les accs",goal:"Obir aux ordres du Conseil tout en vitant un massacre",attitude:"Nerveux et souponneux, craignent l'espionnage",stake:"Risque un massacre s'ils ouvrent le feu ; peuvent maintenir la paix par la ngociation"}},{id:"magi_tuteur_loyal",name:"Matre Arcaniste Loyaliste",class:"Magicien",lvl:9,size:"Moyen",type:"Humanode (Humain)",alignment:"LN",fp:9,environment:"Quartier du Savoir  Tour des Mages",organization:"Solitaire (avec golems ou lmentaires)",initiative:"+2",senses:"Dtection de la magie, Vision dans le noir",ac:{total:18,touch:12,flatFooted:16},hp:45,hd:"9d4+18",saves:{fort:"+6",ref:"+5",will:"+8"},speed:"9 m",attack:"Rayon Arcanique +6 (4d6 force)",fullAttack:"Rayon Arcanique +6 (4d6 force)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de Magicien NLS 9 (vocation/Abjuration)"],specialQualities:["Glyphes de Renvoi (1/tour, renvoie un sort de niveau 3 ou moins)","Buff actif : Bouclier (+4 CA, immunit Projectile magique, 9 min)"],abilities:{str:10,dex:14,con:14,int:18,wis:12,cha:12},skills:"Art de la magie +15, Connaissances (arcanes) +15, Intimidation +10",feats:"Ecole Renforce (vocation), vigilance",tactics:"Dclenche ses glyphes sans sommation, reste  distance derrire des champs de force.",buffs:[{name:"Bouclier",effect:"+4 CA de bouclier, immunit Projectile magique",duration:"9 minutes"}],loot:"Bton de dfense, parchemins de Dissipation.",isEnemy:!0,role:"Professeur rest fidle  la Guilde, mais pas  Thade.",details:["Motivation : Protger la Tour contre toute intrusion, PJ compris.","Attitude : Arrogant, dclenche des runes de dfense sans sommation.","Pouvoir : Champs de force, glyphes de renvoi, serviteurs lmentaires.","Usage : Mini-boss ou ngociateur si convaincu que Thade trahit la Guilde."],ogas:{occupation:"Dfend la Tour des Mages contre toute intrusion",goal:"Protger la Tour et la Guilde des Mages contre les intrus",attitude:"Arrogant et mfiant, dclenche ses dfenses sans sommation",stake:"Risque de voir la Tour compromise ; peut devenir alli si convaincu que Thade trahit la Guilde"}},{id:"ilse_nyx",name:"Ilse von Reiner",class:"Magicienne",lvl:3,size:"Moyen",type:"Humanode (Humain)",alignment:"NM",fp:3,environment:"Manoir Van Kel, Laboratoire secret",organization:"Solitaire (avec 2 squelettes)",initiative:"+6",senses:"Dtection +3",ac:{total:12,touch:12,flatFooted:10},hp:16,hd:"3d4+3",saves:{fort:"+2",ref:"+3",will:"+4"},speed:"9 m",attack:"Dague +2 corps  corps (1d4) ou Arbalte lgre +3  distance (1d8)",fullAttack:"Dague +2 corps  corps (1d4) ou Arbalte lgre +3  distance (1d8)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de magicien (NLS 3)"],specialQualities:["Familier (Rat, +2 Vigueur)","Buff actif : Simulacre de vie"],abilities:{str:10,dex:14,con:13,int:16,wis:12,cha:10},skills:"Art de la magie +9, Concentration +7, Connaissances (arcanes) +9, Connaissances (religion) +6",feats:"Science de l'initiative, cole renforce (Ncromancie), criture de parchemins",tactics:"Reste derrire ses squelettes. Lance Armure de mage et Simulacre de vie avant le combat. Utilise Rayon affaiblissant et Rayon ardent.",buffs:[{name:"Armure de mage",effect:"+4 CA (Total 16)",duration:"3 heures"},{name:"Simulacre de vie",effect:"+1d10+3 PV temporaires",duration:"3 heures"}],loot:"Bague de protection +1, carnet de notes, composantes de sorts, 40 po.",isEnemy:!0,role:"Apprentie fanatique de Thade, cherche  surpasser Jaren.",details:["Motivation : Prouver sa valeur  Thade en russissant l o Jaren a chou.","Attitude : Arrogante, froide, concentre sur son rituel.","Lien : Rivale de Jaren, mprise sa faiblesse."],tactical:{bookReference:"Scnario 1  Acte 4, Scne 1 : L'veil Forc",scenarioContext:"Tente de stabiliser le rituel sur le cadavre de Jaren. Protge par 2 squelettes.",spells:[{name:"Rayon ardent (Niv 2)",details:"Rayon  distance +3, 4d6 feu. 2/jour."},{name:"Rayon affaiblissant (Niv 1)",details:"Rayon  distance +3, 1d6+3 Force (malus). DD 15 (Ncromancie). 2/jour."},{name:"Projectile magique (Niv 1)",details:"2 missiles, 1d4+1 chacun. 2/jour."}],specialActions:[],tacticFeats:[{name:"cole renforce (Ncromancie)",details:"+1 au DD des sorts de Ncromancie."}],tacticSummary:"Utilise ses squelettes comme bouclier. Vise les cibles faibles en Volont ou les guerriers avec Rayon affaiblissant."},ogas:{occupation:"Finalise le rituel de ncromancie dans le manoir",goal:"Stabiliser le Sujet J-01 pour impressionner Thade",attitude:"Hostile et ddaigneuse, refuse de laisser des intrus gcher son uvre",stake:"Risque sa place  l'Universit et sa vie ; peut devenir une menace rcurrente si elle fuit"}},{id:"assistant_thade_mort",name:"Elian, l'Assistant Sacrifi",class:"Magicien",lvl:2,size:"Moyen",type:"Humanode (Humain)",alignment:"LN",fp:0,environment:"Mine d'argent, Laboratoire secret (Niveau -3)",organization:"Solitaire (Cadavre)",initiative:"",senses:"",ac:{total:10,touch:10,flatFooted:10},hp:0,hd:"2d4",saves:{fort:"+0",ref:"+0",will:"+3"},speed:"0 m",attack:"",fullAttack:"",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["tat : Mort","Traces de rituel"],abilities:{str:10,dex:10,con:10,int:15,wis:12,cha:10},skills:"Connaissances (arcanes) +7, Dcryptage +5, Art de la magie +7",feats:"criture de parchemins, Volont de fer",tactics:"Aucune. Sert d'lment de dcor et d'indice.",loot:"Journal crypt de Thade, Cl du laboratoire, Bague de l'Universit (brise).",isEnemy:!1,role:"Tmoin silencieux de la trahison de Thade.",details:["Son corps est dessch, comme vid de toute eau et vie.","Il tient encore une plume  la main, mort en crivant.","Si on lui parle (Communication avec les morts), il rpte : 'La Spirale a faim'."],tactical:{bookReference:"Scnario 2  Acte 2, Scne 2 : Le Laboratoire Oubli",scenarioContext:"Dcouvert dans le laboratoire secret derrire l'boulement.",spells:[],specialActions:[],tacticFeats:[],tacticSummary:"Inerte."},ogas:{occupation:"Gt sur une table de travail",goal:"Avertir (post-mortem) du danger de l'Ascension",attitude:"Inerte",stake:"Fournit la preuve cruciale contre Thade"}}],o_=l_.map(n=>Rh(n)),u_=[{id:"rat_geant",name:"Rat Gant",size:"Petit",type:"Animal",alignment:"N",fp:"1/3",role:"Nuisible agressif porteur de maladies.",details:["Attaque en meute.","Porteur de la fivre des marais.","Peut atteindre 1,20 m de long."],tactical:{bookReference:"Manuel des Monstres p.64",scenarioContext:"Rencontre alatoire gouts, caves, ruines.",spells:[],specialActions:["Maladie (Fivre des marais)"],tacticFeats:["Arme de prdilection (morsure)","Vigilance"],tacticSummary:"Attaque en meute, submerge par le nombre, fuit si isol."},environnement:"Tous (gnralement souterrains)",organisation:"Solitaire ou nue (10-40)",ini:"+3",sens:"Vision nocturne, Odorat",ca:{total:15,contact:14,pris_au_depourvu:12},pv:5,dv:"1d8+1",js:{vig:"+3",ref:"+5",vol:"+3"},vit:"12 m (8 c.), escalade 6 m, nage 6 m",abb:"+0",grp:"-4",attaque:"Morsure +4 (1d4 plus maladie)",att_complete:"Morsure +4 (1d4 plus maladie)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Maladie (Fivre des marais : morsure, Vig DD 11, incubation 1d3 jours, affaiblissement 1d3 Dex et 1d3 Con)"],qual_sp:["Vision nocturne","Odorat"],carac:{for:10,dex:17,con:12,int:1,sag:12,cha:4},comptences:"Discrtion +8, Escalade +11, Dtection +4, Natation +11",dons:"Arme de prdilection (morsure), Vigilance",tactiques:"Attaque en meute sans peur, mord et s'accroche.",butin:"Aucun",est_ennemi:!0},{id:"roturier",name:"Roturier (niveau 1)",class:"Roturier",lvl:1,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:"1/2",role:"Paysan, mendiant, artisan ou citadin ordinaire.",details:["Reprsente la population civile.","Non-combattant typique.","Fuit le danger."],tactical:{bookReference:"Guide du Matre p.109",scenarioContext:"Villes, villages, fermes.",spells:[],specialActions:[],tacticFeats:[],tacticSummary:"Fuit ou se rend immdiatement."},environnement:"Tous",organisation:"Solitaire ou foule (10-100)",ini:"+0",sens:"Dtection +0",ca:{total:10,contact:10,pris_au_depourvu:10},pv:2,dv:"1d4",js:{vig:"+0",ref:"+0",vol:"+0"},vit:"9 m (6 c.)",abb:"+0",grp:"+0",attaque:"Gourdin +0 corps  corps (1d6) ou couteau +0 corps  corps (1d4)",att_complete:"Gourdin +0 corps  corps (1d6) ou couteau +0 corps  corps (1d4)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:10,dex:10,con:10,int:10,sag:10,cha:10},comptences:"Artisanat (un au choix) +4, Profession (une au choix) +4",dons:"Talent (Profession)",tactiques:"Fuit le combat, se rend si accul.",butin:"Outils de travail, 1d6 pa",est_ennemi:!1},{id:"kobold",name:"Kobold (guerrier 1)",size:"Petit",type:"Humanode (Reptilien)",alignment:"LM",fp:"1/4",role:"Humanode reptilien lche et sadique.",details:["Dteste les gnomes et les attaque  vue.","Expert en piges et embuscades.","Sensible  la lumire vive."],tactical:{bookReference:"Manuel des Monstres p.161",scenarioContext:"Mines, cavernes, souterrains.",spells:[],specialActions:[],tacticFeats:["Vigilance"],tacticSummary:"Attaque en surnombre (2 contre 1 minimum), fuit sinon. Attire vers les piges."},environnement:"Forts tempres ou souterrains",organisation:"Bande (4-9), groupe de guerre (10-100 plus 100% non-combattants plus 1 sergent niv. 3 par 20 adultes et 1 chef niv. 4-6)",ini:"+1",sens:"Vision dans le noir 18 m",ca:{total:15,contact:12,pris_au_depourvu:14},pv:4,dv:"1d8",js:{vig:"+2",ref:"+1",vol:"-1"},vit:"9 m (6 c.)",abb:"+1",grp:"-4",attaque:"Lance +1 corps  corps (1d6-1) ou fronde +3  distance (1d3-1)",att_complete:"Lance +1 corps  corps (1d6-1) ou fronde +3  distance (1d3-1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Vision dans le noir 18 m","Sensibilit  la lumire (bloui en plein soleil ou rayon de lumire du jour)"],carac:{for:9,dex:13,con:10,int:10,sag:9,cha:8},comptences:"Artisanat (fabrication de piges) +2, Discrtion +6, Dplacement silencieux +2, Dtection +2, Fouille +2, Profession (mineur) +2",dons:"Vigilance",tactiques:"Commence par des tirs de fronde, se replie vers les piges, attaque en mle seulement si l'ennemi est affaibli.",butin:"Standard",est_ennemi:!0},{id:"homme_armes_lvl1",name:"Homme d'armes",class:"Homme d'armes",lvl:1,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:"1/2",role:"Soldat de base, garde ou mercenaire.",details:["Entranement militaire basique.","Obit aux ordres.","Combat en formation."],tactical:{bookReference:"Guide du Matre p.117",scenarioContext:"Garnisons, caravanes, domaines.",spells:[],specialActions:[],tacticFeats:["Arme de prdilection"],tacticSummary:"Combat en groupe, reste en formation."},environnement:"Tous",organisation:"Solitaire, patrouille (2-4) ou escouade (5-10)",ini:"+0",sens:"Dtection +1",ca:{total:15,contact:10,pris_au_depourvu:15},pv:6,dv:"1d8+2",js:{vig:"+4",ref:"+0",vol:"+0"},vit:"6 m (4 c.) (armure)",abb:"+1",grp:"+2",attaque:"pe longue +3 corps  corps (1d8+1) ou arbalte lgre +1  distance (1d8)",att_complete:"pe longue +3 corps  corps (1d8+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:13,dex:11,con:14,int:10,sag:10,cha:9},comptences:"Intimidation +1, Dtection +2",dons:"Arme de prdilection (pe longue)",tactiques:"Combat en formation, obit aux ordres, fuit si le chef tombe.",butin:"pe longue, chemise de mailles, cu en bois, 2d6 pa",est_ennemi:!0},{id:"gobelin",name:"Gobelin (guerrier 1)",size:"Petit",type:"Humanode (Gobelinode)",alignment:"NM",fp:"1/3",role:"Humanode lche et malicieux.",details:["Peau jaune  rouge fonc.","Yeux ternes et vitreux.","Favorise les embuscades et les piges."],tactical:{bookReference:"Manuel des Monstres p.133",scenarioContext:"Forts, collines, souterrains.",spells:[],specialActions:[],tacticFeats:["Vigilance"],tacticSummary:"Embuscades, surnombre, coups bas. Fuit si le combat tourne mal."},environnement:"Plaines tempres",organisation:"Bande (4-9), groupe de guerre (10-100 avec 100% non-combattants plus 1 sergent niv. 3 par 20 adultes et 1 chef niv. 4-6)",ini:"+1",sens:"Vision dans le noir 18 m",ca:{total:15,contact:12,pris_au_depourvu:14},pv:5,dv:"1d8+1",js:{vig:"+3",ref:"+1",vol:"-1"},vit:"9 m (6 c.)",abb:"+1",grp:"-3",attaque:"Morgenstern +2 corps  corps (1d6) ou javeline +3  distance (1d4)",att_complete:"Morgenstern +2 corps  corps (1d6) ou javeline +3  distance (1d4)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Vision dans le noir 18 m"],carac:{for:11,dex:13,con:12,int:10,sag:9,cha:6},comptences:"Discrtion +5, Dplacement silencieux +5, Dtection +2, quitation +4",dons:"Vigilance",tactiques:"Embuscades avec surnombre, coups bas, fuit si le combat tourne mal.",butin:"Standard",est_ennemi:!0},{id:"zombie_humain",name:"Zombie humain",size:"Moyen",type:"Mort-vivant",alignment:"NM",fp:"1/2",role:"Cadavre ranim par magie noire.",details:["Masse de chair en dcomposition.","Obit aux ordres simples.","Ne peut effectuer qu'une action par round."],tactical:{bookReference:"Manuel des Monstres p.265",scenarioContext:"Cimetires, donjons, lieux de magie noire.",spells:[],specialActions:["Action unique (ne peut faire qu'une action de mouvement ou d'attaque par round)"],tacticFeats:["Robustesse"],tacticSummary:"Charge la cible la plus proche, attaque sans rflchir."},environnement:"Tous",organisation:"Tous",ini:"-1",sens:"Vision dans le noir 18 m",ca:{total:11,contact:9,pris_au_depourvu:11},pv:16,dv:"2d12+3",js:{vig:"+0",ref:"-1",vol:"+3"},vit:"9 m (6 c.) (ne peut pas courir)",abb:"+1",grp:"+2",attaque:"Coup +2 corps  corps (1d6+1)",att_complete:"Coup +2 corps  corps (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Action unique (Ext) : ne peut effectuer qu'une action de mouvement ou d'attaque par round. Peut se dplacer et attaquer uniquement en chargeant.","Rduction des dgts 5/tranchant","Traits des morts-vivants"],carac:{for:12,dex:8,con:null,int:null,sag:10,cha:1},comptences:"",dons:"Robustesse",tactiques:"Avance implacablement vers la cible la plus proche, ne fuit jamais.",butin:"Aucun",est_ennemi:!0},{id:"guerrier_1",name:"Guerrier (niveau 1)",class:"Guerrier",lvl:1,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:1,role:"Combattant entran, garde ou mercenaire.",details:["Formation martiale complte.","Matrise des armes et armures.","Solide en mle."],tactical:{bookReference:"Manuel des Joueurs p.37",scenarioContext:"Garnisons, aventuriers, mercenaires.",spells:[],specialActions:[],tacticFeats:["Arme de prdilection (pe longue)","Attaque en puissance"],tacticSummary:"Combat au corps  corps, protge les allis."},environnement:"Tous",organisation:"Solitaire ou groupe (2-4)",ini:"+1",sens:"Dtection +1",ca:{total:17,contact:11,pris_au_depourvu:16},pv:12,dv:"1d10+2",js:{vig:"+4",ref:"+1",vol:"+0"},vit:"6 m (4 c.) (armure)",abb:"+1",grp:"+3",attaque:"pe longue +4 corps  corps (1d8+2) ou arc long +2  distance (1d8)",att_complete:"pe longue +4 corps  corps (1d8+2)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:15,dex:13,con:14,int:10,sag:10,cha:8},comptences:"Escalade +4, Saut +4, Intimidation +3",dons:"Arme de prdilection (pe longue), Attaque en puissance",tactiques:"Combat au corps  corps, utilise Attaque en puissance contre ennemis lourds.",butin:"pe longue, cotte de mailles, cu en acier, 2d6 po",est_ennemi:!1},{id:"adepte_1",name:"Adepte (niveau 1)",class:"Adepte",lvl:1,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:"1/2",role:"Lanceur de sorts divin mineur, gurisseur de village.",details:["Magie divine limite.","Souvent ermite ou gurisseur.","Familier possible."],tactical:{bookReference:"Guide du Matre p.107",scenarioContext:"Villages, temples mineurs, cultes.",spells:[{name:"Sorts niveau 0 (3/jour)",details:"Cration d'eau, dtection de la magie, assistance"},{name:"Sorts niveau 1 (1/jour)",details:"Bndiction, soins lgers"}],specialActions:[],tacticFeats:[],tacticSummary:"Lance ses sorts de soutien, vite le combat direct."},environnement:"Tous",organisation:"Solitaire ou duo",ini:"+0",sens:"Dtection +3",ca:{total:10,contact:10,pris_au_depourvu:10},pv:4,dv:"1d6+1",js:{vig:"+1",ref:"+0",vol:"+4"},vit:"9 m (6 c.)",abb:"+0",grp:"+0",attaque:"Gourdin +0 corps  corps (1d6)",att_complete:"Gourdin +0 corps  corps (1d6)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts d'adepte (NLS 1) : 0 - cration d'eau, dtection de la magie, assistance ; 1 - bndiction, soins lgers"],qual_sp:[],carac:{for:10,dex:10,con:12,int:10,sag:15,cha:10},comptences:"Concentration +5, Premiers secours +6, Connaissances (religion) +4",dons:"Robustesse",tactiques:"Soigne et bnit les allis, vite le combat direct.",butin:"Symbole sacr en bois, herbes mdicinales, 1d6 po",est_ennemi:!1},{id:"squelette",name:"Squelette",size:"Moyen",type:"Mort-vivant",alignment:"NM",fp:"1/3",role:"Os anims, automate sans esprit.",details:["Obit aux ordres simples de son crateur.","Ne prend aucune initiative.","Attaque jusqu' destruction."],tactical:{bookReference:"Manuel des Monstres p.225",scenarioContext:"Gardiens de cryptes, serviteurs de ncromants.",spells:[],specialActions:[],tacticFeats:["Science de l'initiative"],tacticSummary:"Excute les ordres, attaque jusqu' destruction."},environnement:"Tous",organisation:"Tous",ini:"+5",sens:"Vision dans le noir 18 m",ca:{total:13,contact:11,pris_au_depourvu:12},pv:6,dv:"1d12",js:{vig:"+0",ref:"+1",vol:"+2"},vit:"9 m (6 c.)",abb:"+0",grp:"+1",attaque:"Cimeterre +1 corps  corps (1d6+1, 18-20) ou 2 griffes +1 corps  corps (1d4+1)",att_complete:"Cimeterre +1 corps  corps (1d6+1, 18-20) ou 2 griffes +1 corps  corps (1d4+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Rduction des dgts 5/contondant","Immunit au froid","Traits des morts-vivants"],carac:{for:13,dex:13,con:null,int:null,sag:10,cha:1},comptences:"",dons:"Science de l'initiative",tactiques:"Excute les ordres sans rflchir, attaque jusqu' destruction.",butin:"Aucun",est_ennemi:!0},{id:"kobold_expert",name:"Kobold expert (niveau 1)",class:"Expert",lvl:1,size:"Petit",type:"Humanode (Reptilien)",alignment:"LM",fp:"1/4",role:"Kobold spcialis en piges et exploration.",details:["Expert en fabrication de piges.","Connat les souterrains.","Lche mais utile."],tactical:{bookReference:"Manuel des Monstres p.161 + Guide du Matre p.109",scenarioContext:"Souterrains, mines, gouts.",spells:[],specialActions:["Dsamorage de piges","Dtection de piges"],tacticFeats:["Vigilance"],tacticSummary:"Ne combat pas, fuit et se cache, ngocie sa survie."},environnement:"Souterrains",organisation:"Solitaire ou quipe (2-4)",ini:"+1",sens:"Vision dans le noir 18 m",ca:{total:14,contact:12,pris_au_depourvu:13},pv:4,dv:"1d6",js:{vig:"+0",ref:"+1",vol:"+2"},vit:"9 m (6 c.)",abb:"+0",grp:"-5",attaque:"Dague +0 corps  corps (1d3-1)",att_complete:"Dague +0 corps  corps (1d3-1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Vision dans le noir 18 m","Sensibilit  la lumire"],carac:{for:8,dex:13,con:10,int:12,sag:10,cha:8},comptences:"Artisanat (piges) +7, Dsamorage/sabotage +7, Discrtion +9, Fouille +5",dons:"Vigilance",tactiques:"Ne combat jamais, fuit et se cache, ngocie sa survie.",butin:"Outils de voleur, petits objets vols",est_ennemi:!1},{id:"goule",name:"Goule",size:"Moyen",type:"Mort-vivant",alignment:"CM",fp:1,role:"Mort-vivant dvoreur de chair.",details:["Parle les langues qu'elle matrisait de son vivant.","Surgit par surprise des tombes ou du sol.","Transforme ses victimes en goules."],tactical:{bookReference:"Manuel des Monstres p.118",scenarioContext:"Cimetires, cryptes, gouts, lieux abandonns.",spells:[],specialActions:["Paralysie (Ext)","Fivre des goules (Ext)"],tacticFeats:["Attaques multiples"],tacticSummary:"Attaque par surprise, paralyse ses victimes puis dvore."},environnement:"Tous",organisation:"Solitaire, groupe (2-4) ou bande (7-12)",ini:"+2",sens:"Vision dans le noir 18 m",ca:{total:14,contact:12,pris_au_depourvu:12},pv:13,dv:"2d12",js:{vig:"+0",ref:"+2",vol:"+5"},vit:"9 m (6 c.)",abb:"+1",grp:"+2",attaque:"Morsure +2 corps  corps (1d6+1 plus paralysie)",att_complete:"Morsure +2 corps  corps (1d6+1 plus paralysie) et 2 griffes +0 corps  corps (1d3 plus paralysie)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Paralysie (Ext) : Vigueur DD 12 ou paralys 1d4+1 rounds. Les elfes sont immuniss. DD bas sur le Charisme.","Fivre des goules (Ext) : Maladie, morsure, Vig DD 12, incubation 1 jour, affaiblissement 1d3 Dex et 1d3 Con. Un humanode mort de cette maladie devient une goule  minuit."],qual_sp:["Traits des morts-vivants","Rsistance au renvoi +2","Vision dans le noir 18 m"],carac:{for:13,dex:15,con:null,int:13,sag:14,cha:12},comptences:"Dplacement silencieux +6, Dtection +7, Discrtion +6, quilibre +6, Escalade +5, Saut +5",dons:"Attaques multiples",tactiques:"Attaque par surprise depuis les tombes ou le sol, paralyse puis dvore.",butin:"Aucun",est_ennemi:!0},{id:"squelettes_nains_gardiens",name:"Squelettes Nains Gardiens",class:"Mort-vivant",lvl:2,size:"Moyen",type:"Mort-vivant",alignment:"NM",fp:1,environment:"Souterrains, Cryptes",organization:"Binme ou Escouade",initiative:"+5",senses:"Vision dans le noir 18 m",ac:{total:18,touch:11,flatFooted:17},hp:13,hd:"2d12",saves:{fort:"+0",ref:"+1",will:"+3"},speed:"6 m (4 c.)",attack:"Hache de guerre naine +2 corps  corps (1d10+1)",fullAttack:"Hache de guerre naine +2 corps  corps (1d10+1)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Rduction des dgts 5/contondant","Immunit au froid","Traits des morts-vivants"],abilities:{str:13,dex:13,con:null,int:null,wis:10,cha:1},skills:"",feats:"Science de l'initiative",tactics:"Combattent en silence, bloquent le passage, ne reculent jamais.",loot:"Hache de guerre naine brche, cotte de mailles rouille",isEnemy:!0,role:"Gardiens squelettiques des anciens Thanes.",details:["Portent les armoiries fanes des clans nains.","Anims par une magie ncromantique lie  la broche de Nyx.","Leur silence est total, mme lorsqu'ils frappent."],tactical:{bookReference:"Manuel des Monstres p.226",scenarioContext:"Scnario 1 - Acte 3 : Gardent l'entre du manoir dans les gouts.",spells:[],specialActions:[],tacticFeats:[{name:"Science de l'initiative",details:"+4 aux tests d'initiative."}],tacticSummary:"Attaquent  vue toute personne ne portant pas la broche de Nyx."},ogas:{occupation:"Gardent la porte du manoir",goal:"Empcher l'intrusion",attitude:"Hostile (Automate)",stake:"Aucun"}},{id:"mineur_nain_possede",name:"Mineur Nain Possd",class:"Homme d'armes",lvl:1,size:"Moyen",type:"Humanode (nain)",alignment:"NM",fp:1,environment:"Mines abandonnes, souterrains",organization:"Escouade (3-6)",initiative:"+1",senses:"Vision dans le noir 18 m, Dtection +2",ac:{total:16,touch:11,flatFooted:15},hp:11,hd:"1d8+3",saves:{fort:"+4",ref:"+1",will:"+1"},speed:"6 m (4 c.)",attack:"Pioche +4 corps  corps (1d8+3, critique x4, perant)",fullAttack:"Pioche +4 corps  corps (1d8+3, critique x4, perant)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Rsistance naine (+2 JS poison, sorts, effets magiques)","Dtection des passages secrets pierreux","Combat en aveugle dans les tunnels familiers"],abilities:{str:15,dex:12,con:16,int:10,wis:12,cha:8},skills:"Escalade +8, Artisanat (mines) +6, Intimidation +3, Dtection +2",feats:"Arme de prdilection (pioche), Robustesse",tactics:"Attaque en groupe, utilise les murs pour se protger, vise les jambes pour ralentir",loot:"Pioche use, lampe de mineur, quelques pices de cuivre",isEnemy:!0,role:"Mineurs nains corrompus par une influence malfique, combattent avec leurs outils de travail",details:["Autrefois des mineurs honorables, maintenant possds par une entit des profondeurs","Leurs yeux brillent d'une lueur rougetre dans l'obscurit","Grondent des paroles incomprhensibles en nain ancien","Attaquent sans discernement toute crature vivante"],tactical:{bookReference:"Bas sur la classe Homme d'armes D&D 3.5 + traits raciaux nains",scenarioContext:"Mines abandonnes, tunnels profonds, zones d'excavation rcentes",spells:[],specialActions:[{name:"Attaque puissante",details:"Peut utiliser une action complte pour frapper avec +2 aux dgts mais -2  l'attaque"},{name:"Cri de mineur",details:"Intimidation +3, peut faire fuir les cratures de taille P ou M (Vol DD 13)"}],tacticFeats:[{name:"Arme de prdilection (pioche)",details:"+1 aux jets d'attaque avec la pioche"},{name:"Robustesse",details:"+3 PV supplmentaires"}],tacticSummary:"Avancent en formation serre, utilisent leurs pioches pour briser les boucliers et les armures. Cherchent  encercler les adversaires."},ogas:{occupation:"Creuse sans relche dans les tunnels, cherchant quelque chose d'enterr",goal:"Trouver et librer l'entit qui les possde, ou obir  ses ordres",attitude:"Agressif et bestial, attaque  vue sans ngociation",stake:"Risque de mourir si l'entit est exorcise ; peut retrouver la lucidit temporairement"}},{id:"elementaire_terre_petit_sel",name:"lmentaire de Terre (Petit)",size:"Petit",type:"lmentaire (Terre, Extraplanaire)",alignment:"N",fp:1,role:"Petite statue de sel qui s'anime soudainement.",details:["Se dplace dans la terre comme un poisson dans l'eau.","Ressemble  une petite statue de sel dcorative.","Ne laisse aucune trace de son passage."],tactical:{bookReference:"Manuel des Monstres p.94",scenarioContext:"Scne 2 : Les Statues de Sel - petites statues qui attaquent en groupe.",spells:[],specialActions:["Matrise de la Terre","Nage dans la terre"],tacticFeats:["Attaque en puissance"],tacticSummary:"Attaque en groupe, surgit du sol pour surprendre les PJ. Facile  dtruire mais nombreux."},environnement:"Plan lmentaire de la Terre",organisation:"Solitaire",ini:"-1",sens:"Vision dans le noir 18 m, perception des vibrations 18 m",ca:{total:17,contact:10,pris_au_depourvu:17},pv:11,dv:"2d8+2",js:{vig:"+4",ref:"-1",vol:"+0"},rd:"5/",vit:"6 m (4 c.), nage dans la terre 6 m",abb:"+1",grp:"+5",attaque:"Coup +5 corps  corps (1d6+4)",att_complete:"Coup +5 corps  corps (1d6+4)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Matrise de la Terre (Ext) : +1 attaque/dgts si l'adversaire et lui sont au sol. -4 si ennemi dans l'eau ou les airs."],qual_sp:["Traits des lmentaires","Rduction des dgts 5/","Nage dans la terre","Immunit : poison, sommeil, paralysie, tourdissement"],carac:{for:19,dex:8,con:15,int:4,sag:11,cha:11},competences:"Escalade +10, Perception +6",dons:"Attaque en puissance",est_ennemi:!0}],c_=[{id:"hyene",name:"Hyne",size:"Moyen",type:"Animal",alignment:"N",fp:1,role:"Charognard de meute rus.",details:["Chasseur en meute.","Vocalisations inquitantes.","Mesure 90 cm de long et pse 55 kg."],tactical:{bookReference:"Manuel des Monstres p.274",scenarioContext:"Dserts chauds, plaines.",spells:[],specialActions:[],tacticFeats:["Vigilance"],tacticSummary:"Chasse en meute, encercle les proies isoles."},environnement:"Dserts chauds",organisation:"Solitaire, couple ou meute (7-16)",ini:"+2",sens:"Vision nocturne, odorat",ca:{total:14,contact:12,pris_au_depourvu:12},pv:13,dv:"2d8+4",js:{vig:"+5",ref:"+5",vol:"+1"},vit:"15 m (10 c.)",abb:"+1",grp:"+3",attaque:"Morsure +3 corps  corps (1d6+3)",att_complete:"Morsure +3 corps  corps (1d6+3)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Vision nocturne","Odorat"],carac:{for:14,dex:15,con:15,int:2,sag:13,cha:6},comptences:"Discrtion +3, Dtection +4, Perception auditive +6",dons:"Vigilance",tactiques:"Chasse en meute, encercle et submerge les proies isoles.",butin:"Aucun",est_ennemi:!0},{id:"adepte_2",name:"Adepte (niveau 2)",class:"Adepte",lvl:2,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:1,role:"Lanceur de sorts divin mineur.",details:["Magie divine limite.","Gurisseur ou cultiste.","Familier possible."],tactical:{bookReference:"Guide du Matre p.107",scenarioContext:"Temples, cultes, villages.",spells:[{name:"Sorts niveau 0 (3/jour)",details:"Dtection de la magie, lumire, assistance"},{name:"Sorts niveau 1 (3/jour)",details:"Bndiction, frayeur, soins lgers"}],specialActions:[],tacticFeats:["Robustesse"],tacticSummary:"Lance frayeur puis reste  distance."},environnement:"Tous",organisation:"Solitaire ou groupe (2-4)",ini:"+0",sens:"Dtection +5",ca:{total:11,contact:10,pris_au_depourvu:11},pv:11,dv:"2d6+4",js:{vig:"+1",ref:"+0",vol:"+5"},vit:"9 m (6 c.)",abb:"+1",grp:"+1",attaque:"Gourdin +1 corps  corps (1d6)",att_complete:"Gourdin +1 corps  corps (1d6)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts d'adepte (NLS 2) : 0 - dtection de la magie, lumire, assistance ; 1 - bndiction, frayeur (DD 13), soins lgers"],qual_sp:[],carac:{for:10,dex:10,con:14,int:10,sag:15,cha:10},comptences:"Concentration +7, Premiers secours +7, Connaissances (religion) +5",dons:"Robustesse",tactiques:"Lance frayeur puis soigne les allis, vite la mle.",butin:"Symbole sacr, composantes de sorts, 2d6 po",est_ennemi:!0},{id:"guerrier_nain_2",name:"Guerrier nain (niveau 2)",class:"Guerrier",lvl:2,size:"Moyen",type:"Humanode (Nain)",alignment:"LN",fp:2,role:"Combattant nain en armure lourde.",details:["Traits raciaux nains.","Entranement martial.","Solide en dfense."],tactical:{bookReference:"Manuel des Joueurs p.14 (Nain) + p.37 (Guerrier)",scenarioContext:"Forteresses, mines, temples nains.",spells:[],specialActions:[],tacticFeats:["Arme de prdilection (hache de guerre naine)","Attaque en puissance"],tacticSummary:"Combat en formation, utilise sa stabilit."},environnement:"Souterrains, montagnes",organisation:"Solitaire, binme ou escouade (4-8)",ini:"+0",sens:"Vision dans le noir 18 m",ca:{total:18,contact:10,pris_au_depourvu:18},pv:22,dv:"2d10+6",js:{vig:"+6",ref:"+0",vol:"+1"},vit:"6 m (4 c.) (armure, non rduite par charge)",abb:"+2",grp:"+4",attaque:"Hache de guerre naine +5 corps  corps (1d10+2, x3)",att_complete:"Hache de guerre naine +5 corps  corps (1d10+2, x3)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Traits des nains : vision dans le noir 18 m, stabilit (+4 contre bousculade/croc-en-jambe), +2 JS contre poison/sorts, +1 attaque contre orques/gobelinodes, +4 CA esquive contre gants, connaissance de la pierre"],carac:{for:15,dex:10,con:16,int:10,sag:12,cha:6},comptences:"Escalade +4, Intimidation +2, Artisanat (armes) +2",dons:"Arme de prdilection (hache de guerre naine), Attaque en puissance",tactiques:"Combat en formation, utilise stabilit pour tenir la ligne.",butin:"Hache de guerre naine, clibanion, cu en acier lourd, 2d6 po",est_ennemi:!1},{id:"loup",name:"Loup",size:"Moyen",type:"Animal",alignment:"N",fp:1,role:"Prdateur de meute rus et persistant.",details:["Chasseur en meute.","Tactique de flanquement.","Excellent pisteur."],tactical:{bookReference:"Manuel des Monstres p.274",scenarioContext:"Forts, plaines, montagnes.",spells:[],specialActions:["Croc-en-jambe"],tacticFeats:["Pistage","Arme de prdilection (morsure)"],tacticSummary:"Envoie quelques individus en frontal pendant que le reste encercle par les flancs."},environnement:"Forts tempres",organisation:"Solitaire, couple, meute (7-16)",ini:"+2",sens:"Vision nocturne, odorat",ca:{total:14,contact:12,pris_au_depourvu:12},pv:13,dv:"2d8+4",js:{vig:"+5",ref:"+5",vol:"+1"},vit:"15 m (10 c.)",abb:"+1",grp:"+2",attaque:"Morsure +3 corps  corps (1d6+1)",att_complete:"Morsure +3 corps  corps (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Croc-en-jambe (Ext) : si morsure touche, peut tenter un croc-en-jambe (+1 au test) en action libre sans provoquer d'AO. Si chec, l'adversaire ne peut pas riposter."],qual_sp:["Vision nocturne","Odorat"],carac:{for:13,dex:15,con:15,int:2,sag:12,cha:6},comptences:"Discrtion +2, Dplacement silencieux +3, Dtection +3, Perception auditive +3, Survie +1 (+5 pistage par odorat)",dons:"Pistage (bonus), Arme de prdilection (morsure)",tactiques:"Encerclement, flanquement, croc-en-jambe pour faire tomber les proies.",butin:"Aucun",est_ennemi:!0},{id:"guerrier_2",name:"Guerrier (niveau 2)",class:"Guerrier",lvl:2,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:2,role:"Combattant entran, garde ou mercenaire.",details:["Formation martiale complte.","Matrise des armes et armures.","Solide en mle."],tactical:{bookReference:"Manuel des Joueurs p.37",scenarioContext:"Garnisons, aventuriers, mercenaires.",spells:[],specialActions:[],tacticFeats:["Arme de prdilection (hallebarde)","Expertise du combat"],tacticSummary:"Utilise l'allonge de la hallebarde pour contrler le terrain."},environnement:"Tous",organisation:"Solitaire, binme ou escouade (4-8)",ini:"+1",sens:"Dtection +1",ca:{total:17,contact:11,pris_au_depourvu:16},pv:20,dv:"2d10+4",js:{vig:"+5",ref:"+1",vol:"+0"},vit:"6 m (4 c.) (armure)",abb:"+2",grp:"+4",attaque:"Hallebarde +6 corps  corps (1d10+3, x3)",att_complete:"Hallebarde +6 corps  corps (1d10+3, x3)",espace:"1,5 m",allonge:"3 m (hallebarde)",att_sp:[],qual_sp:[],carac:{for:15,dex:13,con:14,int:10,sag:10,cha:8},comptences:"Escalade +5, Intimidation +4, Saut +5",dons:"Arme de prdilection (hallebarde), Expertise du combat",tactiques:"Utilise l'allonge pour frapper avant d'tre touch, tient la ligne.",butin:"Hallebarde, cotte de mailles, 2d6 po",est_ennemi:!1},{id:"contrematre_possede",name:"Contrematre Possd",class:"Homme d'armes",lvl:2,size:"Moyen",type:"Humanode (nain)",alignment:"NM",fp:2,environment:"Mines abandonnes, chambres de contrematre",organization:"Dirige une escouade (3-6 mineurs)",initiative:"+2",senses:"Vision dans le noir 18 m, Dtection +4",ac:{total:17,touch:12,flatFooted:15},hp:19,hd:"2d8+6",saves:{fort:"+5",ref:"+2",will:"+2"},speed:"6 m (4 c.)",attack:"Pioche matresse +6 corps  corps (1d10+4, critique x4, perant)",fullAttack:"Pioche matresse +6 corps  corps (1d10+4, critique x4, perant)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Ordre d'attaque coordonn (+1 aux jets d'attaque pour les mineurs allis)"],specialQualities:["Rsistance naine (+2 JS poison, sorts, effets magiques)","Dtection des passages secrets pierreux","Commandement des mineurs possds","Connaissance parfaite des tunnels"],abilities:{str:17,dex:14,con:16,int:12,wis:14,cha:10},skills:"Escalade +9, Artisanat (mines) +8, Intimidation +6, Dtection +4, Psychologie +3",feats:"Arme de prdilection (pioche), Robustesse, Science de l'initiative",tactics:"Coordonne les attaques de son escouade, protge les mineurs blesss, utilise sa connaissance des tunnels",loot:"Pioche matresse (+1), plan de mine, boussole magique",isEnemy:!0,role:"Leader des mineurs possds, plus intelligent et dangereux",details:["Ancien contrematre respect, maintenant le serviteur principal de l'entit","Capable de communiquer partiellement avec les vivants","Stratgique malgr la possession, organise des embuscades","Porte des tatouages runiques qui brillent faiblement"],tactical:{bookReference:"Bas sur la classe Homme d'armes niveau 2 + traits raciaux nains",scenarioContext:"Chambres de contrematre, carrefours importants des mines",spells:[],specialActions:[{name:"Ordre de charge",details:"Une fois par combat, tous les mineurs allis peuvent faire une charge sans pnalit d'attaque"},{name:"Connaissance des tunnels",details:"Peut prdire les mouvements des ennemis dans les tunnels familiers, +2 aux jets d'attaque"}],tacticFeats:[{name:"Science de l'initiative",details:"+4  l'initiative, agit souvent en premier"},{name:"Arme de prdilection (pioche)",details:"+1 aux jets d'attaque avec la pioche matresse"}],tacticSummary:"Dirige ses mineurs avec des ordres efficaces, utilise sa connaissance des tunnels pour tendre des embuscades. Protge les mineurs blesss et peut coordonner des attaques sur des points faibles."},ogas:{occupation:"Organise les travaux dans les mines selon les volonts de l'entit",goal:"Servir fidlement l'entit et tendre son influence dans les profondeurs",attitude:"Calculateur et cruel, peut ngocier brivement avant d'attaquer",stake:"Risque de perdre son statut si l'entit est affaiblie ; peut rvler des informations sous torture"}}],d_=[{id:"cube_gelatineux",name:"Cube glatineux",size:"Trs Grand",type:"Vase",alignment:"N",fp:3,role:"Monstre presque transparent qui absorbe tout sur son passage.",details:["Difficile  reprer (Dtection DD 15).","Ne digre que les matires organiques.","Fait 4,50 m d'arte et pse 25 tonnes."],tactical:{bookReference:"Manuel des Monstres p.53",scenarioContext:"Souterrains, donjons, cavernes.",spells:[],specialActions:["Enveloppement","Paralysie","Acide"],tacticFeats:[],tacticSummary:"Avance lentement et enveloppe ses proies. Difficile  voir."},environnement:"Souterrains",organisation:"Solitaire",ini:"-5",sens:"Vision aveugle 18 m",ca:{total:3,contact:3,pris_au_depourvu:3},pv:54,dv:"4d10+32",js:{vig:"+9",ref:"-4",vol:"-4"},vit:"4,50 m (3 c.)",abb:"+3",grp:"+11",attaque:"Coup +1 corps  corps (1d6 plus 1d6 acide)",att_complete:"Coup +1 corps  corps (1d6 plus 1d6 acide)",espace:"4,50 m",allonge:"3 m",att_sp:["Acide (Ext) : n'affecte pas pierre ni mtal, 1d6 dgts/round","Enveloppement (Ext) : avale crature G ou moins, Rf DD 13 pour viter","Paralysie (Ext) : Vig DD 20 ou paralys 3d6 rounds"],qual_sp:["Traits des vases","Immunit  l'lectricit","Transparence (Dtection DD 15 pour le reprer)","Vision aveugle 18 m"],carac:{for:10,dex:1,con:26,int:null,sag:1,cha:1},comptences:"",dons:"",tactiques:"Avance lentement et enveloppe tout ce qu'il touche. Presque invisible.",butin:"1/10 pices, 50% objets prcieux (mtal/pierre uniquement)",est_ennemi:!0},{id:"expert_nain_3",name:"Expert nain (niveau 3)",class:"Expert",lvl:3,size:"Moyen",type:"Humanode (Nain)",alignment:"N",fp:2,role:"Artisan, mineur ou spcialiste nain.",details:["Traits raciaux nains.","Spcialiste technique.","Connaissance des souterrains."],tactical:{bookReference:"Guide du Matre p.109 + Manuel des Joueurs p.14",scenarioContext:"Mines, forges, ateliers nains.",spells:[],specialActions:[],tacticFeats:["Talent (Artisanat)"],tacticSummary:"Fuit le combat, utilise ses connaissances techniques."},environnement:"Souterrains, montagnes",organisation:"Solitaire ou quipe (2-4)",ini:"+0",sens:"Vision dans le noir 18 m",ca:{total:13,contact:10,pris_au_depourvu:13},pv:16,dv:"3d6+6",js:{vig:"+3",ref:"+1",vol:"+4"},vit:"6 m (4 c.)",abb:"+2",grp:"+3",attaque:"Marteau lger +3 corps  corps (1d4+1)",att_complete:"Marteau lger +3 corps  corps (1d4+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Traits des nains : vision dans le noir 18 m, stabilit, +2 JS contre poison/sorts, connaissance de la pierre"],carac:{for:12,dex:10,con:14,int:14,sag:12,cha:6},comptences:"Artisanat (forge) +11, Artisanat (piges) +8, Dtection +7, Profession (mineur) +7, Estimation +8",dons:"Talent (Artisanat forge), Vigilance",tactiques:"Fuit le combat, utilise ses comptences pour aider le groupe.",butin:"Outils de matre artisan, 3d6 po",ogas:{occupation:"Travaille dans la mine ou la forge",goal:"Accomplir son travail et protger son clan",attitude:"Mfiant envers les trangers, loyal envers les nains",stake:"Risque de perdre son travail ; peut fournir des informations techniques"},est_ennemi:!1},{id:"araignee_monstrueuse_g",name:"Araigne monstrueuse (Grande)",size:"Grand",type:"Vermine",alignment:"N",fp:2,role:"Prdateur venimeux qui tisse des toiles.",details:["Chasse  l'afft ou en toile.","Venin paralysant.","Grimpe sur toutes surfaces."],tactical:{bookReference:"Manuel des Monstres p.288",scenarioContext:"Forts, souterrains, ruines.",spells:[],specialActions:["Poison","Toile"],tacticFeats:["Attaque en finesse (bonus)"],tacticSummary:"Tend une embuscade depuis sa toile, mord pour empoisonner."},environnement:"Forts tempres ou souterrains",organisation:"Solitaire ou colonie (2-5)",ini:"+3",sens:"Vision dans le noir 18 m, perception des vibrations 18 m",ca:{total:14,contact:12,pris_au_depourvu:11},pv:22,dv:"4d8+4",js:{vig:"+5",ref:"+4",vol:"+1"},vit:"9 m (6 c.), escalade 6 m",abb:"+3",grp:"+9",attaque:"Morsure +4 corps  corps (1d8+3 plus poison)",att_complete:"Morsure +4 corps  corps (1d8+3 plus poison)",espace:"3 m",allonge:"1,5 m",att_sp:["Poison (Ext) : morsure, Vig DD 13, dgts initiaux 1d6 For, dgts secondaires 1d6 For.","Toile (Ext) : 8/jour, attaque de contact  distance, porte 15 m, DD 13 pour se librer."],qual_sp:["Traits des vermines","Vision dans le noir 18 m","Perception des vibrations 18 m"],carac:{for:15,dex:17,con:12,int:null,sag:10,cha:2},comptences:"Escalade +11, Discrtion +3, Saut +2, Dtection +4",dons:"Attaque en finesse (bonus)",tactiques:"Embuscade depuis la toile, mord pour empoisonner, enveloppe les proies.",butin:"Aucun",est_ennemi:!0},{id:"adepte_3",name:"Adepte (niveau 3)",class:"Adepte",lvl:3,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:2,role:"Lanceur de sorts divin mineur.",details:["Magie divine limite.","Accs aux sorts de niveau 1.","Familier possible."],tactical:{bookReference:"Guide du Matre p.107",scenarioContext:"Temples, cultes, villages.",spells:[{name:"Sorts niveau 0 (3/jour)",details:"Dtection de la magie, lumire, lecture de la magie"},{name:"Sorts niveau 1 (3/jour)",details:"Injonction, soins lgers, frayeur"}],specialActions:[],tacticFeats:["Incantation de combat"],tacticSummary:"Lance injonction ou frayeur, puis reste  distance."},environnement:"Tous",organisation:"Solitaire ou groupe (2-4)",ini:"+1",sens:"Dtection +6",ca:{total:13,contact:11,pris_au_depourvu:12},pv:14,dv:"3d6+3",js:{vig:"+2",ref:"+2",vol:"+5"},vit:"9 m (6 c.)",abb:"+1",grp:"+1",attaque:"Dague +1 corps  corps (1d4)",att_complete:"Dague +1 corps  corps (1d4)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts d'adepte (NLS 3) : 0 - dtection de la magie, lumire, lecture de la magie ; 1 - injonction (DD 13), soins lgers (1d8+3), frayeur (DD 13)"],qual_sp:[],carac:{for:10,dex:12,con:12,int:10,sag:15,cha:10},comptences:"Concentration +7, Premiers secours +8, Connaissances (religion) +6",dons:"Incantation de combat, Robustesse",tactiques:"Lance frayeur ou injonction puis vite la mle.",butin:"Symbole sacr, composantes de sorts, 2d6 po",ogas:{occupation:"Officie dans un temple ou un culte mineur",goal:"Servir sa divinit et protger les fidles",attitude:"Pieux et mfiant envers les trangers non-croyants",stake:"Risque l'excommunication ; peut offrir gurison et bndictions"},est_ennemi:!0},{id:"roublard_3",name:"Roublard (niveau 3)",class:"Roublard",lvl:3,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:3,role:"Spcialiste furtif, voleur ou claireur.",details:["Attaque sournoise.","Recherche des piges.","Esquive instinctive."],tactical:{bookReference:"Manuel des Joueurs p.49",scenarioContext:"Donjons, villes, aventuriers.",spells:[],specialActions:["Attaque sournoise +2d6"],tacticFeats:["Science de l'initiative","Arme de prdilection (pe courte)"],tacticSummary:"Attaque par surprise depuis les ombres, vise les cibles isoles."},environnement:"Tous",organisation:"Solitaire ou duo",ini:"+7",sens:"Dtection +6, recherche des piges",ca:{total:16,contact:13,pris_au_depourvu:13},pv:16,dv:"3d6+3",js:{vig:"+2",ref:"+6",vol:"+1"},vit:"9 m (6 c.)",abb:"+2",grp:"+3",attaque:"pe courte +6 corps  corps (1d6+1, 19-20)",att_complete:"pe courte +6 corps  corps (1d6+1, 19-20)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Attaque sournoise +2d6"],qual_sp:["Recherche des piges","Esquive instinctive","vasion"],carac:{for:12,dex:17,con:12,int:14,sag:10,cha:8},comptences:"Crochetage +9, Dsamorage/sabotage +8, Discrtion +9, Dplacement silencieux +9, Dtection +6, Fouille +8",dons:"Science de l'initiative, Arme de prdilection (pe courte)",tactiques:"Attaque par surprise depuis les ombres, vise les cibles isoles, fuit si dcouvert.",butin:"pe courte de matre, armure de cuir, outils de voleur, 3d6 po",ogas:{occupation:"Opre en solitaire ou pour une guilde",goal:"Raliser sa mission ou s'enrichir",attitude:"Calculateur et opportuniste, ngocie si coinc",stake:"Risque la capture ou la mort ; peut fournir des informations contre sa libert"},est_ennemi:!0},{id:"elementaire_terre_petit",name:"lmentaire de Terre (Petit)",size:"Petit",type:"lmentaire (Terre, Extraplanaire)",alignment:"N",fp:1,role:"Incarnation de la terre, invoqu par magie.",details:["Se dplace dans la terre comme un poisson dans l'eau.","Ne laisse aucune trace de son passage.","Parle le terreux mais choisit rarement de s'exprimer."],tactical:{bookReference:"Manuel des Monstres p.94",scenarioContext:"Souterrains, mines, invocation.",spells:[],specialActions:["Matrise de la Terre","Nage dans la terre","Pousse"],tacticFeats:["Attaque en puissance"],tacticSummary:"Surgit du sol, frappe et se replie dans la terre. N'abandonne jamais."},environnement:"Plan lmentaire de la Terre",organisation:"Solitaire",ini:"-1",sens:"Vision dans le noir 18 m, perception des vibrations 18 m",ca:{total:17,contact:10,pris_au_depourvu:17},pv:11,dv:"2d8+2",js:{vig:"+4",ref:"-1",vol:"+0"},vit:"6 m (4 c.), nage dans la terre 6 m",abb:"+1",grp:"+5",attaque:"Coup +5 corps  corps (1d6+4)",att_complete:"Coup +5 corps  corps (1d6+4)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Matrise de la Terre (Ext) : +1 attaque/dgts si l'adversaire et lui sont au sol. -4 si ennemi dans l'eau ou les airs.","Pousse (Ext) : peut tenter une bousculade sans provoquer d'AO."],qual_sp:["Traits des lmentaires","Nage dans la terre (Ext) : traverse terre/pierre comme un poisson dans l'eau, sans laisser de trace"],carac:{for:17,dex:8,con:13,int:4,sag:11,cha:11},comptences:"Dtection +3, Perception auditive +3",dons:"Attaque en puissance",tactiques:"Surgit du sol pour surprendre, frappe violemment. N'abandonne jamais.",butin:"Aucun",est_ennemi:!0},{id:"bleme_fp3",name:"le Sujet J-01,Jaren (Blme)",size:"Moyen",type:"Mort-vivant",alignment:"LM",fp:3,role:"Mort-vivant intelligent qui draine l'nergie vitale.",details:["Reflet tordu de sa forme vivante.","Taille et poids d'un humain.","Parle le commun."],tactical:{bookReference:"Manuel des Monstres p.255",scenarioContext:"Tombes, cryptes, lieux maudits.",spells:[],specialActions:["Absorption d'nergie","Cration de rejetons"],tacticFeats:["Vigilance","Combat en aveugle"],tacticSummary:"Attaque pour drainer l'nergie, cre des rejetons."},environnement:"Tous",organisation:"Solitaire, couple, bande (3-5) ou meute (6-11)",ini:"+1",sens:"Vision dans le noir 18 m",ca:{total:15,contact:11,pris_au_depourvu:14},pv:26,dv:"4d12",js:{vig:"+1",ref:"+2",vol:"+5"},vit:"9 m (6 c.)",abb:"+2",grp:"+3",attaque:"Coup +3 corps  corps (1d4+1 plus absorption d'nergie)",att_complete:"Coup +3 corps  corps (1d4+1 plus absorption d'nergie)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Absorption d'nergie (Sur) : chaque coup inflige 1 niveau ngatif. Vig DD 14 pour annuler aprs 24h.","Cration de rejetons (Sur) : humanode tu par absorption devient un blme en 1d4 rounds."],qual_sp:["Traits des morts-vivants","Vision dans le noir 18 m"],carac:{for:12,dex:12,con:null,int:11,sag:13,cha:15},comptences:"Discrtion +8, Dplacement silencieux +16, Dtection +10, Perception auditive +10",dons:"Vigilance, Combat en aveugle",tactiques:"Attaque pour drainer l'nergie vitale, cre des rejetons avec ses victimes.",butin:"Standard",est_ennemi:!0},{id:"monstre_rouilleur",name:"Monstre rouilleur",size:"Moyen",type:"Aberration",alignment:"N",fp:3,role:"Prdateur de mtal aux antennes prhensiles.",details:["Peau variant du brun-jaune au rouge-rouille.","Mesure 1,50 m de long et 90 cm de haut, pse 90 kg.","Ses antennes peuvent rouiller le mtal au contact."],tactical:{bookReference:"Manuel des Monstres p.216",scenarioContext:"Souterrains, mines, cavernes.",spells:[],specialActions:["Rouille"],tacticFeats:["Vigilance","Pistage"],tacticSummary:"Attaque les objets mtalliques ports, cherche  dtruire armes et armures."},environnement:"Souterrains",organisation:"Solitaire ou couple",ini:"+3",sens:"Vision dans le noir 18 m, odorat du mtal 27 m",ca:{total:18,contact:13,pris_au_depourvu:15},pv:27,dv:"5d8+5",js:{vig:"+2",ref:"+4",vol:"+5"},vit:"12 m (8 c.)",abb:"+3",grp:"+3",attaque:"Antenne +3 contact (rouille)",att_complete:"Antenne +3 contact (rouille) et morsure -2 corps  corps (1d3)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Rouille (Ext) : toucher avec antenne dtruit instantanment mtal non-magique. Mtal magique : Rf DD 17 ou destruction (bonus magique comme bonus au JS)."],qual_sp:["Vision dans le noir 18 m","Odorat du mtal (dtecte et localise mtal  27 m)"],carac:{for:10,dex:17,con:13,int:2,sag:13,cha:8},comptences:"Dtection +7, Perception auditive +7",dons:"Vigilance, Pistage",tactiques:"Se dirige vers le mtal, touche armes et armures pour les dtruire, mange le mtal rouill.",butin:"Aucun (consomme le mtal)",est_ennemi:!0},{id:"ombre",name:"Ombre",size:"Moyen",type:"Mort-vivant (Incorporel)",alignment:"CM",fp:3,role:"Mort-vivant incorporel qui draine la force vitale.",details:["Difficile  voir dans l'obscurit, ressort en pleine lumire.","Mesure 1,50  1,80 m et n'a pas de poids.","Ne peut pas parler intelligiblement."],tactical:{bookReference:"Manuel des Monstres p.222",scenarioContext:"Souterrains, lieux sombres, tombes.",spells:[],specialActions:["Drain de Force","Cration de rejetons"],tacticFeats:["Esquive"],tacticSummary:"Attaque depuis les ombres pour drainer la Force. Cre des rejetons."},environnement:"Tous",organisation:"Solitaire, bande (2-5) ou nue (6-11)",ini:"+2",sens:"Vision dans le noir 18 m",ca:{total:13,contact:13,pris_au_depourvu:11},pv:19,dv:"3d12",js:{vig:"+1",ref:"+3",vol:"+4"},vit:"Vol 12 m (bonne)",abb:"+1",grp:"",attaque:"Contact incorporel +3 corps  corps (1d6 Force)",att_complete:"Contact incorporel +3 corps  corps (1d6 Force)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Drain de Force (Sur) : toucher inflige 1d6 points d'affaiblissement de Force. Une crature rduite  For 0 meurt.","Cration de rejetons (Sur) : humanode tu par drain de Force devient une ombre en 1d4 rounds."],qual_sp:["Traits des morts-vivants","Traits des cratures incorporelles","Rsistance au renvoi +2"],carac:{for:null,dex:14,con:null,int:6,sag:12,cha:13},comptences:"Dtection +7, Discrtion +8 (+4 dans lumire vive, +8 dans ombre), Perception auditive +7, Fouille +4",dons:"Esquive, Vigilance",tactiques:"Attaque depuis les ombres, draine la Force, cre des rejetons.",butin:"Aucun",est_ennemi:!0},{id:"ankheg",name:"Ankheg",size:"Grand",type:"Crature magique",alignment:"N",fp:3,role:"Prdateur fouisseur  six pattes friand de chair frache.",details:["Mesure environ 3 m de long et pse 360 kg.","Couleur brun-jaune dessous, brun-roux dessus.","Creuse des tunnels sinueux jusqu' 12 m sous terre."],tactical:{bookReference:"Manuel des Monstres p.15",scenarioContext:"Forts, plaines agricoles, souterrains.",spells:[],specialActions:["Crachat d'acide","treinte"],tacticFeats:["Vigilance","Robustesse"],tacticSummary:"Surgit du sol, agrippe sa proie et l'entrane sous terre."},environnement:"Plaines tempres",organisation:"Solitaire ou groupe (2-4)",ini:"+0",sens:"Vision dans le noir 18 m, vision nocturne, perception des vibrations 18 m",ca:{total:18,contact:9,pris_au_depourvu:18},pv:28,dv:"3d10+12",js:{vig:"+6",ref:"+3",vol:"+2"},vit:"9 m (6 c.), creusement 6 m",abb:"+3",grp:"+12",attaque:"Morsure +7 corps  corps (2d6+7 plus 1d4 acide)",att_complete:"Morsure +7 corps  corps (2d6+7 plus 1d4 acide)",espace:"3 m",allonge:"1,5 m",att_sp:["treinte (Ext) : si morsure touche, peut tenter une lutte en action libre sans provoquer d'AO","Crachat d'acide (Ext) : ligne 9 m, 4d4 acide, Rf DD 14 demi-dgts, utilisable 1/6 heures"],qual_sp:["Vision dans le noir 18 m","Vision nocturne","Perception des vibrations 18 m"],carac:{for:21,dex:10,con:17,int:1,sag:13,cha:6},comptences:"Escalade +8, Dtection +6, Perception auditive +6",dons:"Vigilance, Robustesse",tactiques:"Surgit du sol pour surprendre, agrippe et entrane sous terre. Crache de l'acide en dernier recours.",butin:"Aucun",est_ennemi:!0},{id:"elementaire_terre_moyen",name:"lmentaire de Terre (Moyen)",size:"Moyen",type:"lmentaire (Terre, Extraplanaire)",alignment:"N",fp:3,role:"Incarnation de la terre, statue de sel anime.",details:["Se dplace dans la terre comme un poisson dans l'eau.","Ressemble  une statue de sel brutale.","Parle le terreux mais choisit rarement de s'exprimer."],tactical:{bookReference:"Manuel des Monstres p.94",scenarioContext:"Scne 2 : Les Statues de Sel - statues qui s'animent quand les PJ s'approchent.",spells:[],specialActions:["Matrise de la Terre","Nage dans la terre","Pousse"],tacticFeats:["Attaque en puissance"],tacticSummary:"Surgit du sol, frappe violemment, repousse les ennemis. Ressemble  une statue inerte au repos."},environnement:"Plan lmentaire de la Terre",organisation:"Solitaire",ini:"-1",sens:"Vision dans le noir 18 m, perception des vibrations 18 m",ca:{total:18,contact:8,pris_au_depourvu:18},pv:34,dv:"4d8+16",js:{vig:"+7",ref:"+0",vol:"+1"},rd:"5/",vit:"6 m (4 c.), nage dans la terre 6 m",abb:"+4",grp:"+11",attaque:"Coup +8 corps  corps (1d8+5)",att_complete:"2 coups +8 corps  corps (1d8+5)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Matrise de la Terre (Ext) : +1 attaque/dgts si l'adversaire et lui sont au sol. -4 si ennemi dans l'eau ou les airs.","Pousse (Ext) : peut tenter une bousculade sans provoquer d'AO."],qual_sp:["Traits des lmentaires","Rduction des dgts 5/","Nage dans la terre","Immunit : poison, sommeil, paralysie, tourdissement"],carac:{for:21,dex:8,con:19,int:4,sag:11,cha:11},comptences:"Escalade +12, Perception +8",dons:"Attaque en puissance",est_ennemi:!0}],m_=[{id:"expert_4",name:"Expert (niveau 4)",class:"Expert",lvl:4,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:3,role:"Spcialiste non-combattant.",details:["Comptences varies.","Artisan, sage ou spcialiste.","Fuit le combat."],tactical:{bookReference:"Guide du Matre p.109",scenarioContext:"Guildes, acadmies, ateliers.",spells:[],specialActions:[],tacticFeats:["Talent (comptence)"],tacticSummary:"Fuit le combat, utilise ses comptences."},environnement:"Tous",organisation:"Solitaire ou groupe",ini:"+1",sens:"Dtection +7",ca:{total:13,contact:11,pris_au_depourvu:12},pv:18,dv:"4d6+4",js:{vig:"+2",ref:"+2",vol:"+5"},vit:"9 m (6 c.)",abb:"+3",grp:"+3",attaque:"Dague +3 corps  corps (1d4)",att_complete:"Dague +3 corps  corps (1d4)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:10,dex:12,con:12,int:15,sag:13,cha:10},comptences:"Artisanat (un au choix) +12, Connaissances (une au choix) +9, Dtection +7, Profession (une au choix) +8",dons:"Talent (Artisanat), Vigilance",tactiques:"Fuit le combat, utilise ses connaissances pour aider.",butin:"Outils de matre, 4d6 po",ogas:{occupation:"Spcialiste travaillant dans son domaine d'expertise",goal:"Accomplir son travail et tre reconnu pour ses comptences",attitude:"Professionnel et mthodique, vite les conflits",stake:"Risque sa rputation ; peut fournir services et informations techniques"},est_ennemi:!1},{id:"chien_esquiveur",name:"Chien esquiveur",size:"Moyen",type:"Crature magique",alignment:"LB",fp:4,role:"Canid intelligent capable de se tlporter.",details:["Intelligent et loyal.","Peut clignoter (se tlporter).","Parle sa propre langue."],tactical:{bookReference:"Manuel des Monstres p.28",scenarioContext:"Plaines, forts.",spells:[],specialActions:["Clignotement"],tacticFeats:["Pistage","Arme de prdilection (morsure)"],tacticSummary:"Clignote pour attaquer puis disparat."},environnement:"Plaines tempres",organisation:"Solitaire, couple ou meute (7-16)",ini:"+3",sens:"Vision dans le noir 18 m, odorat",ca:{total:16,contact:13,pris_au_depourvu:13},pv:22,dv:"4d10",js:{vig:"+4",ref:"+7",vol:"+4"},vit:"12 m (8 c.)",abb:"+4",grp:"+4",attaque:"Morsure +4 corps  corps (1d6)",att_complete:"Morsure +4 corps  corps (1d6)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Clignotement (Sur) : comme sort clignotement, action libre","Porte dimensionnelle (Mag) : 1/round, personnel plus 25 kg","Vision dans le noir 18 m","Odorat"],carac:{for:10,dex:17,con:10,int:10,sag:13,cha:11},comptences:"Dtection +7, Dplacement silencieux +7, Discrtion +7, Perception auditive +7, Survie +4",dons:"Pistage, Arme de prdilection (morsure)",tactiques:"Clignote pour attaquer puis disparat, harcelle les ennemis.",butin:"Aucun",est_ennemi:!1},{id:"ogre",name:"Ogre",size:"Grand",type:"Gant",alignment:"CM",fp:3,role:"Brute gante stupide et vorace.",details:["Mesure 2,70  3 m de haut.","Pse 300  350 kg.","Parle le gant."],tactical:{bookReference:"Manuel des Monstres p.199",scenarioContext:"Collines, montagnes, marais.",spells:[],specialActions:[],tacticFeats:["Robustesse","Arme de prdilection (massue)"],tacticSummary:"Charge et frappe, ne fuit que si gravement bless."},environnement:"Collines tempres",organisation:"Solitaire, couple, bande (3-4) ou gang (5-8)",ini:"-1",sens:"Vision dans le noir 18 m, vision nocturne",ca:{total:16,contact:8,pris_au_depourvu:16},pv:29,dv:"4d8+11",js:{vig:"+6",ref:"+0",vol:"+1"},vit:"9 m (6 c.) (armure), 12 m base",abb:"+3",grp:"+12",attaque:"Massue +8 corps  corps (2d8+7) ou javeline +1  distance (1d8+5)",att_complete:"Massue +8 corps  corps (2d8+7)",espace:"3 m",allonge:"3 m",att_sp:[],qual_sp:["Vision dans le noir 18 m","Vision nocturne"],carac:{for:21,dex:8,con:15,int:6,sag:10,cha:7},comptences:"Escalade +5, Dtection +2, Perception auditive +2",dons:"Robustesse, Arme de prdilection (massue)",tactiques:"Charge et frappe, ne fuit que si gravement bless.",butin:"Standard",est_ennemi:!0},{id:"guerrier_4",name:"Guerrier (niveau 4)",class:"Guerrier",lvl:4,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:4,role:"Combattant expriment.",details:["Formation martiale complte.","Spcialisation martiale.","Solide en mle."],tactical:{bookReference:"Manuel des Joueurs p.37",scenarioContext:"Garnisons, mercenaires, aventuriers.",spells:[],specialActions:[],tacticFeats:["Arme de prdilection (pe longue)","Spcialisation martiale (pe longue)","Attaque en puissance"],tacticSummary:"Combat au corps  corps, utilise spcialisation martiale."},environnement:"Tous",organisation:"Solitaire ou groupe (2-4)",ini:"+1",sens:"Dtection +2",ca:{total:19,contact:11,pris_au_depourvu:18},pv:38,dv:"4d10+12",js:{vig:"+7",ref:"+2",vol:"+1"},vit:"6 m (4 c.) (armure)",abb:"+4",grp:"+7",attaque:"pe longue +9 corps  corps (1d8+5, 19-20)",att_complete:"pe longue +9 corps  corps (1d8+5, 19-20)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:16,dex:13,con:16,int:10,sag:10,cha:8},comptences:"Escalade +7, Intimidation +6, Saut +7",dons:"Arme de prdilection (pe longue), Spcialisation martiale (pe longue), Attaque en puissance, Enchanement",tactiques:"Combat au corps  corps, utilise attaque en puissance contre ennemis lourds.",butin:"pe longue de matre, harnois, cu en acier, 4d6 po",ogas:{occupation:"Sert comme garde, mercenaire ou soldat",goal:"Excuter ses ordres et protger son employeur",attitude:"Disciplin et loyal, obit  la chane de commandement",stake:"Risque sa vie au combat ; peut changer de camp si bien pay"},est_ennemi:!0},{id:"gargouille",name:"Gargouille",size:"Moyen",type:"Humanode monstrueux (Terre)",alignment:"CM",fp:4,role:"Prdateur volant qui ressemble  une statue de pierre.",details:["Peut rester immobile des jours durant.","N'a pas besoin de boire, manger ou respirer.","Parle le commun et le terreux."],tactical:{bookReference:"Manuel des Monstres p.113",scenarioContext:"Ruines, tours, btiments anciens.",spells:[],specialActions:["Immobilit"],tacticFeats:["Attaque en finesse","Attaques multiples"],tacticSummary:"Reste immobile comme une statue, fond sur sa proie par surprise."},environnement:"Tous",organisation:"Solitaire, paire ou groupe (5-16)",ini:"+2",sens:"Vision dans le noir 18 m",ca:{total:16,contact:12,pris_au_depourvu:14},pv:37,dv:"4d8+19",js:{vig:"+5",ref:"+6",vol:"+4"},vit:"12 m (8 c.), vol 18 m (moyenne)",abb:"+4",grp:"+6",attaque:"Griffe +6 corps  corps (1d4+2)",att_complete:"2 griffes +6 corps  corps (1d4+2), morsure +4 corps  corps (1d6+1), cornes +4 corps  corps (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Rduction des dgts 10/magie","Immobilit (Ext) : ressemble  une statue, Dtection DD 20 pour reprer","Armes naturelles considres comme magiques"],carac:{for:15,dex:14,con:18,int:6,sag:11,cha:7},comptences:"Dtection +4 (+2 racial), Discrtion +7 (+8 contre mur de pierre, +2 racial), Perception auditive +4 (+2 racial)",dons:"Attaque en finesse, Attaques multiples",tactiques:"Reste immobile jusqu' ce que la proie passe, puis fond dessus par surprise.",butin:"Standard",est_ennemi:!0}],p_=[{id:"spectre",name:"Spectre",size:"Moyen",type:"Mort-vivant (Incorporel)",alignment:"LM",fp:7,role:"Mort-vivant incorporel qui draine l'nergie vitale.",details:["Semitransparent et insubstantiel.","Hat tout ce qui vit.","Parle le commun."],tactical:{bookReference:"Manuel des Monstres p.232",scenarioContext:"Lieux hants, cimetires, ruines.",spells:[],specialActions:["Absorption d'nergie","Cration de rejetons"],tacticFeats:["Vigilance","Combat en aveugle"],tacticSummary:"Traverse les murs pour surprendre, draine l'nergie, cre des rejetons."},environnement:"Tous",organisation:"Solitaire, bande (2-4) ou meute (5-8)",ini:"+7",sens:"Vision dans le noir 18 m",ca:{total:15,contact:15,pris_au_depourvu:12},pv:45,dv:"7d12",js:{vig:"+2",ref:"+5",vol:"+7"},vit:"Vol 24 m (parfaite) (16 c.)",abb:"+3",grp:"",attaque:"Contact incorporel +6 corps  corps (1d8 plus absorption d'nergie)",att_complete:"Contact incorporel +6 corps  corps (1d8 plus absorption d'nergie)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Absorption d'nergie (Sur) : chaque coup inflige 2 niveaux ngatifs. Vig DD 15 pour annuler aprs 24h.","Cration de rejetons (Sur) : humanode tu par absorption devient un spectre en 1d4 rounds."],qual_sp:["Traits des morts-vivants","Traits des cratures incorporelles","Rsistance au renvoi +2","Impuissance  la lumire du soleil","Insubstantiel (ne peut tre touch que par armes magiques +1 ou attaques de force)"],carac:{for:null,dex:16,con:null,int:14,sag:14,cha:15},comptences:"Dtection +11, Discrtion +11, Intimidation +12, Perception auditive +11, Fouille +10, Survie +2",dons:"Vigilance, Combat en aveugle, Science de l'initiative",tactiques:"Traverse les murs pour surprendre, draine l'nergie vitale, cre des rejetons.",butin:"Aucun",est_ennemi:!0},{id:"magicien_5",name:"Magicien (niveau 5)",class:"Magicien",lvl:5,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:5,role:"Lanceur de sorts profanes.",details:["Sorts de niveau 3.","Familier.","Magie offensive et dfensive."],tactical:{bookReference:"Manuel des Joueurs p.54",scenarioContext:"Tours de mages, acadmies, aventuriers.",spells:[{name:"Sorts niveau 0 (4/jour)",details:"Dtection de la magie, lumire, rayon de givre, lecture de la magie"},{name:"Sorts niveau 1 (4/jour)",details:"Projectile magique, bouclier, armure de mage, sommeil"},{name:"Sorts niveau 2 (3/jour)",details:"Image miroir, flche acide, invisibilit"},{name:"Sorts niveau 3 (2/jour)",details:"Boule de feu (5d6, Rf DD 16), clair (5d6, Rf DD 16)"}],specialActions:[],tacticFeats:["Science de l'initiative","cole renforce (vocation)"],tacticSummary:"Lance bouclier/image miroir, puis boule de feu ou clair."},environnement:"Tous",organisation:"Solitaire ou groupe",ini:"+6",sens:"Dtection +2",ca:{total:12,contact:12,pris_au_depourvu:10},pv:17,dv:"5d4+5",js:{vig:"+2",ref:"+3",vol:"+5"},vit:"9 m (6 c.)",abb:"+2",grp:"+2",attaque:"Dague +2 corps  corps (1d4) ou rayon +4 contact  distance",att_complete:"Dague +2 corps  corps (1d4)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts de magicien (NLS 5)"],qual_sp:["Familier","Pacte du magicien"],carac:{for:10,dex:14,con:12,int:17,sag:10,cha:8},comptences:"Art de la magie +11, Concentration +9, Connaissances (arcanes) +11, Dchiffrage +11",dons:"Science de l'initiative, cole renforce (vocation), criture de parchemins",tactiques:"Lance bouclier et image miroir, puis utilise boule de feu ou clair sur les groupes.",butin:"Livre de sorts, composantes, baguette, 5d6 po",ogas:{occupation:"Pratique et tudie la magie profane",goal:"Acqurir plus de connaissances et de puissance magique",attitude:"Arrogant envers les non-mages, prudent au combat",stake:"Risque de perdre son livre de sorts ; peut offrir services magiques ou connaissances arcanes"},est_ennemi:!0},{id:"otyugh",name:"Otyugh",size:"Grand",type:"Aberration",alignment:"N",fp:4,role:"Charognard souterrain aux tentacules prhensiles.",details:["Vit dans les tas d'ordures.","Trois yeux sur une tige.","Tlpathie limite."],tactical:{bookReference:"Manuel des Monstres p.204",scenarioContext:"Souterrains, gouts, dcharges.",spells:[],specialActions:["treinte","Constriction","Maladie"],tacticFeats:["Vigilance","Robustesse"],tacticSummary:"Agrippe avec tentacules, broie et mord."},environnement:"Souterrains",organisation:"Solitaire, couple ou groupe (3-4)",ini:"+0",sens:"Vision dans le noir 18 m, odorat",ca:{total:17,contact:9,pris_au_depourvu:17},pv:36,dv:"6d8+9",js:{vig:"+3",ref:"+2",vol:"+6"},vit:"6 m (4 c.)",abb:"+4",grp:"+8",attaque:"Tentacule +4 corps  corps (1d6)",att_complete:"2 tentacules +4 corps  corps (1d6) et morsure -2 corps  corps (1d4)",espace:"3 m",allonge:"3 m (4,50 m tentacules)",att_sp:["Constriction (Ext) : 1d6 dgts automatiques avec une lutte russie.","treinte (Ext) : si touche avec tentacule, peut tenter lutte en action libre.","Maladie (Ext) : fivre des immondices, morsure, Vig DD 14, incubation 1d3 jours, 1d3 Dex et 1d3 Con."],qual_sp:["Vision dans le noir 18 m","Odorat"],carac:{for:11,dex:10,con:13,int:5,sag:12,cha:6},comptences:"Dtection +9, Discrtion +5, Perception auditive +9",dons:"Vigilance, Robustesse",tactiques:"Agrippe avec les tentacules, trangle et mord.",butin:"Standard",est_ennemi:!0},{id:"ame_en_peine",name:"me-en-peine",size:"Moyen",type:"Mort-vivant (Intangible)",alignment:"LM",fp:5,role:"Crature intangible ne du Mal et des tnbres.",details:["Hait la lumire et tout ce qui vit.","Silhouette parfois arme (reflet de son vivant).","Parle le commun et l'infernal."],tactical:{bookReference:"Manuel des Monstres p.13",scenarioContext:"Lieux sombres, tombes, champs de bataille.",spells:[],specialActions:["Diminution permanente de Constitution","Cration de rejetons","Aura de mort"],tacticFeats:["Science de l'initiative","Attaques rflexes"],tacticSummary:"Draine la Constitution des vivants, cre des rejetons, fuit la lumire du soleil."},environnement:"Tous",organisation:"Solitaire, groupe (2-5) ou meute (6-11)",ini:"+7",sens:"Vision dans le noir 18 m",ca:{total:15,contact:15,pris_au_depourvu:12},pv:32,dv:"5d12",js:{vig:"+1",ref:"+4",vol:"+6"},vit:"Vol 18 m (bonne) (12 c.)",abb:"+2",grp:"",attaque:"Contact intangible +5 contact (1d4 plus diminution 1d6 Con)",att_complete:"Contact intangible +5 contact (1d4 plus diminution 1d6 Con)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Diminution permanente de Constitution (Sur) : toucher inflige 1d6 points de diminution permanente de Con. Crature rduite  Con 0 meurt.","Cration de rejetons (Sur) : humanode tu par diminution de Con devient une me-en-peine en 1d4 rounds.","Aura de mort (Sur) : animaux  9 m paniquent et refusent d'approcher."],qual_sp:["Traits des morts-vivants","Traits des cratures intangibles","Rsistance au renvoi +2","Impuissance  la lumire du soleil (perd tous ses pouvoirs)"],carac:{for:null,dex:16,con:null,int:14,sag:14,cha:15},comptences:"Dtection +12, Diplomatie +6, Discrtion +11, Fouille +10, Intimidation +10, Perception auditive +12, Psychologie +8, Survie +2",dons:"Attaques rflexes, Combat en aveugle, Science de l'initiative, Vigilance",tactiques:"Draine la Constitution des vivants, fuit la lumire du soleil, cre des rejetons.",butin:"Aucun",est_ennemi:!0},{id:"babelien",name:"Bablien",size:"Moyen",type:"Aberration",alignment:"N",fp:5,role:"Abomination amibe couverte d'yeux et de bouches.",details:["Corps en forme d'amibe, peau de couleur humaine.","Yeux et bouches se forment et se rsorbent constamment.","Mesure 90 cm de diamtre, pse 100 kg."],tactical:{bookReference:"Manuel des Monstres p.21",scenarioContext:"Souterrains, cavernes humides.",spells:[],specialActions:["Charabia","Manipulation du sol","Absorption de sang","Enveloppement"],tacticFeats:["Attaque en finesse","Rflexes surhumains"],tacticSummary:"Charabia pour confondre, ramollit le sol, agrippe et absorbe le sang."},environnement:"Souterrains",organisation:"Solitaire",ini:"+1",sens:"Vision dans le noir 18 m",ca:{total:19,contact:11,pris_au_depourvu:18},pv:42,dv:"4d8+24",js:{vig:"+7",ref:"+4",vol:"+5"},vit:"3 m (2 c.), nage 6 m",abb:"+3",grp:"+3",attaque:"Morsure +4 corps  corps (1) ou salive +4 contact  distance (1d4 acide plus aveuglement)",att_complete:"6 morsures +4 corps  corps (1) et salive +4 contact  distance (1d4 acide plus aveuglement)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Charabia (Sur) : 18 m, Vol DD 13 ou confusion 1d2 rounds. Effet sonore et mental.","Manipulation du sol (Sur) : transforme sol adjacent en sable mouvant (1 round terre, 2 rounds pierre).","Absorption de sang (Ext) : aprs lutte russie, 1 affaiblissement Con/round.","Salive (Ext) : 9 m, 1d4 acide, Vig DD 18 ou aveugl 1d4 rounds.","Enveloppement (Ext) : crature M ou moins agrippe par 3+ bouches, Rf DD 14 ou englouti (12 morsures/round)."],qual_sp:["Crature informe (immunit coups critiques, pas de dos)","Rduction des dgts 5/contondant","Vision dans le noir 18 m"],carac:{for:10,dex:13,con:22,int:4,sag:13,cha:13},comptences:"Dtection +9 (+4 racial), Natation +8 (+8 racial), Perception auditive +4",dons:"Attaque en finesse, Rflexes surhumains",tactiques:"Charabia pour confondre, ramollit le sol sous les ennemis, agrippe et absorbe le sang.",butin:"Aucun",est_ennemi:!0}],f_=[{id:"golem_pierre",name:"Golem de pierre",size:"Grand",type:"Crature artificielle",alignment:"N",fp:11,role:"Gardien construit de pierre, implacable et puissant.",details:["Obit uniquement  son crateur.","Ne peut pas parler ni penser.","Mesure 2,70 m et pse 900 kg."],tactical:{bookReference:"Manuel des Monstres p.134",scenarioContext:"Temples, tombes, salles du trsor.",spells:[],specialActions:["Ralentissement"],tacticFeats:[],tacticSummary:"Avance et frappe, utilise ralentissement."},environnement:"Tous",organisation:"Solitaire ou groupe (2-4)",ini:"-1",sens:"Vision dans le noir 18 m, vision nocturne",ca:{total:26,contact:8,pris_au_depourvu:26},pv:107,dv:"14d10+30",js:{vig:"+4",ref:"+3",vol:"+4"},rd:"10/adamantine",vit:"6 m (4 c.)",abb:"+10",grp:"+23",attaque:"Coup +18 corps  corps (2d10+9)",att_complete:"2 coups +18 corps  corps (2d10+9)",espace:"3 m",allonge:"3 m",att_sp:["Ralentissement (Sur) : peut ralentir des adversaires comme le sort (Vol DD 17 annule), action libre, 1/round."],qual_sp:["Traits des cratures artificielles","Rduction des dgts 10/adamantine","Immunit  la magie (sauf transmutation de pierre)"],carac:{for:29,dex:9,con:null,int:null,sag:11,cha:1},comptences:"",dons:"",tactiques:"Avance implacablement, frappe les intrus, utilise ralentissement.",butin:"Aucun",est_ennemi:!0},{id:"guerrier_6",name:"Guerrier (niveau 6)",class:"Guerrier",lvl:6,size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:6,role:"Combattant vtran.",details:["Formation martiale complte.","Multiple spcialisations.","Solide en mle."],tactical:{bookReference:"Manuel des Joueurs p.37",scenarioContext:"Capitaines, champions, aventuriers.",spells:[],specialActions:[],tacticFeats:["Arme de prdilection (pe longue)","Spcialisation martiale (pe longue)","Attaque en puissance","Fente"],tacticSummary:"Combat au corps  corps, utilise fente pour atteindre les ennemis."},environnement:"Tous",organisation:"Solitaire ou groupe (2-4)",ini:"+1",sens:"Dtection +3",ca:{total:20,contact:11,pris_au_depourvu:19},pv:55,dv:"6d10+18",js:{vig:"+8",ref:"+3",vol:"+2"},vit:"6 m (4 c.) (armure)",abb:"+6/+1",grp:"+9",attaque:"pe longue +1 +12 corps  corps (1d8+7, 19-20)",att_complete:"pe longue +1 +12/+7 corps  corps (1d8+7, 19-20)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:17,dex:13,con:16,int:10,sag:10,cha:8},comptences:"Escalade +9, Intimidation +8, Saut +9",dons:"Arme de prdilection (pe longue), Spcialisation martiale (pe longue), Attaque en puissance, Enchanement, Fente",tactiques:"Combat au corps  corps, utilise fente pour atteindre les lanceurs de sorts.",butin:"pe longue +1, harnois de matre, cu en acier, 6d6 po",ogas:{occupation:"Commande une unit ou sert comme champion",goal:"Prouver sa valeur au combat et gagner en prestige",attitude:"Confiant et direct, respecte les adversaires dignes",stake:"Risque sa vie et son honneur ; peut tre recrut ou dfi en duel"},est_ennemi:!0},{id:"geode_avatar",name:"Gode de Confinement",class:"Objet Magique",lvl:null,size:"Immense",type:"Constructe (Racteur)",alignment:"N",fp:0,role:"Racteur nergtique central, source de pouvoir et de danger.",details:["Un cristal titanesque de 10 mtres de haut, suspendu au-dessus d'un gouffre.","met des clairs violets qui frappent les parois rgulirement.","Le rayonnement est invisible mais palpable - l'air vibre dangereusement.","Plus on s'approche, plus l'nergie est intense (et les dgts levs)."],tactical:{bookReference:"Scnario 2  Acte 4, Scne 3 : La Gode de Confinement",scenarioContext:"Objif final : charger le cristal de Thade au maximum en survivant au rayonnement.",spells:[],specialActions:[{name:"Dcharge nergtique",details:"2d6 dgts d'nergie (Vig DD 14 pour demi)  tous dans 9 m. Augmente de +1d6 tous les 3 rounds."},{name:"Champ de Recharge",details:"Le cristal de Thade gagne 1 charge par round dans 9 m, 0.5 charge entre 9-18 m."}],tacticFeats:[],tacticSummary:"Les PJ doivent trouver le bon quilibre entre s'approcher assez pour charger le cristal et survivre aux rayonnements."},environnement:"Cur de la Spirale",organisation:"Solitaire",ini:"",sens:"Dtection de l'nergie vitale 18 m",ca:{total:"",contact:"",pris_au_depourvu:""},pv:"",dv:"",js:{vig:"",ref:"",vol:""},vit:"0 m (stationnaire)",abb:"",grp:"",attaque:"",att_complete:"",espace:"3 m",allonge:"18 m (rayonnement)",att_sp:["Dcharge nergtique (Rayonnement) : 2d6 dgts d'nergie tous les rounds  toute crature dans 9 m","Surchauffe Progressive : Les dgts augmentent de +1d6 tous les 3 rounds"],qual_sp:["Champ de Recharge : Le cristal de Thade se charge 10x plus vite dans 9 m","Rayonnement Dangereux : Zone de 18 m autour de la gode","Indestructible : La gode ne peut pas tre endommage par des attaques normales","Pulsations Visibles : clairs violets rguliers qui indiquent les zones dangereuses"],carac:{for:null,dex:null,con:null,int:null,sag:null,cha:null},comptences:"",dons:"",tactiques:"Objet statique qui met des rayonnements nergtiques. Les PJ doivent s'approcher pour charger le cristal tout en subissant des dgts.",butin:"Aucun",est_ennemi:!1,mecaniques_speciales:{zone_dangereuse:{description:"Zone de 9m : 2d6 dgts/round. Zone 9-18m : 1d6 dgts/round.",sauvegarde:"Vig DD 14 pour demi dgts.",progression:"+1d6 dgts tous les 3 rounds (surchauffe)."},recharge_cristal:{description:"Le cristal de Thade se charge selon la proximit.",taux:"9m : 1 charge/round. 9-18m : 0.5 charge/round. 18m+ : 0 charge/round."},interaction:{description:"Utilisation d'objet DD 16 pour placer le cristal dans le flux d'nergie.",risque:"chec = projection (2d6 dgts) et perte de concentration."}}}],g_=[{id:"elementaire_terre_grand",name:"lmentaire de Terre (Grand)",size:"Grand",type:"lmentaire (Terre, Extraplanaire)",alignment:"N",fp:5,role:"Incarnation puissante de la terre.",details:["Se dplace dans la terre comme un poisson dans l'eau.","Mesure 4,80 m de haut et pse 3,5 tonnes.","Parle le terreux mais choisit rarement de s'exprimer."],tactical:{bookReference:"Manuel des Monstres p.94",scenarioContext:"Souterrains, invocations, lieux sacrs.",spells:[],specialActions:["Matrise de la Terre","Nage dans la terre","Pousse"],tacticFeats:["Attaque en puissance","Science du critique (coup)"],tacticSummary:"Surgit du sol, frappe violemment, repousse les ennemis."},environnement:"Plan lmentaire de la Terre",organisation:"Solitaire",ini:"-1",sens:"Vision dans le noir 18 m, perception des vibrations 18 m",ca:{total:18,contact:8,pris_au_depourvu:18},pv:68,dv:"8d8+32",js:{vig:"+10",ref:"+1",vol:"+2"},rd:"5/",vit:"6 m (4 c.), nage dans la terre 6 m",abb:"+6",grp:"+17",attaque:"Coup +12 corps  corps (2d8+7)",att_complete:"2 coups +12 corps  corps (2d8+7)",espace:"3 m",allonge:"3 m",att_sp:["Matrise de la Terre (Ext) : +1 attaque/dgts si l'adversaire et lui sont au sol. -4 si ennemi dans l'eau ou les airs.","Pousse (Ext) : peut tenter une bousculade sans provoquer d'AO."],qual_sp:["Traits des lmentaires","Rduction des dgts 5/","Nage dans la terre (Ext) : traverse terre/pierre comme un poisson dans l'eau, sans laisser de trace"],carac:{for:25,dex:8,con:19,int:6,sag:11,cha:11},comptences:"Dtection +6, Perception auditive +6",dons:"Attaque en puissance, Science du critique (coup)",tactiques:"Surgit du sol pour surprendre, frappe violemment, repousse les ennemis vers les murs.",butin:"Aucun",est_ennemi:!0}],h_=[{id:"destrachan",name:"Destrachan",size:"Grand",type:"Aberration",alignment:"NM",fp:8,role:"Sadique souterrain aveugle qui chasse par le son.",details:["Mesure 3 m de long et pse 1800 kg.","Aveugle mais possde une oue plus prcise que la vue.","Comprend le commun mais ne parle pas."],tactical:{bookReference:"Manuel des Monstres p.50",scenarioContext:"Souterrains, cavernes profondes.",spells:[],specialActions:["Harmoniques destructrices (Chair)","Harmoniques destructrices (Nerfs)","Harmoniques destructrices (Matriau)"],tacticFeats:["Science de l'initiative","Esquive","Rflexes surhumains"],tacticSummary:"Attaque par surprise, dtruit d'abord armures/armes mtalliques, puis attaque la chair."},environnement:"Souterrains",organisation:"Solitaire ou meute (2-5)",ini:"+5",sens:"Vision aveugle 30 m",ca:{total:18,contact:10,pris_au_depourvu:17},pv:60,dv:"8d8+24",js:{vig:"+5",ref:"+5",vol:"+10"},vit:"9 m (6 c.)",abb:"+6",grp:"+14",attaque:"Griffe +9 corps  corps (1d6+4)",att_complete:"2 griffes +9 corps  corps (1d6+4)",espace:"3 m",allonge:"1,5 m",att_sp:["Harmoniques destructrices (Sur) : cne 24 m ou rayon 9 m, DD 15 (Cha). Chair : 4d6 dgts (Rf demi). Nerfs : 6d6 non-ltaux (Rf demi). Matriau : dtruit bois/pierre/mtal/verre (Vig ou bris, max 30 pv)."],qual_sp:["Vision aveugle 30 m (Ext) : peroit par l'oue  30 m","Immunits : attaques de regard, effets visuels, illusions","Protection contre le son (Ext) : +4 aux JS contre attaques soniques"],carac:{for:18,dex:12,con:16,int:12,sag:18,cha:12},comptences:"Discrtion +8, Dplacement silencieux +7, Perception auditive +25 (+10 racial), Survie +9",dons:"Esquive, Science de l'initiative, Rflexes surhumains",tactiques:"Attaque par surprise, dtruit armures/armes mtalliques en premier, puis attaque la chair.",butin:"Aucun",est_ennemi:!0}],zh=[{name:"Le Conseil (Politique)",type:"Administration",desc:"Le Bourgmestre est un humain honnte mais dpass. Il est obsd par le maintien de la paix entre Nains et Mages pour que le commerce tourne.",icon:dn,color:"text-blue-400 border-blue-900 bg-blue-950/30",hierarchy:[{role:"Bourgmestre",npcId:"bourgmestre",notes:"Autorit civile, cherche l'quilibre."},{role:"Capitaine de la Garde urbaine",npcId:"capitaine_garde_urbaine",notes:"Scurit, couvre-feu, sige."},{role:"Gelier du Conseil",npcId:"geolier_principal",notes:"Prisons politiques, interrogatoires."}],npcIds:["bourgmestre","capitaine_garde_urbaine","geolier_principal"],objectifs:{court_terme:"Maintenir l'ordre public et viter l'escalade entre Nains et Mages",long_terme:"Prserver la prosprit conomique de Val-d'Ombre et son statut de carrefour commercial"},alliances:[{faction:"Faction Nains",type:"alliance",desc:"Alliance fragile, tensions croissantes"},{faction:"La Guilde des Mages",type:"alliance",desc:"Dpendance conomique, influence politique forte"}],forces_militaires:{effectifs:"150 gardes urbains",capacites:["Patrouilles urbaines","Maintien de l'ordre","Arrestations"],faiblesses:["Sous-quips face  la magie","Loyaut divise","Dpasss par les vnements"]},quetes_associees:[{scenarioId:1,acte:1,sceneIndex:0,sceneLabel:"Scne 1",role:"Employeur indirect via Thorgar"},{scenarioId:3,acte:1,sceneIndex:0,sceneLabel:"Scne 1",role:"Sommet de rconciliation"}]},{name:"Faction Nains",type:"Foi & Mineurs",desc:"Le bloc nain runit les mineurs et le Temple-Forgeron : gardiens du savoir ancestral, protecteurs des galeries et des reliques sacres.",icon:ll,color:"text-amber-400 border-amber-900 bg-amber-950/30",hierarchy:[{role:"Chef de la Guilde des Mineurs",npcId:"durnik_chef_mineur",notes:"Voix des mineurs, meneur de grve."},{role:"Haut Clerc / Prtre du Temple-Forgeron",npcId:"thorgar_pretre_nain",notes:"Avertit sur la Spirale, soutien moral."},{role:"Contrematre scurit mine",npcId:"contremaitre_nain_mine",notes:"Logistique, scurit des galeries."},{role:"Capitaine de la Garde du Temple",npcId:"capitaine_garde_temple",notes:"Organise la dfense et les patrouilles sacres."},{role:"Gardien du Cimetire",npcId:"gardien_cimetiere",notes:"Veille sur les spultures et dtecte les profanations."}],npcIds:["durnik_chef_mineur","thorgar_pretre_nain","contremaitre_nain_mine","capitaine_garde_temple","gardien_cimetiere"],objectifs:{court_terme:"Protger les tombes ancestrales et scuriser les mines face aux anomalies",long_terme:"Prserver l'hritage nain et contenir la menace de la Spirale"},alliances:[{faction:"Le Conseil (Politique)",type:"alliance",desc:"Alliance fragile, tensions sur les profanations"},{faction:"La Guilde des Mages",type:"rivalite",desc:"Mfiance envers la magie, conflit ouvert aprs l'assassinat"}],forces_militaires:{effectifs:"200 guerriers nains + 300 mineurs arms",capacites:["Combat au corps--corps","Dfense de forteresse","Connaissance des tunnels","Rsistance magique naturelle"],faiblesses:["Vulnrables  la magie ncromantique","Manque de mobilit","Isols dans le Temple-Forgeron"]},quetes_associees:[{scenarioId:1,acte:1,sceneIndex:0,sceneLabel:"Scne 1",role:"Employeur principal (Thorgar)"},{scenarioId:1,acte:1,sceneIndex:1,sceneLabel:"Scne 2",role:"Gardien du cimetire"},{scenarioId:2,acte:1,sceneIndex:0,sceneLabel:"Scne 1",role:"Crise de la mine (Durnik)"},{scenarioId:3,acte:2,sceneIndex:3,sceneLabel:"Scne 4",role:"Rfugis  sauver"},{scenarioId:3,acte:3,sceneIndex:0,sceneLabel:"Scne 1",role:"Dfense du Temple-Forgeron"},{scenarioId:5,acte:2,sceneIndex:2,sceneLabel:"Scne 3",role:"Ralliement de Thorgar"}]},{name:"La Guilde des Mages",type:"Les Ambitieux",desc:"Prestige intellectuel et force militaire. Officiellement contre la ncromancie et gardienne de l'orthodoxie magique. Thade Coren a infiltr le Cercle Intrieur pour manipuler la Guilde de l'intrieur.",icon:ol,color:"text-purple-400 border-purple-900 bg-purple-950/30",hierarchy:[{role:"Cercle Intrieur",npcId:"thade_coren",notes:"Antagoniste, contrle la Tour."},{role:"Archimage dfecteur",npcId:"archimage_defecteur",notes:"Sabote Thade de l'intrieur."},{role:"Matre loyaliste",npcId:"magi_tuteur_loyal",notes:"Dfend la Tour contre tous."},{role:"Apprenti favori",npcId:"kaelen_vampire",notes:"Garde du toit, bras droit vampirique."}],npcIds:["thade_coren","archimage_defecteur","magi_tuteur_loyal","kaelen_vampire","bibliothecaire_interdits"],objectifs:{court_terme:"Maintenir le prestige de la Guilde et contrler l'accs  la connaissance magique",long_terme:"Prserver l'ordre magique et empcher les abus de la ncromancie (objectif officiel, compromis par Thade)"},alliances:[{faction:"Le Conseil (Politique)",type:"alliance",desc:"Influence politique dominante"},{faction:"Faction Nains",type:"rivalite",desc:"Tensions sur la magie vs tradition, conflit aprs l'assassinat"},{faction:"Fraternit Nyx",type:"conflit",desc:"Lutte contre la ncromancie clandestine (officiellement)"}],forces_militaires:{effectifs:"50 mages de combat + 100 apprentis + automates de guerre",capacites:["Magie destructrice","vocation","Abjuration","Automates de combat","Barrires magiques"],faiblesses:["Division interne (infiltration de Thade)","Arrogance","Isols dans leur Tour","Vulnrables aux attaques surprises"]},quetes_associees:[{scenarioId:1,acte:2,sceneIndex:0,sceneLabel:"Scne 1",role:"Enqute sur la Fraternit Nyx"},{scenarioId:1,acte:2,sceneIndex:1,sceneLabel:"Scne 2",role:"Rencontre avec Thade"},{scenarioId:2,acte:1,sceneIndex:0,sceneLabel:"Scne 1",role:"Thade offre le cristal"},{scenarioId:3,acte:1,sceneIndex:1,sceneLabel:"Scne 2",role:"Assassinat du Grand Prtre"},{scenarioId:3,acte:4,sceneIndex:3,sceneLabel:"Scne 4",role:"Confrontation avec Thade"},{scenarioId:5,acte:5,sceneLabel:"Toutes",role:"Combat final contre Thade"}]},{name:"Rseau des Ombres",type:"Assassins & Informateurs",desc:"Intermdiaires discrets, chasseurs de primes et opportunistes qui profitent du chaos pour tirer les ficelles dans l'ombre.",icon:z0,color:"text-emerald-300 border-emerald-900 bg-emerald-950/30",hierarchy:[{role:"Courtier invisible",npcId:"marchand_fou_mercane",notes:"Marchand d'informations et d'artefacts."},{role:"Assassin Masqu",npcId:"assassin_masque",notes:"Tueur  gages li aux complots urbains."},{role:"claireuse perdue",npcId:"lysa_exploratrice_perdue",notes:"Guide occasionnelle pour qui paye ou sauve sa peau."}],npcIds:["marchand_fou_mercane","assassin_masque","lysa_exploratrice_perdue"],objectifs:{court_terme:"Profiter du chaos pour accumuler richesses et informations",long_terme:"Survivre et maintenir leur rseau d'influence quel que soit le vainqueur"},alliances:[{faction:"Le Conseil (Politique)",type:"neutre",desc:"Contrats ponctuels, pas de loyaut"},{faction:"Faction Nains",type:"neutre",desc:"Commerce d'informations"},{faction:"La Guilde des Mages",type:"neutre",desc:"Mercenaires occasionnels pour Thade"}],forces_militaires:{effectifs:"30-50 agents indpendants",capacites:["Assassinat","Espionnage","Infiltration","Commerce d'artefacts","Rseau d'informateurs"],faiblesses:["Pas d'arme organise","Loyaut limite","Vulnrables si exposs"]},quetes_associees:[{scenarioId:2,acte:5,sceneIndex:1,sceneLabel:"Scne 2",role:"Mercenaires de Thade"},{scenarioId:3,acte:2,sceneIndex:2,sceneLabel:"Scne 3",role:"Embuscade de Kael Ombrelame"},{scenarioId:4,acte:2,sceneIndex:1,sceneLabel:"Scne 2",role:"Xareth le Mercane"}]},{name:"Fraternit Nyx",type:"Ncromanciens Clandestins",desc:"Socit secrte de ncromanciens dissous officiellement par la Guilde des Mages. Thade Coren en tait membre et l'a ractive pour ses expriences sur la Spirale. Opre dans l'ombre avec des tudiants radicaliss.",icon:cn,color:"text-violet-400 border-violet-900 bg-violet-950/30",hierarchy:[{role:"Matre Secret",npcId:"thade_coren",notes:"Fondateur et manipulateur, utilise la Fraternit pour ses plans"},{role:"Apprentie Fanatique",npcId:"ilse_nyx",notes:"Disciple zle, tente de complter le rituel de Jaren"},{role:"Cobaye Rat",npcId:"etudiant_renvoye",notes:"Jaren, tudiant instable utilis pour les expriences"},{role:"Lieutenant Corrompu",npcId:"kael_ombrelame",notes:"Ncromancien devenu vampire, bras arm de Thade"}],npcIds:["thade_coren","ilse_nyx","etudiant_renvoye","kael_ombrelame","apprenti_charme"],objectifs:{court_terme:"Mener des expriences ncromantiques sur la Spirale et crer des morts-vivants",long_terme:"Atteindre l'immortalit via la fusion avec la Spirale (agenda de Thade)"},alliances:[{faction:"La Guilde des Mages",type:"conflit",desc:"Ennemis officiels, mais Thade infiltre la Guilde"},{faction:"Faction Nains",type:"conflit",desc:"Profanation des tombes, guerre totale"},{faction:"Le Conseil (Politique)",type:"conflit",desc:"Hors-la-loi, recherchs"},{faction:"Rseau des Ombres",type:"neutre",desc:"Recrutement de mercenaires pour missions sales"}],forces_militaires:{effectifs:"10-15 ncromanciens actifs + arme mort-vivante (milliers aprs Scnario 3)",capacites:["Ncromancie de masse","Animation de morts-vivants","Magie noire","Contrle de la Spirale","Rituels interdits","Transformation en liches/vampires"],faiblesses:["Petit nombre de membres vivants","Dpendance totale  Thade","Vulnrables aux armes sacres","Instabilit des morts-vivants","Isols socialement"]},quetes_associees:[{scenarioId:1,acte:1,sceneIndex:2,sceneLabel:"Scne 3",role:"Pilleurs de tombes (Jaren)"},{scenarioId:1,acte:2,sceneIndex:0,sceneLabel:"Scne 1",role:"Enqute sur la Fraternit dissoute"},{scenarioId:1,acte:4,sceneIndex:0,sceneLabel:"Scne 1",role:"Ilse tente de stabiliser le rituel"},{scenarioId:2,acte:2,sceneIndex:1,sceneLabel:"Scne 2",role:"Laboratoire secret de Thade"},{scenarioId:3,acte:1,sceneIndex:1,sceneLabel:"Scne 2",role:"Assassinat via apprenti charm"},{scenarioId:3,acte:2,sceneIndex:1,sceneLabel:"Scne 2",role:"Transformation des nains en zombies"},{scenarioId:3,acte:3,sceneLabel:"Toutes",role:"Arme mort-vivante assige le Temple"},{scenarioId:4,acte:3,sceneIndex:2,sceneLabel:"Scne 3",role:"Usine de production de morts-vivants"},{scenarioId:5,acte:5,sceneLabel:"Toutes",role:"Combat final contre Thade-Liche"}]}],v_=[...u_,...c_,...d_,...m_,...p_,...f_,...g_,...h_];function Ku(n,i){return n.category?n.category:i==="bestiary"?"monstres":i==="ennemis"||n.est_ennemi?"ennemis":"allies"}function Zu(n){switch(n){case"allies":return"text-blue-400";case"ennemis":return"text-red-400";case"monstres":return"text-purple-400";case"neutres":return"text-yellow-400";default:return"text-gray-400"}}function b_(){const n=[];return(r_||[]).forEach(i=>{const r=Ku(i,"principaux");n.push({...i,category:r,source:"principaux",color:Zu(r)})}),(o_||[]).forEach(i=>{const r=Ku(i,"ennemis");n.push({...i,category:r,source:"ennemis",color:Zu(r)})}),(v_||[]).forEach(i=>{const r=Ku(i,"bestiary");n.push({...i,category:r,source:"bestiary",isMonster:!0,color:Zu(r)})}),n}function x_(n){const i=new Map;return n.forEach(r=>{r.id&&!i.has(r.id)&&i.set(r.id,r)}),i}function y_(n){const i=new Map;return n.forEach(r=>{if(r.name){const l=r.name.toLowerCase();i.has(l)||i.set(l,r)}}),i}const xa=b_(),Oh=x_(xa);y_(xa);const Lg=xa;function Nc(n){return Oh.get(n)||null}function S_(n){return n==="all"?xa:xa.filter(i=>i.category===n)}const __={all:xa.length,allies:xa.filter(n=>n.category==="allies").length,ennemis:xa.filter(n=>n.category==="ennemis").length,monstres:xa.filter(n=>n.category==="monstres").length},q_=["all","allies","ennemis","monstres"];function j_(n){return Array.isArray(n)?n.map(i=>Oh.get(i)).filter(Boolean):[]}function pc({zoneId:n,locId:i,npcId:r}){const l=new URLSearchParams;n&&l.set("zone",n),i&&l.set("loc",i),r&&l.set("pnj",r);const c=l.toString();return c?`/univers?${c}`:"/univers"}function fc(n){const i=Nc(n);if(!i)return null;for(const r of At.zones||[])for(const l of r.locations||[])if((l.npcIds||[]).includes(n))return{npc:i,loc:l,zone:r,source:i.source};return{npc:i,loc:null,zone:null,source:i.source}}function wh(n){const i=[];for(const r of Ti||[])for(const[l,c]of(r.acts||[]).entries())for(const[d,p]of(c.scenes||[]).entries())Array.isArray(p.npcIds)&&p.npcIds.includes(n)&&i.push({scenarioId:r.id,scenarioTitle:r.title,actTitle:c.title,actNumber:l+1,sceneNumber:d+1,sceneTitle:p.title});return i}function T_(n){const i=new Map;for(const r of Ti||[])for(const[l,c]of(r.acts||[]).entries())for(const[d,p]of(c.scenes||[]).entries())p.locationId&&String(p.locationId)===String(n)&&(p.npcIds||[]).forEach(g=>{const h=i.get(g)||{npcId:g,occurrences:[]};h.occurrences.push({scenarioId:r.id,scenarioTitle:r.title,actTitle:c.title,actNumber:l+1,sceneNumber:d+1,sceneTitle:p.title}),i.set(g,h)});return Array.from(i.values())}function C_(n){for(const i of At.zones||[]){const r=(i.locations||[]).find(l=>l.id===n);if(r)return{loc:r,zone:i}}return null}function cl(n){const i=[],r=new Set;return j_(n.npcIds||[]).forEach(c=>{r.has(c.id)||(i.push(c),r.add(c.id))}),(n.npcs||[]).forEach(c=>{c?.id&&!r.has(c.id)&&(i.push(c),r.add(c.id))}),i}const A_=()=>{const n=[];return At.zones?.forEach(i=>{n.push({type:"Zone",title:i.name,description:i.details,path:`/univers?zone=${i.id}`}),i.locations?.forEach(r=>{n.push({type:"Lieu",title:r.name,description:r.summary,path:`/univers?zone=${i.id}&loc=${r.id}`}),r.npcs?.forEach(l=>{n.push({type:"PNJ",title:l.name,description:l.role,path:`/univers?zone=${i.id}&loc=${r.id}&pnj=${l.id}`})})})}),Ti?.forEach(i=>{n.push({type:"Scnario",title:i.title,description:i.synopsis,path:`/scenarios/${i.id}`})}),zh?.forEach(i=>{n.push({type:"Faction",title:i.name,description:i.desc,path:"/factions"})}),n};function D_(){const[n,i]=A.useState(""),r=A.useMemo(()=>{const c=A_(),d=new gn(c,{threshold:.3,keys:["title","description","type"]});return{entries:c,fuse:d}},[]),l=A.useMemo(()=>n.trim()?r.fuse.search(n).map(c=>c.item):[],[n,r]);return{term:n,setTerm:i,results:l,clear:()=>i("")}}function Xa(n,i){const[r,l]=A.useState(()=>{try{const c=localStorage.getItem(n);return c?JSON.parse(c):i}catch{return i}});return A.useEffect(()=>{try{localStorage.setItem(n,JSON.stringify(r))}catch(c){console.error(`Failed to save ${n} to localStorage`,c)}},[n,r]),[r,l]}const Mg=[{to:"/univers",label:"Univers",icon:nh},{to:"/factions",label:"Factions",icon:ll},{to:"/antagoniste",label:"Antagoniste",icon:cn},{to:"/scenarios",label:"Scnarios",icon:py}];function N_(){const{term:n,setTerm:i,results:r,clear:l}=D_(),c=Xt(),d=nl(),[p,g]=Xa("last-route",null),[h,v]=A.useState(!1);return A.useEffect(()=>{v(!1)},[c.pathname]),A.useEffect(()=>{c.pathname!=="/"&&g(c.pathname+c.search)},[c]),A.useEffect(()=>{c.pathname==="/"&&p&&p!=="/"&&d(p,{replace:!0})},[c.pathname,p,d]),m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-surface via-surface-raised to-surface text-content",children:[m.jsxs("header",{className:"border-b border-surface-border bg-surface/95 backdrop-blur-md sticky top-0 z-50",children:[m.jsxs("div",{className:"mx-auto max-w-6xl px-3 sm:px-6 py-3 sm:py-4 flex items-center justify-between gap-2 sm:gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[m.jsx("div",{className:"p-1.5 sm:p-2 rounded-md bg-accent-surface border border-accent-muted text-accent flex-shrink-0",children:m.jsx(ji,{size:18,className:"sm:w-5 sm:h-5"})}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-widest text-content-subtle",children:"Wiki de campagne"}),m.jsx("h1",{className:"text-base sm:text-xl font-serif text-accent-light truncate",children:"L'Ombre de la Spirale"})]})]}),m.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[m.jsxs("div",{className:"relative w-64",children:[m.jsx(el,{value:n,onChange:i,placeholder:"Rechercher (PNJ, lieux, scnarios...)"}),n.trim().length>=2&&r.length>0&&m.jsx("div",{className:"absolute mt-2 w-full bg-surface border border-surface-border rounded-md shadow-xl z-20 max-h-72 overflow-auto animate-slide-down",children:m.jsx("ul",{className:"divide-y divide-surface-border",children:r.map((y,b)=>m.jsx("li",{children:m.jsxs(Zt,{to:y.path,onClick:l,className:"flex flex-col gap-1 px-3 py-2 hover:bg-surface-raised transition-colors",children:[m.jsx("span",{className:"text-xs uppercase tracking-widest text-accent",children:y.type}),m.jsx("span",{className:"text-sm text-content",children:y.title}),y.description&&m.jsx("span",{className:"text-xs text-content-muted line-clamp-2",children:y.description})]})},`${y.type}-${b}`))})})]}),m.jsx("nav",{className:"flex items-center gap-2",children:Mg.map(({to:y,label:b,icon:T})=>{const j=T;return m.jsxs(tc,{to:y,className:({isActive:D})=>Le("flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 border","border-surface-border bg-surface-raised/60 hover:border-accent-muted hover:text-accent-light",D&&"text-accent-light border-accent-dark bg-surface-raised shadow-glow"),children:[m.jsx(j,{size:16}),b]},y)})})]}),m.jsx("button",{onClick:()=>v(!h),className:"lg:hidden p-2 rounded-md border border-surface-border bg-surface-raised/60 hover:border-accent-muted transition-colors","aria-label":"Menu",children:h?m.jsx(uh,{size:20}):m.jsx(sy,{size:20})})]}),h&&m.jsxs("div",{className:"lg:hidden border-t border-surface-border bg-surface-raised/95 backdrop-blur-md animate-slide-down",children:[m.jsx("div",{className:"px-3 py-3 border-b border-surface-border",children:m.jsxs("div",{className:"relative",children:[m.jsx(el,{value:n,onChange:i,placeholder:"Rechercher..."}),n.trim().length>=2&&r.length>0&&m.jsx("div",{className:"absolute mt-2 w-full bg-surface border border-surface-border rounded-md shadow-xl z-20 max-h-60 overflow-auto",children:m.jsx("ul",{className:"divide-y divide-surface-border",children:r.map((y,b)=>m.jsx("li",{children:m.jsxs(Zt,{to:y.path,onClick:()=>{l(),v(!1)},className:"flex flex-col gap-1 px-3 py-2 hover:bg-surface-raised transition-colors",children:[m.jsx("span",{className:"text-xs uppercase tracking-widest text-accent",children:y.type}),m.jsx("span",{className:"text-sm text-content",children:y.title})]})},`${y.type}-${b}`))})})]})}),m.jsx("nav",{className:"flex flex-col p-2 gap-1",children:Mg.map(({to:y,label:b,icon:T})=>{const j=T;return m.jsxs(tc,{to:y,onClick:()=>v(!1),className:({isActive:D})=>Le("flex items-center gap-3 px-4 py-3 rounded-md text-sm font-medium transition-all duration-200 border","border-transparent hover:bg-surface hover:border-surface-border",D&&"text-accent-light bg-surface border-accent-dark shadow-glow"),children:[m.jsx(j,{size:18}),b]},y)})})]})]}),m.jsx("main",{className:"mx-auto max-w-6xl px-3 sm:px-6 py-6 sm:py-10",children:m.jsx(Px,{})})]})}function hn({title:n,icon:i,subtitle:r,className:l}){return m.jsxs("div",{className:Le("mb-6 sm:mb-8 border-b border-surface-border pb-3 sm:pb-4",l),children:[m.jsxs("h2",{className:"text-xl sm:text-3xl font-serif text-content flex items-center gap-2 sm:gap-3",children:[i&&m.jsx(i,{className:"text-accent w-5 h-5 sm:w-7 sm:h-7","aria-hidden":"true"}),m.jsx("span",{children:n})]}),r&&m.jsx("p",{className:"text-content-muted mt-1.5 sm:mt-2 font-serif italic text-sm sm:text-base",children:r})]})}hn.propTypes={title:O.string.isRequired,icon:O.elementType,subtitle:O.string,className:O.string};hn.defaultProps={icon:null,subtitle:"",className:""};function qa({children:n,className:i,title:r,subtitle:l,icon:c,variant:d="default",hoverEffect:p=!0,...g}){const h={default:"bg-surface-raised border-surface-border shadow-xl hover:shadow-glow",simple:"bg-surface border-surface-border",flat:"bg-surface/50 border-surface-border"};return m.jsxs("div",{className:Le("border rounded-lg p-4 relative overflow-hidden transition-all duration-200",h[d]||h.default,p&&"hover:border-accent-muted",i),...g,children:[(r||c)&&m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c&&m.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-surface-raised border border-surface-border",children:c}),r&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-serif text-content",children:r}),l&&m.jsx("p",{className:"text-[11px] uppercase tracking-widest text-content-subtle",children:l})]})]}),n]})}qa.propTypes={children:O.node,className:O.string,title:O.string,subtitle:O.string,icon:O.element,variant:O.oneOf(["default","simple","flat"]),hoverEffect:O.bool};qa.defaultProps={children:null,className:"",variant:"default",hoverEffect:!0};const L_={quartier_des_mineurs:rh,quartier_du_savoir:ji,hauteurs_brumeuses:rl,vieille_ville:th,centre_civique:sh,cimetiere_et_seuil:cn,profondeurs_mine:ih,spirale:Tc},M_={quartier_des_mineurs:"from-amber-900/40 to-amber-950/60 border-amber-700/50",quartier_du_savoir:"from-blue-900/40 to-blue-950/60 border-blue-700/50",hauteurs_brumeuses:"from-slate-800/40 to-slate-900/60 border-slate-600/50",vieille_ville:"from-stone-800/40 to-stone-900/60 border-stone-600/50",centre_civique:"from-emerald-900/40 to-emerald-950/60 border-emerald-700/50",cimetiere_et_seuil:"from-gray-800/40 to-gray-900/60 border-gray-600/50",profondeurs_mine:"from-zinc-800/40 to-zinc-900/60 border-zinc-600/50",spirale:"from-purple-900/40 to-purple-950/60 border-purple-700/50"},E_={quartier_des_mineurs:"text-amber-400",quartier_du_savoir:"text-blue-400",hauteurs_brumeuses:"text-slate-300",vieille_ville:"text-stone-300",centre_civique:"text-emerald-400",cimetiere_et_seuil:"text-gray-300",profondeurs_mine:"text-zinc-300",spirale:"text-purple-400"};function Ph({zone:n,isSelected:i,onSelect:r}){const l=L_[n.id]||xi,c=M_[n.id]||"from-surface/40 to-surface/60 border-surface-border",d=E_[n.id]||"text-accent-light",p=n.locations?.length||0,g=(n.locations||[]).reduce((v,y)=>v+cl(y).length,0),h=n.details?.find(v=>v.toLowerCase().startsWith("ambiance"))?.replace(/^ambiance\s*:\s*/i,"")||n.summary;return m.jsx("button",{onClick:()=>r(n.id),className:Le("w-full text-left rounded-lg border transition-all duration-200 overflow-hidden group","bg-gradient-to-br",c,i?"ring-2 ring-accent-light ring-offset-2 ring-offset-surface scale-[1.02]":"hover:scale-[1.01] hover:brightness-110"),children:m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:Le("p-2 rounded-lg bg-black/20 border border-white/10",i&&"bg-black/30"),children:m.jsx(l,{className:Le("w-5 h-5",d)})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:Le("font-serif font-semibold truncate",i?"text-white":"text-content-primary"),children:n.name}),m.jsx("p",{className:"text-xs text-content-muted line-clamp-2 mt-1",children:h})]})]}),m.jsxs("div",{className:"flex items-center gap-4 mt-3 pt-3 border-t border-white/10",children:[m.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-content-muted",children:[m.jsx(xi,{className:"w-3.5 h-3.5"}),m.jsxs("span",{children:[p," lieu",p>1?"x":""]})]}),m.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-content-muted",children:[m.jsx(dn,{className:"w-3.5 h-3.5"}),m.jsxs("span",{children:[g," PNJ"]})]})]})]})})}Ph.propTypes={zone:O.object.isRequired,isSelected:O.bool,onSelect:O.func.isRequired};const R_={quartier_des_mineurs:rh,quartier_du_savoir:ji,hauteurs_brumeuses:rl,vieille_ville:th,centre_civique:sh,cimetiere_et_seuil:cn,profondeurs_mine:ih,spirale:Tc},Xu={ambiance:{icon:ol,color:"text-purple-400",bg:"bg-purple-900/20 border-purple-800/30"},tension:{icon:oh,color:"text-red-400",bg:"bg-red-900/20 border-red-800/30"},focus:{icon:Cc,color:"text-blue-400",bg:"bg-blue-900/20 border-blue-800/30"},opportunits:{icon:B0,color:"text-green-400",bg:"bg-green-900/20 border-green-800/30"},default:{icon:xi,color:"text-content-muted",bg:"bg-surface/50 border-surface-border"}};function z_(n){const i=n.match(/^(\w+)\s*:\s*(.+)$/i);if(i){const r=i[1].toLowerCase(),l=i[2],c=Xu[r]||Xu.default;return{label:i[1],value:l,...c}}return{label:null,value:n,...Xu.default}}function Vh({zone:n}){if(!n)return null;const i=R_[n.id]||xi,r=(n.details||[]).map(z_);return m.jsxs(qa,{className:"h-full",children:[m.jsxs("div",{className:"flex items-start gap-4 mb-6 pb-4 border-b border-surface-border",children:[m.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-accent-surface to-accent-dark/30 border border-accent-muted",children:m.jsx(i,{className:"w-8 h-8 text-accent-light"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h2",{className:"text-2xl font-serif text-accent-light",children:n.name}),m.jsx("p",{className:"text-content-secondary mt-1",children:n.summary})]})]}),r.length>0&&m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map((l,c)=>{const d=l.icon;return m.jsxs("div",{className:Le("rounded-lg p-4 border",l.bg),children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(d,{className:Le("w-4 h-4",l.color)}),l.label&&m.jsx("span",{className:Le("text-sm font-medium",l.color),children:l.label})]}),m.jsx("p",{className:"text-sm text-content-secondary",children:l.value})]},c)})})]})}Vh.propTypes={zone:O.object};function Lc({locations:n,selectedLocationId:i,onSelectLocation:r}){const l=n.find(b=>b.id===i)||n[0]||null,c=b=>`/antagoniste?pnj=${encodeURIComponent(b)}`,d=l?cl(l):[],p=d.map(b=>({...b,occurrences:wh(b.id)})),g=l?T_(l.id):[],h=new Set(d.map(b=>b.id)),v=g.filter(b=>!h.has(b.npcId)).map(b=>{const j=fc(b.npcId)?.npc;return{id:b.npcId,name:j?.name||b.npcId,role:j?.role||"",isEnemy:j?.isEnemy??j?.est_ennemi??!1,occurrences:b.occurrences||[]}}),y=({npc:b,isResident:T})=>m.jsxs("div",{className:"bg-surface/50 border border-surface-border rounded px-3 py-2 space-y-2",children:[m.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"font-semibold text-accent-light",children:b.name}),b.isEnemy&&m.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border border-red-700 text-red-300 bg-red-900/20 uppercase tracking-wide",children:"Ennemi"})]}),b.role&&m.jsx("p",{className:"text-xs text-content-muted",children:b.role})]}),b.id&&m.jsx(Zt,{to:c(b.id),className:"text-[10px] px-2 py-1 rounded border border-accent-muted text-accent-light bg-accent-surface hover:border-accent transition-colors",children:"Fiche"})]}),T&&b.details&&b.details.length>0&&m.jsx("ul",{className:"space-y-1 mt-2",children:b.details.map((j,D)=>m.jsxs("li",{className:"flex gap-2 text-xs text-content-secondary",children:[m.jsx("span",{className:"mt-1 w-1 h-1 rounded-full bg-surface-border block flex-shrink-0"}),m.jsx("span",{children:j})]},D))}),b.occurrences&&b.occurrences.length>0&&m.jsxs("div",{className:"pt-1",children:[m.jsx("p",{className:"text-[10px] uppercase tracking-widest text-content-muted mb-1.5",children:"Apparitions dans les scnarios"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:b.occurrences.map((j,D)=>m.jsxs(Zt,{to:`/scenarios?scenario=${j.scenarioId}&scene=${encodeURIComponent(j.sceneTitle)}`,className:"px-2 py-1 rounded border border-accent-muted text-accent-light bg-accent-surface hover:bg-accent-surface/80 text-[10px] uppercase tracking-wide transition-colors",title:`${j.scenarioTitle}  ${j.actTitle}  ${j.sceneTitle}`,children:[j.scenarioId,".",j.actNumber,".",j.sceneNumber]},`${b.id}-${D}-${j.sceneTitle}`))})]})]});return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(qa,{children:[m.jsx("h3",{className:"text-sm font-mono tracking-widest text-content-muted uppercase border-b border-surface-border pb-2 mb-4",children:"Lieux marquants"}),n.length>0?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"space-y-2 mb-4",children:n.map(b=>m.jsxs("button",{onClick:()=>r(b.id),className:Le("w-full text-left px-3 py-2 rounded border text-sm font-serif transition-colors",l&&l.id===b.id?"bg-surface-raised border-accent-dark text-accent-light":"bg-surface/50 border-surface-border text-content-secondary hover:border-surface-border"),children:[m.jsx("div",{className:"font-semibold",children:b.name}),m.jsx("div",{className:"text-xs text-content-muted line-clamp-1",children:b.summary})]},b.id))}),l&&m.jsx("div",{className:"space-y-4 text-sm text-content-secondary",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("h4",{className:"font-serif text-accent",children:l.name}),m.jsx("p",{className:"text-content-muted text-xs mb-1",children:"Dtails du lieu"}),m.jsx("ul",{className:"space-y-1.5",children:l.details?.map((b,T)=>m.jsxs("li",{className:"flex gap-2",children:[m.jsx("span",{className:"mt-1 w-1 h-1 rounded-full bg-surface-border block flex-shrink-0"}),m.jsx("span",{children:b})]},T))})]})})]}):m.jsx("p",{className:"text-sm text-content-subtle",children:"Aucun lieu dfini pour cette zone."})]}),m.jsx(qa,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-mono tracking-widest text-content-muted uppercase border-b border-surface-border pb-2 mb-4 flex items-center justify-between",children:m.jsx("span",{children:"PNJ rsidents"})}),l?p.length>0?m.jsx("div",{className:"space-y-3",children:p.map(b=>m.jsx(y,{npc:b,isResident:!0},b.id))}):m.jsx("p",{className:"text-sm text-content-subtle",children:"Aucun rsident rpertori."}):m.jsx("p",{className:"text-sm text-content-subtle",children:"Slectionnez un lieu."})]}),v.length>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-mono tracking-widest text-content-muted uppercase border-b border-surface-border pb-2 mb-4",children:"PNJ visiteurs"}),m.jsx("div",{className:"space-y-3",children:v.map(b=>m.jsx(y,{npc:b,isResident:!1},b.id))})]})]})})]})}Lc.propTypes={locations:O.array.isRequired,selectedLocationId:O.oneOfType([O.string,O.number]),onSelectLocation:O.func.isRequired};Lc.defaultProps={selectedLocationId:null};function Uh({zones:n}){const i=n.length,r=n.reduce((d,p)=>d+(p.locations?.length||0),0),l=n.reduce((d,p)=>d+(p.locations||[]).reduce((g,h)=>g+cl(h).length,0),0),c=[{icon:X0,label:"Zones",value:i,color:"text-purple-400"},{icon:xi,label:"Lieux",value:r,color:"text-blue-400"},{icon:dn,label:"PNJ",value:l,color:"text-green-400"},{icon:E0,label:"Secrets",value:"",color:"text-amber-400"}];return m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:c.map(({icon:d,label:p,value:g,color:h})=>m.jsxs("div",{className:"bg-surface/50 border border-surface-border rounded-lg p-4 text-center",children:[m.jsx(d,{className:`w-5 h-5 mx-auto mb-2 ${h}`}),m.jsx("div",{className:"text-2xl font-bold text-content-primary",children:g}),m.jsx("div",{className:"text-xs text-content-muted uppercase tracking-wider",children:p})]},p))})}Uh.propTypes={zones:O.array.isRequired};const O_={cloud:rl,spiral:Tc,history:F0,secrets:Y0};function w_(){const n=At.zones||[],[i,r]=Xa("universe-zone",n[0]?.id||null),[l,c]=Xa("universe-loc",null),[d,p]=Xa("universe-pnj",null),[g]=jc(),h=n.find(j=>j.id===i)||n[0]||null,v=h?.locations||[];A.useEffect(()=>{const j=g.get("zone"),D=g.get("loc"),z=g.get("pnj");if(j){const w=n.find(I=>String(I.id)===j);if(w)if(r(w.id),D){const I=w.locations?.find(B=>String(B.id)===D);if(c(I?I.id:null),I&&z){const J=cl(I).find(ee=>String(ee.id)===z);p(J?J.id:null)}else p(null)}else c(null),p(null)}},[g,n]);const y=j=>{r(j),c(null),p(null)},b=j=>{c(j),p(null)},T=j=>{p(D=>D===j?null:j)};return m.jsxs("div",{className:"space-y-6 sm:space-y-8 animate-fadeIn text-content-secondary",children:[m.jsx(hn,{title:At.title,icon:nh,subtitle:At.intro}),At.quote&&m.jsxs("div",{className:"relative bg-gradient-to-r from-surface/80 via-surface/60 to-surface/80 rounded-xl p-4 sm:p-6 border border-surface-border",children:[m.jsx(dy,{className:"absolute top-3 left-3 sm:top-4 sm:left-4 w-6 h-6 sm:w-8 sm:h-8 text-accent-dark/30"}),m.jsxs("blockquote",{className:"pl-8 sm:pl-10 pr-2 sm:pr-4",children:[m.jsxs("p",{className:"text-sm sm:text-lg italic text-content-primary font-serif",children:['"',At.quote.text,'"']}),m.jsxs("footer",{className:"mt-1.5 sm:mt-2 text-xs sm:text-sm text-accent-light",children:[" ",At.quote.author]})]})]}),m.jsx(Uh,{zones:n}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:At.sections.map((j,D)=>{const z=O_[j.icon]||rl;return m.jsxs(qa,{className:"group hover:border-accent-muted transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"p-2 rounded-lg bg-accent-surface border border-accent-muted",children:m.jsx(z,{className:"w-5 h-5 text-accent-light"})}),m.jsx("h3",{className:"text-lg font-serif text-accent-light",children:j.title})]}),m.jsx("ul",{className:"space-y-2",children:j.content.map((w,I)=>m.jsxs("li",{className:"flex gap-2 text-sm text-content-secondary",children:[m.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-accent-dark block flex-shrink-0"}),m.jsx("span",{children:w})]},I))})]},D)})}),At.themes&&At.themes.length>0&&m.jsxs(qa,{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx(oy,{className:"w-5 h-5 text-accent-light"}),m.jsx("h3",{className:"text-lg font-serif text-accent-light",children:"Thmes de la Campagne"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:At.themes.map((j,D)=>m.jsxs("div",{className:"bg-surface/50 rounded-lg p-3 border border-surface-border hover:border-accent-muted transition-colors",children:[m.jsx("h4",{className:"font-medium text-content-primary text-sm mb-1",children:j.name}),m.jsx("p",{className:"text-xs text-content-muted",children:j.desc})]},D))})]}),m.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[m.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-surface-border to-transparent"}),m.jsx("h2",{className:"text-base sm:text-xl font-serif text-accent-light whitespace-nowrap",children:"Explorer les Zones"}),m.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-surface-border to-transparent"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:n.map(j=>m.jsx(Ph,{zone:j,isSelected:i===j.id,onSelect:y},j.id))}),h&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[m.jsx("div",{className:"lg:col-span-1",children:m.jsx(Vh,{zone:h})}),m.jsx("div",{className:"lg:col-span-2",children:m.jsx(Lc,{locations:v,selectedLocationId:l,onSelectLocation:b,selectedNpcId:d,onSelectNpc:T})})]})]})}function kh({items:n,renderItem:i,className:r,listClassName:l,emptyMessage:c="Aucun lment  afficher",bordered:d=!0,divided:p=!0}){return!n||n.length===0?m.jsx("div",{className:Le("text-center py-4 text-content-secondary",r),children:c}):m.jsx("ul",{className:Le("space-y-2",d&&"border border-surface-border rounded-md p-2",p&&"divide-y divide-surface-border",l),children:n.map((g,h)=>m.jsx("li",{className:Le(d&&"px-3 py-2",p&&"py-2"),children:i(g,h)},h))})}kh.propTypes={items:O.array,renderItem:O.func.isRequired,className:O.string,listClassName:O.string,emptyMessage:O.string,bordered:O.bool,divided:O.bool};function P_(n,i,r){const l=Ti.find(p=>p.id===n||p.id===String(n));if(!l)return null;const c=l.acts[i-1];return!c||!c.scenes?null:c.scenes[r]?.title||null}function V_(){const{t:n}=qh();return m.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[m.jsx(hn,{title:n("factions.title"),icon:ll,subtitle:n("factions.subtitle")}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:zh.map(i=>m.jsxs(qa,{className:i.color,title:i.name,subtitle:i.type,icon:i.icon&&m.jsx(i.icon,{size:20,className:i.color.split(" ")[0]}),variant:"simple",children:[m.jsx("p",{className:"text-sm text-content-secondary leading-relaxed",children:i.desc}),i.objectifs&&m.jsxs("div",{className:"mt-4 space-y-2",children:[m.jsxs("h4",{className:"text-xs uppercase tracking-wide text-content-muted flex items-center gap-1.5",children:[m.jsx(Cc,{size:14}),"Objectifs"]}),m.jsxs("div",{className:"space-y-1.5 text-xs",children:[m.jsxs("p",{children:[m.jsx("span",{className:"font-semibold text-accent-light",children:"Court terme : "}),m.jsx("span",{className:"text-content-secondary",children:i.objectifs.court_terme})]}),m.jsxs("p",{children:[m.jsx("span",{className:"font-semibold text-accent-light",children:"Long terme : "}),m.jsx("span",{className:"text-content-secondary",children:i.objectifs.long_terme})]})]})]}),i.alliances?.length>0&&m.jsxs("div",{className:"mt-4 space-y-2",children:[m.jsxs("h4",{className:"text-xs uppercase tracking-wide text-content-muted flex items-center gap-1.5",children:[m.jsx(yi,{size:14}),"Relations"]}),m.jsx("div",{className:"space-y-1",children:i.alliances.map((r,l)=>m.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[m.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-semibold uppercase ${r.type==="alliance"?"bg-green-900/40 text-green-300":r.type==="rivalite"?"bg-orange-900/40 text-orange-300":r.type==="conflit"?"bg-red-900/40 text-red-300":"bg-gray-900/40 text-gray-300"}`,children:r.type}),m.jsxs("div",{className:"flex-1",children:[m.jsx("span",{className:"font-semibold text-accent-light",children:r.faction}),m.jsxs("span",{className:"text-content-muted",children:["  ",r.desc]})]})]},l))})]}),i.forces_militaires&&m.jsxs("div",{className:"mt-4 space-y-2",children:[m.jsxs("h4",{className:"text-xs uppercase tracking-wide text-content-muted flex items-center gap-1.5",children:[m.jsx(dn,{size:14}),"Forces Militaires"]}),m.jsxs("div",{className:"space-y-1.5 text-xs",children:[m.jsxs("p",{children:[m.jsx("span",{className:"font-semibold text-accent-light",children:"Effectifs : "}),m.jsx("span",{className:"text-content-secondary",children:i.forces_militaires.effectifs})]}),i.forces_militaires.capacites?.length>0&&m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold text-green-400",children:"Capacits : "}),m.jsx("span",{className:"text-content-muted",children:i.forces_militaires.capacites.join(", ")})]}),i.forces_militaires.faiblesses?.length>0&&m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold text-red-400",children:"Faiblesses : "}),m.jsx("span",{className:"text-content-muted",children:i.forces_militaires.faiblesses.join(", ")})]})]})]}),i.hierarchy?.length>0&&m.jsxs("div",{className:"mt-4 space-y-2",children:[m.jsx("h4",{className:"text-xs uppercase tracking-wide text-content-muted",children:n("factions.hierarchy")}),m.jsx(kh,{items:i.hierarchy,renderItem:r=>m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("span",{className:"font-semibold text-accent-light",children:r.role}),r.npcId&&(()=>{const l=fc(r.npcId),c=l?.npc?.name||r.npcId,d=l&&l.zone&&l.loc?pc({zoneId:l.zone.id,locId:l.loc.id,npcId:r.npcId}):null;return d?m.jsx("a",{href:d,title:r.npcId,className:"text-sm text-content underline decoration-accent/60 decoration-dotted underline-offset-4 hover:text-accent-light transition-colors",children:c}):m.jsx("span",{className:"text-sm text-content",title:r.npcId,children:c})})()]})})]}),i.npcIds?.length>0&&m.jsxs("div",{className:"mt-3",children:[m.jsx("h4",{className:"text-xs uppercase tracking-wide text-content-muted",children:n("factions.npcs")}),m.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1",children:i.npcIds.map(r=>{const l=fc(r),c=l?.npc?.name||r,d=l&&l.zone&&l.loc?pc({zoneId:l.zone.id,locId:l.loc.id,npcId:r}):null;return d?m.jsx("a",{href:d,title:r,className:"text-[11px] text-accent-light bg-accent-surface border border-accent-muted/40 rounded px-2 py-1 tracking-wide hover:border-accent transition-colors",children:c},r):m.jsx("span",{title:r,className:"text-[11px] text-accent-light bg-accent-surface border border-accent-muted/40 rounded px-2 py-1 tracking-wide",children:c},r)})})]}),i.quetes_associees?.length>0&&m.jsxs("div",{className:"mt-4 space-y-2",children:[m.jsxs("h4",{className:"text-xs uppercase tracking-wide text-content-muted flex items-center gap-1.5",children:[m.jsx(gy,{size:14}),"Qutes Associes"]}),m.jsx("div",{className:"space-y-1",children:i.quetes_associees.map((r,l)=>{const c=r.sceneIndex!==void 0?P_(r.scenarioId,r.acte,r.sceneIndex):null,d=c?`/scenarios/${r.scenarioId}?scene=${encodeURIComponent(c)}`:`/scenarios/${r.scenarioId}`;return m.jsxs("div",{className:"text-xs text-content-muted",children:[m.jsxs(Zt,{to:d,className:"font-semibold text-accent-light hover:text-accent underline decoration-accent/40 decoration-dotted underline-offset-2 hover:decoration-solid transition-colors",children:["Scnario ",r.scenarioId,"  Acte ",r.acte,r.sceneLabel&&m.jsxs(m.Fragment,{children:[", ",r.sceneLabel]})]}),m.jsxs("span",{className:"italic",children:[" : ",r.role]})]},l)})})]})]},i.name))})]})}function U_(n){const i=$a(n);return i>=10?"Boss":i>=7?"Combat":i>=4?"Tension":"Social"}function $a(n){if(n==null)return 0;if(typeof n=="number")return n;const i=String(n).trim();if(i.includes("/")){const l=i.split("/");if(l.length===2)return parseFloat(l[0])/parseFloat(l[1])}const r=i.match(/\d+/g);return r&&r.length>0?r.reduce((l,c)=>l+parseInt(c,10),0):parseFloat(i)||0}function gc(n){switch(n){case"monstres":return{label:"Monstre",className:"bg-purple-900/20 text-purple-300 border-purple-800/30"};case"ennemis":return{label:"Ennemi",className:"bg-red-900/20 text-red-300 border-red-800/30"};case"allies":return{label:"Alli",className:"bg-blue-900/20 text-blue-300 border-blue-800/30"};default:return null}}function k_({npc:n,onClick:i}){const[r,l]=A.useState(!1),c=n.lvl??n.level_value,d=c!=null&&c!==0&&c!=="0",p=d?$a(c):n.fp??n.cr,g=d?`Niv. ${p}`:`FP ${p}`,v=n.category==="allies"?"blue":n.category==="ennemis"?"red":n.category==="monstres"?n.est_ennemi===!1?"blue":"red":"default",y=n.ini||n.initiative||"+0",b=n.ca||n.ac,T=typeof b=="object"?b.total:b?String(b).match(/^(\d+)/)?.[1]:"10",j=typeof b=="object"?b.contact:"10",D=typeof b=="object"?b.pris_au_depourvu:T,z=n.js||n.saves||{},w=z.vig||z.fort||"+0",I=z.ref||"+0",B=z.vol||z.will||"+0",J=n.attaque||n.attack||"";return m.jsx(qa,{className:Le("cursor-pointer transition-all duration-200 relative overflow-hidden flex flex-col bg-surface","border-2 border-surface-border hover:border-accent-light/40",r&&"scale-[1.01] shadow-2xl"),onClick:i,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:m.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[m.jsx("div",{className:"pt-3 sm:pt-4 px-3 sm:px-4 pb-1.5 sm:pb-2",children:m.jsx("h3",{className:"text-base sm:text-xl font-serif text-accent-light font-bold text-center tracking-wide leading-tight",children:n.name})}),m.jsx("div",{className:"px-3 sm:px-4",children:m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 pt-2 sm:pt-4",children:[m.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-content-subtle font-bold text-xs sm:text-sm",children:[m.jsx(ch,{size:15,className:"text-accent-light"}),m.jsxs("span",{children:[y," Init"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[gc(n.category)&&m.jsx("span",{className:Le("px-2 sm:px-3 py-0.5 sm:py-1 text-[10px] sm:text-xs font-bold rounded-full border uppercase tracking-wider shadow-sm",v==="blue"&&"bg-blue-900/40 border-blue-500/50 text-blue-200",v==="red"&&"bg-red-900/40 border-red-500/50 text-red-200",v==="default"&&"bg-slate-800 border-slate-500 text-slate-200"),children:gc(n.category).label}),m.jsx("span",{className:Le("px-2 sm:px-3 py-0.5 sm:py-1 text-[10px] sm:text-xs font-bold rounded-full border uppercase tracking-wider shadow-sm",v==="blue"&&"bg-blue-900/40 border-blue-500/50 text-blue-200",v==="red"&&"bg-red-900/40 border-red-500/50 text-red-200",v==="default"&&"bg-slate-800 border-slate-500 text-slate-200"),children:g})]})]})}),m.jsxs("div",{className:"p-3 sm:p-5 pt-2 sm:pt-3 space-y-3 sm:space-y-5",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-1.5 sm:gap-3",children:[m.jsx(on,{label:"CA",value:T}),m.jsx(on,{label:"Contact",value:j}),m.jsx(on,{label:"Dpourvu",value:D}),m.jsx(on,{label:"Vig",value:w}),m.jsx(on,{label:"Rf",value:I}),m.jsx(on,{label:"Vol",value:B})]}),J&&m.jsxs("div",{className:"px-3 py-2.5 rounded-lg border border-surface-border/40 bg-black/10",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[10px] uppercase font-bold text-content-subtle mb-1.5 opacity-80",children:[m.jsx(yi,{size:14}),m.jsx("span",{children:"Attaque"})]}),m.jsx("div",{className:"text-sm font-medium text-content leading-snug",children:J})]}),m.jsxs("div",{className:"flex items-center justify-between pt-4",children:[m.jsx("div",{className:"flex items-center gap-2",children:n.pv&&m.jsxs(m.Fragment,{children:[m.jsx(ah,{size:18,className:"text-red-500 fill-red-500/10"}),m.jsxs("span",{className:"font-bold text-base text-content",children:[n.pv," ",m.jsx("span",{className:"text-xs text-content-subtle font-normal",children:"PV"})]})]})}),n.class&&m.jsx("div",{className:"text-sm font-medium text-content leading-snug",children:n.class})]})]})]})})}const on=({label:n,value:i})=>m.jsxs("div",{className:"flex flex-col items-center py-2 rounded-lg border border-surface-border/40 bg-black/10",children:[m.jsx("div",{className:"text-[10px] uppercase font-bold text-content-subtle mb-1 tracking-wider opacity-80",children:n}),m.jsx("div",{className:"text-base font-black text-content leading-none",children:i})]});function Mc({isOpen:n,onClose:i,title:r,subtitle:l,badge:c,children:d,maxWidth:p="max-w-4xl"}){const g=A.useRef();return A.useEffect(()=>{if(!n)return;const h=y=>{g.current&&!g.current.contains(y.target)&&i()},v=y=>{y.key==="Escape"&&i()};return document.addEventListener("mousedown",h),document.addEventListener("keydown",v),document.body.style.overflow="hidden",()=>{document.removeEventListener("mousedown",h),document.removeEventListener("keydown",v),document.body.style.overflow=""}},[n,i]),n?m.jsxs("div",{className:"fixed inset-0 z-[100] overflow-y-auto",children:[m.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm transition-opacity",onClick:i}),m.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-2 sm:p-4",children:m.jsxs("div",{ref:g,className:Le("relative bg-surface-raised shadow-2xl w-full overflow-hidden border border-surface-border","rounded-lg sm:rounded-xl","max-h-[95vh] sm:max-h-[90vh]",p),children:[r&&m.jsxs("div",{className:"relative bg-gradient-to-r from-accent-light/20 to-accent-light/5 p-4 sm:p-6 border-b border-surface-border",children:[m.jsx("button",{onClick:i,className:"absolute top-3 right-3 sm:top-4 sm:right-4 p-1.5 sm:p-2 rounded-lg bg-surface/80 hover:bg-surface border border-surface-border transition-colors",children:m.jsx(uh,{size:18,className:"sm:w-5 sm:h-5 text-content"})}),m.jsx("div",{className:"flex items-start justify-between pr-10 sm:pr-12",children:m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-1 sm:mb-2",children:[m.jsx("h1",{className:"text-lg sm:text-2xl font-serif text-accent-light font-bold",children:r}),c]}),l&&m.jsx("p",{className:"text-sm sm:text-lg text-content-secondary italic line-clamp-2 sm:line-clamp-none",children:l})]})})]}),m.jsx("div",{className:Le("p-3 sm:p-6 overflow-y-auto",r?"max-h-[calc(95vh-140px)] sm:max-h-[calc(90vh-200px)]":"max-h-[95vh] sm:max-h-[90vh]"),children:d})]})})]}):null}Mc.propTypes={isOpen:O.bool.isRequired,onClose:O.func.isRequired,title:O.string,subtitle:O.string,badge:O.node,children:O.node,maxWidth:O.string};const I_={Combat:"bg-red-500/15 text-red-300 border-red-600",Social:"bg-blue-500/15 text-blue-300 border-blue-500",Exploration:"bg-emerald-500/15 text-emerald-300 border-emerald-500",Investigation:"bg-emerald-500/15 text-emerald-300 border-emerald-500",Ambiance:"bg-stone-500/15 text-stone-300 border-stone-500",Indice:"bg-amber-500/15 text-amber-300 border-amber-500",Boss:"bg-red-600/25 text-red-200 border-red-500 font-bold animate-pulse-slow",Tension:"bg-orange-500/15 text-orange-300 border-orange-500",Magie:"bg-purple-500/15 text-purple-300 border-purple-400",Twist:"bg-pink-500/15 text-pink-300 border-pink-400",Prparation:"bg-cyan-500/15 text-cyan-300 border-cyan-400",Action:"bg-orange-600/15 text-orange-200 border-orange-500",Rencontre:"bg-sky-500/15 text-sky-300 border-sky-400",Objectif:"bg-green-600/15 text-green-300 border-green-500",Observation:"bg-slate-500/15 text-slate-300 border-slate-400",Logistique:"bg-yellow-700/15 text-yellow-300 border-yellow-600",pique:"bg-violet-600/15 text-violet-200 border-violet-500 font-bold",Pige:"bg-red-800/15 text-red-300 border-red-700",Puzzle:"bg-indigo-500/15 text-indigo-300 border-indigo-400",Dilemme:"bg-fuchsia-500/15 text-fuchsia-300 border-fuchsia-400","Mini-Boss":"bg-red-700/20 text-red-200 border-red-500 font-bold",Dcor:"bg-gray-600/15 text-gray-300 border-gray-500",Rvlation:"bg-purple-400/15 text-purple-200 border-purple-400",Transition:"bg-slate-600/15 text-slate-200 border-slate-500",Cinmatique:"bg-gray-900/20 text-yellow-300 border-yellow-700/50",Conclusion:"bg-amber-200/20 text-amber-100 border-amber-300/50",Dcouverte:"bg-teal-500/15 text-teal-300 border-teal-400",Horreur:"bg-purple-800/15 text-purple-300 border-purple-700"},B_="bg-stone-500/15 text-stone-300 border-stone-500";function dl({type:n,variant:i,children:r,className:l}){const c=I_[i||n]||B_;return m.jsx("span",{className:Le("text-xs px-2 py-1 rounded border uppercase tracking-wider font-semibold",c,l),children:r||i||n})}dl.propTypes={type:O.string,variant:O.string,children:O.node,className:O.string};dl.defaultProps={type:"",variant:"",children:null,className:""};function Ih({title:n,icon:i,children:r,className:l=""}){return m.jsxs("div",{className:`mb-6 ${l}`,children:[m.jsxs("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3 flex items-center gap-2",children:[i&&m.jsx(i,{size:18}),n]}),m.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:r})]})}Ih.propTypes={title:O.string.isRequired,icon:O.elementType,children:O.node.isRequired,className:O.string};function Bh({npc:n}){const i=typeof n.ca=="object"?n.ca:typeof n.ac=="object"?n.ac:null,r=i?.total??n.ca??n.ac,l=i?.contact??i?.touch,c=i?.pris_au_depourvu??i?.flatFooted,d=n.pv??n.hp,p=n.fp??n.cr,g=n.ini||n.initiative,h=n.rm??n.sr,v=n.rd??n.dr;return m.jsxs("div",{className:"space-y-4 mb-6",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"bg-surface/50 rounded-lg p-4 text-center border border-surface-border",children:[m.jsx(ll,{className:"w-6 h-6 mx-auto mb-2 text-accent-light"}),m.jsx("div",{className:"font-bold text-accent-light text-lg",children:"CA"}),m.jsx("div",{className:"text-xl",children:r??""}),(l||c)&&m.jsxs("div",{className:"text-xs text-content-muted mt-1",children:[l&&m.jsxs("span",{children:["contact ",l]}),l&&c&&m.jsx("span",{children:" / "}),c&&m.jsxs("span",{children:["dp. ",c]})]})]}),m.jsxs("div",{className:"bg-surface/50 rounded-lg p-4 text-center border border-surface-border",children:[m.jsx(ah,{className:"w-6 h-6 mx-auto mb-2 text-red-400"}),m.jsx("div",{className:"font-bold text-accent-light text-lg",children:"PV"}),m.jsx("div",{className:"text-xl",children:d??""})]}),m.jsxs("div",{className:"bg-surface/50 rounded-lg p-4 text-center border border-surface-border",children:[m.jsx(ch,{className:"w-6 h-6 mx-auto mb-2 text-yellow-400"}),m.jsx("div",{className:"font-bold text-accent-light text-lg",children:"Init"}),m.jsx("div",{className:"text-xl",children:g??""})]}),m.jsxs("div",{className:"bg-surface/50 rounded-lg p-4 text-center border border-surface-border",children:[m.jsx(C0,{className:"w-6 h-6 mx-auto mb-2 text-purple-400"}),m.jsx("div",{className:"font-bold text-accent-light text-lg",children:n.lvl?"Niv":"FP"}),m.jsx("div",{className:"text-xl",children:n.lvl?$a(n.lvl):p??""})]})]}),(h||v)&&m.jsxs("div",{className:"flex flex-wrap gap-3",children:[h&&m.jsxs("div",{className:"flex items-center gap-2 bg-purple-900/20 text-purple-300 px-3 py-2 rounded-lg border border-purple-800/30",children:[m.jsx(ol,{className:"w-4 h-4"}),m.jsxs("span",{className:"text-sm font-medium",children:["RM ",h]})]}),v&&m.jsxs("div",{className:"flex items-center gap-2 bg-orange-900/20 text-orange-300 px-3 py-2 rounded-lg border border-orange-800/30",children:[m.jsx(by,{className:"w-4 h-4"}),m.jsxs("span",{className:"text-sm font-medium",children:["RD ",v]})]})]})]})}Bh.propTypes={npc:O.object.isRequired};function Hh({npc:n}){const i=n.taille||n.size,r=n.type,l=n.alignment||n.alignement,c=n.dv||n.hd,d=n.vit||n.speed,p=n.sens||n.senses;return m.jsxs("div",{className:"bg-surface/30 rounded-lg p-4 mb-6 border border-surface-border",children:[m.jsxs("p",{className:"text-accent-light uppercase tracking-wider text-sm font-bold mb-2",children:[i&&m.jsxs("span",{children:[i," "]}),r&&m.jsx("span",{children:r}),n.class&&m.jsxs("span",{children:[", ",n.class]}),l&&m.jsxs("span",{className:"text-content-muted normal-case",children:[" (",l,")"]})]}),m.jsxs("div",{className:"flex gap-6 text-sm text-content-secondary",children:[m.jsxs("span",{children:[m.jsx("span",{className:"text-content-muted font-medium",children:"DV :"})," ",c??""]}),m.jsxs("span",{children:[m.jsx("span",{className:"text-content-muted font-medium",children:"Vit :"})," ",d??""]}),m.jsxs("span",{children:[m.jsx("span",{className:"text-content-muted font-medium",children:"Sens :"})," ",p??""]})]})]})}Hh.propTypes={npc:O.object.isRequired};function Gh({npc:n}){const i=n.attaque||n.attack,r=n.fullAttack||n.att_complete,l=n.abb||n.bab,c=n.grp||n.grapple,d=n.espace||n.space,p=n.allonge||n.reach;return m.jsx(Ih,{title:"Combat",icon:qy,children:m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-content-muted font-medium",children:"Attaque :"}),m.jsx("span",{className:"font-medium",children:i??""})]}),r&&m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-content-muted font-medium",children:"Att. complte :"}),m.jsx("span",{className:"font-medium",children:r})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-content-muted font-medium",children:"ABB :"})," ",l??""]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-content-muted font-medium",children:"Lutte :"})," ",c??""]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-content-muted font-medium",children:"Espace :"})," ",d??""]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-content-muted font-medium",children:"Allonge :"})," ",p??""]})]})]})})}Gh.propTypes={npc:O.object.isRequired};function Jh({npc:n}){const i=n.qual_sp||n.qualites||n.specialQualities||n.special_qualites||[],r=n.att_sp||n.specialAttacks||n.attacks_speciales||[],l=Array.isArray(r)&&r.length>0,c=Array.isArray(i)&&i.length>0;return!l&&!c?null:m.jsxs(m.Fragment,{children:[l&&m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Attaques spciales"}),m.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:m.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((d,p)=>m.jsx("span",{className:"px-3 py-1 bg-red-900/20 text-red-300 text-sm rounded border border-red-800/30",children:d},p))})})]}),c&&m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Qualits spciales"}),m.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:m.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((d,p)=>m.jsx("span",{className:"px-3 py-1 bg-blue-900/20 text-blue-300 text-sm rounded border border-blue-800/30",children:d},p))})})]})]})}Jh.propTypes={npc:O.object.isRequired};function Fh({npc:n}){const i=n.js||n.saves;return i?m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Jets de sauvegarde"}),m.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:typeof i=="string"?i:m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-content-muted font-medium",children:"Vig"}),m.jsx("div",{className:"text-lg font-bold",children:i.vig||i.fort||""})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-content-muted font-medium",children:"Rf"}),m.jsx("div",{className:"text-lg font-bold",children:(i.rf??i.ref)||""})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-content-muted font-medium",children:"Vol"}),m.jsx("div",{className:"text-lg font-bold",children:i.vol||i.will||""})]})]})})]}):null}Fh.propTypes={npc:O.object.isRequired};function Qh({npc:n}){const i=n.carac||n.abilities;return i?m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Caractristiques"}),m.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:m.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-4 text-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-accent-light text-lg",children:"FOR"}),m.jsx("div",{className:"text-lg",children:typeof i.for=="number"?i.for:i.str||""})]}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-accent-light text-lg",children:"DEX"}),m.jsx("div",{className:"text-lg",children:typeof i.dex=="number"?i.dex:i.dex||""})]}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-accent-light text-lg",children:"CON"}),m.jsx("div",{className:"text-lg",children:typeof i.con=="number"?i.con:i.con||""})]}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-accent-light text-lg",children:"INT"}),m.jsx("div",{className:"text-lg",children:typeof i.int=="number"?i.int:i.int||""})]}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-accent-light text-lg",children:"SAG"}),m.jsx("div",{className:"text-lg",children:typeof i.sag=="number"?i.sag:i.wis||""})]}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-accent-light text-lg",children:"CHA"}),m.jsx("div",{className:"text-lg",children:typeof i.cha=="number"?i.cha:i.cha||""})]})]})})]}):null}Qh.propTypes={npc:O.object.isRequired};function Yh({npc:n}){const i=n.comptences||n.competences||n.skills,r=n.dons||n.feats;return!i&&!r?null:m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Formation"}),m.jsxs("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border space-y-3",children:[i&&m.jsxs("div",{children:[m.jsx("span",{className:"text-content-muted font-medium",children:"Comptences :"}),m.jsx("p",{className:"mt-1",children:i})]}),r&&m.jsxs("div",{children:[m.jsx("span",{className:"text-content-muted font-medium",children:"Dons :"}),m.jsx("p",{className:"mt-1",children:r})]})]})]})}Yh.propTypes={npc:O.object.isRequired};function Kh({npc:n}){const i=n.environnement||n.environment,r=n.organisation||n.organization,l=n.tactiques||n.tactics,c=n.butin||n.loot,d=n.fp??n.cr;return m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Informations"}),m.jsxs("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border space-y-3",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-content-muted font-medium",children:"Environnement :"})," ",i??""]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-content-muted font-medium",children:"Organisation :"})," ",r??""]}),m.jsxs("div",{children:[m.jsxs("span",{className:"text-content-muted font-medium",children:[n.lvl?"Niveau":"FP"," :"]})," ",n.lvl??d??""]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-content-muted font-medium",children:"Butin :"})," ",c??""]})]}),l&&m.jsxs("div",{children:[m.jsx("span",{className:"text-content-muted font-medium",children:"Tactiques :"}),m.jsx("p",{className:"mt-1",children:l})]})]})]})}Kh.propTypes={npc:O.object.isRequired};function Zh({occurrences:n}){return!n||n.length===0?null:m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Apparitions dans les scnarios"}),m.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:m.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((i,r)=>m.jsxs(Zt,{to:`/scenarios?scenario=${i.scenarioId}&scene=${encodeURIComponent(i.sceneTitle)}`,className:"px-3 py-1.5 rounded border border-accent-muted/30 text-accent-light bg-accent-surface/20 hover:bg-accent-surface/40 text-sm transition-colors flex items-center gap-2",title:`${i.scenarioTitle}  ${i.actTitle}  ${i.sceneTitle}`,children:[m.jsxs("span",{className:"font-mono font-bold text-accent-light/70",children:[i.scenarioId,".",i.actNumber,".",i.sceneNumber]}),m.jsx("span",{className:"text-xs truncate max-w-[200px]",children:i.sceneTitle})]},r))})})]})}Zh.propTypes={occurrences:O.arrayOf(O.shape({scenarioId:O.oneOfType([O.string,O.number]),scenarioTitle:O.string,actTitle:O.string,actNumber:O.number,sceneNumber:O.number,sceneTitle:O.string}))};function Xh({details:n}){return!n||n.length===0?null:m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Caractristiques"}),m.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:m.jsx("ul",{className:"space-y-3",children:n.map((i,r)=>m.jsxs("li",{className:"flex gap-3",children:[m.jsx("span",{className:"mt-2 w-2 h-2 rounded-full bg-accent-light block flex-shrink-0"}),m.jsx("span",{className:"text-content-secondary",children:i})]},r))})})]})}Xh.propTypes={details:O.arrayOf(O.string)};function $h({npc:n}){const i=n.buffs||[];return!Array.isArray(i)||i.length===0?null:m.jsxs("div",{className:"mb-6",children:[m.jsxs("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3 flex items-center gap-2",children:[m.jsx(w0,{className:"w-5 h-5 text-green-400"}),"Buffs actifs"]}),m.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:m.jsx("div",{className:"space-y-3",children:i.map((r,l)=>m.jsxs("div",{className:"bg-green-900/20 rounded-lg p-3 border border-green-800/30",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsx("span",{className:"font-medium text-green-300",children:r.name}),r.duration&&m.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-400/70",children:[m.jsx(N0,{className:"w-3 h-3"}),r.duration]})]}),r.effect&&m.jsx("p",{className:"text-sm text-content-secondary",children:r.effect})]},l))})})]})}$h.propTypes={npc:O.object.isRequired};function Wh({npc:n}){const i=n.ogas;if(!i||!i.occupation&&!i.goal&&!i.attitude&&!i.stake)return null;const r=[{key:"occupation",label:"Occupation",icon:Dy,value:i.occupation,color:"text-blue-400"},{key:"goal",label:"Objectif",icon:Cc,value:i.goal,color:"text-green-400"},{key:"attitude",label:"Attitude",icon:iy,value:i.attitude,color:"text-yellow-400"},{key:"stake",label:"Enjeux",icon:oh,value:i.stake,color:"text-red-400"}].filter(l=>l.value);return r.length===0?null:m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Roleplay (OGAS)"}),m.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(({key:l,label:c,icon:d,value:p,color:g})=>m.jsxs("div",{className:"flex gap-3",children:[m.jsx(d,{className:`w-5 h-5 ${g} flex-shrink-0 mt-0.5`}),m.jsxs("div",{children:[m.jsx("div",{className:`text-sm font-medium ${g}`,children:c}),m.jsx("p",{className:"text-content-secondary text-sm",children:p})]})]},l))})})]})}Wh.propTypes={npc:O.object.isRequired};function ev({npc:n}){const i=n.tactical;if(!i)return null;const r=i.spells&&i.spells.length>0,l=i.specialActions&&i.specialActions.length>0,c=i.tacticFeats&&i.tacticFeats.length>0,d=i.tacticSummary,p=i.bookReference,g=i.scenarioContext;return!r&&!l&&!c&&!d&&!p&&!g?null:m.jsxs("div",{className:"mb-6",children:[m.jsxs("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3 flex items-center gap-2",children:[m.jsx(yi,{className:"w-5 h-5"}),"Tactique de combat"]}),m.jsxs("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border space-y-4",children:[(p||g)&&m.jsxs("div",{className:"flex flex-col gap-2 text-sm border-b border-surface-border pb-3",children:[p&&m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(ji,{className:"w-4 h-4 text-content-muted flex-shrink-0 mt-0.5"}),m.jsx("span",{className:"text-content-muted italic",children:i.bookReference})]}),g&&m.jsx("p",{className:"text-content-secondary",children:i.scenarioContext})]}),r&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(ol,{className:"w-4 h-4 text-purple-400"}),m.jsx("span",{className:"font-medium text-purple-300",children:"Sorts cls"})]}),m.jsx("div",{className:"space-y-2",children:i.spells.map((h,v)=>m.jsxs("div",{className:"bg-purple-900/20 rounded p-2 border border-purple-800/30",children:[m.jsx("div",{className:"font-medium text-purple-200 text-sm",children:h.name}),h.details&&m.jsx("p",{className:"text-xs text-content-secondary mt-1",children:h.details})]},v))})]}),l&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(yi,{className:"w-4 h-4 text-red-400"}),m.jsx("span",{className:"font-medium text-red-300",children:"Actions spciales"})]}),m.jsx("div",{className:"space-y-2",children:i.specialActions.map((h,v)=>m.jsxs("div",{className:"bg-red-900/20 rounded p-2 border border-red-800/30",children:[m.jsx("div",{className:"font-medium text-red-200 text-sm",children:h.name}),h.details&&m.jsx("p",{className:"text-xs text-content-secondary mt-1",children:h.details})]},v))})]}),c&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(W0,{className:"w-4 h-4 text-yellow-400"}),m.jsx("span",{className:"font-medium text-yellow-300",children:"Dons tactiques"})]}),m.jsx("div",{className:"space-y-2",children:i.tacticFeats.map((h,v)=>m.jsxs("div",{className:"bg-yellow-900/20 rounded p-2 border border-yellow-800/30",children:[m.jsx("div",{className:"font-medium text-yellow-200 text-sm",children:h.name}),h.details&&m.jsx("p",{className:"text-xs text-content-secondary mt-1",children:h.details})]},v))})]}),d&&m.jsxs("div",{className:"bg-accent-light/10 rounded-lg p-3 border border-accent-light/20",children:[m.jsx("div",{className:"text-sm font-medium text-accent-light mb-1",children:"Rsum tactique"}),m.jsx("p",{className:"text-sm text-content-secondary",children:i.tacticSummary})]})]})]})}ev.propTypes={npc:O.object.isRequired};function H_({npc:n,isOpen:i,onClose:r}){if(!n)return null;const l=n.fp??n.cr,c=wh(n.id),d=gc(n.category),p=m.jsxs(m.Fragment,{children:[d&&m.jsx("div",{className:Le("px-3 py-1 text-sm rounded-full border",d.className),children:d.label}),(n.lvl||l)&&m.jsx(dl,{variant:U_(n.lvl||l),className:"text-lg font-bold ml-auto",children:n.lvl?`Niv ${$a(n.lvl)}`:`FP ${l}`})]});return m.jsxs(Mc,{isOpen:i,onClose:r,title:n.name,subtitle:n.role||n.description,badge:p,children:[m.jsx(Bh,{npc:n}),m.jsx(Hh,{npc:n}),m.jsx($h,{npc:n}),m.jsx(Wh,{npc:n}),m.jsx(Gh,{npc:n}),m.jsx(Jh,{npc:n}),m.jsx(ev,{npc:n}),m.jsx(Fh,{npc:n}),m.jsx(Qh,{npc:n}),m.jsx(Yh,{npc:n}),m.jsx(Kh,{npc:n}),m.jsx(Zh,{occurrences:c}),m.jsx(Xh,{details:n.details})]})}function G_(){return{npcs:Lg,counts:__,getNpcById:Nc,getNpcsByCategory:S_,getNpcsByFp:(i,r=Lg)=>i==="all"?r:r.filter(l=>{const c=l.lvl||l.level_value||l.fp||l.cr,d=$a(c);switch(i){case"lt1":return d<1;case"1-2":return d>=1&&d<=2;case"3-4":return d>=3&&d<=4;case"5-6":return d>=5&&d<=6;case"7-9":return d>=7&&d<=9;case"10+":return d>=10;default:return!0}}),categories:q_,fpFilters:["all","lt1","1-2","3-4","5-6","7-9","10+"]}}function J_(){const[n,i]=A.useState(null),[r,l]=A.useState(!1),[c,d]=A.useState("all"),[p,g]=A.useState("all"),[h,v]=A.useState(""),[y,b]=A.useState(""),[T]=jc(),{npcs:j,getNpcsByCategory:D,categories:z}=G_();A.useEffect(()=>{const Q=T.get("pnj");if(Q){const H=j.find($=>$.id===Q);H&&(i(H),l(!0),H.category&&d(H.category))}},[T,j]);const w=Og.useMemo(()=>{let Q=D(c);if(h.trim()){const H=$a(h);!isNaN(H)&&H>0?Q=Q.filter($=>{const Y=$.lvl||$.level_value||$.fp||$.cr,ae=$a(Y);return Math.abs(ae-H)<.01}):Q=Q.filter($=>String($.lvl||$.level_value||$.fp||$.cr)===h.trim())}else p!=="all"&&(Q=Q.filter(H=>{const $=H.lvl||H.level_value||H.fp||H.cr,Y=$a($);switch(p){case"lt1":return Y<1;case"1-2":return Y>=1&&Y<=2;case"3-4":return Y>=3&&Y<=4;case"5-6":return Y>=5&&Y<=6;case"7-9":return Y>=7&&Y<=9;case"10+":return Y>=10;default:return!0}}));if(y.trim()){const H=y.toLowerCase();Q=Q.filter($=>$.name?.toLowerCase().includes(H)||$.role?.toLowerCase().includes(H)||$.type?.toLowerCase().includes(H)||$.environment?.toLowerCase().includes(H)||$.organization?.toLowerCase().includes(H))}return Q},[c,p,y,D]),I={all:{icon:dn,label:"Tous",color:"bg-gray-600"},allies:{icon:dn,label:"Allis",color:"bg-blue-600"},ennemis:{icon:yi,label:"Ennemis",color:"bg-red-600"},monstres:{icon:k0,label:"Monstres",color:"bg-purple-600"}},B={all:{label:"Tous",color:"bg-gray-500"},lt1:{label:"< 1",color:"bg-green-600"},"1-2":{label:"1-2",color:"bg-green-500"},"3-4":{label:"3-4",color:"bg-yellow-600"},"5-6":{label:"5-6",color:"bg-yellow-500"},"7-9":{label:"7-9",color:"bg-orange-500"},"10+":{label:"10+",color:"bg-red-600"}},J=["all","lt1","1-2","3-4","5-6","7-9","10+"],ee=Q=>{i(Q),l(!0)},ie=()=>{l(!1),i(null)};return m.jsxs("div",{className:"space-y-8",children:[m.jsx(hn,{icon:cn,title:"Antagonistes & PNJ",children:m.jsx("div",{className:"flex items-center gap-4",children:m.jsxs("div",{className:"text-sm text-content-subtle",children:[w.length," / ",j.length," PNJ"]})})}),m.jsxs("div",{className:"bg-surface-raised/50 rounded-xl p-3 sm:p-6 border border-surface-border/50 shadow-lg",children:[m.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[m.jsx(V0,{size:18,className:"sm:w-5 sm:h-5 text-accent-light"}),m.jsx("h3",{className:"text-base sm:text-lg font-serif text-accent-light",children:"Filtres"})]}),m.jsx("div",{className:"mb-4 sm:mb-6",children:m.jsxs("div",{className:"relative",children:[m.jsx(lh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-content-subtle",size:16}),m.jsx("input",{type:"text",placeholder:"Rechercher...",value:y,onChange:Q=>b(Q.target.value),className:"w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 bg-surface border border-surface-border rounded-lg text-sm sm:text-base text-content placeholder:text-content-subtle focus:outline-none focus:ring-2 focus:ring-accent-light/50 focus:border-accent-light"})]})}),m.jsxs("div",{className:"mb-4 sm:mb-6",children:[m.jsx("h4",{className:"text-xs sm:text-sm font-medium text-content mb-2 sm:mb-3",children:"Catgorie"}),m.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:z.map(Q=>{const H=I[Q],$=H.icon,Y=c===Q;return m.jsxs("button",{onClick:()=>d(Q),className:Le("flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-1.5 sm:py-2 rounded-lg border transition-all duration-200 text-xs sm:text-sm",Y?`${H.color} text-white border-transparent shadow-lg transform scale-105`:"bg-surface border-surface-border text-content hover:border-accent-light/50 hover:shadow-md"),children:[m.jsx($,{size:14,className:"sm:w-4 sm:h-4"}),m.jsx("span",{className:"font-medium",children:H.label}),Q!=="all"&&m.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(",j.filter(ae=>ae.category===Q).length,")"]})]},Q)})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 mb-2 sm:mb-3",children:[m.jsx("h4",{className:"text-xs sm:text-sm font-medium text-content",children:"Puissance (FP)"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-[10px] sm:text-xs text-content-subtle",children:"FP Exact :"}),m.jsx("input",{type:"text",placeholder:"ex: 1/4",value:h,onChange:Q=>{v(Q.target.value),Q.target.value&&g("all")},className:"w-14 sm:w-16 px-2 py-1 text-xs sm:text-sm bg-surface border border-surface-border rounded focus:border-accent-light focus:outline-none"})]})]}),m.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:J.map(Q=>{const H=B[Q],$=p===Q&&!h;return m.jsx("button",{onClick:()=>{g(Q),v("")},className:Le("px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg border text-xs sm:text-sm transition-all duration-200 font-medium",$?`${H.color} text-white border-transparent shadow-md transform scale-105`:"bg-surface border-surface-border text-content hover:border-accent-light/50 hover:shadow-sm"),children:H.label},Q)})})]}),(c!=="all"||p!=="all"||y||h)&&m.jsx("div",{className:"mt-4 pt-4 border-t border-surface-border/50",children:m.jsx("button",{onClick:()=>{d("all"),g("all"),v(""),b("")},className:"text-sm text-content-subtle hover:text-accent-light transition-colors",children:"Rinitialiser tous les filtres"})})]}),w.length>0?m.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.map(Q=>m.jsx(k_,{npc:Q,onClick:()=>ee(Q)},`${Q.source}-${Q.id}`))}):m.jsxs("div",{className:"text-center py-16",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-surface-raised rounded-full mb-4 border border-surface-border",children:m.jsx(cn,{size:32,className:"text-content-subtle"})}),m.jsx("h3",{className:"text-lg font-serif text-content mb-2",children:"Aucun PNJ trouv"}),m.jsx("p",{className:"text-content-subtle",children:y?`Aucun rsultat pour "${y}" avec les filtres actuels`:"Aucun PNJ ne correspond aux filtres slectionns"}),(c!=="all"||p!=="all"||y)&&m.jsx("button",{onClick:()=>{d("all"),g("all"),b("")},className:"mt-4 text-accent-light hover:text-accent-light/80 transition-colors",children:"Afficher tous les PNJ"})]}),m.jsx(H_,{npc:n,isOpen:r,onClose:ie})]})}function F_({scene:n,isOpen:i,onClose:r}){return!n||!n.image?null:m.jsx(Mc,{isOpen:i,onClose:r,title:n.title,maxWidth:"max-w-3xl",children:m.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[m.jsx("div",{className:"relative w-full",children:m.jsx("img",{src:n.image,alt:n.title,className:"w-full h-auto max-h-[40vh] object-contain rounded-lg border border-surface-border"})}),n.description&&m.jsx("div",{className:"w-full max-w-3xl",children:m.jsxs("div",{className:"bg-surface-raised/40 rounded-lg p-4 border border-surface-border",children:[m.jsx("h4",{className:"text-lg font-serif text-accent-light font-bold mb-2",children:"Description"}),m.jsxs("div",{className:"space-y-1.5 text-sm text-content-muted",children:[n.description.resume&&m.jsx("p",{className:"italic text-content-secondary/90",children:n.description.resume}),n.description.visuel&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Visuel : "}),n.description.visuel]}),n.description.audio&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Audio : "}),n.description.audio]}),n.description.odeur&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Odeur : "}),n.description.odeur]}),n.description.lumiere&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Lumire : "}),n.description.lumiere]})]})]})})]})})}function Ci({title:n,children:i,className:r="bg-surface-raised/40"}){return m.jsxs("div",{className:`mt-3 border border-surface-border rounded p-3 ${r}`,children:[m.jsx("h6",{className:"text-xs font-mono uppercase tracking-widest text-content-subtle mb-1",children:n}),i]})}Ci.propTypes={title:O.string.isRequired,children:O.node.isRequired,className:O.string};function tv({description:n}){return!n||!Object.entries(n).some(([,r])=>r&&String(r).trim()!==""&&r!==n.resume)?null:m.jsx(Ci,{title:"Description",className:"bg-surface-raised/40",children:m.jsxs("div",{className:"space-y-1.5 text-sm text-content-muted",children:[n.resume&&m.jsx("p",{className:"italic text-content-secondary/90",children:n.resume}),n.visuel&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Visuel : "}),n.visuel]}),n.audio&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Audio : "}),n.audio]}),n.odeur&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Odeur : "}),n.odeur]}),n.lumiere&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Lumire : "}),n.lumiere]})]})})}tv.propTypes={description:O.shape({resume:O.string,visuel:O.string,audio:O.string,odeur:O.string,lumiere:O.string})};function av({narration:n}){return!n||!Object.values(n).some(r=>r&&String(r).trim()!=="")?null:m.jsx(Ci,{title:"Narration",className:"bg-surface-raised/60",children:m.jsxs("div",{className:"space-y-1.5 text-sm text-content-muted",children:[n.declencheur&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Dclencheur : "}),n.declencheur]}),n.texte_a_lire&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:" lire : "}),m.jsx("span",{className:"whitespace-pre-line",children:n.texte_a_lire})]}),n.contexte_mj&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Contexte MJ : "}),Array.isArray(n.contexte_mj)?m.jsx("ul",{className:"list-disc ml-4 mt-1 space-y-0.5",children:n.contexte_mj.map((r,l)=>m.jsx("li",{children:r},l))}):m.jsx("span",{className:"whitespace-pre-line",children:n.contexte_mj})]}),n.objectif&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Objectif : "}),n.objectif]})]})})}av.propTypes={narration:O.shape({declencheur:O.string,texte_a_lire:O.string,contexte_mj:O.oneOfType([O.string,O.arrayOf(O.string)]),objectif:O.string})};function sv({mecaniques:n}){return!n||!(Array.isArray(n.defis)&&n.defis.length>0||Array.isArray(n.indices)&&n.indices.length>0||n.recompenses)?null:m.jsx(Ci,{title:"Mcaniques",className:"bg-surface",children:m.jsxs("div",{className:"space-y-1.5 text-sm text-content-muted",children:[Array.isArray(n.defis)&&n.defis.length>0&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-content-secondary block",children:"Dfis"}),m.jsx("ul",{className:"list-disc ml-4 space-y-0.5",children:n.defis.map((r,l)=>m.jsx("li",{className:"whitespace-pre-line",children:r},l))})]}),Array.isArray(n.indices)&&n.indices.length>0&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-content-secondary block",children:"Indices"}),m.jsx("ul",{className:"list-disc ml-4 space-y-0.5",children:n.indices.map((r,l)=>m.jsx("li",{className:"whitespace-pre-line",children:r},l))})]}),n.recompenses&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Rcompenses : "}),m.jsx("span",{className:"whitespace-pre-line",children:n.recompenses})]})]})})}sv.propTypes={mecaniques:O.shape({defis:O.arrayOf(O.string),indices:O.arrayOf(O.string),recompenses:O.string})};function nv({transitions:n}){return!n||!Object.values(n).some(r=>r&&String(r).trim()!=="")?null:m.jsx(Ci,{title:"Transitions",className:"bg-surface-raised/40",children:m.jsxs("div",{className:"text-sm text-content-muted space-y-1",children:[n.resume&&m.jsx("p",{className:"italic text-content-secondary/90",children:n.resume}),n.success&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"Succs : "}),n.success]}),n.fail&&m.jsxs("p",{children:[m.jsx("strong",{className:"text-content-secondary",children:"chec : "}),n.fail]})]})})}nv.propTypes={transitions:O.shape({resume:O.string,success:O.string,fail:O.string})};const Q_=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4","aria-hidden":"true",children:[m.jsx("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),m.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"18"}),m.jsx("line",{x1:"16",x2:"16",y1:"6",y2:"22"})]}),Eg=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4","aria-hidden":"true",children:m.jsx("path",{d:"M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3.3 0-10 1.7-10 5v3h20v-3c0-3.3-6.7-5-10-5z"})}),Rg=(n,i)=>{if(n==="bestiary"&&i&&i.est_ennemi)return"border-red-500/60 text-red-400 bg-red-500/10 hover:border-red-400 hover:text-red-300";switch(n){case"principaux":return"border-blue-500/60 text-blue-400 bg-blue-500/10 hover:border-blue-400 hover:text-blue-300";case"ennemis":return"border-red-500/60 text-red-400 bg-red-500/10 hover:border-red-400 hover:text-red-300";case"bestiary":return"border-purple-500/60 text-purple-400 bg-purple-500/10 hover:border-purple-400 hover:text-purple-300";default:return"border-surface-border text-content-muted bg-surface-raised/30"}};function Ec({linkedLocation:n,linkedNpcs:i}){return!n&&(!i||i.length===0)?null:m.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:[n&&m.jsxs(Zt,{to:pc({zoneId:n.zone.id,locId:n.loc.id}),className:"inline-flex items-center gap-1 px-2 py-1 rounded border border-accent-muted text-accent-light bg-accent-surface hover:bg-accent-surface transition-colors",children:[m.jsx(Q_,{}),n.loc.name]}),i.map(r=>r.link?m.jsxs(Zt,{to:r.link,title:r.id,className:Le("inline-flex items-center gap-1 px-2 py-1 rounded border transition-colors",Rg(r.source,r)),children:[m.jsx(Eg,{}),r.name]},r.id):m.jsxs("span",{title:r.id,className:Le("inline-flex items-center gap-1 px-2 py-1 rounded border",Rg(r.source,r)),children:[m.jsx(Eg,{}),r.name]},r.id))]})}Ec.propTypes={linkedLocation:O.shape({zone:O.shape({id:O.string}),loc:O.shape({id:O.string,name:O.string})}),linkedNpcs:O.arrayOf(O.shape({id:O.string,name:O.string,link:O.string,source:O.string}))};Ec.defaultProps={linkedNpcs:[]};const Y_=n=>`/antagoniste?pnj=${encodeURIComponent(n)}`;function Rc({scene:n,highlight:i,expanded:r,onToggle:l}){const[c,d]=Xa(`scene-note-${n.title}`,""),[p,g]=Xa(`scene-fav-${n.title}`,!1),[h,v]=A.useState(!1),y=()=>{n.image&&v(!0)},b=()=>{v(!1)},T=n.locationId?C_(n.locationId):null,j=Array.isArray(n.npcIds)?n.npcIds.map(z=>{const w=Nc(z);return w?{...w,id:z,name:w.name||z,link:Y_(z),source:w.source}:{id:z,name:z,link:null,source:null}}):[],D=Array.isArray(n.details)?n.details:[];return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:Le("bg-surface border border-surface-border p-3 sm:p-4 rounded hover:border-accent-muted transition-colors group",i&&"border-accent-dark shadow-[0_0_0_1px_rgba(217,119,6,0.35)]"),children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-3 border-b border-surface-border pb-2 gap-2 sm:gap-3",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-2 sm:gap-3 w-full sm:w-auto",children:[r&&n.image&&m.jsx("img",{src:n.image,alt:n.title,className:"w-full sm:w-48 md:w-64 h-48 sm:h-48 md:h-64 object-cover rounded border border-surface-border flex-shrink-0 cursor-pointer hover:border-accent-muted transition-colors",onClick:y}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("h5",{className:"font-serif font-bold text-content text-base sm:text-lg",children:n.title}),p&&m.jsx("span",{className:"text-xs text-accent uppercase tracking-widest",children:"Favori"})]})]}),m.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[m.jsx("button",{type:"button",onClick:l,className:"text-xs px-2 py-1 rounded border border-surface-border text-content-muted hover:border-accent-dark hover:text-accent-light transition-colors",children:r?"Masquer":"Afficher"}),m.jsx("button",{type:"button",onClick:()=>g(z=>!z),className:Le("text-xs px-2 py-1 rounded border transition-colors",p?"border-accent text-accent-light bg-accent-surface":"border-surface-border text-content-muted hover:border-accent-dark hover:text-accent-light"),children:""}),m.jsx(dl,{type:n.type})]})]}),r&&m.jsxs(m.Fragment,{children:[m.jsx("ul",{className:"space-y-1.5",children:D.map((z,w)=>m.jsxs("li",{className:"flex gap-2 text-sm text-content-muted group-hover:text-content-secondary transition-colors leading-relaxed",children:[m.jsx("span",{className:"text-content-subtle mt-1.5 w-1 h-1 rounded-full bg-surface-border block flex-shrink-0 group-hover:bg-accent-dark transition-colors"}),m.jsx("span",{children:z})]},w))}),m.jsx(tv,{description:n.description}),m.jsx(av,{narration:n.narration}),m.jsx(sv,{mecaniques:n.mecaniques}),m.jsx(nv,{transitions:n.transitions})]}),m.jsx(Ec,{linkedLocation:T,linkedNpcs:j}),m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[!r&&n.image&&m.jsx("img",{src:n.image,alt:n.title,className:"w-12 h-12 sm:w-16 sm:h-16 object-cover rounded border border-surface-border flex-shrink-0 cursor-pointer hover:border-accent-muted transition-colors",onClick:y}),m.jsx("label",{className:"text-xs uppercase tracking-widest text-content-subtle",children:"Notes MJ"})]}),m.jsx("textarea",{value:c,onChange:z=>d(z.target.value),className:"w-full bg-surface-raised border border-surface-border rounded p-2 text-sm text-content focus:border-accent-dark focus:outline-none",rows:3,placeholder:"Notes, rappels, ajustements..."})]})]}),m.jsx(F_,{scene:n,isOpen:h,onClose:b})]})}Rc.propTypes={scene:O.shape({title:O.string.isRequired,type:O.string,details:O.arrayOf(O.string).isRequired}).isRequired,highlight:O.bool};Rc.defaultProps={highlight:!1};function zc({act:n,isOpen:i,onToggle:r,targetSceneTitle:l}){const[c,d]=A.useState("");return A.useEffect(()=>{if(!i)return;const p=n.scenes?.find(g=>g.title.toLowerCase()===l?.toLowerCase());if(p){d(p.title);return}!c&&n.scenes?.[0]&&d(n.scenes[0].title)},[i,n.scenes,l,c]),m.jsxs("div",{className:"border-l-2 border-surface-border ml-2 sm:ml-4 pl-3 sm:pl-6 relative pb-6 sm:pb-8 last:pb-0",children:[m.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-surface-overlay border-2 border-surface-border"}),m.jsxs("button",{onClick:r,className:"flex items-center gap-3 w-full text-left group mb-2",children:[m.jsx("h4",{className:"text-base sm:text-lg font-serif font-bold text-content-secondary group-hover:text-accent transition-colors",children:n.title}),m.jsx("div",{className:`transition-transform duration-300 ${i?"rotate-180":""}`,children:m.jsx("span",{className:"text-content-subtle",children:""})})]}),m.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 text-[10px] sm:text-xs font-mono text-content-subtle mb-3 sm:mb-4 pl-1",children:[m.jsxs("span",{className:"flex items-center gap-1.5 bg-surface-raised px-2 py-1 rounded border border-surface-border",children:[m.jsx("span",{className:"text-accent-dark",children:""}),"ENJEU : ",n.stake]}),m.jsxs("span",{className:"flex items-center gap-1.5 bg-surface-raised px-2 py-1 rounded border border-surface-border",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 text-blue-500","aria-hidden":"true",children:[m.jsx("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),m.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"18"}),m.jsx("line",{x1:"16",x2:"16",y1:"6",y2:"22"})]}),"LIEU : ",n.location]})]}),i&&m.jsx("div",{className:"grid grid-cols-1 gap-3 animate-slideDown",children:n.scenes.map((p,g)=>m.jsx(Rc,{scene:p,expanded:c===p.title,onToggle:()=>d(h=>h===p.title?"":p.title),highlight:p.title.toLowerCase()===l?.toLowerCase()},g))})]})}zc.propTypes={act:O.shape({title:O.string.isRequired,stake:O.string,location:O.string,scenes:O.arrayOf(O.object).isRequired}).isRequired,isOpen:O.bool,onToggle:O.func.isRequired,targetSceneTitle:O.string};zc.defaultProps={isOpen:!1,targetSceneTitle:""};function Oc({scenario:n,isOpen:i,onToggle:r,targetSceneTitle:l}){const[c,d]=Xa(`scenario-open-act-${n.id}`,""),p=A.useRef(!1);return A.useEffect(()=>{i&&typeof window<"u"&&window.localStorage.setItem("current-scenario",String(n.id))},[i,n.id]),A.useEffect(()=>{if(!i||p.current)return;const g=n.acts.find(h=>h.scenes?.some(v=>v.title.toLowerCase()===l.toLowerCase()));if(g){d(g.title),p.current=!0;return}!c&&n.acts[0]&&(d(n.acts[0].title),p.current=!0)},[i,n.acts,l,c,d]),m.jsxs("div",{className:"border border-surface-border bg-surface/60 rounded-lg overflow-hidden transition-all duration-300 hover:border-surface-border",children:[m.jsxs("div",{onClick:r,className:"p-3 sm:p-6 cursor-pointer flex items-center justify-between bg-gradient-to-r from-surface-raised to-surface-overlay group",children:[m.jsxs("div",{className:"flex items-center gap-3 sm:gap-6 min-w-0",children:[m.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 flex-shrink-0 flex items-center justify-center bg-surface border border-surface-border rounded-full font-serif font-bold text-lg sm:text-xl text-accent shadow-inner group-hover:text-accent group-hover:border-accent-muted transition-all",children:n.id}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("h3",{className:"text-lg sm:text-2xl font-serif font-bold text-content group-hover:text-accent-light transition-colors truncate",children:n.title}),m.jsx("span",{className:"text-xs sm:text-sm text-content-subtle font-mono tracking-wider",children:n.level})]})]}),m.jsx("div",{className:`transition-transform duration-300 ${i?"rotate-180":""}`,children:m.jsx("span",{className:"text-content-subtle",children:""})})]}),i&&m.jsxs("div",{className:"p-3 sm:p-6 border-t border-surface-border bg-surface/50",children:[m.jsx("div",{className:"mb-4 sm:mb-8 p-3 sm:p-4 italic text-content-muted text-xs sm:text-sm leading-relaxed max-w-3xl mx-auto text-center font-serif",children:n.synopsis}),m.jsx("div",{className:"space-y-2",children:n.acts.map((g,h)=>m.jsx(zc,{act:g,isOpen:c===g.title,onToggle:()=>d(v=>v===g.title?"":g.title),targetSceneTitle:l},h))})]})]})}Oc.propTypes={scenario:O.shape({id:O.oneOfType([O.string,O.number]).isRequired,title:O.string.isRequired,level:O.string,synopsis:O.string,acts:O.arrayOf(O.object).isRequired}).isRequired,isOpen:O.bool.isRequired,onToggle:O.func.isRequired,targetSceneTitle:O.string};Oc.defaultProps={targetSceneTitle:""};function zg(){const n=qx(),[i]=jc(),r=i.get("scene")||"",l=n.id||i.get("scenario")||"",[c,d]=Xa("scenario-open-active",l||"");return A.useEffect(()=>{l&&d(String(l))},[l,d]),m.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[m.jsx(hn,{title:"Le Livre des Scnarios",icon:ji,subtitle:"Les dieux ont cr la mort par ngligence, c'est un dfaut de conception."}),m.jsx("div",{className:"space-y-4",children:Ti.map(p=>m.jsx(Oc,{scenario:p,isOpen:String(c)===String(p.id),onToggle:()=>d(g=>String(g)===String(p.id)?"":String(p.id)),targetSceneTitle:r},p.id))})]})}function K_(){return m.jsx(Ux,{children:m.jsxs(va,{element:m.jsx(N_,{}),children:[m.jsx(va,{index:!0,element:m.jsx(Wf,{to:"/univers",replace:!0})}),m.jsx(va,{path:"/univers",element:m.jsx(w_,{})}),m.jsx(va,{path:"/factions",element:m.jsx(V_,{})}),m.jsx(va,{path:"/antagoniste",element:m.jsx(J_,{})}),m.jsx(va,{path:"/scenarios",element:m.jsx(zg,{})}),m.jsx(va,{path:"/scenarios/:id",element:m.jsx(zg,{})}),m.jsx(va,{path:"*",element:m.jsx(Wf,{to:"/univers",replace:!0})})]})})}const Z_={title:"Factions",subtitle:"Les forces en prsence  Val-d'Ombre",hierarchy:"Hirarchie",npcs:"PNJ"},X_={title:"Le Livre des Scnarios",subtitle:"Les dieux ont cr la mort par ngligence, c'est un dfaut de conception."},$_={title:"Univers",subtitle:"Dcouvrez les lieux et personnages de Val-d'Ombre"},W_={placeholder:"Rechercher (PNJ, lieux, scnarios...)"},eq={factions:Z_,scenarios:X_,universe:$_,search:W_},tq={title:"Factions",subtitle:"The forces present in Val-d'Ombre",hierarchy:"Hierarchy",npcs:"NPCs"},aq={title:"The Book of Scenarios",subtitle:"The gods created death by negligence, it's a design flaw."},sq={title:"Universe",subtitle:"Discover the places and characters of Val-d'Ombre"},nq={placeholder:"Search (NPCs, locations, scenarios...)"},iq={factions:tq,scenarios:aq,universe:sq,search:nq};ot.use(JS).init({resources:{fr:{translation:eq},en:{translation:iq}},lng:"fr",fallbackLng:"fr",interpolation:{escapeValue:!1}});V1.createRoot(document.getElementById("root")).render(m.jsx(Og.StrictMode,{children:m.jsx(c0,{children:m.jsx(K_,{})})}));
