(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();function rc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Cu={exports:{}},us={};var Tf;function sb(){if(Tf)return us;Tf=1;var i=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(o,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:i,type:o,key:m,ref:c!==void 0?c:null,props:d}}return us.Fragment=s,us.jsx=r,us.jsxs=r,us}var Ef;function rb(){return Ef||(Ef=1,Cu.exports=sb()),Cu.exports}var f=rb(),qu={exports:{}},ue={};var Mf;function lb(){if(Mf)return ue;Mf=1;var i=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),C=Symbol.iterator;function q(_){return _===null||typeof _!="object"?null:(_=C&&_[C]||_["@@iterator"],typeof _=="function"?_:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,w={};function k(_,U,J){this.props=_,this.context=U,this.refs=w,this.updater=J||E}k.prototype.isReactComponent={},k.prototype.setState=function(_,U){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,U,"setState")},k.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function I(){}I.prototype=k.prototype;function F(_,U,J){this.props=_,this.context=U,this.refs=w,this.updater=J||E}var $=F.prototype=new I;$.constructor=F,B($,k.prototype),$.isPureReactComponent=!0;var se=Array.isArray;function Q(){}var G={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function Y(_,U,J){var K=J.ref;return{$$typeof:i,type:_,key:U,ref:K!==void 0?K:null,props:J}}function ee(_,U){return Y(_.type,U,_.props)}function le(_){return typeof _=="object"&&_!==null&&_.$$typeof===i}function Z(_){var U={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(J){return U[J]})}var Re=/\/+/g;function me(_,U){return typeof _=="object"&&_!==null&&_.key!=null?Z(""+_.key):U.toString(36)}function Ue(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(Q,Q):(_.status="pending",_.then(function(U){_.status==="pending"&&(_.status="fulfilled",_.value=U)},function(U){_.status==="pending"&&(_.status="rejected",_.reason=U)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function R(_,U,J,K,ce){var he=typeof _;(he==="undefined"||he==="boolean")&&(_=null);var je=!1;if(_===null)je=!0;else switch(he){case"bigint":case"string":case"number":je=!0;break;case"object":switch(_.$$typeof){case i:case s:je=!0;break;case x:return je=_._init,R(je(_._payload),U,J,K,ce)}}if(je)return ce=ce(_),je=K===""?"."+me(_,0):K,se(ce)?(J="",je!=null&&(J=je.replace(Re,"$&/")+"/"),R(ce,U,J,"",function(hi){return hi})):ce!=null&&(le(ce)&&(ce=ee(ce,J+(ce.key==null||_&&_.key===ce.key?"":(""+ce.key).replace(Re,"$&/")+"/")+je)),U.push(ce)),1;je=0;var rt=K===""?".":K+":";if(se(_))for(var Ge=0;Ge<_.length;Ge++)K=_[Ge],he=rt+me(K,Ge),je+=R(K,U,J,he,ce);else if(Ge=q(_),typeof Ge=="function")for(_=Ge.call(_),Ge=0;!(K=_.next()).done;)K=K.value,he=rt+me(K,Ge++),je+=R(K,U,J,he,ce);else if(he==="object"){if(typeof _.then=="function")return R(Ue(_),U,J,K,ce);throw U=String(_),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return je}function P(_,U,J){if(_==null)return _;var K=[],ce=0;return R(_,K,"","",function(he){return U.call(J,he,ce++)}),K}function ae(_){if(_._status===-1){var U=_._result;U=U(),U.then(function(J){(_._status===0||_._status===-1)&&(_._status=1,_._result=J)},function(J){(_._status===0||_._status===-1)&&(_._status=2,_._result=J)}),_._status===-1&&(_._status=0,_._result=U)}if(_._status===1)return _._result.default;throw _._result}var ge=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},_e={map:P,forEach:function(_,U,J){P(_,function(){U.apply(this,arguments)},J)},count:function(_){var U=0;return P(_,function(){U++}),U},toArray:function(_){return P(_,function(U){return U})||[]},only:function(_){if(!le(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return ue.Activity=b,ue.Children=_e,ue.Component=k,ue.Fragment=r,ue.Profiler=c,ue.PureComponent=F,ue.StrictMode=o,ue.Suspense=h,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,ue.__COMPILER_RUNTIME={__proto__:null,c:function(_){return G.H.useMemoCache(_)}},ue.cache=function(_){return function(){return _.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(_,U,J){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var K=B({},_.props),ce=_.key;if(U!=null)for(he in U.key!==void 0&&(ce=""+U.key),U)!te.call(U,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&U.ref===void 0||(K[he]=U[he]);var he=arguments.length-2;if(he===1)K.children=J;else if(1<he){for(var je=Array(he),rt=0;rt<he;rt++)je[rt]=arguments[rt+2];K.children=je}return Y(_.type,ce,K)},ue.createContext=function(_){return _={$$typeof:m,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:d,_context:_},_},ue.createElement=function(_,U,J){var K,ce={},he=null;if(U!=null)for(K in U.key!==void 0&&(he=""+U.key),U)te.call(U,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ce[K]=U[K]);var je=arguments.length-2;if(je===1)ce.children=J;else if(1<je){for(var rt=Array(je),Ge=0;Ge<je;Ge++)rt[Ge]=arguments[Ge+2];ce.children=rt}if(_&&_.defaultProps)for(K in je=_.defaultProps,je)ce[K]===void 0&&(ce[K]=je[K]);return Y(_,he,ce)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(_){return{$$typeof:g,render:_}},ue.isValidElement=le,ue.lazy=function(_){return{$$typeof:x,_payload:{_status:-1,_result:_},_init:ae}},ue.memo=function(_,U){return{$$typeof:v,type:_,compare:U===void 0?null:U}},ue.startTransition=function(_){var U=G.T,J={};G.T=J;try{var K=_(),ce=G.S;ce!==null&&ce(J,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Q,ge)}catch(he){ge(he)}finally{U!==null&&J.types!==null&&(U.types=J.types),G.T=U}},ue.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},ue.use=function(_){return G.H.use(_)},ue.useActionState=function(_,U,J){return G.H.useActionState(_,U,J)},ue.useCallback=function(_,U){return G.H.useCallback(_,U)},ue.useContext=function(_){return G.H.useContext(_)},ue.useDebugValue=function(){},ue.useDeferredValue=function(_,U){return G.H.useDeferredValue(_,U)},ue.useEffect=function(_,U){return G.H.useEffect(_,U)},ue.useEffectEvent=function(_){return G.H.useEffectEvent(_)},ue.useId=function(){return G.H.useId()},ue.useImperativeHandle=function(_,U,J){return G.H.useImperativeHandle(_,U,J)},ue.useInsertionEffect=function(_,U){return G.H.useInsertionEffect(_,U)},ue.useLayoutEffect=function(_,U){return G.H.useLayoutEffect(_,U)},ue.useMemo=function(_,U){return G.H.useMemo(_,U)},ue.useOptimistic=function(_,U){return G.H.useOptimistic(_,U)},ue.useReducer=function(_,U,J){return G.H.useReducer(_,U,J)},ue.useRef=function(_){return G.H.useRef(_)},ue.useState=function(_){return G.H.useState(_)},ue.useSyncExternalStore=function(_,U,J){return G.H.useSyncExternalStore(_,U,J)},ue.useTransition=function(){return G.H.useTransition()},ue.version="19.2.0",ue}var Rf;function Wr(){return Rf||(Rf=1,qu.exports=lb()),qu.exports}var D=Wr();const qg=rc(D);var ju={exports:{}},cs={},Du={exports:{}},Nu={};var Lf;function ob(){return Lf||(Lf=1,(function(i){function s(R,P){var ae=R.length;R.push(P);e:for(;0<ae;){var ge=ae-1>>>1,_e=R[ge];if(0<c(_e,P))R[ge]=P,R[ae]=_e,ae=ge;else break e}}function r(R){return R.length===0?null:R[0]}function o(R){if(R.length===0)return null;var P=R[0],ae=R.pop();if(ae!==P){R[0]=ae;e:for(var ge=0,_e=R.length,_=_e>>>1;ge<_;){var U=2*(ge+1)-1,J=R[U],K=U+1,ce=R[K];if(0>c(J,ae))K<_e&&0>c(ce,J)?(R[ge]=ce,R[K]=ae,ge=K):(R[ge]=J,R[U]=ae,ge=U);else if(K<_e&&0>c(ce,ae))R[ge]=ce,R[K]=ae,ge=K;else break e}}return P}function c(R,P){var ae=R.sortIndex-P.sortIndex;return ae!==0?ae:R.id-P.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var h=[],v=[],x=1,b=null,C=3,q=!1,E=!1,B=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function $(R){for(var P=r(v);P!==null;){if(P.callback===null)o(v);else if(P.startTime<=R)o(v),P.sortIndex=P.expirationTime,s(h,P);else break;P=r(v)}}function se(R){if(B=!1,$(R),!E)if(r(h)!==null)E=!0,Q||(Q=!0,Z());else{var P=r(v);P!==null&&Ue(se,P.startTime-R)}}var Q=!1,G=-1,te=5,Y=-1;function ee(){return w?!0:!(i.unstable_now()-Y<te)}function le(){if(w=!1,Q){var R=i.unstable_now();Y=R;var P=!0;try{e:{E=!1,B&&(B=!1,I(G),G=-1),q=!0;var ae=C;try{t:{for($(R),b=r(h);b!==null&&!(b.expirationTime>R&&ee());){var ge=b.callback;if(typeof ge=="function"){b.callback=null,C=b.priorityLevel;var _e=ge(b.expirationTime<=R);if(R=i.unstable_now(),typeof _e=="function"){b.callback=_e,$(R),P=!0;break t}b===r(h)&&o(h),$(R)}else o(h);b=r(h)}if(b!==null)P=!0;else{var _=r(v);_!==null&&Ue(se,_.startTime-R),P=!1}}break e}finally{b=null,C=ae,q=!1}P=void 0}}finally{P?Z():Q=!1}}}var Z;if(typeof F=="function")Z=function(){F(le)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,me=Re.port2;Re.port1.onmessage=le,Z=function(){me.postMessage(null)}}else Z=function(){k(le,0)};function Ue(R,P){G=k(function(){R(i.unstable_now())},P)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(R){R.callback=null},i.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<R?Math.floor(1e3/R):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(R){switch(C){case 1:case 2:case 3:var P=3;break;default:P=C}var ae=C;C=P;try{return R()}finally{C=ae}},i.unstable_requestPaint=function(){w=!0},i.unstable_runWithPriority=function(R,P){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ae=C;C=R;try{return P()}finally{C=ae}},i.unstable_scheduleCallback=function(R,P,ae){var ge=i.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ge+ae:ge):ae=ge,R){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ae+_e,R={id:x++,callback:P,priorityLevel:R,startTime:ae,expirationTime:_e,sortIndex:-1},ae>ge?(R.sortIndex=ae,s(v,R),r(h)===null&&R===r(v)&&(B?(I(G),G=-1):B=!0,Ue(se,ae-ge))):(R.sortIndex=_e,s(h,R),E||q||(E=!0,Q||(Q=!0,Z()))),R},i.unstable_shouldYield=ee,i.unstable_wrapCallback=function(R){var P=C;return function(){var ae=C;C=P;try{return R.apply(this,arguments)}finally{C=ae}}}})(Nu)),Nu}var zf;function ub(){return zf||(zf=1,Du.exports=ob()),Du.exports}var Tu={exports:{}},st={};var Of;function cb(){if(Of)return st;Of=1;var i=Wr();function s(h){var v="https://react.dev/errors/"+h;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(h,v,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:h,containerInfo:v,implementation:x}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(h,v){if(h==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,st.createPortal=function(h,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(s(299));return d(h,v,null,x)},st.flushSync=function(h){var v=m.T,x=o.p;try{if(m.T=null,o.p=2,h)return h()}finally{m.T=v,o.p=x,o.d.f()}},st.preconnect=function(h,v){typeof h=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,o.d.C(h,v))},st.prefetchDNS=function(h){typeof h=="string"&&o.d.D(h)},st.preinit=function(h,v){if(typeof h=="string"&&v&&typeof v.as=="string"){var x=v.as,b=g(x,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?o.d.S(h,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:q}):x==="script"&&o.d.X(h,{crossOrigin:b,integrity:C,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},st.preinitModule=function(h,v){if(typeof h=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=g(v.as,v.crossOrigin);o.d.M(h,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&o.d.M(h)},st.preload=function(h,v){if(typeof h=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,b=g(x,v.crossOrigin);o.d.L(h,x,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},st.preloadModule=function(h,v){if(typeof h=="string")if(v){var x=g(v.as,v.crossOrigin);o.d.m(h,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else o.d.m(h)},st.requestFormReset=function(h){o.d.r(h)},st.unstable_batchedUpdates=function(h,v){return h(v)},st.useFormState=function(h,v,x){return m.H.useFormState(h,v,x)},st.useFormStatus=function(){return m.H.useHostTransitionStatus()},st.version="19.2.0",st}var wf;function db(){if(wf)return Tu.exports;wf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),Tu.exports=cb(),Tu.exports}var Uf;function mb(){if(Uf)return cs;Uf=1;var i=ub(),s=Wr(),r=db();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(d(e)!==e)throw Error(o(188))}function v(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,n=t;;){var l=a.return;if(l===null)break;var u=l.alternate;if(u===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===a)return h(l),e;if(u===n)return h(l),t;u=u.sibling}throw Error(o(188))}if(a.return!==n.return)a=l,n=u;else{for(var p=!1,y=l.child;y;){if(y===a){p=!0,a=l,n=u;break}if(y===n){p=!0,n=l,a=u;break}y=y.sibling}if(!p){for(y=u.child;y;){if(y===a){p=!0,a=u,n=l;break}if(y===n){p=!0,n=u,a=l;break}y=y.sibling}if(!p)throw Error(o(189))}}if(a.alternate!==n)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,C=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case k:return"Profiler";case w:return"StrictMode";case se:return"Suspense";case Q:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case F:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}var Ue=Array.isArray,R=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ge=[],_e=-1;function _(e){return{current:e}}function U(e){0>_e||(e.current=ge[_e],ge[_e]=null,_e--)}function J(e,t){_e++,ge[_e]=e.current,e.current=t}var K=_(null),ce=_(null),he=_(null),je=_(null);function rt(e,t){switch(J(he,t),J(ce,e),J(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Xp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Xp(t),e=$p(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(K),J(K,e)}function Ge(){U(K),U(ce),U(he)}function hi(e){e.memoizedState!==null&&J(je,e);var t=K.current,a=$p(t,e.type);t!==a&&(J(ce,e),J(K,a))}function As(e){ce.current===e&&(U(K),U(ce)),je.current===e&&(U(je),ss._currentValue=ae)}var sl,Dc;function en(e){if(sl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);sl=t&&t[1]||"",Dc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sl+e+Dc}var rl=!1;function ll(e,t){if(!e||rl)return"";rl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(L){var M=L}Reflect.construct(e,[],V)}else{try{V.call()}catch(L){M=L}e.call(V.prototype)}}else{try{throw Error()}catch(L){M=L}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(L){if(L&&M&&typeof L.stack=="string")return[L.stack,M.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=n.DetermineComponentFrameRoot(),p=u[0],y=u[1];if(p&&y){var S=p.split(`
`),T=y.split(`
`);for(l=n=0;n<S.length&&!S[n].includes("DetermineComponentFrameRoot");)n++;for(;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;if(n===S.length||l===T.length)for(n=S.length-1,l=T.length-1;1<=n&&0<=l&&S[n]!==T[l];)l--;for(;1<=n&&0<=l;n--,l--)if(S[n]!==T[l]){if(n!==1||l!==1)do if(n--,l--,0>l||S[n]!==T[l]){var O=`
`+S[n].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=n&&0<=l);break}}}finally{rl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?en(a):""}function wh(e,t){switch(e.tag){case 26:case 27:case 5:return en(e.type);case 16:return en("Lazy");case 13:return e.child!==t&&t!==null?en("Suspense Fallback"):en("Suspense");case 19:return en("SuspenseList");case 0:case 15:return ll(e.type,!1);case 11:return ll(e.type.render,!1);case 1:return ll(e.type,!0);case 31:return en("Activity");default:return""}}function Nc(e){try{var t="",a=null;do t+=wh(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var ol=Object.prototype.hasOwnProperty,ul=i.unstable_scheduleCallback,cl=i.unstable_cancelCallback,Uh=i.unstable_shouldYield,Hh=i.unstable_requestPaint,vt=i.unstable_now,Bh=i.unstable_getCurrentPriorityLevel,Tc=i.unstable_ImmediatePriority,Ec=i.unstable_UserBlockingPriority,Cs=i.unstable_NormalPriority,Vh=i.unstable_LowPriority,Mc=i.unstable_IdlePriority,kh=i.log,Ih=i.unstable_setDisableYieldValue,vi=null,bt=null;function Sa(e){if(typeof kh=="function"&&Ih(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(vi,e)}catch{}}var yt=Math.clz32?Math.clz32:Fh,Gh=Math.log,Ph=Math.LN2;function Fh(e){return e>>>=0,e===0?32:31-(Gh(e)/Ph|0)|0}var qs=256,js=262144,Ds=4194304;function tn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ns(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var l=0,u=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var y=n&134217727;return y!==0?(n=y&~u,n!==0?l=tn(n):(p&=y,p!==0?l=tn(p):a||(a=y&~e,a!==0&&(l=tn(a))))):(y=n&~u,y!==0?l=tn(y):p!==0?l=tn(p):a||(a=n&~e,a!==0&&(l=tn(a)))),l===0?0:t!==0&&t!==l&&(t&u)===0&&(u=l&-l,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:l}function bi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Jh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rc(){var e=Ds;return Ds<<=1,(Ds&62914560)===0&&(Ds=4194304),e}function dl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function yi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qh(e,t,a,n,l,u){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,S=e.expirationTimes,T=e.hiddenUpdates;for(a=p&~a;0<a;){var O=31-yt(a),V=1<<O;y[O]=0,S[O]=-1;var M=T[O];if(M!==null)for(T[O]=null,O=0;O<M.length;O++){var L=M[O];L!==null&&(L.lane&=-536870913)}a&=~V}n!==0&&Lc(e,n,0),u!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=u&~(p&~t))}function Lc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-yt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function zc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-yt(a),l=1<<n;l&t|e[n]&t&&(e[n]|=t),a&=~l}}function Oc(e,t){var a=t&-t;return a=(a&42)!==0?1:ml(a),(a&(e.suspendedLanes|t))!==0?0:a}function ml(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wc(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:_f(e.type))}function Uc(e,t){var a=P.p;try{return P.p=e,t()}finally{P.p=a}}var _a=Math.random().toString(36).slice(2),et="__reactFiber$"+_a,ut="__reactProps$"+_a,Cn="__reactContainer$"+_a,fl="__reactEvents$"+_a,Yh="__reactListeners$"+_a,Zh="__reactHandles$"+_a,Hc="__reactResources$"+_a,xi="__reactMarker$"+_a;function gl(e){delete e[et],delete e[ut],delete e[fl],delete e[Yh],delete e[Zh]}function qn(e){var t=e[et];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Cn]||a[et]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=rf(e);e!==null;){if(a=e[et])return a;e=rf(e)}return t}e=a,a=e.parentNode}return null}function jn(e){if(e=e[et]||e[Cn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Si(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Dn(e){var t=e[Hc];return t||(t=e[Hc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[xi]=!0}var Bc=new Set,Vc={};function an(e,t){Nn(e,t),Nn(e+"Capture",t)}function Nn(e,t){for(Vc[e]=t,e=0;e<t.length;e++)Bc.add(t[e])}var Kh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kc={},Ic={};function Xh(e){return ol.call(Ic,e)?!0:ol.call(kc,e)?!1:Kh.test(e)?Ic[e]=!0:(kc[e]=!0,!1)}function Ts(e,t,a){if(Xh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Es(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Kt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $h(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(p){a=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hl(e){if(!e._valueTracker){var t=Gc(e)?"checked":"value";e._valueTracker=$h(e,t,""+e[t])}}function Pc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Gc(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Ms(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wh=/[\n"\\]/g;function Tt(e){return e.replace(Wh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function vl(e,t,a,n,l,u,p,y){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Nt(t)):e.value!==""+Nt(t)&&(e.value=""+Nt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?bl(e,p,Nt(t)):a!=null?bl(e,p,Nt(a)):n!=null&&e.removeAttribute("value"),l==null&&u!=null&&(e.defaultChecked=!!u),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Nt(y):e.removeAttribute("name")}function Fc(e,t,a,n,l,u,p,y){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){hl(e);return}a=a!=null?""+Nt(a):"",t=t!=null?""+Nt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=y?e.checked:!!n,e.defaultChecked=!!n,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),hl(e)}function bl(e,t,a){t==="number"&&Ms(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Tn(e,t,a,n){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Nt(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Jc(e,t,a){if(t!=null&&(t=""+Nt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Nt(a):""}function Qc(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(o(92));if(Ue(n)){if(1<n.length)throw Error(o(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Nt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),hl(e)}function En(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ev=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yc(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||ev.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Zc(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var l in t)n=t[l],t.hasOwnProperty(l)&&a[l]!==n&&Yc(e,l,n)}else for(var u in t)t.hasOwnProperty(u)&&Yc(e,u,t[u])}function yl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),av=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rs(e){return av.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xt(){}var xl=null;function Sl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mn=null,Rn=null;function Kc(e){var t=jn(e);if(t&&(e=t.stateNode)){var a=e[ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(vl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var l=n[ut]||null;if(!l)throw Error(o(90));vl(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Pc(n)}break e;case"textarea":Jc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Tn(e,!!a.multiple,t,!1)}}}var _l=!1;function Xc(e,t,a){if(_l)return e(t,a);_l=!0;try{var n=e(t);return n}finally{if(_l=!1,(Mn!==null||Rn!==null)&&(yr(),Mn&&(t=Mn,e=Rn,Rn=Mn=null,Kc(t),e)))for(t=0;t<e.length;t++)Kc(e[t])}}function _i(e,t){var a=e.stateNode;if(a===null)return null;var n=a[ut]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=!1;if($t)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){Al=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Al=!1}var Aa=null,Cl=null,Ls=null;function $c(){if(Ls)return Ls;var e,t=Cl,a=t.length,n,l="value"in Aa?Aa.value:Aa.textContent,u=l.length;for(e=0;e<a&&t[e]===l[e];e++);var p=a-e;for(n=1;n<=p&&t[a-n]===l[u-n];n++);return Ls=l.slice(e,1<n?1-n:void 0)}function zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Os(){return!0}function Wc(){return!1}function ct(e){function t(a,n,l,u,p){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(u):u[y]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Os:Wc,this.isPropagationStopped=Wc,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),t}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=ct(nn),Ci=b({},nn,{view:0,detail:0}),nv=ct(Ci),ql,jl,qi,Us=b({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(ql=e.screenX-qi.screenX,jl=e.screenY-qi.screenY):jl=ql=0,qi=e),ql)},movementY:function(e){return"movementY"in e?e.movementY:jl}}),ed=ct(Us),iv=b({},Us,{dataTransfer:0}),sv=ct(iv),rv=b({},Ci,{relatedTarget:0}),Dl=ct(rv),lv=b({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),ov=ct(lv),uv=b({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cv=ct(uv),dv=b({},nn,{data:0}),td=ct(dv),mv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fv[e])?!!t[e]:!1}function Nl(){return gv}var hv=b({},Ci,{key:function(e){if(e.key){var t=mv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nl,charCode:function(e){return e.type==="keypress"?zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vv=ct(hv),bv=b({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ad=ct(bv),yv=b({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nl}),xv=ct(yv),Sv=b({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_v=ct(Sv),Av=b({},Us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cv=ct(Av),qv=b({},nn,{newState:0,oldState:0}),jv=ct(qv),Dv=[9,13,27,32],Tl=$t&&"CompositionEvent"in window,ji=null;$t&&"documentMode"in document&&(ji=document.documentMode);var Nv=$t&&"TextEvent"in window&&!ji,nd=$t&&(!Tl||ji&&8<ji&&11>=ji),id=" ",sd=!1;function rd(e,t){switch(e){case"keyup":return Dv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ld(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function Tv(e,t){switch(e){case"compositionend":return ld(t);case"keypress":return t.which!==32?null:(sd=!0,id);case"textInput":return e=t.data,e===id&&sd?null:e;default:return null}}function Ev(e,t){if(Ln)return e==="compositionend"||!Tl&&rd(e,t)?(e=$c(),Ls=Cl=Aa=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nd&&t.locale!=="ko"?null:t.data;default:return null}}var Mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mv[e.type]:t==="textarea"}function ud(e,t,a,n){Mn?Rn?Rn.push(n):Rn=[n]:Mn=n,t=jr(t,"onChange"),0<t.length&&(a=new ws("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Di=null,Ni=null;function Rv(e){Fp(e,0)}function Hs(e){var t=Si(e);if(Pc(t))return e}function cd(e,t){if(e==="change")return t}var dd=!1;if($t){var El;if($t){var Ml="oninput"in document;if(!Ml){var md=document.createElement("div");md.setAttribute("oninput","return;"),Ml=typeof md.oninput=="function"}El=Ml}else El=!1;dd=El&&(!document.documentMode||9<document.documentMode)}function pd(){Di&&(Di.detachEvent("onpropertychange",fd),Ni=Di=null)}function fd(e){if(e.propertyName==="value"&&Hs(Ni)){var t=[];ud(t,Ni,e,Sl(e)),Xc(Rv,t)}}function Lv(e,t,a){e==="focusin"?(pd(),Di=t,Ni=a,Di.attachEvent("onpropertychange",fd)):e==="focusout"&&pd()}function zv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hs(Ni)}function Ov(e,t){if(e==="click")return Hs(t)}function wv(e,t){if(e==="input"||e==="change")return Hs(t)}function Uv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:Uv;function Ti(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!ol.call(t,l)||!xt(e[l],t[l]))return!1}return!0}function gd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hd(e,t){var a=gd(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gd(a)}}function vd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ms(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ms(e.document)}return t}function Rl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Hv=$t&&"documentMode"in document&&11>=document.documentMode,zn=null,Ll=null,Ei=null,zl=!1;function yd(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zl||zn==null||zn!==Ms(n)||(n=zn,"selectionStart"in n&&Rl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ei&&Ti(Ei,n)||(Ei=n,n=jr(Ll,"onSelect"),0<n.length&&(t=new ws("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=zn)))}function sn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var On={animationend:sn("Animation","AnimationEnd"),animationiteration:sn("Animation","AnimationIteration"),animationstart:sn("Animation","AnimationStart"),transitionrun:sn("Transition","TransitionRun"),transitionstart:sn("Transition","TransitionStart"),transitioncancel:sn("Transition","TransitionCancel"),transitionend:sn("Transition","TransitionEnd")},Ol={},xd={};$t&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function rn(e){if(Ol[e])return Ol[e];if(!On[e])return e;var t=On[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in xd)return Ol[e]=t[a];return e}var Sd=rn("animationend"),_d=rn("animationiteration"),Ad=rn("animationstart"),Bv=rn("transitionrun"),Vv=rn("transitionstart"),kv=rn("transitioncancel"),Cd=rn("transitionend"),qd=new Map,wl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wl.push("scrollEnd");function Vt(e,t){qd.set(e,t),an(t,[e])}var Bs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Et=[],wn=0,Ul=0;function Vs(){for(var e=wn,t=Ul=wn=0;t<e;){var a=Et[t];Et[t++]=null;var n=Et[t];Et[t++]=null;var l=Et[t];Et[t++]=null;var u=Et[t];if(Et[t++]=null,n!==null&&l!==null){var p=n.pending;p===null?l.next=l:(l.next=p.next,p.next=l),n.pending=l}u!==0&&jd(a,l,u)}}function ks(e,t,a,n){Et[wn++]=e,Et[wn++]=t,Et[wn++]=a,Et[wn++]=n,Ul|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Hl(e,t,a,n){return ks(e,t,a,n),Is(e)}function ln(e,t){return ks(e,null,null,t),Is(e)}function jd(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var l=!1,u=e.return;u!==null;)u.childLanes|=a,n=u.alternate,n!==null&&(n.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(l=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,l&&t!==null&&(l=31-yt(a),e=u.hiddenUpdates,n=e[l],n===null?e[l]=[t]:n.push(t),t.lane=a|536870912),u):null}function Is(e){if(50<$i)throw $i=0,Yo=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Un={};function Iv(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,a,n){return new Iv(e,t,a,n)}function Bl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wt(e,t){var a=e.alternate;return a===null?(a=St(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Dd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gs(e,t,a,n,l,u){var p=0;if(n=e,typeof e=="function")Bl(e)&&(p=1);else if(typeof e=="string")p=Q1(e,a,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=St(31,a,t,l),e.elementType=Y,e.lanes=u,e;case B:return on(a.children,l,u,t);case w:p=8,l|=24;break;case k:return e=St(12,a,t,l|2),e.elementType=k,e.lanes=u,e;case se:return e=St(13,a,t,l),e.elementType=se,e.lanes=u,e;case Q:return e=St(19,a,t,l),e.elementType=Q,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:p=10;break e;case I:p=9;break e;case $:p=11;break e;case G:p=14;break e;case te:p=16,n=null;break e}p=29,a=Error(o(130,e===null?"null":typeof e,"")),n=null}return t=St(p,a,t,l),t.elementType=e,t.type=n,t.lanes=u,t}function on(e,t,a,n){return e=St(7,e,n,t),e.lanes=a,e}function Vl(e,t,a){return e=St(6,e,null,t),e.lanes=a,e}function Nd(e){var t=St(18,null,null,0);return t.stateNode=e,t}function kl(e,t,a){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Td=new WeakMap;function Mt(e,t){if(typeof e=="object"&&e!==null){var a=Td.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Nc(t)},Td.set(e,t),t)}return{value:e,source:t,stack:Nc(t)}}var Hn=[],Bn=0,Ps=null,Mi=0,Rt=[],Lt=0,Ca=null,Gt=1,Pt="";function ea(e,t){Hn[Bn++]=Mi,Hn[Bn++]=Ps,Ps=e,Mi=t}function Ed(e,t,a){Rt[Lt++]=Gt,Rt[Lt++]=Pt,Rt[Lt++]=Ca,Ca=e;var n=Gt;e=Pt;var l=32-yt(n)-1;n&=~(1<<l),a+=1;var u=32-yt(t)+l;if(30<u){var p=l-l%5;u=(n&(1<<p)-1).toString(32),n>>=p,l-=p,Gt=1<<32-yt(t)+l|a<<l|n,Pt=u+e}else Gt=1<<u|a<<l|n,Pt=e}function Il(e){e.return!==null&&(ea(e,1),Ed(e,1,0))}function Gl(e){for(;e===Ps;)Ps=Hn[--Bn],Hn[Bn]=null,Mi=Hn[--Bn],Hn[Bn]=null;for(;e===Ca;)Ca=Rt[--Lt],Rt[Lt]=null,Pt=Rt[--Lt],Rt[Lt]=null,Gt=Rt[--Lt],Rt[Lt]=null}function Md(e,t){Rt[Lt++]=Gt,Rt[Lt++]=Pt,Rt[Lt++]=Ca,Gt=t.id,Pt=t.overflow,Ca=e}var tt=null,ze=null,Se=!1,qa=null,zt=!1,Pl=Error(o(519));function ja(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ri(Mt(t,e)),Pl}function Rd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[et]=e,t[ut]=n,a){case"dialog":be("cancel",t),be("close",t);break;case"iframe":case"object":case"embed":be("load",t);break;case"video":case"audio":for(a=0;a<es.length;a++)be(es[a],t);break;case"source":be("error",t);break;case"img":case"image":case"link":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"input":be("invalid",t),Fc(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":be("invalid",t);break;case"textarea":be("invalid",t),Qc(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Zp(t.textContent,a)?(n.popover!=null&&(be("beforetoggle",t),be("toggle",t)),n.onScroll!=null&&be("scroll",t),n.onScrollEnd!=null&&be("scrollend",t),n.onClick!=null&&(t.onclick=Xt),t=!0):t=!1,t||ja(e,!0)}function Ld(e){for(tt=e.return;tt;)switch(tt.tag){case 5:case 31:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:tt=tt.return}}function Vn(e){if(e!==tt)return!1;if(!Se)return Ld(e),Se=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||uu(e.type,e.memoizedProps)),a=!a),a&&ze&&ja(e),Ld(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ze=sf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ze=sf(e)}else t===27?(t=ze,Va(e.type)?(e=fu,fu=null,ze=e):ze=t):ze=tt?wt(e.stateNode.nextSibling):null;return!0}function un(){ze=tt=null,Se=!1}function Fl(){var e=qa;return e!==null&&(ft===null?ft=e:ft.push.apply(ft,e),qa=null),e}function Ri(e){qa===null?qa=[e]:qa.push(e)}var Jl=_(null),cn=null,ta=null;function Da(e,t,a){J(Jl,t._currentValue),t._currentValue=a}function aa(e){e._currentValue=Jl.current,U(Jl)}function Ql(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Yl(e,t,a,n){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){var p=l.child;u=u.firstContext;e:for(;u!==null;){var y=u;u=l;for(var S=0;S<t.length;S++)if(y.context===t[S]){u.lanes|=a,y=u.alternate,y!==null&&(y.lanes|=a),Ql(u.return,a,e),n||(p=null);break e}u=y.next}}else if(l.tag===18){if(p=l.return,p===null)throw Error(o(341));p.lanes|=a,u=p.alternate,u!==null&&(u.lanes|=a),Ql(p,a,e),p=null}else p=l.child;if(p!==null)p.return=l;else for(p=l;p!==null;){if(p===e){p=null;break}if(l=p.sibling,l!==null){l.return=p.return,p=l;break}p=p.return}l=p}}function kn(e,t,a,n){e=null;for(var l=t,u=!1;l!==null;){if(!u){if((l.flags&524288)!==0)u=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var p=l.alternate;if(p===null)throw Error(o(387));if(p=p.memoizedProps,p!==null){var y=l.type;xt(l.pendingProps.value,p.value)||(e!==null?e.push(y):e=[y])}}else if(l===je.current){if(p=l.alternate,p===null)throw Error(o(387));p.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(ss):e=[ss])}l=l.return}e!==null&&Yl(t,e,a,n),t.flags|=262144}function Fs(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function dn(e){cn=e,ta=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return zd(cn,e)}function Js(e,t){return cn===null&&dn(e),zd(e,t)}function zd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ta===null){if(e===null)throw Error(o(308));ta=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ta=ta.next=t;return a}var Gv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Pv=i.unstable_scheduleCallback,Fv=i.unstable_NormalPriority,Je={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zl(){return{controller:new Gv,data:new Map,refCount:0}}function Li(e){e.refCount--,e.refCount===0&&Pv(Fv,function(){e.controller.abort()})}var zi=null,Kl=0,In=0,Gn=null;function Jv(e,t){if(zi===null){var a=zi=[];Kl=0,In=eu(),Gn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Kl++,t.then(Od,Od),t}function Od(){if(--Kl===0&&zi!==null){Gn!==null&&(Gn.status="fulfilled");var e=zi;zi=null,In=0,Gn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Qv(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var wd=R.S;R.S=function(e,t){yp=vt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Jv(e,t),wd!==null&&wd(e,t)};var mn=_(null);function Xl(){var e=mn.current;return e!==null?e:Le.pooledCache}function Qs(e,t){t===null?J(mn,mn.current):J(mn,t.pool)}function Ud(){var e=Xl();return e===null?null:{parent:Je._currentValue,pool:e}}var Pn=Error(o(460)),$l=Error(o(474)),Ys=Error(o(542)),Zs={then:function(){}};function Hd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Xt,Xt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e;default:if(typeof t.status=="string")t.then(Xt,Xt);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=n}},function(n){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e}throw fn=t,Pn}}function pn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fn=a,Pn):a}}var fn=null;function Vd(){if(fn===null)throw Error(o(459));var e=fn;return fn=null,e}function kd(e){if(e===Pn||e===Ys)throw Error(o(483))}var Fn=null,Oi=0;function Ks(e){var t=Oi;return Oi+=1,Fn===null&&(Fn=[]),Bd(Fn,e,t)}function wi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Xs(e,t){throw t.$$typeof===C?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Id(e){function t(j,A){if(e){var N=j.deletions;N===null?(j.deletions=[A],j.flags|=16):N.push(A)}}function a(j,A){if(!e)return null;for(;A!==null;)t(j,A),A=A.sibling;return null}function n(j){for(var A=new Map;j!==null;)j.key!==null?A.set(j.key,j):A.set(j.index,j),j=j.sibling;return A}function l(j,A){return j=Wt(j,A),j.index=0,j.sibling=null,j}function u(j,A,N){return j.index=N,e?(N=j.alternate,N!==null?(N=N.index,N<A?(j.flags|=67108866,A):N):(j.flags|=67108866,A)):(j.flags|=1048576,A)}function p(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function y(j,A,N,H){return A===null||A.tag!==6?(A=Vl(N,j.mode,H),A.return=j,A):(A=l(A,N),A.return=j,A)}function S(j,A,N,H){var ne=N.type;return ne===B?O(j,A,N.props.children,H,N.key):A!==null&&(A.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===te&&pn(ne)===A.type)?(A=l(A,N.props),wi(A,N),A.return=j,A):(A=Gs(N.type,N.key,N.props,null,j.mode,H),wi(A,N),A.return=j,A)}function T(j,A,N,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==N.containerInfo||A.stateNode.implementation!==N.implementation?(A=kl(N,j.mode,H),A.return=j,A):(A=l(A,N.children||[]),A.return=j,A)}function O(j,A,N,H,ne){return A===null||A.tag!==7?(A=on(N,j.mode,H,ne),A.return=j,A):(A=l(A,N),A.return=j,A)}function V(j,A,N){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Vl(""+A,j.mode,N),A.return=j,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case q:return N=Gs(A.type,A.key,A.props,null,j.mode,N),wi(N,A),N.return=j,N;case E:return A=kl(A,j.mode,N),A.return=j,A;case te:return A=pn(A),V(j,A,N)}if(Ue(A)||Z(A))return A=on(A,j.mode,N,null),A.return=j,A;if(typeof A.then=="function")return V(j,Ks(A),N);if(A.$$typeof===F)return V(j,Js(j,A),N);Xs(j,A)}return null}function M(j,A,N,H){var ne=A!==null?A.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return ne!==null?null:y(j,A,""+N,H);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case q:return N.key===ne?S(j,A,N,H):null;case E:return N.key===ne?T(j,A,N,H):null;case te:return N=pn(N),M(j,A,N,H)}if(Ue(N)||Z(N))return ne!==null?null:O(j,A,N,H,null);if(typeof N.then=="function")return M(j,A,Ks(N),H);if(N.$$typeof===F)return M(j,A,Js(j,N),H);Xs(j,N)}return null}function L(j,A,N,H,ne){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return j=j.get(N)||null,y(A,j,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case q:return j=j.get(H.key===null?N:H.key)||null,S(A,j,H,ne);case E:return j=j.get(H.key===null?N:H.key)||null,T(A,j,H,ne);case te:return H=pn(H),L(j,A,N,H,ne)}if(Ue(H)||Z(H))return j=j.get(N)||null,O(A,j,H,ne,null);if(typeof H.then=="function")return L(j,A,N,Ks(H),ne);if(H.$$typeof===F)return L(j,A,N,Js(A,H),ne);Xs(A,H)}return null}function X(j,A,N,H){for(var ne=null,Ae=null,W=A,pe=A=0,xe=null;W!==null&&pe<N.length;pe++){W.index>pe?(xe=W,W=null):xe=W.sibling;var Ce=M(j,W,N[pe],H);if(Ce===null){W===null&&(W=xe);break}e&&W&&Ce.alternate===null&&t(j,W),A=u(Ce,A,pe),Ae===null?ne=Ce:Ae.sibling=Ce,Ae=Ce,W=xe}if(pe===N.length)return a(j,W),Se&&ea(j,pe),ne;if(W===null){for(;pe<N.length;pe++)W=V(j,N[pe],H),W!==null&&(A=u(W,A,pe),Ae===null?ne=W:Ae.sibling=W,Ae=W);return Se&&ea(j,pe),ne}for(W=n(W);pe<N.length;pe++)xe=L(W,j,pe,N[pe],H),xe!==null&&(e&&xe.alternate!==null&&W.delete(xe.key===null?pe:xe.key),A=u(xe,A,pe),Ae===null?ne=xe:Ae.sibling=xe,Ae=xe);return e&&W.forEach(function(Fa){return t(j,Fa)}),Se&&ea(j,pe),ne}function ie(j,A,N,H){if(N==null)throw Error(o(151));for(var ne=null,Ae=null,W=A,pe=A=0,xe=null,Ce=N.next();W!==null&&!Ce.done;pe++,Ce=N.next()){W.index>pe?(xe=W,W=null):xe=W.sibling;var Fa=M(j,W,Ce.value,H);if(Fa===null){W===null&&(W=xe);break}e&&W&&Fa.alternate===null&&t(j,W),A=u(Fa,A,pe),Ae===null?ne=Fa:Ae.sibling=Fa,Ae=Fa,W=xe}if(Ce.done)return a(j,W),Se&&ea(j,pe),ne;if(W===null){for(;!Ce.done;pe++,Ce=N.next())Ce=V(j,Ce.value,H),Ce!==null&&(A=u(Ce,A,pe),Ae===null?ne=Ce:Ae.sibling=Ce,Ae=Ce);return Se&&ea(j,pe),ne}for(W=n(W);!Ce.done;pe++,Ce=N.next())Ce=L(W,j,pe,Ce.value,H),Ce!==null&&(e&&Ce.alternate!==null&&W.delete(Ce.key===null?pe:Ce.key),A=u(Ce,A,pe),Ae===null?ne=Ce:Ae.sibling=Ce,Ae=Ce);return e&&W.forEach(function(ib){return t(j,ib)}),Se&&ea(j,pe),ne}function Me(j,A,N,H){if(typeof N=="object"&&N!==null&&N.type===B&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case q:e:{for(var ne=N.key;A!==null;){if(A.key===ne){if(ne=N.type,ne===B){if(A.tag===7){a(j,A.sibling),H=l(A,N.props.children),H.return=j,j=H;break e}}else if(A.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===te&&pn(ne)===A.type){a(j,A.sibling),H=l(A,N.props),wi(H,N),H.return=j,j=H;break e}a(j,A);break}else t(j,A);A=A.sibling}N.type===B?(H=on(N.props.children,j.mode,H,N.key),H.return=j,j=H):(H=Gs(N.type,N.key,N.props,null,j.mode,H),wi(H,N),H.return=j,j=H)}return p(j);case E:e:{for(ne=N.key;A!==null;){if(A.key===ne)if(A.tag===4&&A.stateNode.containerInfo===N.containerInfo&&A.stateNode.implementation===N.implementation){a(j,A.sibling),H=l(A,N.children||[]),H.return=j,j=H;break e}else{a(j,A);break}else t(j,A);A=A.sibling}H=kl(N,j.mode,H),H.return=j,j=H}return p(j);case te:return N=pn(N),Me(j,A,N,H)}if(Ue(N))return X(j,A,N,H);if(Z(N)){if(ne=Z(N),typeof ne!="function")throw Error(o(150));return N=ne.call(N),ie(j,A,N,H)}if(typeof N.then=="function")return Me(j,A,Ks(N),H);if(N.$$typeof===F)return Me(j,A,Js(j,N),H);Xs(j,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,A!==null&&A.tag===6?(a(j,A.sibling),H=l(A,N),H.return=j,j=H):(a(j,A),H=Vl(N,j.mode,H),H.return=j,j=H),p(j)):a(j,A)}return function(j,A,N,H){try{Oi=0;var ne=Me(j,A,N,H);return Fn=null,ne}catch(W){if(W===Pn||W===Ys)throw W;var Ae=St(29,W,null,j.mode);return Ae.lanes=H,Ae.return=j,Ae}finally{}}}var gn=Id(!0),Gd=Id(!1),Na=!1;function Wl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ta(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ea(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(qe&2)!==0){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,t=Is(e),jd(e,null,a),t}return ks(e,n,t,a),Is(e)}function Ui(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,zc(e,a)}}function to(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?l=u=p:u=u.next=p,a=a.next}while(a!==null);u===null?l=u=t:u=u.next=t}else l=u=t;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var ao=!1;function Hi(){if(ao){var e=Gn;if(e!==null)throw e}}function Bi(e,t,a,n){ao=!1;var l=e.updateQueue;Na=!1;var u=l.firstBaseUpdate,p=l.lastBaseUpdate,y=l.shared.pending;if(y!==null){l.shared.pending=null;var S=y,T=S.next;S.next=null,p===null?u=T:p.next=T,p=S;var O=e.alternate;O!==null&&(O=O.updateQueue,y=O.lastBaseUpdate,y!==p&&(y===null?O.firstBaseUpdate=T:y.next=T,O.lastBaseUpdate=S))}if(u!==null){var V=l.baseState;p=0,O=T=S=null,y=u;do{var M=y.lane&-536870913,L=M!==y.lane;if(L?(ye&M)===M:(n&M)===M){M!==0&&M===In&&(ao=!0),O!==null&&(O=O.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var X=e,ie=y;M=t;var Me=a;switch(ie.tag){case 1:if(X=ie.payload,typeof X=="function"){V=X.call(Me,V,M);break e}V=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ie.payload,M=typeof X=="function"?X.call(Me,V,M):X,M==null)break e;V=b({},V,M);break e;case 2:Na=!0}}M=y.callback,M!==null&&(e.flags|=64,L&&(e.flags|=8192),L=l.callbacks,L===null?l.callbacks=[M]:L.push(M))}else L={lane:M,tag:y.tag,payload:y.payload,callback:y.callback,next:null},O===null?(T=O=L,S=V):O=O.next=L,p|=M;if(y=y.next,y===null){if(y=l.shared.pending,y===null)break;L=y,y=L.next,L.next=null,l.lastBaseUpdate=L,l.shared.pending=null}}while(!0);O===null&&(S=V),l.baseState=S,l.firstBaseUpdate=T,l.lastBaseUpdate=O,u===null&&(l.shared.lanes=0),Oa|=p,e.lanes=p,e.memoizedState=V}}function Pd(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Fd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Pd(a[e],t)}var Jn=_(null),$s=_(0);function Jd(e,t){e=da,J($s,e),J(Jn,t),da=e|t.baseLanes}function no(){J($s,da),J(Jn,Jn.current)}function io(){da=$s.current,U(Jn),U($s)}var _t=_(null),Ot=null;function Ma(e){var t=e.alternate;J(Pe,Pe.current&1),J(_t,e),Ot===null&&(t===null||Jn.current!==null||t.memoizedState!==null)&&(Ot=e)}function so(e){J(Pe,Pe.current),J(_t,e),Ot===null&&(Ot=e)}function Qd(e){e.tag===22?(J(Pe,Pe.current),J(_t,e),Ot===null&&(Ot=e)):Ra()}function Ra(){J(Pe,Pe.current),J(_t,_t.current)}function At(e){U(_t),Ot===e&&(Ot=null),U(Pe)}var Pe=_(0);function Ws(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||mu(a)||pu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=0,de=null,Te=null,Qe=null,er=!1,Qn=!1,hn=!1,tr=0,Vi=0,Yn=null,Yv=0;function ke(){throw Error(o(321))}function ro(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!xt(e[a],t[a]))return!1;return!0}function lo(e,t,a,n,l,u){return na=u,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?Em:Ao,hn=!1,u=a(n,l),hn=!1,Qn&&(u=Zd(t,a,n,l)),Yd(e),u}function Yd(e){R.H=Gi;var t=Te!==null&&Te.next!==null;if(na=0,Qe=Te=de=null,er=!1,Vi=0,Yn=null,t)throw Error(o(300));e===null||Ye||(e=e.dependencies,e!==null&&Fs(e)&&(Ye=!0))}function Zd(e,t,a,n){de=e;var l=0;do{if(Qn&&(Yn=null),Vi=0,Qn=!1,25<=l)throw Error(o(301));if(l+=1,Qe=Te=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}R.H=Mm,u=t(a,n)}while(Qn);return u}function Zv(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?ki(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(de.flags|=1024),t}function oo(){var e=tr!==0;return tr=0,e}function uo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function co(e){if(er){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}er=!1}na=0,Qe=Te=de=null,Qn=!1,Vi=tr=0,Yn=null}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?de.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Fe(){if(Te===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Qe===null?de.memoizedState:Qe.next;if(t!==null)Qe=t,Te=e;else{if(e===null)throw de.alternate===null?Error(o(467)):Error(o(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Qe===null?de.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function ar(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ki(e){var t=Vi;return Vi+=1,Yn===null&&(Yn=[]),e=Bd(Yn,e,t),t=de,(Qe===null?t.memoizedState:Qe.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?Em:Ao),e}function nr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ki(e);if(e.$$typeof===F)return at(e)}throw Error(o(438,String(e)))}function mo(e){var t=null,a=de.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=de.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ar(),de.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=ee;return t.index++,a}function ia(e,t){return typeof t=="function"?t(e):t}function ir(e){var t=Fe();return po(t,Te,e)}function po(e,t,a){var n=e.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=a;var l=e.baseQueue,u=n.pending;if(u!==null){if(l!==null){var p=l.next;l.next=u.next,u.next=p}t.baseQueue=l=u,n.pending=null}if(u=e.baseState,l===null)e.memoizedState=u;else{t=l.next;var y=p=null,S=null,T=t,O=!1;do{var V=T.lane&-536870913;if(V!==T.lane?(ye&V)===V:(na&V)===V){var M=T.revertLane;if(M===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),V===In&&(O=!0);else if((na&M)===M){T=T.next,M===In&&(O=!0);continue}else V={lane:0,revertLane:T.revertLane,gesture:null,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},S===null?(y=S=V,p=u):S=S.next=V,de.lanes|=M,Oa|=M;V=T.action,hn&&a(u,V),u=T.hasEagerState?T.eagerState:a(u,V)}else M={lane:V,revertLane:T.revertLane,gesture:T.gesture,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},S===null?(y=S=M,p=u):S=S.next=M,de.lanes|=V,Oa|=V;T=T.next}while(T!==null&&T!==t);if(S===null?p=u:S.next=y,!xt(u,e.memoizedState)&&(Ye=!0,O&&(a=Gn,a!==null)))throw a;e.memoizedState=u,e.baseState=p,e.baseQueue=S,n.lastRenderedState=u}return l===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function fo(e){var t=Fe(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var n=a.dispatch,l=a.pending,u=t.memoizedState;if(l!==null){a.pending=null;var p=l=l.next;do u=e(u,p.action),p=p.next;while(p!==l);xt(u,t.memoizedState)||(Ye=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,n]}function Kd(e,t,a){var n=de,l=Fe(),u=Se;if(u){if(a===void 0)throw Error(o(407));a=a()}else a=t();var p=!xt((Te||l).memoizedState,a);if(p&&(l.memoizedState=a,Ye=!0),l=l.queue,vo(Wd.bind(null,n,l,e),[e]),l.getSnapshot!==t||p||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Zn(9,{destroy:void 0},$d.bind(null,n,l,a,t),null),Le===null)throw Error(o(349));u||(na&127)!==0||Xd(n,t,a)}return a}function Xd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=de.updateQueue,t===null?(t=ar(),de.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function $d(e,t,a,n){t.value=a,t.getSnapshot=n,em(t)&&tm(e)}function Wd(e,t,a){return a(function(){em(t)&&tm(e)})}function em(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!xt(e,a)}catch{return!0}}function tm(e){var t=ln(e,2);t!==null&&gt(t,e,2)}function go(e){var t=lt();if(typeof e=="function"){var a=e;if(e=a(),hn){Sa(!0);try{a()}finally{Sa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t}function am(e,t,a,n){return e.baseState=a,po(e,Te,typeof n=="function"?n:ia)}function Kv(e,t,a,n,l){if(lr(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){u.listeners.push(p)}};R.T!==null?a(!0):u.isTransition=!1,n(u),a=t.pending,a===null?(u.next=t.pending=u,nm(t,u)):(u.next=a.next,t.pending=a.next=u)}}function nm(e,t){var a=t.action,n=t.payload,l=e.state;if(t.isTransition){var u=R.T,p={};R.T=p;try{var y=a(l,n),S=R.S;S!==null&&S(p,y),im(e,t,y)}catch(T){ho(e,t,T)}finally{u!==null&&p.types!==null&&(u.types=p.types),R.T=u}}else try{u=a(l,n),im(e,t,u)}catch(T){ho(e,t,T)}}function im(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){sm(e,t,n)},function(n){return ho(e,t,n)}):sm(e,t,a)}function sm(e,t,a){t.status="fulfilled",t.value=a,rm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,nm(e,a)))}function ho(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,rm(t),t=t.next;while(t!==n)}e.action=null}function rm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lm(e,t){return t}function om(e,t){if(Se){var a=Le.formState;if(a!==null){e:{var n=de;if(Se){if(ze){t:{for(var l=ze,u=zt;l.nodeType!==8;){if(!u){l=null;break t}if(l=wt(l.nextSibling),l===null){l=null;break t}}u=l.data,l=u==="F!"||u==="F"?l:null}if(l){ze=wt(l.nextSibling),n=l.data==="F!";break e}}ja(n)}n=!1}n&&(t=a[0])}}return a=lt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:t},a.queue=n,a=Dm.bind(null,de,n),n.dispatch=a,n=go(!1),u=_o.bind(null,de,!1,n.queue),n=lt(),l={state:t,dispatch:null,action:e,pending:null},n.queue=l,a=Kv.bind(null,de,l,u,a),l.dispatch=a,n.memoizedState=e,[t,a,!1]}function um(e){var t=Fe();return cm(t,Te,e)}function cm(e,t,a){if(t=po(e,t,lm)[0],e=ir(ia)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=ki(t)}catch(p){throw p===Pn?Ys:p}else n=t;t=Fe();var l=t.queue,u=l.dispatch;return a!==t.memoizedState&&(de.flags|=2048,Zn(9,{destroy:void 0},Xv.bind(null,l,a),null)),[n,u,e]}function Xv(e,t){e.action=t}function dm(e){var t=Fe(),a=Te;if(a!==null)return cm(t,a,e);Fe(),t=t.memoizedState,a=Fe();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Zn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=de.updateQueue,t===null&&(t=ar(),de.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function mm(){return Fe().memoizedState}function sr(e,t,a,n){var l=lt();de.flags|=e,l.memoizedState=Zn(1|t,{destroy:void 0},a,n===void 0?null:n)}function rr(e,t,a,n){var l=Fe();n=n===void 0?null:n;var u=l.memoizedState.inst;Te!==null&&n!==null&&ro(n,Te.memoizedState.deps)?l.memoizedState=Zn(t,u,a,n):(de.flags|=e,l.memoizedState=Zn(1|t,u,a,n))}function pm(e,t){sr(8390656,8,e,t)}function vo(e,t){rr(2048,8,e,t)}function $v(e){de.flags|=4;var t=de.updateQueue;if(t===null)t=ar(),de.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function fm(e){var t=Fe().memoizedState;return $v({ref:t,nextImpl:e}),function(){if((qe&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function gm(e,t){return rr(4,2,e,t)}function hm(e,t){return rr(4,4,e,t)}function vm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bm(e,t,a){a=a!=null?a.concat([e]):null,rr(4,4,vm.bind(null,t,e),a)}function bo(){}function ym(e,t){var a=Fe();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&ro(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function xm(e,t){var a=Fe();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&ro(t,n[1]))return n[0];if(n=e(),hn){Sa(!0);try{e()}finally{Sa(!1)}}return a.memoizedState=[n,t],n}function yo(e,t,a){return a===void 0||(na&1073741824)!==0&&(ye&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Sp(),de.lanes|=e,Oa|=e,a)}function Sm(e,t,a,n){return xt(a,t)?a:Jn.current!==null?(e=yo(e,a,n),xt(e,t)||(Ye=!0),e):(na&42)===0||(na&1073741824)!==0&&(ye&261930)===0?(Ye=!0,e.memoizedState=a):(e=Sp(),de.lanes|=e,Oa|=e,t)}function _m(e,t,a,n,l){var u=P.p;P.p=u!==0&&8>u?u:8;var p=R.T,y={};R.T=y,_o(e,!1,t,a);try{var S=l(),T=R.S;if(T!==null&&T(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var O=Qv(S,n);Ii(e,t,O,jt(e))}else Ii(e,t,n,jt(e))}catch(V){Ii(e,t,{then:function(){},status:"rejected",reason:V},jt())}finally{P.p=u,p!==null&&y.types!==null&&(p.types=y.types),R.T=p}}function Wv(){}function xo(e,t,a,n){if(e.tag!==5)throw Error(o(476));var l=Am(e).queue;_m(e,l,t,ae,a===null?Wv:function(){return Cm(e),a(n)})}function Am(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Cm(e){var t=Am(e);t.next===null&&(t=e.alternate.memoizedState),Ii(e,t.next.queue,{},jt())}function So(){return at(ss)}function qm(){return Fe().memoizedState}function jm(){return Fe().memoizedState}function e1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=jt();e=Ta(a);var n=Ea(t,e,a);n!==null&&(gt(n,t,a),Ui(n,t,a)),t={cache:Zl()},e.payload=t;return}t=t.return}}function t1(e,t,a){var n=jt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lr(e)?Nm(t,a):(a=Hl(e,t,a,n),a!==null&&(gt(a,e,n),Tm(a,t,n)))}function Dm(e,t,a){var n=jt();Ii(e,t,a,n)}function Ii(e,t,a,n){var l={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lr(e))Nm(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,y=u(p,a);if(l.hasEagerState=!0,l.eagerState=y,xt(y,p))return ks(e,t,l,0),Le===null&&Vs(),!1}catch{}finally{}if(a=Hl(e,t,l,n),a!==null)return gt(a,e,n),Tm(a,t,n),!0}return!1}function _o(e,t,a,n){if(n={lane:2,revertLane:eu(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},lr(e)){if(t)throw Error(o(479))}else t=Hl(e,a,n,2),t!==null&&gt(t,e,2)}function lr(e){var t=e.alternate;return e===de||t!==null&&t===de}function Nm(e,t){Qn=er=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Tm(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,zc(e,a)}}var Gi={readContext:at,use:nr,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke,useHostTransitionStatus:ke,useFormState:ke,useActionState:ke,useOptimistic:ke,useMemoCache:ke,useCacheRefresh:ke};Gi.useEffectEvent=ke;var Em={readContext:at,use:nr,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:pm,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,sr(4194308,4,vm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return sr(4194308,4,e,t)},useInsertionEffect:function(e,t){sr(4,2,e,t)},useMemo:function(e,t){var a=lt();t=t===void 0?null:t;var n=e();if(hn){Sa(!0);try{e()}finally{Sa(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=lt();if(a!==void 0){var l=a(t);if(hn){Sa(!0);try{a(t)}finally{Sa(!1)}}}else l=t;return n.memoizedState=n.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},n.queue=e,e=e.dispatch=t1.bind(null,de,e),[n.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:function(e){e=go(e);var t=e.queue,a=Dm.bind(null,de,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:bo,useDeferredValue:function(e,t){var a=lt();return yo(a,e,t)},useTransition:function(){var e=go(!1);return e=_m.bind(null,de,e.queue,!0,!1),lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=de,l=lt();if(Se){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),Le===null)throw Error(o(349));(ye&127)!==0||Xd(n,t,a)}l.memoizedState=a;var u={value:a,getSnapshot:t};return l.queue=u,pm(Wd.bind(null,n,u,e),[e]),n.flags|=2048,Zn(9,{destroy:void 0},$d.bind(null,n,u,a,t),null),a},useId:function(){var e=lt(),t=Le.identifierPrefix;if(Se){var a=Pt,n=Gt;a=(n&~(1<<32-yt(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=tr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Yv++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:So,useFormState:om,useActionState:om,useOptimistic:function(e){var t=lt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=_o.bind(null,de,!0,a),a.dispatch=t,[e,t]},useMemoCache:mo,useCacheRefresh:function(){return lt().memoizedState=e1.bind(null,de)},useEffectEvent:function(e){var t=lt(),a={impl:e};return t.memoizedState=a,function(){if((qe&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Ao={readContext:at,use:nr,useCallback:ym,useContext:at,useEffect:vo,useImperativeHandle:bm,useInsertionEffect:gm,useLayoutEffect:hm,useMemo:xm,useReducer:ir,useRef:mm,useState:function(){return ir(ia)},useDebugValue:bo,useDeferredValue:function(e,t){var a=Fe();return Sm(a,Te.memoizedState,e,t)},useTransition:function(){var e=ir(ia)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:ki(e),t]},useSyncExternalStore:Kd,useId:qm,useHostTransitionStatus:So,useFormState:um,useActionState:um,useOptimistic:function(e,t){var a=Fe();return am(a,Te,e,t)},useMemoCache:mo,useCacheRefresh:jm};Ao.useEffectEvent=fm;var Mm={readContext:at,use:nr,useCallback:ym,useContext:at,useEffect:vo,useImperativeHandle:bm,useInsertionEffect:gm,useLayoutEffect:hm,useMemo:xm,useReducer:fo,useRef:mm,useState:function(){return fo(ia)},useDebugValue:bo,useDeferredValue:function(e,t){var a=Fe();return Te===null?yo(a,e,t):Sm(a,Te.memoizedState,e,t)},useTransition:function(){var e=fo(ia)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:ki(e),t]},useSyncExternalStore:Kd,useId:qm,useHostTransitionStatus:So,useFormState:dm,useActionState:dm,useOptimistic:function(e,t){var a=Fe();return Te!==null?am(a,Te,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:mo,useCacheRefresh:jm};Mm.useEffectEvent=fm;function Co(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var qo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=jt(),l=Ta(n);l.payload=t,a!=null&&(l.callback=a),t=Ea(e,l,n),t!==null&&(gt(t,e,n),Ui(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=jt(),l=Ta(n);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=Ea(e,l,n),t!==null&&(gt(t,e,n),Ui(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=jt(),n=Ta(a);n.tag=2,t!=null&&(n.callback=t),t=Ea(e,n,a),t!==null&&(gt(t,e,a),Ui(t,e,a))}};function Rm(e,t,a,n,l,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,u,p):t.prototype&&t.prototype.isPureReactComponent?!Ti(a,n)||!Ti(l,u):!0}function Lm(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function vn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}function zm(e){Bs(e)}function Om(e){console.error(e)}function wm(e){Bs(e)}function or(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Um(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function jo(e,t,a){return a=Ta(a),a.tag=3,a.payload={element:null},a.callback=function(){or(e,t)},a}function Hm(e){return e=Ta(e),e.tag=3,e}function Bm(e,t,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;e.payload=function(){return l(u)},e.callback=function(){Um(t,a,n)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Um(t,a,n),typeof l!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})})}function a1(e,t,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&kn(t,a,l,!0),a=_t.current,a!==null){switch(a.tag){case 31:case 13:return Ot===null?xr():a.alternate===null&&Ie===0&&(Ie=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===Zs?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Xo(e,n,l)),!1;case 22:return a.flags|=65536,n===Zs?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Xo(e,n,l)),!1}throw Error(o(435,a.tag))}return Xo(e,n,l),xr(),!1}if(Se)return t=_t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,n!==Pl&&(e=Error(o(422),{cause:n}),Ri(Mt(e,a)))):(n!==Pl&&(t=Error(o(423),{cause:n}),Ri(Mt(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,n=Mt(n,a),l=jo(e.stateNode,n,l),to(e,l),Ie!==4&&(Ie=2)),!1;var u=Error(o(520),{cause:n});if(u=Mt(u,a),Xi===null?Xi=[u]:Xi.push(u),Ie!==4&&(Ie=2),t===null)return!0;n=Mt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=jo(a.stateNode,n,e),to(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(wa===null||!wa.has(u))))return a.flags|=65536,l&=-l,a.lanes|=l,l=Hm(l),Bm(l,e,a,n),to(a,l),!1}a=a.return}while(a!==null);return!1}var Do=Error(o(461)),Ye=!1;function nt(e,t,a,n){t.child=e===null?Gd(t,null,a,n):gn(t,e.child,a,n)}function Vm(e,t,a,n,l){a=a.render;var u=t.ref;if("ref"in n){var p={};for(var y in n)y!=="ref"&&(p[y]=n[y])}else p=n;return dn(t),n=lo(e,t,a,p,u,l),y=oo(),e!==null&&!Ye?(uo(e,t,l),sa(e,t,l)):(Se&&y&&Il(t),t.flags|=1,nt(e,t,n,l),t.child)}function km(e,t,a,n,l){if(e===null){var u=a.type;return typeof u=="function"&&!Bl(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Im(e,t,u,n,l)):(e=Gs(a.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Oo(e,l)){var p=u.memoizedProps;if(a=a.compare,a=a!==null?a:Ti,a(p,n)&&e.ref===t.ref)return sa(e,t,l)}return t.flags|=1,e=Wt(u,n),e.ref=t.ref,e.return=t,t.child=e}function Im(e,t,a,n,l){if(e!==null){var u=e.memoizedProps;if(Ti(u,n)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=n=u,Oo(e,l))(e.flags&131072)!==0&&(Ye=!0);else return t.lanes=e.lanes,sa(e,t,l)}return No(e,t,a,n,l)}function Gm(e,t,a,n){var l=n.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(n=t.child=e.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;n=l&~u}else n=0,t.child=null;return Pm(e,t,u,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qs(t,u!==null?u.cachePool:null),u!==null?Jd(t,u):no(),Qd(t);else return n=t.lanes=536870912,Pm(e,t,u!==null?u.baseLanes|a:a,a,n)}else u!==null?(Qs(t,u.cachePool),Jd(t,u),Ra(),t.memoizedState=null):(e!==null&&Qs(t,null),no(),Ra());return nt(e,t,l,a),t.child}function Pi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Pm(e,t,a,n,l){var u=Xl();return u=u===null?null:{parent:Je._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Qs(t,null),no(),Qd(t),e!==null&&kn(e,t,n,!0),t.childLanes=l,null}function ur(e,t){return t=dr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Fm(e,t,a){return gn(t,e.child,null,a),e=ur(t,t.pendingProps),e.flags|=2,At(t),t.memoizedState=null,e}function n1(e,t,a){var n=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Se){if(n.mode==="hidden")return e=ur(t,n),t.lanes=536870912,Pi(null,e);if(so(t),(e=ze)?(e=nf(e,zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ca!==null?{id:Gt,overflow:Pt}:null,retryLane:536870912,hydrationErrors:null},a=Nd(e),a.return=t,t.child=a,tt=t,ze=null)):e=null,e===null)throw ja(t);return t.lanes=536870912,null}return ur(t,n)}var u=e.memoizedState;if(u!==null){var p=u.dehydrated;if(so(t),l)if(t.flags&256)t.flags&=-257,t=Fm(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Ye||kn(e,t,a,!1),l=(a&e.childLanes)!==0,Ye||l){if(n=Le,n!==null&&(p=Oc(n,a),p!==0&&p!==u.retryLane))throw u.retryLane=p,ln(e,p),gt(n,e,p),Do;xr(),t=Fm(e,t,a)}else e=u.treeContext,ze=wt(p.nextSibling),tt=t,Se=!0,qa=null,zt=!1,e!==null&&Md(t,e),t=ur(t,n),t.flags|=4096;return t}return e=Wt(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function cr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function No(e,t,a,n,l){return dn(t),a=lo(e,t,a,n,void 0,l),n=oo(),e!==null&&!Ye?(uo(e,t,l),sa(e,t,l)):(Se&&n&&Il(t),t.flags|=1,nt(e,t,a,l),t.child)}function Jm(e,t,a,n,l,u){return dn(t),t.updateQueue=null,a=Zd(t,n,a,l),Yd(e),n=oo(),e!==null&&!Ye?(uo(e,t,u),sa(e,t,u)):(Se&&n&&Il(t),t.flags|=1,nt(e,t,a,u),t.child)}function Qm(e,t,a,n,l){if(dn(t),t.stateNode===null){var u=Un,p=a.contextType;typeof p=="object"&&p!==null&&(u=at(p)),u=new a(n,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=qo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=n,u.state=t.memoizedState,u.refs={},Wl(t),p=a.contextType,u.context=typeof p=="object"&&p!==null?at(p):Un,u.state=t.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Co(t,a,p,n),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(p=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),p!==u.state&&qo.enqueueReplaceState(u,u.state,null),Bi(t,n,u,l),Hi(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){u=t.stateNode;var y=t.memoizedProps,S=vn(a,y);u.props=S;var T=u.context,O=a.contextType;p=Un,typeof O=="object"&&O!==null&&(p=at(O));var V=a.getDerivedStateFromProps;O=typeof V=="function"||typeof u.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,O||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y||T!==p)&&Lm(t,u,n,p),Na=!1;var M=t.memoizedState;u.state=M,Bi(t,n,u,l),Hi(),T=t.memoizedState,y||M!==T||Na?(typeof V=="function"&&(Co(t,a,V,n),T=t.memoizedState),(S=Na||Rm(t,a,S,n,M,T,p))?(O||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=T),u.props=n,u.state=T,u.context=p,n=S):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,eo(e,t),p=t.memoizedProps,O=vn(a,p),u.props=O,V=t.pendingProps,M=u.context,T=a.contextType,S=Un,typeof T=="object"&&T!==null&&(S=at(T)),y=a.getDerivedStateFromProps,(T=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==V||M!==S)&&Lm(t,u,n,S),Na=!1,M=t.memoizedState,u.state=M,Bi(t,n,u,l),Hi();var L=t.memoizedState;p!==V||M!==L||Na||e!==null&&e.dependencies!==null&&Fs(e.dependencies)?(typeof y=="function"&&(Co(t,a,y,n),L=t.memoizedState),(O=Na||Rm(t,a,O,n,M,L,S)||e!==null&&e.dependencies!==null&&Fs(e.dependencies))?(T||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,L,S),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,L,S)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=L),u.props=n,u.state=L,u.context=S,n=O):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),n=!1)}return u=n,cr(e,t),n=(t.flags&128)!==0,u||n?(u=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&n?(t.child=gn(t,e.child,null,l),t.child=gn(t,null,a,l)):nt(e,t,a,l),t.memoizedState=u.state,e=t.child):e=sa(e,t,l),e}function Ym(e,t,a,n){return un(),t.flags|=256,nt(e,t,a,n),t.child}var To={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eo(e){return{baseLanes:e,cachePool:Ud()}}function Mo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=qt),e}function Zm(e,t,a){var n=t.pendingProps,l=!1,u=(t.flags&128)!==0,p;if((p=u)||(p=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),p&&(l=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Se){if(l?Ma(t):Ra(),(e=ze)?(e=nf(e,zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ca!==null?{id:Gt,overflow:Pt}:null,retryLane:536870912,hydrationErrors:null},a=Nd(e),a.return=t,t.child=a,tt=t,ze=null)):e=null,e===null)throw ja(t);return pu(e)?t.lanes=32:t.lanes=536870912,null}var y=n.children;return n=n.fallback,l?(Ra(),l=t.mode,y=dr({mode:"hidden",children:y},l),n=on(n,l,a,null),y.return=t,n.return=t,y.sibling=n,t.child=y,n=t.child,n.memoizedState=Eo(a),n.childLanes=Mo(e,p,a),t.memoizedState=To,Pi(null,n)):(Ma(t),Ro(t,y))}var S=e.memoizedState;if(S!==null&&(y=S.dehydrated,y!==null)){if(u)t.flags&256?(Ma(t),t.flags&=-257,t=Lo(e,t,a)):t.memoizedState!==null?(Ra(),t.child=e.child,t.flags|=128,t=null):(Ra(),y=n.fallback,l=t.mode,n=dr({mode:"visible",children:n.children},l),y=on(y,l,a,null),y.flags|=2,n.return=t,y.return=t,n.sibling=y,t.child=n,gn(t,e.child,null,a),n=t.child,n.memoizedState=Eo(a),n.childLanes=Mo(e,p,a),t.memoizedState=To,t=Pi(null,n));else if(Ma(t),pu(y)){if(p=y.nextSibling&&y.nextSibling.dataset,p)var T=p.dgst;p=T,n=Error(o(419)),n.stack="",n.digest=p,Ri({value:n,source:null,stack:null}),t=Lo(e,t,a)}else if(Ye||kn(e,t,a,!1),p=(a&e.childLanes)!==0,Ye||p){if(p=Le,p!==null&&(n=Oc(p,a),n!==0&&n!==S.retryLane))throw S.retryLane=n,ln(e,n),gt(p,e,n),Do;mu(y)||xr(),t=Lo(e,t,a)}else mu(y)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,ze=wt(y.nextSibling),tt=t,Se=!0,qa=null,zt=!1,e!==null&&Md(t,e),t=Ro(t,n.children),t.flags|=4096);return t}return l?(Ra(),y=n.fallback,l=t.mode,S=e.child,T=S.sibling,n=Wt(S,{mode:"hidden",children:n.children}),n.subtreeFlags=S.subtreeFlags&65011712,T!==null?y=Wt(T,y):(y=on(y,l,a,null),y.flags|=2),y.return=t,n.return=t,n.sibling=y,t.child=n,Pi(null,n),n=t.child,y=e.child.memoizedState,y===null?y=Eo(a):(l=y.cachePool,l!==null?(S=Je._currentValue,l=l.parent!==S?{parent:S,pool:S}:l):l=Ud(),y={baseLanes:y.baseLanes|a,cachePool:l}),n.memoizedState=y,n.childLanes=Mo(e,p,a),t.memoizedState=To,Pi(e.child,n)):(Ma(t),a=e.child,e=a.sibling,a=Wt(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=a,t.memoizedState=null,a)}function Ro(e,t){return t=dr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function dr(e,t){return e=St(22,e,null,t),e.lanes=0,e}function Lo(e,t,a){return gn(t,e.child,null,a),e=Ro(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Km(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ql(e.return,t,a)}function zo(e,t,a,n,l,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l,treeForkCount:u}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=n,p.tail=a,p.tailMode=l,p.treeForkCount=u)}function Xm(e,t,a){var n=t.pendingProps,l=n.revealOrder,u=n.tail;n=n.children;var p=Pe.current,y=(p&2)!==0;if(y?(p=p&1|2,t.flags|=128):p&=1,J(Pe,p),nt(e,t,n,a),n=Se?Mi:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Km(e,a,t);else if(e.tag===19)Km(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&Ws(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),zo(t,!1,l,a,u,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ws(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}zo(t,!0,a,null,u,n);break;case"together":zo(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function sa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Oa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(kn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=Wt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Wt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Oo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Fs(e)))}function i1(e,t,a){switch(t.tag){case 3:rt(t,t.stateNode.containerInfo),Da(t,Je,e.memoizedState.cache),un();break;case 27:case 5:hi(t);break;case 4:rt(t,t.stateNode.containerInfo);break;case 10:Da(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,so(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ma(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Zm(e,t,a):(Ma(t),e=sa(e,t,a),e!==null?e.sibling:null);Ma(t);break;case 19:var l=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(kn(e,t,a,!1),n=(a&t.childLanes)!==0),l){if(n)return Xm(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),J(Pe,Pe.current),n)break;return null;case 22:return t.lanes=0,Gm(e,t,a,t.pendingProps);case 24:Da(t,Je,e.memoizedState.cache)}return sa(e,t,a)}function $m(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ye=!0;else{if(!Oo(e,a)&&(t.flags&128)===0)return Ye=!1,i1(e,t,a);Ye=(e.flags&131072)!==0}else Ye=!1,Se&&(t.flags&1048576)!==0&&Ed(t,Mi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=pn(t.elementType),t.type=e,typeof e=="function")Bl(e)?(n=vn(e,n),t.tag=1,t=Qm(null,t,e,n,a)):(t.tag=0,t=No(null,t,e,n,a));else{if(e!=null){var l=e.$$typeof;if(l===$){t.tag=11,t=Vm(null,t,e,n,a);break e}else if(l===G){t.tag=14,t=km(null,t,e,n,a);break e}}throw t=me(e)||e,Error(o(306,t,""))}}return t;case 0:return No(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,l=vn(n,t.pendingProps),Qm(e,t,n,l,a);case 3:e:{if(rt(t,t.stateNode.containerInfo),e===null)throw Error(o(387));n=t.pendingProps;var u=t.memoizedState;l=u.element,eo(e,t),Bi(t,n,null,a);var p=t.memoizedState;if(n=p.cache,Da(t,Je,n),n!==u.cache&&Yl(t,[Je],a,!0),Hi(),n=p.element,u.isDehydrated)if(u={element:n,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Ym(e,t,n,a);break e}else if(n!==l){l=Mt(Error(o(424)),t),Ri(l),t=Ym(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=wt(e.firstChild),tt=t,Se=!0,qa=null,zt=!0,a=Gd(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(un(),n===l){t=sa(e,t,a);break e}nt(e,t,n,a)}t=t.child}return t;case 26:return cr(e,t),e===null?(a=cf(t.type,null,t.pendingProps,null))?t.memoizedState=a:Se||(a=t.type,e=t.pendingProps,n=Dr(he.current).createElement(a),n[et]=t,n[ut]=e,it(n,a,e),Xe(n),t.stateNode=n):t.memoizedState=cf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return hi(t),e===null&&Se&&(n=t.stateNode=lf(t.type,t.pendingProps,he.current),tt=t,zt=!0,l=ze,Va(t.type)?(fu=l,ze=wt(n.firstChild)):ze=l),nt(e,t,t.pendingProps.children,a),cr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Se&&((l=n=ze)&&(n=z1(n,t.type,t.pendingProps,zt),n!==null?(t.stateNode=n,tt=t,ze=wt(n.firstChild),zt=!1,l=!0):l=!1),l||ja(t)),hi(t),l=t.type,u=t.pendingProps,p=e!==null?e.memoizedProps:null,n=u.children,uu(l,u)?n=null:p!==null&&uu(l,p)&&(t.flags|=32),t.memoizedState!==null&&(l=lo(e,t,Zv,null,null,a),ss._currentValue=l),cr(e,t),nt(e,t,n,a),t.child;case 6:return e===null&&Se&&((e=a=ze)&&(a=O1(a,t.pendingProps,zt),a!==null?(t.stateNode=a,tt=t,ze=null,e=!0):e=!1),e||ja(t)),null;case 13:return Zm(e,t,a);case 4:return rt(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=gn(t,null,n,a):nt(e,t,n,a),t.child;case 11:return Vm(e,t,t.type,t.pendingProps,a);case 7:return nt(e,t,t.pendingProps,a),t.child;case 8:return nt(e,t,t.pendingProps.children,a),t.child;case 12:return nt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Da(t,t.type,n.value),nt(e,t,n.children,a),t.child;case 9:return l=t.type._context,n=t.pendingProps.children,dn(t),l=at(l),n=n(l),t.flags|=1,nt(e,t,n,a),t.child;case 14:return km(e,t,t.type,t.pendingProps,a);case 15:return Im(e,t,t.type,t.pendingProps,a);case 19:return Xm(e,t,a);case 31:return n1(e,t,a);case 22:return Gm(e,t,a,t.pendingProps);case 24:return dn(t),n=at(Je),e===null?(l=Xl(),l===null&&(l=Le,u=Zl(),l.pooledCache=u,u.refCount++,u!==null&&(l.pooledCacheLanes|=a),l=u),t.memoizedState={parent:n,cache:l},Wl(t),Da(t,Je,l)):((e.lanes&a)!==0&&(eo(e,t),Bi(t,null,null,a),Hi()),l=e.memoizedState,u=t.memoizedState,l.parent!==n?(l={parent:n,cache:n},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Da(t,Je,n)):(n=u.cache,Da(t,Je,n),n!==l.cache&&Yl(t,[Je],a,!0))),nt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ra(e){e.flags|=4}function wo(e,t,a,n,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(qp())e.flags|=8192;else throw fn=Zs,$l}else e.flags&=-16777217}function Wm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gf(t))if(qp())e.flags|=8192;else throw fn=Zs,$l}function mr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Rc():536870912,e.lanes|=t,Wn|=t)}function Fi(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function s1(e,t,a){var n=t.pendingProps;switch(Gl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),aa(Je),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vn(t)?ra(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fl())),Oe(t),null;case 26:var l=t.type,u=t.memoizedState;return e===null?(ra(t),u!==null?(Oe(t),Wm(t,u)):(Oe(t),wo(t,l,null,n,a))):u?u!==e.memoizedState?(ra(t),Oe(t),Wm(t,u)):(Oe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&ra(t),Oe(t),wo(t,l,e,n,a)),null;case 27:if(As(t),a=he.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ra(t);else{if(!n){if(t.stateNode===null)throw Error(o(166));return Oe(t),null}e=K.current,Vn(t)?Rd(t):(e=lf(l,n,a),t.stateNode=e,ra(t))}return Oe(t),null;case 5:if(As(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ra(t);else{if(!n){if(t.stateNode===null)throw Error(o(166));return Oe(t),null}if(u=K.current,Vn(t))Rd(t);else{var p=Dr(he.current);switch(u){case 1:u=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:u=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":u=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":u=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":u=p.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof n.is=="string"?p.createElement("select",{is:n.is}):p.createElement("select"),n.multiple?u.multiple=!0:n.size&&(u.size=n.size);break;default:u=typeof n.is=="string"?p.createElement(l,{is:n.is}):p.createElement(l)}}u[et]=t,u[ut]=n;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)u.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=u;e:switch(it(u,l,n),l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ra(t)}}return Oe(t),wo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ra(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(o(166));if(e=he.current,Vn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,l=tt,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}e[et]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Zp(e.nodeValue,a)),e||ja(t,!0)}else e=Dr(e).createTextNode(n),e[et]=t,t.stateNode=e}return Oe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=Vn(t),a!==null){if(e===null){if(!n)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[et]=t}else un(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),e=!1}else a=Fl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(At(t),t):(At(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Oe(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Vn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(o(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));l[et]=t}else un(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),l=!1}else l=Fl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(At(t),t):(At(t),null)}return At(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==l&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),mr(t,t.updateQueue),Oe(t),null);case 4:return Ge(),e===null&&iu(t.stateNode.containerInfo),Oe(t),null;case 10:return aa(t.type),Oe(t),null;case 19:if(U(Pe),n=t.memoizedState,n===null)return Oe(t),null;if(l=(t.flags&128)!==0,u=n.rendering,u===null)if(l)Fi(n,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Ws(e),u!==null){for(t.flags|=128,Fi(n,!1),e=u.updateQueue,t.updateQueue=e,mr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Dd(a,e),a=a.sibling;return J(Pe,Pe.current&1|2),Se&&ea(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&vt()>vr&&(t.flags|=128,l=!0,Fi(n,!1),t.lanes=4194304)}else{if(!l)if(e=Ws(u),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,mr(t,e),Fi(n,!0),n.tail===null&&n.tailMode==="hidden"&&!u.alternate&&!Se)return Oe(t),null}else 2*vt()-n.renderingStartTime>vr&&a!==536870912&&(t.flags|=128,l=!0,Fi(n,!1),t.lanes=4194304);n.isBackwards?(u.sibling=t.child,t.child=u):(e=n.last,e!==null?e.sibling=u:t.child=u,n.last=u)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=vt(),e.sibling=null,a=Pe.current,J(Pe,l?a&1|2:a&1),Se&&ea(t,n.treeForkCount),e):(Oe(t),null);case 22:case 23:return At(t),io(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),a=t.updateQueue,a!==null&&mr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&U(mn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),aa(Je),Oe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function r1(e,t){switch(Gl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return aa(Je),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return As(t),null;case 31:if(t.memoizedState!==null){if(At(t),t.alternate===null)throw Error(o(340));un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(At(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(Pe),null;case 4:return Ge(),null;case 10:return aa(t.type),null;case 22:case 23:return At(t),io(),e!==null&&U(mn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return aa(Je),null;case 25:return null;default:return null}}function ep(e,t){switch(Gl(t),t.tag){case 3:aa(Je),Ge();break;case 26:case 27:case 5:As(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&At(t);break;case 13:At(t);break;case 19:U(Pe);break;case 10:aa(t.type);break;case 22:case 23:At(t),io(),e!==null&&U(mn);break;case 24:aa(Je)}}function Ji(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&e)===e){n=void 0;var u=a.create,p=a.inst;n=u(),p.destroy=n}a=a.next}while(a!==l)}}catch(y){Ne(t,t.return,y)}}function La(e,t,a){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){var p=n.inst,y=p.destroy;if(y!==void 0){p.destroy=void 0,l=t;var S=a,T=y;try{T()}catch(O){Ne(l,S,O)}}}n=n.next}while(n!==u)}}catch(O){Ne(t,t.return,O)}}function tp(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Fd(t,a)}catch(n){Ne(e,e.return,n)}}}function ap(e,t,a){a.props=vn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Ne(e,t,n)}}function Qi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(l){Ne(e,t,l)}}function Ft(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){Ne(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){Ne(e,t,l)}else a.current=null}function np(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){Ne(e,e.return,l)}}function Uo(e,t,a){try{var n=e.stateNode;N1(n,e.type,a,t),n[ut]=t}catch(l){Ne(e,e.return,l)}}function ip(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Va(e.type)||e.tag===4}function Ho(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ip(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Va(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bo(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Xt));else if(n!==4&&(n===27&&Va(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Bo(e,t,a),e=e.sibling;e!==null;)Bo(e,t,a),e=e.sibling}function pr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Va(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(pr(e,t,a),e=e.sibling;e!==null;)pr(e,t,a),e=e.sibling}function sp(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);it(t,n,a),t[et]=e,t[ut]=a}catch(u){Ne(e,e.return,u)}}var la=!1,Ze=!1,Vo=!1,rp=typeof WeakSet=="function"?WeakSet:Set,$e=null;function l1(e,t){if(e=e.containerInfo,lu=zr,e=bd(e),Rl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,u=n.focusNode;n=n.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var p=0,y=-1,S=-1,T=0,O=0,V=e,M=null;t:for(;;){for(var L;V!==a||l!==0&&V.nodeType!==3||(y=p+l),V!==u||n!==0&&V.nodeType!==3||(S=p+n),V.nodeType===3&&(p+=V.nodeValue.length),(L=V.firstChild)!==null;)M=V,V=L;for(;;){if(V===e)break t;if(M===a&&++T===l&&(y=p),M===u&&++O===n&&(S=p),(L=V.nextSibling)!==null)break;V=M,M=V.parentNode}V=L}a=y===-1||S===-1?null:{start:y,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(ou={focusedElem:e,selectionRange:a},zr=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){switch(t=$e,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)l=e[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,l=u.memoizedProps,u=u.memoizedState,n=a.stateNode;try{var X=vn(a.type,l);e=n.getSnapshotBeforeUpdate(X,u),n.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Ne(a,a.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)du(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}}function lp(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:ua(e,a),n&4&&Ji(5,a);break;case 1:if(ua(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(p){Ne(a,a.return,p)}else{var l=vn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ne(a,a.return,p)}}n&64&&tp(a),n&512&&Qi(a,a.return);break;case 3:if(ua(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Fd(e,t)}catch(p){Ne(a,a.return,p)}}break;case 27:t===null&&n&4&&sp(a);case 26:case 5:ua(e,a),t===null&&n&4&&np(a),n&512&&Qi(a,a.return);break;case 12:ua(e,a);break;case 31:ua(e,a),n&4&&cp(e,a);break;case 13:ua(e,a),n&4&&dp(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=h1.bind(null,a),w1(e,a))));break;case 22:if(n=a.memoizedState!==null||la,!n){t=t!==null&&t.memoizedState!==null||Ze,l=la;var u=Ze;la=n,(Ze=t)&&!u?ca(e,a,(a.subtreeFlags&8772)!==0):ua(e,a),la=l,Ze=u}break;case 30:break;default:ua(e,a)}}function op(e){var t=e.alternate;t!==null&&(e.alternate=null,op(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,dt=!1;function oa(e,t,a){for(a=a.child;a!==null;)up(e,t,a),a=a.sibling}function up(e,t,a){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(vi,a)}catch{}switch(a.tag){case 26:Ze||Ft(a,t),oa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ze||Ft(a,t);var n=He,l=dt;Va(a.type)&&(He=a.stateNode,dt=!1),oa(e,t,a),as(a.stateNode),He=n,dt=l;break;case 5:Ze||Ft(a,t);case 6:if(n=He,l=dt,He=null,oa(e,t,a),He=n,dt=l,He!==null)if(dt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(u){Ne(a,t,u)}else try{He.removeChild(a.stateNode)}catch(u){Ne(a,t,u)}break;case 18:He!==null&&(dt?(e=He,tf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),li(e)):tf(He,a.stateNode));break;case 4:n=He,l=dt,He=a.stateNode.containerInfo,dt=!0,oa(e,t,a),He=n,dt=l;break;case 0:case 11:case 14:case 15:La(2,a,t),Ze||La(4,a,t),oa(e,t,a);break;case 1:Ze||(Ft(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&ap(a,t,n)),oa(e,t,a);break;case 21:oa(e,t,a);break;case 22:Ze=(n=Ze)||a.memoizedState!==null,oa(e,t,a),Ze=n;break;default:oa(e,t,a)}}function cp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{li(e)}catch(a){Ne(t,t.return,a)}}}function dp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{li(e)}catch(a){Ne(t,t.return,a)}}function o1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rp),t;default:throw Error(o(435,e.tag))}}function fr(e,t){var a=o1(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var l=v1.bind(null,e,n);n.then(l,l)}})}function mt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],u=e,p=t,y=p;e:for(;y!==null;){switch(y.tag){case 27:if(Va(y.type)){He=y.stateNode,dt=!1;break e}break;case 5:He=y.stateNode,dt=!1;break e;case 3:case 4:He=y.stateNode.containerInfo,dt=!0;break e}y=y.return}if(He===null)throw Error(o(160));up(u,p,l),He=null,dt=!1,u=l.alternate,u!==null&&(u.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)mp(t,e),t=t.sibling}var kt=null;function mp(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(t,e),pt(e),n&4&&(La(3,e,e.return),Ji(3,e),La(5,e,e.return));break;case 1:mt(t,e),pt(e),n&512&&(Ze||a===null||Ft(a,a.return)),n&64&&la&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=kt;if(mt(t,e),pt(e),n&512&&(Ze||a===null||Ft(a,a.return)),n&4){var u=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(n){case"title":u=l.getElementsByTagName("title")[0],(!u||u[xi]||u[et]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=l.createElement(n),l.head.insertBefore(u,l.querySelector("head > title"))),it(u,n,a),u[et]=e,Xe(u),n=u;break e;case"link":var p=pf("link","href",l).get(n+(a.href||""));if(p){for(var y=0;y<p.length;y++)if(u=p[y],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(y,1);break t}}u=l.createElement(n),it(u,n,a),l.head.appendChild(u);break;case"meta":if(p=pf("meta","content",l).get(n+(a.content||""))){for(y=0;y<p.length;y++)if(u=p[y],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(y,1);break t}}u=l.createElement(n),it(u,n,a),l.head.appendChild(u);break;default:throw Error(o(468,n))}u[et]=e,Xe(u),n=u}e.stateNode=n}else ff(l,e.type,e.stateNode);else e.stateNode=mf(l,n,e.memoizedProps);else u!==n?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,n===null?ff(l,e.type,e.stateNode):mf(l,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Uo(e,e.memoizedProps,a.memoizedProps)}break;case 27:mt(t,e),pt(e),n&512&&(Ze||a===null||Ft(a,a.return)),a!==null&&n&4&&Uo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(mt(t,e),pt(e),n&512&&(Ze||a===null||Ft(a,a.return)),e.flags&32){l=e.stateNode;try{En(l,"")}catch(X){Ne(e,e.return,X)}}n&4&&e.stateNode!=null&&(l=e.memoizedProps,Uo(e,l,a!==null?a.memoizedProps:l)),n&1024&&(Vo=!0);break;case 6:if(mt(t,e),pt(e),n&4){if(e.stateNode===null)throw Error(o(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(X){Ne(e,e.return,X)}}break;case 3:if(Er=null,l=kt,kt=Nr(t.containerInfo),mt(t,e),kt=l,pt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{li(t.containerInfo)}catch(X){Ne(e,e.return,X)}Vo&&(Vo=!1,pp(e));break;case 4:n=kt,kt=Nr(e.stateNode.containerInfo),mt(t,e),pt(e),kt=n;break;case 12:mt(t,e),pt(e);break;case 31:mt(t,e),pt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,fr(e,n)));break;case 13:mt(t,e),pt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hr=vt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,fr(e,n)));break;case 22:l=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,T=la,O=Ze;if(la=T||l,Ze=O||S,mt(t,e),Ze=O,la=T,pt(e),n&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||S||la||Ze||bn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(u=S.stateNode,l)p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{y=S.stateNode;var V=S.memoizedProps.style,M=V!=null&&V.hasOwnProperty("display")?V.display:null;y.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(X){Ne(S,S.return,X)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=l?"":S.memoizedProps}catch(X){Ne(S,S.return,X)}}}else if(t.tag===18){if(a===null){S=t;try{var L=S.stateNode;l?af(L,!0):af(S.stateNode,!1)}catch(X){Ne(S,S.return,X)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,fr(e,a))));break;case 19:mt(t,e),pt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,fr(e,n)));break;case 30:break;case 21:break;default:mt(t,e),pt(e)}}function pt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(ip(n)){a=n;break}n=n.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var l=a.stateNode,u=Ho(e);pr(e,u,l);break;case 5:var p=a.stateNode;a.flags&32&&(En(p,""),a.flags&=-33);var y=Ho(e);pr(e,y,p);break;case 3:case 4:var S=a.stateNode.containerInfo,T=Ho(e);Bo(e,T,S);break;default:throw Error(o(161))}}catch(O){Ne(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;pp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ua(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lp(e,t.alternate,t),t=t.sibling}function bn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:La(4,t,t.return),bn(t);break;case 1:Ft(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&ap(t,t.return,a),bn(t);break;case 27:as(t.stateNode);case 26:case 5:Ft(t,t.return),bn(t);break;case 22:t.memoizedState===null&&bn(t);break;case 30:bn(t);break;default:bn(t)}e=e.sibling}}function ca(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,l=e,u=t,p=u.flags;switch(u.tag){case 0:case 11:case 15:ca(l,u,a),Ji(4,u);break;case 1:if(ca(l,u,a),n=u,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(T){Ne(n,n.return,T)}if(n=u,l=n.updateQueue,l!==null){var y=n.stateNode;try{var S=l.shared.hiddenCallbacks;if(S!==null)for(l.shared.hiddenCallbacks=null,l=0;l<S.length;l++)Pd(S[l],y)}catch(T){Ne(n,n.return,T)}}a&&p&64&&tp(u),Qi(u,u.return);break;case 27:sp(u);case 26:case 5:ca(l,u,a),a&&n===null&&p&4&&np(u),Qi(u,u.return);break;case 12:ca(l,u,a);break;case 31:ca(l,u,a),a&&p&4&&cp(l,u);break;case 13:ca(l,u,a),a&&p&4&&dp(l,u);break;case 22:u.memoizedState===null&&ca(l,u,a),Qi(u,u.return);break;case 30:break;default:ca(l,u,a)}t=t.sibling}}function ko(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Li(a))}function Io(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Li(e))}function It(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fp(e,t,a,n),t=t.sibling}function fp(e,t,a,n){var l=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,a,n),l&2048&&Ji(9,t);break;case 1:It(e,t,a,n);break;case 3:It(e,t,a,n),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Li(e)));break;case 12:if(l&2048){It(e,t,a,n),e=t.stateNode;try{var u=t.memoizedProps,p=u.id,y=u.onPostCommit;typeof y=="function"&&y(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ne(t,t.return,S)}}else It(e,t,a,n);break;case 31:It(e,t,a,n);break;case 13:It(e,t,a,n);break;case 23:break;case 22:u=t.stateNode,p=t.alternate,t.memoizedState!==null?u._visibility&2?It(e,t,a,n):Yi(e,t):u._visibility&2?It(e,t,a,n):(u._visibility|=2,Kn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),l&2048&&ko(p,t);break;case 24:It(e,t,a,n),l&2048&&Io(t.alternate,t);break;default:It(e,t,a,n)}}function Kn(e,t,a,n,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,p=t,y=a,S=n,T=p.flags;switch(p.tag){case 0:case 11:case 15:Kn(u,p,y,S,l),Ji(8,p);break;case 23:break;case 22:var O=p.stateNode;p.memoizedState!==null?O._visibility&2?Kn(u,p,y,S,l):Yi(u,p):(O._visibility|=2,Kn(u,p,y,S,l)),l&&T&2048&&ko(p.alternate,p);break;case 24:Kn(u,p,y,S,l),l&&T&2048&&Io(p.alternate,p);break;default:Kn(u,p,y,S,l)}t=t.sibling}}function Yi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,l=n.flags;switch(n.tag){case 22:Yi(a,n),l&2048&&ko(n.alternate,n);break;case 24:Yi(a,n),l&2048&&Io(n.alternate,n);break;default:Yi(a,n)}t=t.sibling}}var Zi=8192;function Xn(e,t,a){if(e.subtreeFlags&Zi)for(e=e.child;e!==null;)gp(e,t,a),e=e.sibling}function gp(e,t,a){switch(e.tag){case 26:Xn(e,t,a),e.flags&Zi&&e.memoizedState!==null&&Y1(a,kt,e.memoizedState,e.memoizedProps);break;case 5:Xn(e,t,a);break;case 3:case 4:var n=kt;kt=Nr(e.stateNode.containerInfo),Xn(e,t,a),kt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Zi,Zi=16777216,Xn(e,t,a),Zi=n):Xn(e,t,a));break;default:Xn(e,t,a)}}function hp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];$e=n,bp(n,e)}hp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vp(e),e=e.sibling}function vp(e){switch(e.tag){case 0:case 11:case 15:Ki(e),e.flags&2048&&La(9,e,e.return);break;case 3:Ki(e);break;case 12:Ki(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,gr(e)):Ki(e);break;default:Ki(e)}}function gr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];$e=n,bp(n,e)}hp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:La(8,t,t.return),gr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,gr(t));break;default:gr(t)}e=e.sibling}}function bp(e,t){for(;$e!==null;){var a=$e;switch(a.tag){case 0:case 11:case 15:La(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Li(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,$e=n;else e:for(a=e;$e!==null;){n=$e;var l=n.sibling,u=n.return;if(op(n),n===a){$e=null;break e}if(l!==null){l.return=u,$e=l;break e}$e=u}}}var u1={getCacheForType:function(e){var t=at(Je),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return at(Je).controller.signal}},c1=typeof WeakMap=="function"?WeakMap:Map,qe=0,Le=null,ve=null,ye=0,De=0,Ct=null,za=!1,$n=!1,Go=!1,da=0,Ie=0,Oa=0,yn=0,Po=0,qt=0,Wn=0,Xi=null,ft=null,Fo=!1,hr=0,yp=0,vr=1/0,br=null,wa=null,Ke=0,Ua=null,ei=null,ma=0,Jo=0,Qo=null,xp=null,$i=0,Yo=null;function jt(){return(qe&2)!==0&&ye!==0?ye&-ye:R.T!==null?eu():wc()}function Sp(){if(qt===0)if((ye&536870912)===0||Se){var e=js;js<<=1,(js&3932160)===0&&(js=262144),qt=e}else qt=536870912;return e=_t.current,e!==null&&(e.flags|=32),qt}function gt(e,t,a){(e===Le&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(ti(e,0),Ha(e,ye,qt,!1)),yi(e,a),((qe&2)===0||e!==Le)&&(e===Le&&((qe&2)===0&&(yn|=a),Ie===4&&Ha(e,ye,qt,!1)),Jt(e))}function _p(e,t,a){if((qe&6)!==0)throw Error(o(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||bi(e,t),l=n?p1(e,t):Ko(e,t,!0),u=n;do{if(l===0){$n&&!n&&Ha(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!d1(a)){l=Ko(e,t,!1),u=!1;continue}if(l===2){if(u=t,e.errorRecoveryDisabledLanes&u)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var y=e;l=Xi;var S=y.current.memoizedState.isDehydrated;if(S&&(ti(y,p).flags|=256),p=Ko(y,p,!1),p!==2){if(Go&&!S){y.errorRecoveryDisabledLanes|=u,yn|=u,l=4;break e}u=ft,ft=l,u!==null&&(ft===null?ft=u:ft.push.apply(ft,u))}l=p}if(u=!1,l!==2)continue}}if(l===1){ti(e,0),Ha(e,t,0,!0);break}e:{switch(n=e,u=l,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Ha(n,t,qt,!za);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(l=hr+300-vt(),10<l)){if(Ha(n,t,qt,!za),Ns(n,0,!0)!==0)break e;ma=t,n.timeoutHandle=Wp(Ap.bind(null,n,a,ft,br,Fo,t,qt,yn,Wn,za,u,"Throttled",-0,0),l);break e}Ap(n,a,ft,br,Fo,t,qt,yn,Wn,za,u,null,-0,0)}}break}while(!0);Jt(e)}function Ap(e,t,a,n,l,u,p,y,S,T,O,V,M,L){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xt},gp(t,u,V);var X=(u&62914560)===u?hr-vt():(u&4194048)===u?yp-vt():0;if(X=Z1(V,X),X!==null){ma=u,e.cancelPendingCommit=X(Mp.bind(null,e,t,u,a,n,l,p,y,S,O,V,null,M,L)),Ha(e,u,p,!T);return}}Mp(e,t,u,a,n,l,p,y,S)}function d1(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],u=l.getSnapshot;l=l.value;try{if(!xt(u(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ha(e,t,a,n){t&=~Po,t&=~yn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var l=t;0<l;){var u=31-yt(l),p=1<<u;n[u]=-1,l&=~p}a!==0&&Lc(e,a,t)}function yr(){return(qe&6)===0?(Wi(0),!1):!0}function Zo(){if(ve!==null){if(De===0)var e=ve.return;else e=ve,ta=cn=null,co(e),Fn=null,Oi=0,e=ve;for(;e!==null;)ep(e.alternate,e),e=e.return;ve=null}}function ti(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,M1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ma=0,Zo(),Le=e,ve=a=Wt(e.current,null),ye=t,De=0,Ct=null,za=!1,$n=bi(e,t),Go=!1,Wn=qt=Po=yn=Oa=Ie=0,ft=Xi=null,Fo=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var l=31-yt(n),u=1<<l;t|=e[l],n&=~u}return da=t,Vs(),a}function Cp(e,t){de=null,R.H=Gi,t===Pn||t===Ys?(t=Vd(),De=3):t===$l?(t=Vd(),De=4):De=t===Do?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ct=t,ve===null&&(Ie=1,or(e,Mt(t,e.current)))}function qp(){var e=_t.current;return e===null?!0:(ye&4194048)===ye?Ot===null:(ye&62914560)===ye||(ye&536870912)!==0?e===Ot:!1}function jp(){var e=R.H;return R.H=Gi,e===null?Gi:e}function Dp(){var e=R.A;return R.A=u1,e}function xr(){Ie=4,za||(ye&4194048)!==ye&&_t.current!==null||($n=!0),(Oa&134217727)===0&&(yn&134217727)===0||Le===null||Ha(Le,ye,qt,!1)}function Ko(e,t,a){var n=qe;qe|=2;var l=jp(),u=Dp();(Le!==e||ye!==t)&&(br=null,ti(e,t)),t=!1;var p=Ie;e:do try{if(De!==0&&ve!==null){var y=ve,S=Ct;switch(De){case 8:Zo(),p=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(t=!0);var T=De;if(De=0,Ct=null,ai(e,y,S,T),a&&$n){p=0;break e}break;default:T=De,De=0,Ct=null,ai(e,y,S,T)}}m1(),p=Ie;break}catch(O){Cp(e,O)}while(!0);return t&&e.shellSuspendCounter++,ta=cn=null,qe=n,R.H=l,R.A=u,ve===null&&(Le=null,ye=0,Vs()),p}function m1(){for(;ve!==null;)Np(ve)}function p1(e,t){var a=qe;qe|=2;var n=jp(),l=Dp();Le!==e||ye!==t?(br=null,vr=vt()+500,ti(e,t)):$n=bi(e,t);e:do try{if(De!==0&&ve!==null){t=ve;var u=Ct;t:switch(De){case 1:De=0,Ct=null,ai(e,t,u,1);break;case 2:case 9:if(Hd(u)){De=0,Ct=null,Tp(t);break}t=function(){De!==2&&De!==9||Le!==e||(De=7),Jt(e)},u.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Hd(u)?(De=0,Ct=null,Tp(t)):(De=0,Ct=null,ai(e,t,u,7));break;case 5:var p=null;switch(ve.tag){case 26:p=ve.memoizedState;case 5:case 27:var y=ve;if(p?gf(p):y.stateNode.complete){De=0,Ct=null;var S=y.sibling;if(S!==null)ve=S;else{var T=y.return;T!==null?(ve=T,Sr(T)):ve=null}break t}}De=0,Ct=null,ai(e,t,u,5);break;case 6:De=0,Ct=null,ai(e,t,u,6);break;case 8:Zo(),Ie=6;break e;default:throw Error(o(462))}}f1();break}catch(O){Cp(e,O)}while(!0);return ta=cn=null,R.H=n,R.A=l,qe=a,ve!==null?0:(Le=null,ye=0,Vs(),Ie)}function f1(){for(;ve!==null&&!Uh();)Np(ve)}function Np(e){var t=$m(e.alternate,e,da);e.memoizedProps=e.pendingProps,t===null?Sr(e):ve=t}function Tp(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Jm(a,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=Jm(a,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:co(t);default:ep(a,t),t=ve=Dd(t,da),t=$m(a,t,da)}e.memoizedProps=e.pendingProps,t===null?Sr(e):ve=t}function ai(e,t,a,n){ta=cn=null,co(t),Fn=null,Oi=0;var l=t.return;try{if(a1(e,l,t,a,ye)){Ie=1,or(e,Mt(a,e.current)),ve=null;return}}catch(u){if(l!==null)throw ve=l,u;Ie=1,or(e,Mt(a,e.current)),ve=null;return}t.flags&32768?(Se||n===1?e=!0:$n||(ye&536870912)!==0?e=!1:(za=e=!0,(n===2||n===9||n===3||n===6)&&(n=_t.current,n!==null&&n.tag===13&&(n.flags|=16384))),Ep(t,e)):Sr(t)}function Sr(e){var t=e;do{if((t.flags&32768)!==0){Ep(t,za);return}e=t.return;var a=s1(t.alternate,t,da);if(a!==null){ve=a;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Ie===0&&(Ie=5)}function Ep(e,t){do{var a=r1(e.alternate,e);if(a!==null){a.flags&=32767,ve=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=a}while(e!==null);Ie=6,ve=null}function Mp(e,t,a,n,l,u,p,y,S){e.cancelPendingCommit=null;do _r();while(Ke!==0);if((qe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=Ul,Qh(e,a,u,p,y,S),e===Le&&(ve=Le=null,ye=0),ei=t,Ua=e,ma=a,Jo=u,Qo=l,xp=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,b1(Cs,function(){return wp(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=R.T,R.T=null,l=P.p,P.p=2,p=qe,qe|=4;try{l1(e,t,a)}finally{qe=p,P.p=l,R.T=n}}Ke=1,Rp(),Lp(),zp()}}function Rp(){if(Ke===1){Ke=0;var e=Ua,t=ei,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var n=P.p;P.p=2;var l=qe;qe|=4;try{mp(t,e);var u=ou,p=bd(e.containerInfo),y=u.focusedElem,S=u.selectionRange;if(p!==y&&y&&y.ownerDocument&&vd(y.ownerDocument.documentElement,y)){if(S!==null&&Rl(y)){var T=S.start,O=S.end;if(O===void 0&&(O=T),"selectionStart"in y)y.selectionStart=T,y.selectionEnd=Math.min(O,y.value.length);else{var V=y.ownerDocument||document,M=V&&V.defaultView||window;if(M.getSelection){var L=M.getSelection(),X=y.textContent.length,ie=Math.min(S.start,X),Me=S.end===void 0?ie:Math.min(S.end,X);!L.extend&&ie>Me&&(p=Me,Me=ie,ie=p);var j=hd(y,ie),A=hd(y,Me);if(j&&A&&(L.rangeCount!==1||L.anchorNode!==j.node||L.anchorOffset!==j.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var N=V.createRange();N.setStart(j.node,j.offset),L.removeAllRanges(),ie>Me?(L.addRange(N),L.extend(A.node,A.offset)):(N.setEnd(A.node,A.offset),L.addRange(N))}}}}for(V=[],L=y;L=L.parentNode;)L.nodeType===1&&V.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<V.length;y++){var H=V[y];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}zr=!!lu,ou=lu=null}finally{qe=l,P.p=n,R.T=a}}e.current=t,Ke=2}}function Lp(){if(Ke===2){Ke=0;var e=Ua,t=ei,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var n=P.p;P.p=2;var l=qe;qe|=4;try{lp(e,t.alternate,t)}finally{qe=l,P.p=n,R.T=a}}Ke=3}}function zp(){if(Ke===4||Ke===3){Ke=0,Hh();var e=Ua,t=ei,a=ma,n=xp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ke=5:(Ke=0,ei=Ua=null,Op(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(wa=null),pl(a),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(vi,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=R.T,l=P.p,P.p=2,R.T=null;try{for(var u=e.onRecoverableError,p=0;p<n.length;p++){var y=n[p];u(y.value,{componentStack:y.stack})}}finally{R.T=t,P.p=l}}(ma&3)!==0&&_r(),Jt(e),l=e.pendingLanes,(a&261930)!==0&&(l&42)!==0?e===Yo?$i++:($i=0,Yo=e):$i=0,Wi(0)}}function Op(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Li(t)))}function _r(){return Rp(),Lp(),zp(),wp()}function wp(){if(Ke!==5)return!1;var e=Ua,t=Jo;Jo=0;var a=pl(ma),n=R.T,l=P.p;try{P.p=32>a?32:a,R.T=null,a=Qo,Qo=null;var u=Ua,p=ma;if(Ke=0,ei=Ua=null,ma=0,(qe&6)!==0)throw Error(o(331));var y=qe;if(qe|=4,vp(u.current),fp(u,u.current,p,a),qe=y,Wi(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(vi,u)}catch{}return!0}finally{P.p=l,R.T=n,Op(e,t)}}function Up(e,t,a){t=Mt(a,t),t=jo(e.stateNode,t,2),e=Ea(e,t,2),e!==null&&(yi(e,2),Jt(e))}function Ne(e,t,a){if(e.tag===3)Up(e,e,a);else for(;t!==null;){if(t.tag===3){Up(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wa===null||!wa.has(n))){e=Mt(a,e),a=Hm(2),n=Ea(t,a,2),n!==null&&(Bm(a,n,t,e),yi(n,2),Jt(n));break}}t=t.return}}function Xo(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new c1;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(a)||(Go=!0,l.add(a),e=g1.bind(null,e,t,a),t.then(e,e))}function g1(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Le===e&&(ye&a)===a&&(Ie===4||Ie===3&&(ye&62914560)===ye&&300>vt()-hr?(qe&2)===0&&ti(e,0):Po|=a,Wn===ye&&(Wn=0)),Jt(e)}function Hp(e,t){t===0&&(t=Rc()),e=ln(e,t),e!==null&&(yi(e,t),Jt(e))}function h1(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Hp(e,a)}function v1(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(o(314))}n!==null&&n.delete(t),Hp(e,a)}function b1(e,t){return ul(e,t)}var Ar=null,ni=null,$o=!1,Cr=!1,Wo=!1,Ba=0;function Jt(e){e!==ni&&e.next===null&&(ni===null?Ar=ni=e:ni=ni.next=e),Cr=!0,$o||($o=!0,x1())}function Wi(e,t){if(!Wo&&Cr){Wo=!0;do for(var a=!1,n=Ar;n!==null;){if(e!==0){var l=n.pendingLanes;if(l===0)var u=0;else{var p=n.suspendedLanes,y=n.pingedLanes;u=(1<<31-yt(42|e)+1)-1,u&=l&~(p&~y),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Ip(n,u))}else u=ye,u=Ns(n,n===Le?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(u&3)===0||bi(n,u)||(a=!0,Ip(n,u));n=n.next}while(a);Wo=!1}}function y1(){Bp()}function Bp(){Cr=$o=!1;var e=0;Ba!==0&&E1()&&(e=Ba);for(var t=vt(),a=null,n=Ar;n!==null;){var l=n.next,u=Vp(n,t);u===0?(n.next=null,a===null?Ar=l:a.next=l,l===null&&(ni=a)):(a=n,(e!==0||(u&3)!==0)&&(Cr=!0)),n=l}Ke!==0&&Ke!==5||Wi(e),Ba!==0&&(Ba=0)}function Vp(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var p=31-yt(u),y=1<<p,S=l[p];S===-1?((y&a)===0||(y&n)!==0)&&(l[p]=Jh(y,t)):S<=t&&(e.expiredLanes|=y),u&=~y}if(t=Le,a=ye,a=Ns(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&cl(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||bi(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&cl(n),pl(a)){case 2:case 8:a=Ec;break;case 32:a=Cs;break;case 268435456:a=Mc;break;default:a=Cs}return n=kp.bind(null,e),a=ul(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&cl(n),e.callbackPriority=2,e.callbackNode=null,2}function kp(e,t){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(_r()&&e.callbackNode!==a)return null;var n=ye;return n=Ns(e,e===Le?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(_p(e,n,t),Vp(e,vt()),e.callbackNode!=null&&e.callbackNode===a?kp.bind(null,e):null)}function Ip(e,t){if(_r())return null;_p(e,t,!0)}function x1(){R1(function(){(qe&6)!==0?ul(Tc,y1):Bp()})}function eu(){if(Ba===0){var e=In;e===0&&(e=qs,qs<<=1,(qs&261888)===0&&(qs=256)),Ba=e}return Ba}function Gp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rs(""+e)}function Pp(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function S1(e,t,a,n,l){if(t==="submit"&&a&&a.stateNode===l){var u=Gp((l[ut]||null).action),p=n.submitter;p&&(t=(t=p[ut]||null)?Gp(t.formAction):p.getAttribute("formAction"),t!==null&&(u=t,p=null));var y=new ws("action","action",null,n,l);e.push({event:y,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ba!==0){var S=p?Pp(l,p):new FormData(l);xo(a,{pending:!0,data:S,method:l.method,action:u},null,S)}}else typeof u=="function"&&(y.preventDefault(),S=p?Pp(l,p):new FormData(l),xo(a,{pending:!0,data:S,method:l.method,action:u},u,S))},currentTarget:l}]})}}for(var tu=0;tu<wl.length;tu++){var au=wl[tu],_1=au.toLowerCase(),A1=au[0].toUpperCase()+au.slice(1);Vt(_1,"on"+A1)}Vt(Sd,"onAnimationEnd"),Vt(_d,"onAnimationIteration"),Vt(Ad,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(Bv,"onTransitionRun"),Vt(Vv,"onTransitionStart"),Vt(kv,"onTransitionCancel"),Vt(Cd,"onTransitionEnd"),Nn("onMouseEnter",["mouseout","mouseover"]),Nn("onMouseLeave",["mouseout","mouseover"]),Nn("onPointerEnter",["pointerout","pointerover"]),Nn("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(es));function Fp(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],l=n.event;n=n.listeners;e:{var u=void 0;if(t)for(var p=n.length-1;0<=p;p--){var y=n[p],S=y.instance,T=y.currentTarget;if(y=y.listener,S!==u&&l.isPropagationStopped())break e;u=y,l.currentTarget=T;try{u(l)}catch(O){Bs(O)}l.currentTarget=null,u=S}else for(p=0;p<n.length;p++){if(y=n[p],S=y.instance,T=y.currentTarget,y=y.listener,S!==u&&l.isPropagationStopped())break e;u=y,l.currentTarget=T;try{u(l)}catch(O){Bs(O)}l.currentTarget=null,u=S}}}}function be(e,t){var a=t[fl];a===void 0&&(a=t[fl]=new Set);var n=e+"__bubble";a.has(n)||(Jp(t,e,2,!1),a.add(n))}function nu(e,t,a){var n=0;t&&(n|=4),Jp(a,e,n,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function iu(e){if(!e[qr]){e[qr]=!0,Bc.forEach(function(a){a!=="selectionchange"&&(C1.has(a)||nu(a,!1,e),nu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qr]||(t[qr]=!0,nu("selectionchange",!1,t))}}function Jp(e,t,a,n){switch(_f(t)){case 2:var l=$1;break;case 8:l=W1;break;default:l=yu}a=l.bind(null,t,a,e),l=void 0,!Al||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function su(e,t,a,n,l){var u=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var p=n.tag;if(p===3||p===4){var y=n.stateNode.containerInfo;if(y===l)break;if(p===4)for(p=n.return;p!==null;){var S=p.tag;if((S===3||S===4)&&p.stateNode.containerInfo===l)return;p=p.return}for(;y!==null;){if(p=qn(y),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){n=u=p;continue e}y=y.parentNode}}n=n.return}Xc(function(){var T=u,O=Sl(a),V=[];e:{var M=qd.get(e);if(M!==void 0){var L=ws,X=e;switch(e){case"keypress":if(zs(a)===0)break e;case"keydown":case"keyup":L=vv;break;case"focusin":X="focus",L=Dl;break;case"focusout":X="blur",L=Dl;break;case"beforeblur":case"afterblur":L=Dl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=sv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=xv;break;case Sd:case _d:case Ad:L=ov;break;case Cd:L=_v;break;case"scroll":case"scrollend":L=nv;break;case"wheel":L=Cv;break;case"copy":case"cut":case"paste":L=cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=ad;break;case"toggle":case"beforetoggle":L=jv}var ie=(t&4)!==0,Me=!ie&&(e==="scroll"||e==="scrollend"),j=ie?M!==null?M+"Capture":null:M;ie=[];for(var A=T,N;A!==null;){var H=A;if(N=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||N===null||j===null||(H=_i(A,j),H!=null&&ie.push(ts(A,H,N))),Me)break;A=A.return}0<ie.length&&(M=new L(M,X,null,a,O),V.push({event:M,listeners:ie}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",M&&a!==xl&&(X=a.relatedTarget||a.fromElement)&&(qn(X)||X[Cn]))break e;if((L||M)&&(M=O.window===O?O:(M=O.ownerDocument)?M.defaultView||M.parentWindow:window,L?(X=a.relatedTarget||a.toElement,L=T,X=X?qn(X):null,X!==null&&(Me=d(X),ie=X.tag,X!==Me||ie!==5&&ie!==27&&ie!==6)&&(X=null)):(L=null,X=T),L!==X)){if(ie=ed,H="onMouseLeave",j="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ie=ad,H="onPointerLeave",j="onPointerEnter",A="pointer"),Me=L==null?M:Si(L),N=X==null?M:Si(X),M=new ie(H,A+"leave",L,a,O),M.target=Me,M.relatedTarget=N,H=null,qn(O)===T&&(ie=new ie(j,A+"enter",X,a,O),ie.target=N,ie.relatedTarget=Me,H=ie),Me=H,L&&X)t:{for(ie=q1,j=L,A=X,N=0,H=j;H;H=ie(H))N++;H=0;for(var ne=A;ne;ne=ie(ne))H++;for(;0<N-H;)j=ie(j),N--;for(;0<H-N;)A=ie(A),H--;for(;N--;){if(j===A||A!==null&&j===A.alternate){ie=j;break t}j=ie(j),A=ie(A)}ie=null}else ie=null;L!==null&&Qp(V,M,L,ie,!1),X!==null&&Me!==null&&Qp(V,Me,X,ie,!0)}}e:{if(M=T?Si(T):window,L=M.nodeName&&M.nodeName.toLowerCase(),L==="select"||L==="input"&&M.type==="file")var Ae=cd;else if(od(M))if(dd)Ae=wv;else{Ae=zv;var W=Lv}else L=M.nodeName,!L||L.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?T&&yl(T.elementType)&&(Ae=cd):Ae=Ov;if(Ae&&(Ae=Ae(e,T))){ud(V,Ae,a,O);break e}W&&W(e,M,T),e==="focusout"&&T&&M.type==="number"&&T.memoizedProps.value!=null&&bl(M,"number",M.value)}switch(W=T?Si(T):window,e){case"focusin":(od(W)||W.contentEditable==="true")&&(zn=W,Ll=T,Ei=null);break;case"focusout":Ei=Ll=zn=null;break;case"mousedown":zl=!0;break;case"contextmenu":case"mouseup":case"dragend":zl=!1,yd(V,a,O);break;case"selectionchange":if(Hv)break;case"keydown":case"keyup":yd(V,a,O)}var pe;if(Tl)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ln?rd(e,a)&&(xe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(nd&&a.locale!=="ko"&&(Ln||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ln&&(pe=$c()):(Aa=O,Cl="value"in Aa?Aa.value:Aa.textContent,Ln=!0)),W=jr(T,xe),0<W.length&&(xe=new td(xe,e,null,a,O),V.push({event:xe,listeners:W}),pe?xe.data=pe:(pe=ld(a),pe!==null&&(xe.data=pe)))),(pe=Nv?Tv(e,a):Ev(e,a))&&(xe=jr(T,"onBeforeInput"),0<xe.length&&(W=new td("onBeforeInput","beforeinput",null,a,O),V.push({event:W,listeners:xe}),W.data=pe)),S1(V,e,T,a,O)}Fp(V,t)})}function ts(e,t,a){return{instance:e,listener:t,currentTarget:a}}function jr(e,t){for(var a=t+"Capture",n=[];e!==null;){var l=e,u=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||u===null||(l=_i(e,a),l!=null&&n.unshift(ts(e,l,u)),l=_i(e,t),l!=null&&n.push(ts(e,l,u))),e.tag===3)return n;e=e.return}return[]}function q1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qp(e,t,a,n,l){for(var u=t._reactName,p=[];a!==null&&a!==n;){var y=a,S=y.alternate,T=y.stateNode;if(y=y.tag,S!==null&&S===n)break;y!==5&&y!==26&&y!==27||T===null||(S=T,l?(T=_i(a,u),T!=null&&p.unshift(ts(a,T,S))):l||(T=_i(a,u),T!=null&&p.push(ts(a,T,S)))),a=a.return}p.length!==0&&e.push({event:t,listeners:p})}var j1=/\r\n?/g,D1=/\u0000|\uFFFD/g;function Yp(e){return(typeof e=="string"?e:""+e).replace(j1,`
`).replace(D1,"")}function Zp(e,t){return t=Yp(t),Yp(e)===t}function Ee(e,t,a,n,l,u){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||En(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&En(e,""+n);break;case"className":Es(e,"class",n);break;case"tabIndex":Es(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Es(e,a,n);break;case"style":Zc(e,n,u);break;case"data":if(t!=="object"){Es(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Rs(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Ee(e,t,"name",l.name,l,null),Ee(e,t,"formEncType",l.formEncType,l,null),Ee(e,t,"formMethod",l.formMethod,l,null),Ee(e,t,"formTarget",l.formTarget,l,null)):(Ee(e,t,"encType",l.encType,l,null),Ee(e,t,"method",l.method,l,null),Ee(e,t,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Rs(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Xt);break;case"onScroll":n!=null&&be("scroll",e);break;case"onScrollEnd":n!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(o(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Rs(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":be("beforetoggle",e),be("toggle",e),Ts(e,"popover",n);break;case"xlinkActuate":Kt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Kt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Kt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Kt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Kt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Kt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Kt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Kt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Kt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ts(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=tv.get(a)||a,Ts(e,a,n))}}function ru(e,t,a,n,l,u){switch(a){case"style":Zc(e,n,u);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(o(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof n=="string"?En(e,n):(typeof n=="number"||typeof n=="bigint")&&En(e,""+n);break;case"onScroll":n!=null&&be("scroll",e);break;case"onScrollEnd":n!=null&&be("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Xt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),u=e[ut]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,l),typeof n=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,l);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Ts(e,a,n)}}}function it(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var n=!1,l=!1,u;for(u in a)if(a.hasOwnProperty(u)){var p=a[u];if(p!=null)switch(u){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ee(e,t,u,p,a,null)}}l&&Ee(e,t,"srcSet",a.srcSet,a,null),n&&Ee(e,t,"src",a.src,a,null);return;case"input":be("invalid",e);var y=u=p=l=null,S=null,T=null;for(n in a)if(a.hasOwnProperty(n)){var O=a[n];if(O!=null)switch(n){case"name":l=O;break;case"type":p=O;break;case"checked":S=O;break;case"defaultChecked":T=O;break;case"value":u=O;break;case"defaultValue":y=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(o(137,t));break;default:Ee(e,t,n,O,a,null)}}Fc(e,u,y,S,T,p,l,!1);return;case"select":be("invalid",e),n=p=u=null;for(l in a)if(a.hasOwnProperty(l)&&(y=a[l],y!=null))switch(l){case"value":u=y;break;case"defaultValue":p=y;break;case"multiple":n=y;default:Ee(e,t,l,y,a,null)}t=u,a=p,e.multiple=!!n,t!=null?Tn(e,!!n,t,!1):a!=null&&Tn(e,!!n,a,!0);return;case"textarea":be("invalid",e),u=l=n=null;for(p in a)if(a.hasOwnProperty(p)&&(y=a[p],y!=null))switch(p){case"value":n=y;break;case"defaultValue":l=y;break;case"children":u=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(o(91));break;default:Ee(e,t,p,y,a,null)}Qc(e,n,l,u);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(n=a[S],n!=null))switch(S){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ee(e,t,S,n,a,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(n=0;n<es.length;n++)be(es[n],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(T in a)if(a.hasOwnProperty(T)&&(n=a[T],n!=null))switch(T){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ee(e,t,T,n,a,null)}return;default:if(yl(t)){for(O in a)a.hasOwnProperty(O)&&(n=a[O],n!==void 0&&ru(e,t,O,n,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(n=a[y],n!=null&&Ee(e,t,y,n,a,null))}function N1(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,u=null,p=null,y=null,S=null,T=null,O=null;for(L in a){var V=a[L];if(a.hasOwnProperty(L)&&V!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":S=V;default:n.hasOwnProperty(L)||Ee(e,t,L,null,n,V)}}for(var M in n){var L=n[M];if(V=a[M],n.hasOwnProperty(M)&&(L!=null||V!=null))switch(M){case"type":u=L;break;case"name":l=L;break;case"checked":T=L;break;case"defaultChecked":O=L;break;case"value":p=L;break;case"defaultValue":y=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(137,t));break;default:L!==V&&Ee(e,t,M,L,n,V)}}vl(e,p,y,S,T,O,u,l);return;case"select":L=p=y=M=null;for(u in a)if(S=a[u],a.hasOwnProperty(u)&&S!=null)switch(u){case"value":break;case"multiple":L=S;default:n.hasOwnProperty(u)||Ee(e,t,u,null,n,S)}for(l in n)if(u=n[l],S=a[l],n.hasOwnProperty(l)&&(u!=null||S!=null))switch(l){case"value":M=u;break;case"defaultValue":y=u;break;case"multiple":p=u;default:u!==S&&Ee(e,t,l,u,n,S)}t=y,a=p,n=L,M!=null?Tn(e,!!a,M,!1):!!n!=!!a&&(t!=null?Tn(e,!!a,t,!0):Tn(e,!!a,a?[]:"",!1));return;case"textarea":L=M=null;for(y in a)if(l=a[y],a.hasOwnProperty(y)&&l!=null&&!n.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ee(e,t,y,null,n,l)}for(p in n)if(l=n[p],u=a[p],n.hasOwnProperty(p)&&(l!=null||u!=null))switch(p){case"value":M=l;break;case"defaultValue":L=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(o(91));break;default:l!==u&&Ee(e,t,p,l,n,u)}Jc(e,M,L);return;case"option":for(var X in a)if(M=a[X],a.hasOwnProperty(X)&&M!=null&&!n.hasOwnProperty(X))switch(X){case"selected":e.selected=!1;break;default:Ee(e,t,X,null,n,M)}for(S in n)if(M=n[S],L=a[S],n.hasOwnProperty(S)&&M!==L&&(M!=null||L!=null))switch(S){case"selected":e.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Ee(e,t,S,M,n,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)M=a[ie],a.hasOwnProperty(ie)&&M!=null&&!n.hasOwnProperty(ie)&&Ee(e,t,ie,null,n,M);for(T in n)if(M=n[T],L=a[T],n.hasOwnProperty(T)&&M!==L&&(M!=null||L!=null))switch(T){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(137,t));break;default:Ee(e,t,T,M,n,L)}return;default:if(yl(t)){for(var Me in a)M=a[Me],a.hasOwnProperty(Me)&&M!==void 0&&!n.hasOwnProperty(Me)&&ru(e,t,Me,void 0,n,M);for(O in n)M=n[O],L=a[O],!n.hasOwnProperty(O)||M===L||M===void 0&&L===void 0||ru(e,t,O,M,n,L);return}}for(var j in a)M=a[j],a.hasOwnProperty(j)&&M!=null&&!n.hasOwnProperty(j)&&Ee(e,t,j,null,n,M);for(V in n)M=n[V],L=a[V],!n.hasOwnProperty(V)||M===L||M==null&&L==null||Ee(e,t,V,M,n,L)}function Kp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var l=a[n],u=l.transferSize,p=l.initiatorType,y=l.duration;if(u&&y&&Kp(p)){for(p=0,y=l.responseEnd,n+=1;n<a.length;n++){var S=a[n],T=S.startTime;if(T>y)break;var O=S.transferSize,V=S.initiatorType;O&&Kp(V)&&(S=S.responseEnd,p+=O*(S<y?1:(y-T)/(S-T)))}if(--n,t+=8*(u+p)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lu=null,ou=null;function Dr(e){return e.nodeType===9?e:e.ownerDocument}function Xp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $p(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cu=null;function E1(){var e=window.event;return e&&e.type==="popstate"?e===cu?!1:(cu=e,!0):(cu=null,!1)}var Wp=typeof setTimeout=="function"?setTimeout:void 0,M1=typeof clearTimeout=="function"?clearTimeout:void 0,ef=typeof Promise=="function"?Promise:void 0,R1=typeof queueMicrotask=="function"?queueMicrotask:typeof ef<"u"?function(e){return ef.resolve(null).then(e).catch(L1)}:Wp;function L1(e){setTimeout(function(){throw e})}function Va(e){return e==="head"}function tf(e,t){var a=t,n=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(l),li(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")as(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,as(a);for(var u=a.firstChild;u;){var p=u.nextSibling,y=u.nodeName;u[xi]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=p}}else a==="body"&&as(e.ownerDocument.body);a=l}while(a);li(t)}function af(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function du(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":du(a),gl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function z1(e,t,a,n){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[xi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=wt(e.nextSibling),e===null)break}return null}function O1(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=wt(e.nextSibling),e===null))return null;return e}function nf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=wt(e.nextSibling),e===null))return null;return e}function mu(e){return e.data==="$?"||e.data==="$~"}function pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function w1(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var fu=null;function sf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return wt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function rf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function lf(e,t,a){switch(t=Dr(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function as(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);gl(e)}var Ut=new Map,of=new Set;function Nr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pa=P.d;P.d={f:U1,r:H1,D:B1,C:V1,L:k1,m:I1,X:P1,S:G1,M:F1};function U1(){var e=pa.f(),t=yr();return e||t}function H1(e){var t=jn(e);t!==null&&t.tag===5&&t.type==="form"?Cm(t):pa.r(e)}var ii=typeof document>"u"?null:document;function uf(e,t,a){var n=ii;if(n&&typeof t=="string"&&t){var l=Tt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),of.has(l)||(of.add(l),e={rel:e,crossOrigin:a,href:t},n.querySelector(l)===null&&(t=n.createElement("link"),it(t,"link",e),Xe(t),n.head.appendChild(t)))}}function B1(e){pa.D(e),uf("dns-prefetch",e,null)}function V1(e,t){pa.C(e,t),uf("preconnect",e,t)}function k1(e,t,a){pa.L(e,t,a);var n=ii;if(n&&e&&t){var l='link[rel="preload"][as="'+Tt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+Tt(a.imageSizes)+'"]')):l+='[href="'+Tt(e)+'"]';var u=l;switch(t){case"style":u=si(e);break;case"script":u=ri(e)}Ut.has(u)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ut.set(u,e),n.querySelector(l)!==null||t==="style"&&n.querySelector(ns(u))||t==="script"&&n.querySelector(is(u))||(t=n.createElement("link"),it(t,"link",e),Xe(t),n.head.appendChild(t)))}}function I1(e,t){pa.m(e,t);var a=ii;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Tt(n)+'"][href="'+Tt(e)+'"]',u=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ri(e)}if(!Ut.has(u)&&(e=b({rel:"modulepreload",href:e},t),Ut.set(u,e),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(is(u)))return}n=a.createElement("link"),it(n,"link",e),Xe(n),a.head.appendChild(n)}}}function G1(e,t,a){pa.S(e,t,a);var n=ii;if(n&&e){var l=Dn(n).hoistableStyles,u=si(e);t=t||"default";var p=l.get(u);if(!p){var y={loading:0,preload:null};if(p=n.querySelector(ns(u)))y.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ut.get(u))&&gu(e,a);var S=p=n.createElement("link");Xe(S),it(S,"link",e),S._p=new Promise(function(T,O){S.onload=T,S.onerror=O}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Tr(p,t,n)}p={type:"stylesheet",instance:p,count:1,state:y},l.set(u,p)}}}function P1(e,t){pa.X(e,t);var a=ii;if(a&&e){var n=Dn(a).hoistableScripts,l=ri(e),u=n.get(l);u||(u=a.querySelector(is(l)),u||(e=b({src:e,async:!0},t),(t=Ut.get(l))&&hu(e,t),u=a.createElement("script"),Xe(u),it(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(l,u))}}function F1(e,t){pa.M(e,t);var a=ii;if(a&&e){var n=Dn(a).hoistableScripts,l=ri(e),u=n.get(l);u||(u=a.querySelector(is(l)),u||(e=b({src:e,async:!0,type:"module"},t),(t=Ut.get(l))&&hu(e,t),u=a.createElement("script"),Xe(u),it(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(l,u))}}function cf(e,t,a,n){var l=(l=he.current)?Nr(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=si(a.href),a=Dn(l).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=si(a.href);var u=Dn(l).hoistableStyles,p=u.get(e);if(p||(l=l.ownerDocument||l,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,p),(u=l.querySelector(ns(e)))&&!u._p&&(p.instance=u,p.state.loading=5),Ut.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ut.set(e,a),u||J1(l,e,a,p.state))),t&&n===null)throw Error(o(528,""));return p}if(t&&n!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ri(a),a=Dn(l).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function si(e){return'href="'+Tt(e)+'"'}function ns(e){return'link[rel="stylesheet"]['+e+"]"}function df(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function J1(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),it(t,"link",a),Xe(t),e.head.appendChild(t))}function ri(e){return'[src="'+Tt(e)+'"]'}function is(e){return"script[async]"+e}function mf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(n)return t.instance=n,Xe(n),n;var l=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Xe(n),it(n,"style",l),Tr(n,a.precedence,e),t.instance=n;case"stylesheet":l=si(a.href);var u=e.querySelector(ns(l));if(u)return t.state.loading|=4,t.instance=u,Xe(u),u;n=df(a),(l=Ut.get(l))&&gu(n,l),u=(e.ownerDocument||e).createElement("link"),Xe(u);var p=u;return p._p=new Promise(function(y,S){p.onload=y,p.onerror=S}),it(u,"link",n),t.state.loading|=4,Tr(u,a.precedence,e),t.instance=u;case"script":return u=ri(a.src),(l=e.querySelector(is(u)))?(t.instance=l,Xe(l),l):(n=a,(l=Ut.get(u))&&(n=b({},a),hu(n,l)),e=e.ownerDocument||e,l=e.createElement("script"),Xe(l),it(l,"link",n),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Tr(n,a.precedence,e));return t.instance}function Tr(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,u=l,p=0;p<n.length;p++){var y=n[p];if(y.dataset.precedence===t)u=y;else if(u!==l)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function gu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function hu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Er=null;function pf(e,t,a){if(Er===null){var n=new Map,l=Er=new Map;l.set(a,n)}else l=Er,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var u=a[l];if(!(u[xi]||u[et]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var p=u.getAttribute(t)||"";p=e+p;var y=n.get(p);y?y.push(u):n.set(p,[u])}}return n}function ff(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Q1(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Y1(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var l=si(n.href),u=t.querySelector(ns(l));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Mr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,Xe(u);return}u=t.ownerDocument||t,n=df(n),(l=Ut.get(l))&&gu(n,l),u=u.createElement("link"),Xe(u);var p=u;p._p=new Promise(function(y,S){p.onload=y,p.onerror=S}),it(u,"link",n),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Mr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var vu=0;function Z1(e,t){return e.stylesheets&&e.count===0&&Lr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Lr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&vu===0&&(vu=62500*T1());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Lr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>vu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(l)}}:null}function Mr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rr=null;function Lr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rr=new Map,t.forEach(K1,e),Rr=null,Mr.call(e))}function K1(e,t){if(!(t.state.loading&4)){var a=Rr.get(e);if(a)var n=a.get(null);else{a=new Map,Rr.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<l.length;u++){var p=l[u];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),n=p)}n&&a.set(null,n)}l=t.instance,p=l.getAttribute("data-precedence"),u=a.get(p)||n,u===n&&a.set(null,l),a.set(p,l),this.count++,n=Mr.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),u?u.parentNode.insertBefore(l,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var ss={$$typeof:F,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function X1(e,t,a,n,l,u,p,y,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dl(0),this.hiddenUpdates=dl(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=u,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function hf(e,t,a,n,l,u,p,y,S,T,O,V){return e=new X1(e,t,a,p,S,T,O,V,y),t=1,u===!0&&(t|=24),u=St(3,null,null,t),e.current=u,u.stateNode=e,t=Zl(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:n,isDehydrated:a,cache:t},Wl(u),e}function vf(e){return e?(e=Un,e):Un}function bf(e,t,a,n,l,u){l=vf(l),n.context===null?n.context=l:n.pendingContext=l,n=Ta(t),n.payload={element:a},u=u===void 0?null:u,u!==null&&(n.callback=u),a=Ea(e,n,t),a!==null&&(gt(a,e,t),Ui(a,e,t))}function yf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function bu(e,t){yf(e,t),(e=e.alternate)&&yf(e,t)}function xf(e){if(e.tag===13||e.tag===31){var t=ln(e,67108864);t!==null&&gt(t,e,67108864),bu(e,67108864)}}function Sf(e){if(e.tag===13||e.tag===31){var t=jt();t=ml(t);var a=ln(e,t);a!==null&&gt(a,e,t),bu(e,t)}}var zr=!0;function $1(e,t,a,n){var l=R.T;R.T=null;var u=P.p;try{P.p=2,yu(e,t,a,n)}finally{P.p=u,R.T=l}}function W1(e,t,a,n){var l=R.T;R.T=null;var u=P.p;try{P.p=8,yu(e,t,a,n)}finally{P.p=u,R.T=l}}function yu(e,t,a,n){if(zr){var l=xu(n);if(l===null)su(e,t,n,Or,a),Af(e,n);else if(tb(l,e,t,a,n))n.stopPropagation();else if(Af(e,n),t&4&&-1<eb.indexOf(e)){for(;l!==null;){var u=jn(l);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var p=tn(u.pendingLanes);if(p!==0){var y=u;for(y.pendingLanes|=2,y.entangledLanes|=2;p;){var S=1<<31-yt(p);y.entanglements[1]|=S,p&=~S}Jt(u),(qe&6)===0&&(vr=vt()+500,Wi(0))}}break;case 31:case 13:y=ln(u,2),y!==null&&gt(y,u,2),yr(),bu(u,2)}if(u=xu(n),u===null&&su(e,t,n,Or,a),u===l)break;l=u}l!==null&&n.stopPropagation()}else su(e,t,n,null,a)}}function xu(e){return e=Sl(e),Su(e)}var Or=null;function Su(e){if(Or=null,e=qn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Or=e,null}function _f(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bh()){case Tc:return 2;case Ec:return 8;case Cs:case Vh:return 32;case Mc:return 268435456;default:return 32}default:return 32}}var _u=!1,ka=null,Ia=null,Ga=null,rs=new Map,ls=new Map,Pa=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Af(e,t){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ls.delete(t.pointerId)}}function os(e,t,a,n,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:u,targetContainers:[l]},t!==null&&(t=jn(t),t!==null&&xf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function tb(e,t,a,n,l){switch(t){case"focusin":return ka=os(ka,e,t,a,n,l),!0;case"dragenter":return Ia=os(Ia,e,t,a,n,l),!0;case"mouseover":return Ga=os(Ga,e,t,a,n,l),!0;case"pointerover":var u=l.pointerId;return rs.set(u,os(rs.get(u)||null,e,t,a,n,l)),!0;case"gotpointercapture":return u=l.pointerId,ls.set(u,os(ls.get(u)||null,e,t,a,n,l)),!0}return!1}function Cf(e){var t=qn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,Uc(e.priority,function(){Sf(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,Uc(e.priority,function(){Sf(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=xu(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);xl=n,a.target.dispatchEvent(n),xl=null}else return t=jn(a),t!==null&&xf(t),e.blockedOn=a,!1;t.shift()}return!0}function qf(e,t,a){wr(e)&&a.delete(t)}function ab(){_u=!1,ka!==null&&wr(ka)&&(ka=null),Ia!==null&&wr(Ia)&&(Ia=null),Ga!==null&&wr(Ga)&&(Ga=null),rs.forEach(qf),ls.forEach(qf)}function Ur(e,t){e.blockedOn===t&&(e.blockedOn=null,_u||(_u=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ab)))}var Hr=null;function jf(e){Hr!==e&&(Hr=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Hr===e&&(Hr=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],l=e[t+2];if(typeof n!="function"){if(Su(n||a)===null)continue;break}var u=jn(a);u!==null&&(e.splice(t,3),t-=3,xo(u,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function li(e){function t(S){return Ur(S,e)}ka!==null&&Ur(ka,e),Ia!==null&&Ur(Ia,e),Ga!==null&&Ur(Ga,e),rs.forEach(t),ls.forEach(t);for(var a=0;a<Pa.length;a++){var n=Pa[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Pa.length&&(a=Pa[0],a.blockedOn===null);)Cf(a),a.blockedOn===null&&Pa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],u=a[n+1],p=l[ut]||null;if(typeof u=="function")p||jf(a);else if(p){var y=null;if(u&&u.hasAttribute("formAction")){if(l=u,p=u[ut]||null)y=p.formAction;else if(Su(l)!==null)continue}else y=p.action;typeof y=="function"?a[n+1]=y:(a.splice(n,3),n-=3),jf(a)}}}function Df(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(p){return l=p})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function Au(e){this._internalRoot=e}Br.prototype.render=Au.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,n=jt();bf(a,n,e,t,null,null)},Br.prototype.unmount=Au.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bf(e.current,2,null,e,null,null),yr(),t[Cn]=null}};function Br(e){this._internalRoot=e}Br.prototype.unstable_scheduleHydration=function(e){if(e){var t=wc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Pa.length&&t!==0&&t<Pa[a].priority;a++);Pa.splice(a,0,e),a===0&&Cf(e)}};var Nf=s.version;if(Nf!=="19.2.0")throw Error(o(527,Nf,"19.2.0"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=v(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var nb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vr.isDisabled&&Vr.supportsFiber)try{vi=Vr.inject(nb),bt=Vr}catch{}}return cs.createRoot=function(e,t){if(!c(e))throw Error(o(299));var a=!1,n="",l=zm,u=Om,p=wm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=hf(e,1,!1,null,null,a,n,null,l,u,p,Df),e[Cn]=t.current,iu(e),new Au(t)},cs.hydrateRoot=function(e,t,a){if(!c(e))throw Error(o(299));var n=!1,l="",u=zm,p=Om,y=wm,S=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=hf(e,1,!0,t,a??null,n,l,S,u,p,y,Df),t.context=vf(null),a=t.current,n=jt(),n=ml(n),l=Ta(n),l.callback=null,Ea(a,l,n),a=n,t.current.lanes=a,yi(t,a),Jt(t),e[Cn]=t.current,iu(e),new Br(t)},cs.version="19.2.0",cs}var Hf;function pb(){if(Hf)return ju.exports;Hf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),ju.exports=mb(),ju.exports}var fb=pb();const gb=rc(fb);var Bf="popstate";function hb(i={}){function s(c,d){let{pathname:m="/",search:g="",hash:h=""}=An(c.location.hash.substring(1));return!m.startsWith("/")&&!m.startsWith(".")&&(m="/"+m),Gu("",{pathname:m,search:g,hash:h},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function r(c,d){let m=c.document.querySelector("base"),g="";if(m&&m.getAttribute("href")){let h=c.location.href,v=h.indexOf("#");g=v===-1?h:h.slice(0,v)}return g+"#"+(typeof d=="string"?d:vs(d))}function o(c,d){ht(c.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(d)})`)}return bb(s,r,o,i)}function Be(i,s){if(i===!1||i===null||typeof i>"u")throw new Error(s)}function ht(i,s){if(!i){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function vb(){return Math.random().toString(36).substring(2,10)}function Vf(i,s){return{usr:i.state,key:i.key,idx:s}}function Gu(i,s,r=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof s=="string"?An(s):s,state:r,key:s&&s.key||o||vb()}}function vs({pathname:i="/",search:s="",hash:r=""}){return s&&s!=="?"&&(i+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function An(i){let s={};if(i){let r=i.indexOf("#");r>=0&&(s.hash=i.substring(r),i=i.substring(0,r));let o=i.indexOf("?");o>=0&&(s.search=i.substring(o),i=i.substring(0,o)),i&&(s.pathname=i)}return s}function bb(i,s,r,o={}){let{window:c=document.defaultView,v5Compat:d=!1}=o,m=c.history,g="POP",h=null,v=x();v==null&&(v=0,m.replaceState({...m.state,idx:v},""));function x(){return(m.state||{idx:null}).idx}function b(){g="POP";let w=x(),k=w==null?null:w-v;v=w,h&&h({action:g,location:B.location,delta:k})}function C(w,k){g="PUSH";let I=Gu(B.location,w,k);r&&r(I,w),v=x()+1;let F=Vf(I,v),$=B.createHref(I);try{m.pushState(F,"",$)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;c.location.assign($)}d&&h&&h({action:g,location:B.location,delta:1})}function q(w,k){g="REPLACE";let I=Gu(B.location,w,k);r&&r(I,w),v=x();let F=Vf(I,v),$=B.createHref(I);m.replaceState(F,"",$),d&&h&&h({action:g,location:B.location,delta:0})}function E(w){return yb(w)}let B={get action(){return g},get location(){return i(c,m)},listen(w){if(h)throw new Error("A history only accepts one active listener");return c.addEventListener(Bf,b),h=w,()=>{c.removeEventListener(Bf,b),h=null}},createHref(w){return s(c,w)},createURL:E,encodeLocation(w){let k=E(w);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:C,replace:q,go(w){return m.go(w)}};return B}function yb(i,s=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Be(r,"No window.location.(origin|href) available to create URL");let o=typeof i=="string"?i:vs(i);return o=o.replace(/ $/,"%20"),!s&&o.startsWith("//")&&(o=r+o),new URL(o,r)}function jg(i,s,r="/"){return xb(i,s,r,!1)}function xb(i,s,r,o){let c=typeof s=="string"?An(s):s,d=ya(c.pathname||"/",r);if(d==null)return null;let m=Dg(i);Sb(m);let g=null;for(let h=0;g==null&&h<m.length;++h){let v=Rb(d);g=Eb(m[h],v,o)}return g}function Dg(i,s=[],r=[],o="",c=!1){let d=(m,g,h=c,v)=>{let x={relativePath:v===void 0?m.path||"":v,caseSensitive:m.caseSensitive===!0,childrenIndex:g,route:m};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(o)&&h)return;Be(x.relativePath.startsWith(o),`Absolute route path "${x.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(o.length)}let b=ba([o,x.relativePath]),C=r.concat(x);m.children&&m.children.length>0&&(Be(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Dg(m.children,s,C,b,h)),!(m.path==null&&!m.index)&&s.push({path:b,score:Nb(b,m.index),routesMeta:C})};return i.forEach((m,g)=>{if(m.path===""||!m.path?.includes("?"))d(m,g);else for(let h of Ng(m.path))d(m,g,!0,h)}),s}function Ng(i){let s=i.split("/");if(s.length===0)return[];let[r,...o]=s,c=r.endsWith("?"),d=r.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let m=Ng(o.join("/")),g=[];return g.push(...m.map(h=>h===""?d:[d,h].join("/"))),c&&g.push(...m),g.map(h=>i.startsWith("/")&&h===""?"/":h)}function Sb(i){i.sort((s,r)=>s.score!==r.score?r.score-s.score:Tb(s.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var _b=/^:[\w-]+$/,Ab=3,Cb=2,qb=1,jb=10,Db=-2,kf=i=>i==="*";function Nb(i,s){let r=i.split("/"),o=r.length;return r.some(kf)&&(o+=Db),s&&(o+=Cb),r.filter(c=>!kf(c)).reduce((c,d)=>c+(_b.test(d)?Ab:d===""?qb:jb),o)}function Tb(i,s){return i.length===s.length&&i.slice(0,-1).every((o,c)=>o===s[c])?i[i.length-1]-s[s.length-1]:0}function Eb(i,s,r=!1){let{routesMeta:o}=i,c={},d="/",m=[];for(let g=0;g<o.length;++g){let h=o[g],v=g===o.length-1,x=d==="/"?s:s.slice(d.length)||"/",b=Qr({path:h.relativePath,caseSensitive:h.caseSensitive,end:v},x),C=h.route;if(!b&&v&&r&&!o[o.length-1].route.index&&(b=Qr({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},x)),!b)return null;Object.assign(c,b.params),m.push({params:c,pathname:ba([d,b.pathname]),pathnameBase:Ub(ba([d,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(d=ba([d,b.pathnameBase]))}return m}function Qr(i,s){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,o]=Mb(i.path,i.caseSensitive,i.end),c=s.match(r);if(!c)return null;let d=c[0],m=d.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:o.reduce((v,{paramName:x,isOptional:b},C)=>{if(x==="*"){let E=g[C]||"";m=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const q=g[C];return b&&!q?v[x]=void 0:v[x]=(q||"").replace(/%2F/g,"/"),v},{}),pathname:d,pathnameBase:m,pattern:i}}function Mb(i,s=!1,r=!0){ht(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],c="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,g,h)=>(o.push({paramName:g,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(o.push({paramName:"*"}),c+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":i!==""&&i!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,s?void 0:"i"),o]}function Rb(i){try{return i.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return ht(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),i}}function ya(i,s){if(s==="/")return i;if(!i.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,o=i.charAt(r);return o&&o!=="/"?null:i.slice(r)||"/"}var Lb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zb=i=>Lb.test(i);function Ob(i,s="/"){let{pathname:r,search:o="",hash:c=""}=typeof i=="string"?An(i):i,d;if(r)if(zb(r))d=r;else{if(r.includes("//")){let m=r;r=r.replace(/\/\/+/g,"/"),ht(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${r}`)}r.startsWith("/")?d=If(r.substring(1),"/"):d=If(r,s)}else d=s;return{pathname:d,search:Hb(o),hash:Bb(c)}}function If(i,s){let r=s.replace(/\/+$/,"").split("/");return i.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function Eu(i,s,r,o){return`Cannot include a '${i}' character in a manually specified \`to.${s}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wb(i){return i.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function lc(i){let s=wb(i);return s.map((r,o)=>o===s.length-1?r.pathname:r.pathnameBase)}function oc(i,s,r,o=!1){let c;typeof i=="string"?c=An(i):(c={...i},Be(!c.pathname||!c.pathname.includes("?"),Eu("?","pathname","search",c)),Be(!c.pathname||!c.pathname.includes("#"),Eu("#","pathname","hash",c)),Be(!c.search||!c.search.includes("#"),Eu("#","search","hash",c)));let d=i===""||c.pathname==="",m=d?"/":c.pathname,g;if(m==null)g=r;else{let b=s.length-1;if(!o&&m.startsWith("..")){let C=m.split("/");for(;C[0]==="..";)C.shift(),b-=1;c.pathname=C.join("/")}g=b>=0?s[b]:"/"}let h=Ob(c,g),v=m&&m!=="/"&&m.endsWith("/"),x=(d||m===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(v||x)&&(h.pathname+="/"),h}var ba=i=>i.join("/").replace(/\/\/+/g,"/"),Ub=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Hb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Bb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Vb(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function kb(i){return i.map(s=>s.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Tg=["POST","PUT","PATCH","DELETE"];new Set(Tg);var Ib=["GET",...Tg];new Set(Ib);var ci=D.createContext(null);ci.displayName="DataRouter";var el=D.createContext(null);el.displayName="DataRouterState";D.createContext(!1);var Eg=D.createContext({isTransitioning:!1});Eg.displayName="ViewTransition";var Gb=D.createContext(new Map);Gb.displayName="Fetchers";var Pb=D.createContext(null);Pb.displayName="Await";var Ht=D.createContext(null);Ht.displayName="Navigation";var ys=D.createContext(null);ys.displayName="Location";var Bt=D.createContext({outlet:null,matches:[],isDataRoute:!1});Bt.displayName="Route";var uc=D.createContext(null);uc.displayName="RouteError";function Fb(i,{relative:s}={}){Be(di(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=D.useContext(Ht),{hash:c,pathname:d,search:m}=xs(i,{relative:s}),g=d;return r!=="/"&&(g=d==="/"?r:ba([r,d])),o.createHref({pathname:g,search:m,hash:c})}function di(){return D.useContext(ys)!=null}function Zt(){return Be(di(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(ys).location}var Mg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rg(i){D.useContext(Ht).static||D.useLayoutEffect(i)}function tl(){let{isDataRoute:i}=D.useContext(Bt);return i?ly():Jb()}function Jb(){Be(di(),"useNavigate() may be used only in the context of a <Router> component.");let i=D.useContext(ci),{basename:s,navigator:r}=D.useContext(Ht),{matches:o}=D.useContext(Bt),{pathname:c}=Zt(),d=JSON.stringify(lc(o)),m=D.useRef(!1);return Rg(()=>{m.current=!0}),D.useCallback((h,v={})=>{if(ht(m.current,Mg),!m.current)return;if(typeof h=="number"){r.go(h);return}let x=oc(h,JSON.parse(d),c,v.relative==="path");i==null&&s!=="/"&&(x.pathname=x.pathname==="/"?s:ba([s,x.pathname])),(v.replace?r.replace:r.push)(x,v.state,v)},[s,r,d,c,i])}var Qb=D.createContext(null);function Yb(i){let s=D.useContext(Bt).outlet;return D.useMemo(()=>s&&D.createElement(Qb.Provider,{value:i},s),[s,i])}function Zb(){let{matches:i}=D.useContext(Bt),s=i[i.length-1];return s?s.params:{}}function xs(i,{relative:s}={}){let{matches:r}=D.useContext(Bt),{pathname:o}=Zt(),c=JSON.stringify(lc(r));return D.useMemo(()=>oc(i,JSON.parse(c),o,s==="path"),[i,c,o,s])}function Kb(i,s){return Lg(i,s)}function Lg(i,s,r,o,c){Be(di(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=D.useContext(Ht),{matches:m}=D.useContext(Bt),g=m[m.length-1],h=g?g.params:{},v=g?g.pathname:"/",x=g?g.pathnameBase:"/",b=g&&g.route;{let I=b&&b.path||"";zg(v,!b||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let C=Zt(),q;if(s){let I=typeof s=="string"?An(s):s;Be(x==="/"||I.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${I.pathname}" was given in the \`location\` prop.`),q=I}else q=C;let E=q.pathname||"/",B=E;if(x!=="/"){let I=x.replace(/^\//,"").split("/");B="/"+E.replace(/^\//,"").split("/").slice(I.length).join("/")}let w=jg(i,{pathname:B});ht(b||w!=null,`No routes matched location "${q.pathname}${q.search}${q.hash}" `),ht(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${q.pathname}${q.search}${q.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=ty(w&&w.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:ba([x,d.encodeLocation?d.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?x:ba([x,d.encodeLocation?d.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),m,r,o,c);return s&&k?D.createElement(ys.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...q},navigationType:"POP"}},k):k}function Xb(){let i=ry(),s=Vb(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},m=null;return console.error("Error handled by React Router default ErrorBoundary:",i),m=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:d},"ErrorBoundary")," or"," ",D.createElement("code",{style:d},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},s),r?D.createElement("pre",{style:c},r):null,m)}var $b=D.createElement(Xb,null),Wb=class extends D.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,s){return s.location!==i.location||s.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:s.error,location:s.location,revalidation:i.revalidation||s.revalidation}}componentDidCatch(i,s){this.props.onError?this.props.onError(i,s):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?D.createElement(Bt.Provider,{value:this.props.routeContext},D.createElement(uc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ey({routeContext:i,match:s,children:r}){let o=D.useContext(ci);return o&&o.static&&o.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=s.route.id),D.createElement(Bt.Provider,{value:i},r)}function ty(i,s=[],r=null,o=null,c=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(s.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let d=i,m=r?.errors;if(m!=null){let x=d.findIndex(b=>b.route.id&&m?.[b.route.id]!==void 0);Be(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,x+1))}let g=!1,h=-1;if(r)for(let x=0;x<d.length;x++){let b=d[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(h=x),b.route.id){let{loaderData:C,errors:q}=r,E=b.route.loader&&!C.hasOwnProperty(b.route.id)&&(!q||q[b.route.id]===void 0);if(b.route.lazy||E){g=!0,h>=0?d=d.slice(0,h+1):d=[d[0]];break}}}let v=r&&o?(x,b)=>{o(x,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:kb(r.matches),errorInfo:b})}:void 0;return d.reduceRight((x,b,C)=>{let q,E=!1,B=null,w=null;r&&(q=m&&b.route.id?m[b.route.id]:void 0,B=b.route.errorElement||$b,g&&(h<0&&C===0?(zg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,w=null):h===C&&(E=!0,w=b.route.hydrateFallbackElement||null)));let k=s.concat(d.slice(0,C+1)),I=()=>{let F;return q?F=B:E?F=w:b.route.Component?F=D.createElement(b.route.Component,null):b.route.element?F=b.route.element:F=x,D.createElement(ey,{match:b,routeContext:{outlet:x,matches:k,isDataRoute:r!=null},children:F})};return r&&(b.route.ErrorBoundary||b.route.errorElement||C===0)?D.createElement(Wb,{location:r.location,revalidation:r.revalidation,component:B,error:q,children:I(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:v}):I()},null)}function cc(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ay(i){let s=D.useContext(ci);return Be(s,cc(i)),s}function ny(i){let s=D.useContext(el);return Be(s,cc(i)),s}function iy(i){let s=D.useContext(Bt);return Be(s,cc(i)),s}function dc(i){let s=iy(i),r=s.matches[s.matches.length-1];return Be(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function sy(){return dc("useRouteId")}function ry(){let i=D.useContext(uc),s=ny("useRouteError"),r=dc("useRouteError");return i!==void 0?i:s.errors?.[r]}function ly(){let{router:i}=ay("useNavigate"),s=dc("useNavigate"),r=D.useRef(!1);return Rg(()=>{r.current=!0}),D.useCallback(async(c,d={})=>{ht(r.current,Mg),r.current&&(typeof c=="number"?await i.navigate(c):await i.navigate(c,{fromRouteId:s,...d}))},[i,s])}var Gf={};function zg(i,s,r){!s&&!Gf[i]&&(Gf[i]=!0,ht(!1,r))}D.memo(oy);function oy({routes:i,future:s,state:r,unstable_onError:o}){return Lg(i,void 0,r,o,s)}function Pf({to:i,replace:s,state:r,relative:o}){Be(di(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=D.useContext(Ht);ht(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=D.useContext(Bt),{pathname:m}=Zt(),g=tl(),h=oc(i,lc(d),m,o==="path"),v=JSON.stringify(h);return D.useEffect(()=>{g(JSON.parse(v),{replace:s,state:r,relative:o})},[g,v,o,s,r]),null}function uy(i){return Yb(i.context)}function ga(i){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cy({basename:i="/",children:s=null,location:r,navigationType:o="POP",navigator:c,static:d=!1,unstable_useTransitions:m}){Be(!di(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=i.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:g,navigator:c,static:d,unstable_useTransitions:m,future:{}}),[g,c,d,m]);typeof r=="string"&&(r=An(r));let{pathname:v="/",search:x="",hash:b="",state:C=null,key:q="default"}=r,E=D.useMemo(()=>{let B=ya(v,g);return B==null?null:{location:{pathname:B,search:x,hash:b,state:C,key:q},navigationType:o}},[g,v,x,b,C,q,o]);return ht(E!=null,`<Router basename="${g}"> is not able to match the URL "${v}${x}${b}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:D.createElement(Ht.Provider,{value:h},D.createElement(ys.Provider,{children:s,value:E}))}function dy({children:i,location:s}){return Kb(Pu(i),s)}function Pu(i,s=[]){let r=[];return D.Children.forEach(i,(o,c)=>{if(!D.isValidElement(o))return;let d=[...s,c];if(o.type===D.Fragment){r.push.apply(r,Pu(o.props.children,d));return}Be(o.type===ga,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!o.props.index||!o.props.children,"An index route cannot have child routes.");let m={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=Pu(o.props.children,d)),r.push(m)}),r}var Pr="get",Fr="application/x-www-form-urlencoded";function al(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function my(i){return al(i)&&i.tagName.toLowerCase()==="button"}function py(i){return al(i)&&i.tagName.toLowerCase()==="form"}function fy(i){return al(i)&&i.tagName.toLowerCase()==="input"}function gy(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function hy(i,s){return i.button===0&&(!s||s==="_self")&&!gy(i)}function Fu(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((s,r)=>{let o=i[r];return s.concat(Array.isArray(o)?o.map(c=>[r,c]):[[r,o]])},[]))}function vy(i,s){let r=Fu(i);return s&&s.forEach((o,c)=>{r.has(c)||s.getAll(c).forEach(d=>{r.append(c,d)})}),r}var kr=null;function by(){if(kr===null)try{new FormData(document.createElement("form"),0),kr=!1}catch{kr=!0}return kr}var yy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mu(i){return i!=null&&!yy.has(i)?(ht(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fr}"`),null):i}function xy(i,s){let r,o,c,d,m;if(py(i)){let g=i.getAttribute("action");o=g?ya(g,s):null,r=i.getAttribute("method")||Pr,c=Mu(i.getAttribute("enctype"))||Fr,d=new FormData(i)}else if(my(i)||fy(i)&&(i.type==="submit"||i.type==="image")){let g=i.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=i.getAttribute("formaction")||g.getAttribute("action");if(o=h?ya(h,s):null,r=i.getAttribute("formmethod")||g.getAttribute("method")||Pr,c=Mu(i.getAttribute("formenctype"))||Mu(g.getAttribute("enctype"))||Fr,d=new FormData(g,i),!by()){let{name:v,type:x,value:b}=i;if(x==="image"){let C=v?`${v}.`:"";d.append(`${C}x`,"0"),d.append(`${C}y`,"0")}else v&&d.append(v,b)}}else{if(al(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Pr,o=null,c=Fr,m=i}return d&&c==="text/plain"&&(m=d,d=void 0),{action:o,method:r.toLowerCase(),encType:c,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mc(i,s){if(i===!1||i===null||typeof i>"u")throw new Error(s)}function Sy(i,s,r){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return o.pathname==="/"?o.pathname=`_root.${r}`:s&&ya(o.pathname,s)==="/"?o.pathname=`${s.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function _y(i,s){if(i.id in s)return s[i.id];try{let r=await import(i.module);return s[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ay(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Cy(i,s,r){let o=await Promise.all(i.map(async c=>{let d=s.routes[c.route.id];if(d){let m=await _y(d,r);return m.links?m.links():[]}return[]}));return Ny(o.flat(1).filter(Ay).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Ff(i,s,r,o,c,d){let m=(h,v)=>r[v]?h.route.id!==r[v].route.id:!0,g=(h,v)=>r[v].pathname!==h.pathname||r[v].route.path?.endsWith("*")&&r[v].params["*"]!==h.params["*"];return d==="assets"?s.filter((h,v)=>m(h,v)||g(h,v)):d==="data"?s.filter((h,v)=>{let x=o.routes[h.route.id];if(!x||!x.hasLoader)return!1;if(m(h,v)||g(h,v))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function qy(i,s,{includeHydrateFallback:r}={}){return jy(i.map(o=>{let c=s.routes[o.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),r&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function jy(i){return[...new Set(i)]}function Dy(i){let s={},r=Object.keys(i).sort();for(let o of r)s[o]=i[o];return s}function Ny(i,s){let r=new Set;return new Set(s),i.reduce((o,c)=>{let d=JSON.stringify(Dy(c));return r.has(d)||(r.add(d),o.push({key:d,link:c})),o},[])}function Og(){let i=D.useContext(ci);return mc(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Ty(){let i=D.useContext(el);return mc(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var pc=D.createContext(void 0);pc.displayName="FrameworkContext";function wg(){let i=D.useContext(pc);return mc(i,"You must render this element inside a <HydratedRouter> element"),i}function Ey(i,s){let r=D.useContext(pc),[o,c]=D.useState(!1),[d,m]=D.useState(!1),{onFocus:g,onBlur:h,onMouseEnter:v,onMouseLeave:x,onTouchStart:b}=s,C=D.useRef(null);D.useEffect(()=>{if(i==="render"&&m(!0),i==="viewport"){let B=k=>{k.forEach(I=>{m(I.isIntersecting)})},w=new IntersectionObserver(B,{threshold:.5});return C.current&&w.observe(C.current),()=>{w.disconnect()}}},[i]),D.useEffect(()=>{if(o){let B=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(B)}}},[o]);let q=()=>{c(!0)},E=()=>{c(!1),m(!1)};return r?i!=="intent"?[d,C,{}]:[d,C,{onFocus:ds(g,q),onBlur:ds(h,E),onMouseEnter:ds(v,q),onMouseLeave:ds(x,E),onTouchStart:ds(b,q)}]:[!1,C,{}]}function ds(i,s){return r=>{i&&i(r),r.defaultPrevented||s(r)}}function My({page:i,...s}){let{router:r}=Og(),o=D.useMemo(()=>jg(r.routes,i,r.basename),[r.routes,i,r.basename]);return o?D.createElement(Ly,{page:i,matches:o,...s}):null}function Ry(i){let{manifest:s,routeModules:r}=wg(),[o,c]=D.useState([]);return D.useEffect(()=>{let d=!1;return Cy(i,s,r).then(m=>{d||c(m)}),()=>{d=!0}},[i,s,r]),o}function Ly({page:i,matches:s,...r}){let o=Zt(),{manifest:c,routeModules:d}=wg(),{basename:m}=Og(),{loaderData:g,matches:h}=Ty(),v=D.useMemo(()=>Ff(i,s,h,c,o,"data"),[i,s,h,c,o]),x=D.useMemo(()=>Ff(i,s,h,c,o,"assets"),[i,s,h,c,o]),b=D.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let E=new Set,B=!1;if(s.forEach(k=>{let I=c.routes[k.route.id];!I||!I.hasLoader||(!v.some(F=>F.route.id===k.route.id)&&k.route.id in g&&d[k.route.id]?.shouldRevalidate||I.hasClientLoader?B=!0:E.add(k.route.id))}),E.size===0)return[];let w=Sy(i,m,"data");return B&&E.size>0&&w.searchParams.set("_routes",s.filter(k=>E.has(k.route.id)).map(k=>k.route.id).join(",")),[w.pathname+w.search]},[m,g,o,c,v,s,i,d]),C=D.useMemo(()=>qy(x,c),[x,c]),q=Ry(x);return D.createElement(D.Fragment,null,b.map(E=>D.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),C.map(E=>D.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),q.map(({key:E,link:B})=>D.createElement("link",{key:E,nonce:r.nonce,...B})))}function zy(...i){return s=>{i.forEach(r=>{typeof r=="function"?r(s):r!=null&&(r.current=s)})}}var Ug=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ug&&(window.__reactRouterVersion="7.10.1")}catch{}function Oy({basename:i,children:s,unstable_useTransitions:r,window:o}){let c=D.useRef();c.current==null&&(c.current=hb({window:o,v5Compat:!0}));let d=c.current,[m,g]=D.useState({action:d.action,location:d.location}),h=D.useCallback(v=>{r===!1?g(v):D.startTransition(()=>g(v))},[r]);return D.useLayoutEffect(()=>d.listen(h),[d,h]),D.createElement(cy,{basename:i,children:s,location:m.location,navigationType:m.action,navigator:d,unstable_useTransitions:r===!0})}var Hg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xa=D.forwardRef(function({onClick:s,discover:r="render",prefetch:o="none",relative:c,reloadDocument:d,replace:m,state:g,target:h,to:v,preventScrollReset:x,viewTransition:b,...C},q){let{basename:E,unstable_useTransitions:B}=D.useContext(Ht),w=typeof v=="string"&&Hg.test(v),k,I=!1;if(typeof v=="string"&&w&&(k=v,Ug))try{let ee=new URL(window.location.href),le=v.startsWith("//")?new URL(ee.protocol+v):new URL(v),Z=ya(le.pathname,E);le.origin===ee.origin&&Z!=null?v=Z+le.search+le.hash:I=!0}catch{ht(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=Fb(v,{relative:c}),[$,se,Q]=Ey(o,C),G=Hy(v,{replace:m,state:g,target:h,preventScrollReset:x,relative:c,viewTransition:b,unstable_useTransitions:B});function te(ee){s&&s(ee),ee.defaultPrevented||G(ee)}let Y=D.createElement("a",{...C,...Q,href:k||F,onClick:I||d?s:te,ref:zy(q,se),target:h,"data-discover":!w&&r==="render"?"true":void 0});return $&&!w?D.createElement(D.Fragment,null,Y,D.createElement(My,{page:F})):Y});Xa.displayName="Link";var Bg=D.forwardRef(function({"aria-current":s="page",caseSensitive:r=!1,className:o="",end:c=!1,style:d,to:m,viewTransition:g,children:h,...v},x){let b=xs(m,{relative:v.relative}),C=Zt(),q=D.useContext(el),{navigator:E,basename:B}=D.useContext(Ht),w=q!=null&&Gy(b)&&g===!0,k=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,I=C.pathname,F=q&&q.navigation&&q.navigation.location?q.navigation.location.pathname:null;r||(I=I.toLowerCase(),F=F?F.toLowerCase():null,k=k.toLowerCase()),F&&B&&(F=ya(F,B)||F);const $=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let se=I===k||!c&&I.startsWith(k)&&I.charAt($)==="/",Q=F!=null&&(F===k||!c&&F.startsWith(k)&&F.charAt(k.length)==="/"),G={isActive:se,isPending:Q,isTransitioning:w},te=se?s:void 0,Y;typeof o=="function"?Y=o(G):Y=[o,se?"active":null,Q?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let ee=typeof d=="function"?d(G):d;return D.createElement(Xa,{...v,"aria-current":te,className:Y,ref:x,style:ee,to:m,viewTransition:g},typeof h=="function"?h(G):h)});Bg.displayName="NavLink";var wy=D.forwardRef(({discover:i="render",fetcherKey:s,navigate:r,reloadDocument:o,replace:c,state:d,method:m=Pr,action:g,onSubmit:h,relative:v,preventScrollReset:x,viewTransition:b,...C},q)=>{let{unstable_useTransitions:E}=D.useContext(Ht),B=ky(),w=Iy(g,{relative:v}),k=m.toLowerCase()==="get"?"get":"post",I=typeof g=="string"&&Hg.test(g),F=$=>{if(h&&h($),$.defaultPrevented)return;$.preventDefault();let se=$.nativeEvent.submitter,Q=se?.getAttribute("formmethod")||m,G=()=>B(se||$.currentTarget,{fetcherKey:s,method:Q,navigate:r,replace:c,state:d,relative:v,preventScrollReset:x,viewTransition:b});E&&r!==!1?D.startTransition(()=>G()):G()};return D.createElement("form",{ref:q,method:k,action:w,onSubmit:o?h:F,...C,"data-discover":!I&&i==="render"?"true":void 0})});wy.displayName="Form";function Uy(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vg(i){let s=D.useContext(ci);return Be(s,Uy(i)),s}function Hy(i,{target:s,replace:r,state:o,preventScrollReset:c,relative:d,viewTransition:m,unstable_useTransitions:g}={}){let h=tl(),v=Zt(),x=xs(i,{relative:d});return D.useCallback(b=>{if(hy(b,s)){b.preventDefault();let C=r!==void 0?r:vs(v)===vs(x),q=()=>h(i,{replace:C,state:o,preventScrollReset:c,relative:d,viewTransition:m});g?D.startTransition(()=>q()):q()}},[v,h,x,r,o,s,i,c,d,m,g])}function fc(i){ht(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let s=D.useRef(Fu(i)),r=D.useRef(!1),o=Zt(),c=D.useMemo(()=>vy(o.search,r.current?null:s.current),[o.search]),d=tl(),m=D.useCallback((g,h)=>{const v=Fu(typeof g=="function"?g(new URLSearchParams(c)):g);r.current=!0,d("?"+v,h)},[d,c]);return[c,m]}var By=0,Vy=()=>`__${String(++By)}__`;function ky(){let{router:i}=Vg("useSubmit"),{basename:s}=D.useContext(Ht),r=sy(),o=i.fetch,c=i.navigate;return D.useCallback(async(d,m={})=>{let{action:g,method:h,encType:v,formData:x,body:b}=xy(d,s);if(m.navigate===!1){let C=m.fetcherKey||Vy();await o(C,r,m.action||g,{preventScrollReset:m.preventScrollReset,formData:x,body:b,formMethod:m.method||h,formEncType:m.encType||v,flushSync:m.flushSync})}else await c(m.action||g,{preventScrollReset:m.preventScrollReset,formData:x,body:b,formMethod:m.method||h,formEncType:m.encType||v,replace:m.replace,state:m.state,fromRouteId:r,flushSync:m.flushSync,viewTransition:m.viewTransition})},[o,c,s,r])}function Iy(i,{relative:s}={}){let{basename:r}=D.useContext(Ht),o=D.useContext(Bt);Be(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),d={...xs(i||".",{relative:s})},m=Zt();if(i==null){d.search=m.search;let g=new URLSearchParams(d.search),h=g.getAll("index");if(h.some(x=>x==="")){g.delete("index"),h.filter(b=>b).forEach(b=>g.append("index",b));let x=g.toString();d.search=x?`?${x}`:""}}return(!i||i===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(d.pathname=d.pathname==="/"?r:ba([r,d.pathname])),vs(d)}function Gy(i,{relative:s}={}){let r=D.useContext(Eg);Be(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Vg("useViewTransitionState"),c=xs(i,{relative:s});if(!r.isTransitioning)return!1;let d=ya(r.currentLocation.pathname,o)||r.currentLocation.pathname,m=ya(r.nextLocation.pathname,o)||r.nextLocation.pathname;return Qr(c.pathname,m)!=null||Qr(c.pathname,d)!=null}const Py=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fy=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,o)=>o?o.toUpperCase():r.toLowerCase()),Jf=i=>{const s=Fy(i);return s.charAt(0).toUpperCase()+s.slice(1)},kg=(...i)=>i.filter((s,r,o)=>!!s&&s.trim()!==""&&o.indexOf(s)===r).join(" ").trim(),Jy=i=>{for(const s in i)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var Qy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Yy=D.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:m,...g},h)=>D.createElement("svg",{ref:h,...Qy,width:s,height:s,stroke:i,strokeWidth:o?Number(r)*24/Number(s):r,className:kg("lucide",c),...!d&&!Jy(g)&&{"aria-hidden":"true"},...g},[...m.map(([v,x])=>D.createElement(v,x)),...Array.isArray(d)?d:[d]]));const We=(i,s)=>{const r=D.forwardRef(({className:o,...c},d)=>D.createElement(Yy,{ref:d,iconNode:s,className:kg(`lucide-${Py(Jf(i))}`,`lucide-${i}`,o),...c}));return r.displayName=Jf(i),r};const Zy=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ig=We("book-open",Zy);const Ky=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Xy=We("brain",Ky);const $y=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Wy=We("chevron-right",$y);const e0=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gg=We("eye",e0);const t0=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],a0=We("funnel",t0);const n0=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],i0=We("ghost",n0);const s0=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Pg=We("heart",s0);const r0=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Fg=We("map",r0);const l0=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],o0=We("scroll-text",l0);const u0=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Jg=We("search",u0);const c0=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],mi=We("shield",c0);const d0=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Ju=We("skull",d0);const m0=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Qg=We("sparkles",m0);const p0=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],f0=We("sword",p0);const g0=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],h0=We("swords",g0);const v0=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yr=We("users",v0);const b0=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],y0=We("x",b0);const x0=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],S0=We("zap",x0);function Yg(i){var s,r,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i)){var c=i.length;for(s=0;s<c;s++)i[s]&&(r=Yg(i[s]))&&(o&&(o+=" "),o+=r)}else for(r in i)i[r]&&(o&&(o+=" "),o+=r);return o}function _0(){for(var i,s,r=0,o="",c=arguments.length;r<c;r++)(i=arguments[r])&&(s=Yg(i))&&(o&&(o+=" "),o+=s);return o}const gc="-",A0=i=>{const s=q0(i),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=i;return{getClassGroupId:m=>{const g=m.split(gc);return g[0]===""&&g.length!==1&&g.shift(),Zg(g,s)||C0(m)},getConflictingClassGroupIds:(m,g)=>{const h=r[m]||[];return g&&o[m]?[...h,...o[m]]:h}}},Zg=(i,s)=>{if(i.length===0)return s.classGroupId;const r=i[0],o=s.nextPart.get(r),c=o?Zg(i.slice(1),o):void 0;if(c)return c;if(s.validators.length===0)return;const d=i.join(gc);return s.validators.find(({validator:m})=>m(d))?.classGroupId},Qf=/^\[(.+)\]$/,C0=i=>{if(Qf.test(i)){const s=Qf.exec(i)[1],r=s?.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},q0=i=>{const{theme:s,prefix:r}=i,o={nextPart:new Map,validators:[]};return D0(Object.entries(i.classGroups),r).forEach(([d,m])=>{Qu(m,o,d,s)}),o},Qu=(i,s,r,o)=>{i.forEach(c=>{if(typeof c=="string"){const d=c===""?s:Yf(s,c);d.classGroupId=r;return}if(typeof c=="function"){if(j0(c)){Qu(c(o),s,r,o);return}s.validators.push({validator:c,classGroupId:r});return}Object.entries(c).forEach(([d,m])=>{Qu(m,Yf(s,d),r,o)})})},Yf=(i,s)=>{let r=i;return s.split(gc).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},j0=i=>i.isThemeGetter,D0=(i,s)=>s?i.map(([r,o])=>{const c=o.map(d=>typeof d=="string"?s+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([m,g])=>[s+m,g])):d);return[r,c]}):i,N0=i=>{if(i<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,o=new Map;const c=(d,m)=>{r.set(d,m),s++,s>i&&(s=0,o=r,r=new Map)};return{get(d){let m=r.get(d);if(m!==void 0)return m;if((m=o.get(d))!==void 0)return c(d,m),m},set(d,m){r.has(d)?r.set(d,m):c(d,m)}}},Kg="!",T0=i=>{const{separator:s,experimentalParseClassName:r}=i,o=s.length===1,c=s[0],d=s.length,m=g=>{const h=[];let v=0,x=0,b;for(let w=0;w<g.length;w++){let k=g[w];if(v===0){if(k===c&&(o||g.slice(w,w+d)===s)){h.push(g.slice(x,w)),x=w+d;continue}if(k==="/"){b=w;continue}}k==="["?v++:k==="]"&&v--}const C=h.length===0?g:g.substring(x),q=C.startsWith(Kg),E=q?C.substring(1):C,B=b&&b>x?b-x:void 0;return{modifiers:h,hasImportantModifier:q,baseClassName:E,maybePostfixModifierPosition:B}};return r?g=>r({className:g,parseClassName:m}):m},E0=i=>{if(i.length<=1)return i;const s=[];let r=[];return i.forEach(o=>{o[0]==="["?(s.push(...r.sort(),o),r=[]):r.push(o)}),s.push(...r.sort()),s},M0=i=>({cache:N0(i.cacheSize),parseClassName:T0(i),...A0(i)}),R0=/\s+/,L0=(i,s)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:c}=s,d=[],m=i.trim().split(R0);let g="";for(let h=m.length-1;h>=0;h-=1){const v=m[h],{modifiers:x,hasImportantModifier:b,baseClassName:C,maybePostfixModifierPosition:q}=r(v);let E=!!q,B=o(E?C.substring(0,q):C);if(!B){if(!E){g=v+(g.length>0?" "+g:g);continue}if(B=o(C),!B){g=v+(g.length>0?" "+g:g);continue}E=!1}const w=E0(x).join(":"),k=b?w+Kg:w,I=k+B;if(d.includes(I))continue;d.push(I);const F=c(B,E);for(let $=0;$<F.length;++$){const se=F[$];d.push(k+se)}g=v+(g.length>0?" "+g:g)}return g};function z0(){let i=0,s,r,o="";for(;i<arguments.length;)(s=arguments[i++])&&(r=Xg(s))&&(o&&(o+=" "),o+=r);return o}const Xg=i=>{if(typeof i=="string")return i;let s,r="";for(let o=0;o<i.length;o++)i[o]&&(s=Xg(i[o]))&&(r&&(r+=" "),r+=s);return r};function O0(i,...s){let r,o,c,d=m;function m(h){const v=s.reduce((x,b)=>b(x),i());return r=M0(v),o=r.cache.get,c=r.cache.set,d=g,g(h)}function g(h){const v=o(h);if(v)return v;const x=L0(h,r);return c(h,x),x}return function(){return d(z0.apply(null,arguments))}}const we=i=>{const s=r=>r[i]||[];return s.isThemeGetter=!0,s},$g=/^\[(?:([a-z-]+):)?(.+)\]$/i,w0=/^\d+\/\d+$/,U0=new Set(["px","full","screen"]),H0=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,B0=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,V0=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,k0=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,I0=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fa=i=>ui(i)||U0.has(i)||w0.test(i),Ja=i=>pi(i,"length",K0),ui=i=>!!i&&!Number.isNaN(Number(i)),Ru=i=>pi(i,"number",ui),ms=i=>!!i&&Number.isInteger(Number(i)),G0=i=>i.endsWith("%")&&ui(i.slice(0,-1)),fe=i=>$g.test(i),Qa=i=>H0.test(i),P0=new Set(["length","size","percentage"]),F0=i=>pi(i,P0,Wg),J0=i=>pi(i,"position",Wg),Q0=new Set(["image","url"]),Y0=i=>pi(i,Q0,$0),Z0=i=>pi(i,"",X0),ps=()=>!0,pi=(i,s,r)=>{const o=$g.exec(i);return o?o[1]?typeof s=="string"?o[1]===s:s.has(o[1]):r(o[2]):!1},K0=i=>B0.test(i)&&!V0.test(i),Wg=()=>!1,X0=i=>k0.test(i),$0=i=>I0.test(i),W0=()=>{const i=we("colors"),s=we("spacing"),r=we("blur"),o=we("brightness"),c=we("borderColor"),d=we("borderRadius"),m=we("borderSpacing"),g=we("borderWidth"),h=we("contrast"),v=we("grayscale"),x=we("hueRotate"),b=we("invert"),C=we("gap"),q=we("gradientColorStops"),E=we("gradientColorStopPositions"),B=we("inset"),w=we("margin"),k=we("opacity"),I=we("padding"),F=we("saturate"),$=we("scale"),se=we("sepia"),Q=we("skew"),G=we("space"),te=we("translate"),Y=()=>["auto","contain","none"],ee=()=>["auto","hidden","clip","visible","scroll"],le=()=>["auto",fe,s],Z=()=>[fe,s],Re=()=>["",fa,Ja],me=()=>["auto",ui,fe],Ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>["start","end","center","between","around","evenly","stretch"],ge=()=>["","0",fe],_e=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>[ui,fe];return{cacheSize:500,separator:":",theme:{colors:[ps],spacing:[fa,Ja],blur:["none","",Qa,fe],brightness:_(),borderColor:[i],borderRadius:["none","","full",Qa,fe],borderSpacing:Z(),borderWidth:Re(),contrast:_(),grayscale:ge(),hueRotate:_(),invert:ge(),gap:Z(),gradientColorStops:[i],gradientColorStopPositions:[G0,Ja],inset:le(),margin:le(),opacity:_(),padding:Z(),saturate:_(),scale:_(),sepia:ge(),skew:_(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[Qa]}],"break-after":[{"break-after":_e()}],"break-before":[{"break-before":_e()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ue(),fe]}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[B]}],"inset-x":[{"inset-x":[B]}],"inset-y":[{"inset-y":[B]}],start:[{start:[B]}],end:[{end:[B]}],top:[{top:[B]}],right:[{right:[B]}],bottom:[{bottom:[B]}],left:[{left:[B]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ms,fe]}],basis:[{basis:le()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:ge()}],shrink:[{shrink:ge()}],order:[{order:["first","last","none",ms,fe]}],"grid-cols":[{"grid-cols":[ps]}],"col-start-end":[{col:["auto",{span:["full",ms,fe]},fe]}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":[ps]}],"row-start-end":[{row:["auto",{span:[ms,fe]},fe]}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal",...ae()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ae(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ae(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[G]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[G]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,s]}],"min-w":[{"min-w":[fe,s,"min","max","fit"]}],"max-w":[{"max-w":[fe,s,"none","full","min","max","fit","prose",{screen:[Qa]},Qa]}],h:[{h:[fe,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,s,"auto","min","max","fit"]}],"font-size":[{text:["base",Qa,Ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ru]}],"font-family":[{font:[ps]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",ui,Ru]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fa,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fa,Ja]}],"underline-offset":[{"underline-offset":["auto",fa,fe]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ue(),J0]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",F0]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Y0]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[q]}],"gradient-via":[{via:[q]}],"gradient-to":[{to:[q]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:R()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-s":[{"border-s":[c]}],"border-color-e":[{"border-e":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[fa,fe]}],"outline-w":[{outline:[fa,Ja]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:Re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[fa,Ja]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",Qa,Z0]}],"shadow-color":[{shadow:[ps]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[o]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Qa,fe]}],grayscale:[{grayscale:[v]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[b]}],saturate:[{saturate:[F]}],sepia:[{sepia:[se]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[v]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[F]}],"backdrop-sepia":[{"backdrop-sepia":[se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[m]}],"border-spacing-x":[{"border-spacing-x":[m]}],"border-spacing-y":[{"border-spacing-y":[m]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:_()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:_()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[ms,fe]}],"translate-x":[{"translate-x":[te]}],"translate-y":[{"translate-y":[te]}],"skew-x":[{"skew-x":[Q]}],"skew-y":[{"skew-y":[Q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[fa,Ja,Ru]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ex=O0(W0);function Ve(...i){return ex(_0(i))}var Lu={exports:{}},zu,Zf;function tx(){if(Zf)return zu;Zf=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zu=i,zu}var Ou,Kf;function ax(){if(Kf)return Ou;Kf=1;var i=tx();function s(){}function r(){}return r.resetWarningCache=s,Ou=function(){function o(m,g,h,v,x,b){if(b!==i){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}o.isRequired=o;function c(){return o}var d={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:c,element:o,elementType:o,instanceOf:c,node:o,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:r,resetWarningCache:s};return d.PropTypes=d,d},Ou}var Xf;function nx(){return Xf||(Xf=1,Lu.exports=ax()()),Lu.exports}var ix=nx();const z=rc(ix),re=i=>typeof i=="string",fs=()=>{let i,s;const r=new Promise((o,c)=>{i=o,s=c});return r.resolve=i,r.reject=s,r},$f=i=>i==null?"":""+i,sx=(i,s,r)=>{i.forEach(o=>{s[o]&&(r[o]=s[o])})},rx=/###/g,Wf=i=>i&&i.indexOf("###")>-1?i.replace(rx,"."):i,eg=i=>!i||re(i),gs=(i,s,r)=>{const o=re(s)?s.split("."):s;let c=0;for(;c<o.length-1;){if(eg(i))return{};const d=Wf(o[c]);!i[d]&&r&&(i[d]=new r),Object.prototype.hasOwnProperty.call(i,d)?i=i[d]:i={},++c}return eg(i)?{}:{obj:i,k:Wf(o[c])}},tg=(i,s,r)=>{const{obj:o,k:c}=gs(i,s,Object);if(o!==void 0||s.length===1){o[c]=r;return}let d=s[s.length-1],m=s.slice(0,s.length-1),g=gs(i,m,Object);for(;g.obj===void 0&&m.length;)d=`${m[m.length-1]}.${d}`,m=m.slice(0,m.length-1),g=gs(i,m,Object),g?.obj&&typeof g.obj[`${g.k}.${d}`]<"u"&&(g.obj=void 0);g.obj[`${g.k}.${d}`]=r},lx=(i,s,r,o)=>{const{obj:c,k:d}=gs(i,s,Object);c[d]=c[d]||[],c[d].push(r)},Zr=(i,s)=>{const{obj:r,k:o}=gs(i,s);if(r&&Object.prototype.hasOwnProperty.call(r,o))return r[o]},ox=(i,s,r)=>{const o=Zr(i,r);return o!==void 0?o:Zr(s,r)},eh=(i,s,r)=>{for(const o in s)o!=="__proto__"&&o!=="constructor"&&(o in i?re(i[o])||i[o]instanceof String||re(s[o])||s[o]instanceof String?r&&(i[o]=s[o]):eh(i[o],s[o],r):i[o]=s[o]);return i},oi=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ux={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const cx=i=>re(i)?i.replace(/[&<>"'\/]/g,s=>ux[s]):i;class dx{constructor(s){this.capacity=s,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(s){const r=this.regExpMap.get(s);if(r!==void 0)return r;const o=new RegExp(s);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(s,o),this.regExpQueue.push(s),o}}const mx=[" ",",","?","!",";"],px=new dx(20),fx=(i,s,r)=>{s=s||"",r=r||"";const o=mx.filter(m=>s.indexOf(m)<0&&r.indexOf(m)<0);if(o.length===0)return!0;const c=px.getRegExp(`(${o.map(m=>m==="?"?"\\?":m).join("|")})`);let d=!c.test(i);if(!d){const m=i.indexOf(r);m>0&&!c.test(i.substring(0,m))&&(d=!0)}return d},Yu=(i,s,r=".")=>{if(!i)return;if(i[s])return Object.prototype.hasOwnProperty.call(i,s)?i[s]:void 0;const o=s.split(r);let c=i;for(let d=0;d<o.length;){if(!c||typeof c!="object")return;let m,g="";for(let h=d;h<o.length;++h)if(h!==d&&(g+=r),g+=o[h],m=c[g],m!==void 0){if(["string","number","boolean"].indexOf(typeof m)>-1&&h<o.length-1)continue;d+=h-d+1;break}c=m}return c},bs=i=>i?.replace("_","-"),gx={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,s){console?.[i]?.apply?.(console,s)}};class Kr{constructor(s,r={}){this.init(s,r)}init(s,r={}){this.prefix=r.prefix||"i18next:",this.logger=s||gx,this.options=r,this.debug=r.debug}log(...s){return this.forward(s,"log","",!0)}warn(...s){return this.forward(s,"warn","",!0)}error(...s){return this.forward(s,"error","")}deprecate(...s){return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(s,r,o,c){return c&&!this.debug?null:(re(s[0])&&(s[0]=`${o}${this.prefix} ${s[0]}`),this.logger[r](s))}create(s){return new Kr(this.logger,{prefix:`${this.prefix}:${s}:`,...this.options})}clone(s){return s=s||this.options,s.prefix=s.prefix||this.prefix,new Kr(this.logger,s)}}var Qt=new Kr;class nl{constructor(){this.observers={}}on(s,r){return s.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const c=this.observers[o].get(r)||0;this.observers[o].set(r,c+1)}),this}off(s,r){if(this.observers[s]){if(!r){delete this.observers[s];return}this.observers[s].delete(r)}}emit(s,...r){this.observers[s]&&Array.from(this.observers[s].entries()).forEach(([c,d])=>{for(let m=0;m<d;m++)c(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([c,d])=>{for(let m=0;m<d;m++)c.apply(c,[s,...r])})}}class ag extends nl{constructor(s,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=s||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}removeNamespaces(s){const r=this.options.ns.indexOf(s);r>-1&&this.options.ns.splice(r,1)}getResource(s,r,o,c={}){const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,m=c.ignoreJSONStructure!==void 0?c.ignoreJSONStructure:this.options.ignoreJSONStructure;let g;s.indexOf(".")>-1?g=s.split("."):(g=[s,r],o&&(Array.isArray(o)?g.push(...o):re(o)&&d?g.push(...o.split(d)):g.push(o)));const h=Zr(this.data,g);return!h&&!r&&!o&&s.indexOf(".")>-1&&(s=g[0],r=g[1],o=g.slice(2).join(".")),h||!m||!re(o)?h:Yu(this.data?.[s]?.[r],o,d)}addResource(s,r,o,c,d={silent:!1}){const m=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator;let g=[s,r];o&&(g=g.concat(m?o.split(m):o)),s.indexOf(".")>-1&&(g=s.split("."),c=r,r=g[1]),this.addNamespaces(r),tg(this.data,g,c),d.silent||this.emit("added",s,r,o,c)}addResources(s,r,o,c={silent:!1}){for(const d in o)(re(o[d])||Array.isArray(o[d]))&&this.addResource(s,r,d,o[d],{silent:!0});c.silent||this.emit("added",s,r,o)}addResourceBundle(s,r,o,c,d,m={silent:!1,skipCopy:!1}){let g=[s,r];s.indexOf(".")>-1&&(g=s.split("."),c=o,o=r,r=g[1]),this.addNamespaces(r);let h=Zr(this.data,g)||{};m.skipCopy||(o=JSON.parse(JSON.stringify(o))),c?eh(h,o,d):h={...h,...o},tg(this.data,g,h),m.silent||this.emit("added",s,r,o)}removeResourceBundle(s,r){this.hasResourceBundle(s,r)&&delete this.data[s][r],this.removeNamespaces(r),this.emit("removed",s,r)}hasResourceBundle(s,r){return this.getResource(s,r)!==void 0}getResourceBundle(s,r){return r||(r=this.options.defaultNS),this.getResource(s,r)}getDataByLanguage(s){return this.data[s]}hasLanguageSomeTranslations(s){const r=this.getDataByLanguage(s);return!!(r&&Object.keys(r)||[]).find(c=>r[c]&&Object.keys(r[c]).length>0)}toJSON(){return this.data}}var th={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,s,r,o,c){return i.forEach(d=>{s=this.processors[d]?.process(s,r,o,c)??s}),s}};const ah=Symbol("i18next/PATH_KEY");function hx(){const i=[],s=Object.create(null);let r;return s.get=(o,c)=>(r?.revoke?.(),c===ah?i:(i.push(c),r=Proxy.revocable(o,s),r.proxy)),Proxy.revocable(Object.create(null),s).proxy}function Zu(i,s){const{[ah]:r}=i(hx());return r.join(s?.keySeparator??".")}const ng={},wu=i=>!re(i)&&typeof i!="boolean"&&typeof i!="number";class Xr extends nl{constructor(s,r={}){super(),sx(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],s,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Qt.create("translator")}changeLanguage(s){s&&(this.language=s)}exists(s,r={interpolation:{}}){const o={...r};if(s==null)return!1;const c=this.resolve(s,o);if(c?.res===void 0)return!1;const d=wu(c.res);return!(o.returnObjects===!1&&d)}extractFromKey(s,r){let o=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const c=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let d=r.ns||this.options.defaultNS||[];const m=o&&s.indexOf(o)>-1,g=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!fx(s,o,c);if(m&&!g){const h=s.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:s,namespaces:re(d)?[d]:d};const v=s.split(o);(o!==c||o===c&&this.options.ns.indexOf(v[0])>-1)&&(d=v.shift()),s=v.join(c)}return{key:s,namespaces:re(d)?[d]:d}}translate(s,r,o){let c=typeof r=="object"?{...r}:r;if(typeof c!="object"&&this.options.overloadTranslationOptionHandler&&(c=this.options.overloadTranslationOptionHandler(arguments)),typeof c=="object"&&(c={...c}),c||(c={}),s==null)return"";typeof s=="function"&&(s=Zu(s,{...this.options,...c})),Array.isArray(s)||(s=[String(s)]);const d=c.returnDetails!==void 0?c.returnDetails:this.options.returnDetails,m=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,{key:g,namespaces:h}=this.extractFromKey(s[s.length-1],c),v=h[h.length-1];let x=c.nsSeparator!==void 0?c.nsSeparator:this.options.nsSeparator;x===void 0&&(x=":");const b=c.lng||this.language,C=c.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(b?.toLowerCase()==="cimode")return C?d?{res:`${v}${x}${g}`,usedKey:g,exactUsedKey:g,usedLng:b,usedNS:v,usedParams:this.getUsedParamsDetails(c)}:`${v}${x}${g}`:d?{res:g,usedKey:g,exactUsedKey:g,usedLng:b,usedNS:v,usedParams:this.getUsedParamsDetails(c)}:g;const q=this.resolve(s,c);let E=q?.res;const B=q?.usedKey||g,w=q?.exactUsedKey||g,k=["[object Number]","[object Function]","[object RegExp]"],I=c.joinArrays!==void 0?c.joinArrays:this.options.joinArrays,F=!this.i18nFormat||this.i18nFormat.handleAsObject,$=c.count!==void 0&&!re(c.count),se=Xr.hasDefaultValue(c),Q=$?this.pluralResolver.getSuffix(b,c.count,c):"",G=c.ordinal&&$?this.pluralResolver.getSuffix(b,c.count,{ordinal:!1}):"",te=$&&!c.ordinal&&c.count===0,Y=te&&c[`defaultValue${this.options.pluralSeparator}zero`]||c[`defaultValue${Q}`]||c[`defaultValue${G}`]||c.defaultValue;let ee=E;F&&!E&&se&&(ee=Y);const le=wu(ee),Z=Object.prototype.toString.apply(ee);if(F&&ee&&le&&k.indexOf(Z)<0&&!(re(I)&&Array.isArray(ee))){if(!c.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Re=this.options.returnedObjectHandler?this.options.returnedObjectHandler(B,ee,{...c,ns:h}):`key '${g} (${this.language})' returned an object instead of string.`;return d?(q.res=Re,q.usedParams=this.getUsedParamsDetails(c),q):Re}if(m){const Re=Array.isArray(ee),me=Re?[]:{},Ue=Re?w:B;for(const R in ee)if(Object.prototype.hasOwnProperty.call(ee,R)){const P=`${Ue}${m}${R}`;se&&!E?me[R]=this.translate(P,{...c,defaultValue:wu(Y)?Y[R]:void 0,joinArrays:!1,ns:h}):me[R]=this.translate(P,{...c,joinArrays:!1,ns:h}),me[R]===P&&(me[R]=ee[R])}E=me}}else if(F&&re(I)&&Array.isArray(E))E=E.join(I),E&&(E=this.extendTranslation(E,s,c,o));else{let Re=!1,me=!1;!this.isValidLookup(E)&&se&&(Re=!0,E=Y),this.isValidLookup(E)||(me=!0,E=g);const R=(c.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&me?void 0:E,P=se&&Y!==E&&this.options.updateMissing;if(me||Re||P){if(this.logger.log(P?"updateKey":"missingKey",b,v,g,P?Y:E),m){const _=this.resolve(g,{...c,keySeparator:!1});_&&_.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ae=[];const ge=this.languageUtils.getFallbackCodes(this.options.fallbackLng,c.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ge&&ge[0])for(let _=0;_<ge.length;_++)ae.push(ge[_]);else this.options.saveMissingTo==="all"?ae=this.languageUtils.toResolveHierarchy(c.lng||this.language):ae.push(c.lng||this.language);const _e=(_,U,J)=>{const K=se&&J!==E?J:R;this.options.missingKeyHandler?this.options.missingKeyHandler(_,v,U,K,P,c):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(_,v,U,K,P,c),this.emit("missingKey",_,v,U,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&$?ae.forEach(_=>{const U=this.pluralResolver.getSuffixes(_,c);te&&c[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(J=>{_e([_],g+J,c[`defaultValue${J}`]||Y)})}):_e(ae,g,Y))}E=this.extendTranslation(E,s,c,q,o),me&&E===g&&this.options.appendNamespaceToMissingKey&&(E=`${v}${x}${g}`),(me||Re)&&this.options.parseMissingKeyHandler&&(E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${v}${x}${g}`:g,Re?E:void 0,c))}return d?(q.res=E,q.usedParams=this.getUsedParamsDetails(c),q):E}extendTranslation(s,r,o,c,d){if(this.i18nFormat?.parse)s=this.i18nFormat.parse(s,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||c.usedLng,c.usedNS,c.usedKey,{resolved:c});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const h=re(s)&&(o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(h){const b=s.match(this.interpolator.nestingRegexp);v=b&&b.length}let x=o.replace&&!re(o.replace)?o.replace:o;if(this.options.interpolation.defaultVariables&&(x={...this.options.interpolation.defaultVariables,...x}),s=this.interpolator.interpolate(s,x,o.lng||this.language||c.usedLng,o),h){const b=s.match(this.interpolator.nestingRegexp),C=b&&b.length;v<C&&(o.nest=!1)}!o.lng&&c&&c.res&&(o.lng=this.language||c.usedLng),o.nest!==!1&&(s=this.interpolator.nest(s,(...b)=>d?.[0]===b[0]&&!o.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${r[0]}`),null):this.translate(...b,r),o)),o.interpolation&&this.interpolator.reset()}const m=o.postProcess||this.options.postProcess,g=re(m)?[m]:m;return s!=null&&g?.length&&o.applyPostProcessor!==!1&&(s=th.handle(g,s,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...c,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),s}resolve(s,r={}){let o,c,d,m,g;return re(s)&&(s=[s]),s.forEach(h=>{if(this.isValidLookup(o))return;const v=this.extractFromKey(h,r),x=v.key;c=x;let b=v.namespaces;this.options.fallbackNS&&(b=b.concat(this.options.fallbackNS));const C=r.count!==void 0&&!re(r.count),q=C&&!r.ordinal&&r.count===0,E=r.context!==void 0&&(re(r.context)||typeof r.context=="number")&&r.context!=="",B=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);b.forEach(w=>{this.isValidLookup(o)||(g=w,!ng[`${B[0]}-${w}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(g)&&(ng[`${B[0]}-${w}`]=!0,this.logger.warn(`key "${c}" for languages "${B.join(", ")}" won't get resolved as namespace "${g}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),B.forEach(k=>{if(this.isValidLookup(o))return;m=k;const I=[x];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(I,x,k,w,r);else{let $;C&&($=this.pluralResolver.getSuffix(k,r.count,r));const se=`${this.options.pluralSeparator}zero`,Q=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(C&&(r.ordinal&&$.indexOf(Q)===0&&I.push(x+$.replace(Q,this.options.pluralSeparator)),I.push(x+$),q&&I.push(x+se)),E){const G=`${x}${this.options.contextSeparator||"_"}${r.context}`;I.push(G),C&&(r.ordinal&&$.indexOf(Q)===0&&I.push(G+$.replace(Q,this.options.pluralSeparator)),I.push(G+$),q&&I.push(G+se))}}let F;for(;F=I.pop();)this.isValidLookup(o)||(d=F,o=this.getResource(k,w,F,r))}))})}),{res:o,usedKey:c,exactUsedKey:d,usedLng:m,usedNS:g}}isValidLookup(s){return s!==void 0&&!(!this.options.returnNull&&s===null)&&!(!this.options.returnEmptyString&&s==="")}getResource(s,r,o,c={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(s,r,o,c):this.resourceStore.getResource(s,r,o,c)}getUsedParamsDetails(s={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=s.replace&&!re(s.replace);let c=o?s.replace:s;if(o&&typeof s.count<"u"&&(c.count=s.count),this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),!o){c={...c};for(const d of r)delete c[d]}return c}static hasDefaultValue(s){const r="defaultValue";for(const o in s)if(Object.prototype.hasOwnProperty.call(s,o)&&r===o.substring(0,r.length)&&s[o]!==void 0)return!0;return!1}}class ig{constructor(s){this.options=s,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Qt.create("languageUtils")}getScriptPartFromCode(s){if(s=bs(s),!s||s.indexOf("-")<0)return null;const r=s.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(s){if(s=bs(s),!s||s.indexOf("-")<0)return s;const r=s.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(s){if(re(s)&&s.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(s)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?s.toLowerCase():s)}return this.options.cleanCode||this.options.lowerCaseLng?s.toLowerCase():s}isSupportedCode(s){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(s=this.getLanguagePartFromCode(s)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(s)>-1}getBestMatchFromCodes(s){if(!s)return null;let r;return s.forEach(o=>{if(r)return;const c=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(c))&&(r=c)}),!r&&this.options.supportedLngs&&s.forEach(o=>{if(r)return;const c=this.getScriptPartFromCode(o);if(this.isSupportedCode(c))return r=c;const d=this.getLanguagePartFromCode(o);if(this.isSupportedCode(d))return r=d;r=this.options.supportedLngs.find(m=>{if(m===d)return m;if(!(m.indexOf("-")<0&&d.indexOf("-")<0)&&(m.indexOf("-")>0&&d.indexOf("-")<0&&m.substring(0,m.indexOf("-"))===d||m.indexOf(d)===0&&d.length>1))return m})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(s,r){if(!s)return[];if(typeof s=="function"&&(s=s(r)),re(s)&&(s=[s]),Array.isArray(s))return s;if(!r)return s.default||[];let o=s[r];return o||(o=s[this.getScriptPartFromCode(r)]),o||(o=s[this.formatLanguageCode(r)]),o||(o=s[this.getLanguagePartFromCode(r)]),o||(o=s.default),o||[]}toResolveHierarchy(s,r){const o=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],s),c=[],d=m=>{m&&(this.isSupportedCode(m)?c.push(m):this.logger.warn(`rejecting language code not found in supportedLngs: ${m}`))};return re(s)&&(s.indexOf("-")>-1||s.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(s)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(s)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(s))):re(s)&&d(this.formatLanguageCode(s)),o.forEach(m=>{c.indexOf(m)<0&&d(this.formatLanguageCode(m))}),c}}const sg={zero:0,one:1,two:2,few:3,many:4,other:5},rg={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class vx{constructor(s,r={}){this.languageUtils=s,this.options=r,this.logger=Qt.create("pluralResolver"),this.pluralRulesCache={}}addRule(s,r){this.rules[s]=r}clearCache(){this.pluralRulesCache={}}getRule(s,r={}){const o=bs(s==="dev"?"en":s),c=r.ordinal?"ordinal":"cardinal",d=JSON.stringify({cleanedCode:o,type:c});if(d in this.pluralRulesCache)return this.pluralRulesCache[d];let m;try{m=new Intl.PluralRules(o,{type:c})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),rg;if(!s.match(/-|_/))return rg;const h=this.languageUtils.getLanguagePartFromCode(s);m=this.getRule(h,r)}return this.pluralRulesCache[d]=m,m}needsPlural(s,r={}){let o=this.getRule(s,r);return o||(o=this.getRule("dev",r)),o?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(s,r,o={}){return this.getSuffixes(s,o).map(c=>`${r}${c}`)}getSuffixes(s,r={}){let o=this.getRule(s,r);return o||(o=this.getRule("dev",r)),o?o.resolvedOptions().pluralCategories.sort((c,d)=>sg[c]-sg[d]).map(c=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${c}`):[]}getSuffix(s,r,o={}){const c=this.getRule(s,o);return c?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${c.select(r)}`:(this.logger.warn(`no plural rule found for: ${s}`),this.getSuffix("dev",r,o))}}const lg=(i,s,r,o=".",c=!0)=>{let d=ox(i,s,r);return!d&&c&&re(r)&&(d=Yu(i,r,o),d===void 0&&(d=Yu(s,r,o))),d},Uu=i=>i.replace(/\$/g,"$$$$");class og{constructor(s={}){this.logger=Qt.create("interpolator"),this.options=s,this.format=s?.interpolation?.format||(r=>r),this.init(s)}init(s={}){s.interpolation||(s.interpolation={escapeValue:!0});const{escape:r,escapeValue:o,useRawValueToEscape:c,prefix:d,prefixEscaped:m,suffix:g,suffixEscaped:h,formatSeparator:v,unescapeSuffix:x,unescapePrefix:b,nestingPrefix:C,nestingPrefixEscaped:q,nestingSuffix:E,nestingSuffixEscaped:B,nestingOptionsSeparator:w,maxReplaces:k,alwaysFormat:I}=s.interpolation;this.escape=r!==void 0?r:cx,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=c!==void 0?c:!1,this.prefix=d?oi(d):m||"{{",this.suffix=g?oi(g):h||"}}",this.formatSeparator=v||",",this.unescapePrefix=x?"":b||"-",this.unescapeSuffix=this.unescapePrefix?"":x||"",this.nestingPrefix=C?oi(C):q||oi("$t("),this.nestingSuffix=E?oi(E):B||oi(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=k||1e3,this.alwaysFormat=I!==void 0?I:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const s=(r,o)=>r?.source===o?(r.lastIndex=0,r):new RegExp(o,"g");this.regexp=s(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=s(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=s(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(s,r,o,c){let d,m,g;const h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},v=q=>{if(q.indexOf(this.formatSeparator)<0){const k=lg(r,h,q,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,o,{...c,...r,interpolationkey:q}):k}const E=q.split(this.formatSeparator),B=E.shift().trim(),w=E.join(this.formatSeparator).trim();return this.format(lg(r,h,B,this.options.keySeparator,this.options.ignoreJSONStructure),w,o,{...c,...r,interpolationkey:B})};this.resetRegExp();const x=c?.missingInterpolationHandler||this.options.missingInterpolationHandler,b=c?.interpolation?.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:q=>Uu(q)},{regex:this.regexp,safeValue:q=>this.escapeValue?Uu(this.escape(q)):Uu(q)}].forEach(q=>{for(g=0;d=q.regex.exec(s);){const E=d[1].trim();if(m=v(E),m===void 0)if(typeof x=="function"){const w=x(s,d,c);m=re(w)?w:""}else if(c&&Object.prototype.hasOwnProperty.call(c,E))m="";else if(b){m=d[0];continue}else this.logger.warn(`missed to pass in variable ${E} for interpolating ${s}`),m="";else!re(m)&&!this.useRawValueToEscape&&(m=$f(m));const B=q.safeValue(m);if(s=s.replace(d[0],B),b?(q.regex.lastIndex+=m.length,q.regex.lastIndex-=d[0].length):q.regex.lastIndex=0,g++,g>=this.maxReplaces)break}}),s}nest(s,r,o={}){let c,d,m;const g=(h,v)=>{const x=this.nestingOptionsSeparator;if(h.indexOf(x)<0)return h;const b=h.split(new RegExp(`${x}[ ]*{`));let C=`{${b[1]}`;h=b[0],C=this.interpolate(C,m);const q=C.match(/'/g),E=C.match(/"/g);((q?.length??0)%2===0&&!E||E.length%2!==0)&&(C=C.replace(/'/g,'"'));try{m=JSON.parse(C),v&&(m={...v,...m})}catch(B){return this.logger.warn(`failed parsing options string in nesting for key ${h}`,B),`${h}${x}${C}`}return m.defaultValue&&m.defaultValue.indexOf(this.prefix)>-1&&delete m.defaultValue,h};for(;c=this.nestingRegexp.exec(s);){let h=[];m={...o},m=m.replace&&!re(m.replace)?m.replace:m,m.applyPostProcessor=!1,delete m.defaultValue;const v=/{.*}/.test(c[1])?c[1].lastIndexOf("}")+1:c[1].indexOf(this.formatSeparator);if(v!==-1&&(h=c[1].slice(v).split(this.formatSeparator).map(x=>x.trim()).filter(Boolean),c[1]=c[1].slice(0,v)),d=r(g.call(this,c[1].trim(),m),m),d&&c[0]===s&&!re(d))return d;re(d)||(d=$f(d)),d||(this.logger.warn(`missed to resolve ${c[1]} for nesting ${s}`),d=""),h.length&&(d=h.reduce((x,b)=>this.format(x,b,o.lng,{...o,interpolationkey:c[1].trim()}),d.trim())),s=s.replace(c[0],d),this.regexp.lastIndex=0}return s}}const bx=i=>{let s=i.toLowerCase().trim();const r={};if(i.indexOf("(")>-1){const o=i.split("(");s=o[0].toLowerCase().trim();const c=o[1].substring(0,o[1].length-1);s==="currency"&&c.indexOf(":")<0?r.currency||(r.currency=c.trim()):s==="relativetime"&&c.indexOf(":")<0?r.range||(r.range=c.trim()):c.split(";").forEach(m=>{if(m){const[g,...h]=m.split(":"),v=h.join(":").trim().replace(/^'+|'+$/g,""),x=g.trim();r[x]||(r[x]=v),v==="false"&&(r[x]=!1),v==="true"&&(r[x]=!0),isNaN(v)||(r[x]=parseInt(v,10))}})}return{formatName:s,formatOptions:r}},ug=i=>{const s={};return(r,o,c)=>{let d=c;c&&c.interpolationkey&&c.formatParams&&c.formatParams[c.interpolationkey]&&c[c.interpolationkey]&&(d={...d,[c.interpolationkey]:void 0});const m=o+JSON.stringify(d);let g=s[m];return g||(g=i(bs(o),c),s[m]=g),g(r)}},yx=i=>(s,r,o)=>i(bs(r),o)(s);class xx{constructor(s={}){this.logger=Qt.create("formatter"),this.options=s,this.init(s)}init(s,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const o=r.cacheInBuiltFormats?ug:yx;this.formats={number:o((c,d)=>{const m=new Intl.NumberFormat(c,{...d});return g=>m.format(g)}),currency:o((c,d)=>{const m=new Intl.NumberFormat(c,{...d,style:"currency"});return g=>m.format(g)}),datetime:o((c,d)=>{const m=new Intl.DateTimeFormat(c,{...d});return g=>m.format(g)}),relativetime:o((c,d)=>{const m=new Intl.RelativeTimeFormat(c,{...d});return g=>m.format(g,d.range||"day")}),list:o((c,d)=>{const m=new Intl.ListFormat(c,{...d});return g=>m.format(g)})}}add(s,r){this.formats[s.toLowerCase().trim()]=r}addCached(s,r){this.formats[s.toLowerCase().trim()]=ug(r)}format(s,r,o,c={}){const d=r.split(this.formatSeparator);if(d.length>1&&d[0].indexOf("(")>1&&d[0].indexOf(")")<0&&d.find(g=>g.indexOf(")")>-1)){const g=d.findIndex(h=>h.indexOf(")")>-1);d[0]=[d[0],...d.splice(1,g)].join(this.formatSeparator)}return d.reduce((g,h)=>{const{formatName:v,formatOptions:x}=bx(h);if(this.formats[v]){let b=g;try{const C=c?.formatParams?.[c.interpolationkey]||{},q=C.locale||C.lng||c.locale||c.lng||o;b=this.formats[v](g,q,{...x,...c,...C})}catch(C){this.logger.warn(C)}return b}else this.logger.warn(`there was no format function for ${v}`);return g},s)}}const Sx=(i,s)=>{i.pending[s]!==void 0&&(delete i.pending[s],i.pendingCount--)};class _x extends nl{constructor(s,r,o,c={}){super(),this.backend=s,this.store=r,this.services=o,this.languageUtils=o.languageUtils,this.options=c,this.logger=Qt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=c.maxParallelReads||10,this.readingCalls=0,this.maxRetries=c.maxRetries>=0?c.maxRetries:5,this.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(o,c.backend,c)}queueLoad(s,r,o,c){const d={},m={},g={},h={};return s.forEach(v=>{let x=!0;r.forEach(b=>{const C=`${v}|${b}`;!o.reload&&this.store.hasResourceBundle(v,b)?this.state[C]=2:this.state[C]<0||(this.state[C]===1?m[C]===void 0&&(m[C]=!0):(this.state[C]=1,x=!1,m[C]===void 0&&(m[C]=!0),d[C]===void 0&&(d[C]=!0),h[b]===void 0&&(h[b]=!0)))}),x||(g[v]=!0)}),(Object.keys(d).length||Object.keys(m).length)&&this.queue.push({pending:m,pendingCount:Object.keys(m).length,loaded:{},errors:[],callback:c}),{toLoad:Object.keys(d),pending:Object.keys(m),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(h)}}loaded(s,r,o){const c=s.split("|"),d=c[0],m=c[1];r&&this.emit("failedLoading",d,m,r),!r&&o&&this.store.addResourceBundle(d,m,o,void 0,void 0,{skipCopy:!0}),this.state[s]=r?-1:2,r&&o&&(this.state[s]=0);const g={};this.queue.forEach(h=>{lx(h.loaded,[d],m),Sx(h,s),r&&h.errors.push(r),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(v=>{g[v]||(g[v]={});const x=h.loaded[v];x.length&&x.forEach(b=>{g[v][b]===void 0&&(g[v][b]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",g),this.queue=this.queue.filter(h=>!h.done)}read(s,r,o,c=0,d=this.retryTimeout,m){if(!s.length)return m(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:s,ns:r,fcName:o,tried:c,wait:d,callback:m});return}this.readingCalls++;const g=(v,x)=>{if(this.readingCalls--,this.waitingReads.length>0){const b=this.waitingReads.shift();this.read(b.lng,b.ns,b.fcName,b.tried,b.wait,b.callback)}if(v&&x&&c<this.maxRetries){setTimeout(()=>{this.read.call(this,s,r,o,c+1,d*2,m)},d);return}m(v,x)},h=this.backend[o].bind(this.backend);if(h.length===2){try{const v=h(s,r);v&&typeof v.then=="function"?v.then(x=>g(null,x)).catch(g):g(null,v)}catch(v){g(v)}return}return h(s,r,g)}prepareLoading(s,r,o={},c){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();re(s)&&(s=this.languageUtils.toResolveHierarchy(s)),re(r)&&(r=[r]);const d=this.queueLoad(s,r,o,c);if(!d.toLoad.length)return d.pending.length||c(),null;d.toLoad.forEach(m=>{this.loadOne(m)})}load(s,r,o){this.prepareLoading(s,r,{},o)}reload(s,r,o){this.prepareLoading(s,r,{reload:!0},o)}loadOne(s,r=""){const o=s.split("|"),c=o[0],d=o[1];this.read(c,d,"read",void 0,void 0,(m,g)=>{m&&this.logger.warn(`${r}loading namespace ${d} for language ${c} failed`,m),!m&&g&&this.logger.log(`${r}loaded namespace ${d} for language ${c}`,g),this.loaded(s,m,g)})}saveMissing(s,r,o,c,d,m={},g=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${o}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend?.create){const h={...m,isUpdate:d},v=this.backend.create.bind(this.backend);if(v.length<6)try{let x;v.length===5?x=v(s,r,o,c,h):x=v(s,r,o,c),x&&typeof x.then=="function"?x.then(b=>g(null,b)).catch(g):g(null,x)}catch(x){g(x)}else v(s,r,o,c,g,h)}!s||!s[0]||this.store.addResource(s[0],r,o,c)}}}const cg=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let s={};if(typeof i[1]=="object"&&(s=i[1]),re(i[1])&&(s.defaultValue=i[1]),re(i[2])&&(s.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const r=i[3]||i[2];Object.keys(r).forEach(o=>{s[o]=r[o]})}return s},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),dg=i=>(re(i.ns)&&(i.ns=[i.ns]),re(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),re(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs?.indexOf?.("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i),Ir=()=>{},Ax=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(r=>{typeof i[r]=="function"&&(i[r]=i[r].bind(i))})};class hs extends nl{constructor(s={},r){if(super(),this.options=dg(s),this.services={},this.logger=Qt,this.modules={external:[]},Ax(this),r&&!this.isInitialized&&!s.isClone){if(!this.options.initAsync)return this.init(s,r),this;setTimeout(()=>{this.init(s,r)},0)}}init(s={},r){this.isInitializing=!0,typeof s=="function"&&(r=s,s={}),s.defaultNS==null&&s.ns&&(re(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const o=cg();this.options={...o,...this.options,...dg(s)},this.options.interpolation={...o.interpolation,...this.options.interpolation},s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=o.overloadTranslationOptionHandler);const c=v=>v?typeof v=="function"?new v:v:null;if(!this.options.isClone){this.modules.logger?Qt.init(c(this.modules.logger),this.options):Qt.init(null,this.options);let v;this.modules.formatter?v=this.modules.formatter:v=xx;const x=new ig(this.options);this.store=new ag(this.options.resources,this.options);const b=this.services;b.logger=Qt,b.resourceStore=this.store,b.languageUtils=x,b.pluralResolver=new vx(x,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),v&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(b.formatter=c(v),b.formatter.init&&b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new og(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new _x(c(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",(q,...E)=>{this.emit(q,...E)}),this.modules.languageDetector&&(b.languageDetector=c(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=c(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new Xr(this.services,this.options),this.translator.on("*",(q,...E)=>{this.emit(q,...E)}),this.modules.external.forEach(q=>{q.init&&q.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ir),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const v=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);v.length>0&&v[0]!=="dev"&&(this.options.lng=v[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(v=>{this[v]=(...x)=>this.store[v](...x)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(v=>{this[v]=(...x)=>(this.store[v](...x),this)});const g=fs(),h=()=>{const v=(x,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),g.resolve(b),r(x,b)};if(this.languages&&!this.isInitialized)return v(null,this.t.bind(this));this.changeLanguage(this.options.lng,v)};return this.options.resources||!this.options.initAsync?h():setTimeout(h,0),g}loadResources(s,r=Ir){let o=r;const c=re(s)?s:this.language;if(typeof s=="function"&&(o=s),!this.options.resources||this.options.partialBundledLanguages){if(c?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const d=[],m=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(v=>{v!=="cimode"&&d.indexOf(v)<0&&d.push(v)})};c?m(c):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>m(h)),this.options.preload?.forEach?.(g=>m(g)),this.services.backendConnector.load(d,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(g)})}else o(null)}reloadResources(s,r,o){const c=fs();return typeof s=="function"&&(o=s,s=void 0),typeof r=="function"&&(o=r,r=void 0),s||(s=this.languages),r||(r=this.options.ns),o||(o=Ir),this.services.backendConnector.reload(s,r,d=>{c.resolve(),o(d)}),c}use(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&th.addPostProcessor(s),s.type==="formatter"&&(this.modules.formatter=s),s.type==="3rdParty"&&this.modules.external.push(s),this}setResolvedLanguage(s){if(!(!s||!this.languages)&&!(["cimode","dev"].indexOf(s)>-1)){for(let r=0;r<this.languages.length;r++){const o=this.languages[r];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}!this.resolvedLanguage&&this.languages.indexOf(s)<0&&this.store.hasLanguageSomeTranslations(s)&&(this.resolvedLanguage=s,this.languages.unshift(s))}}changeLanguage(s,r){this.isLanguageChangingTo=s;const o=fs();this.emit("languageChanging",s);const c=g=>{this.language=g,this.languages=this.services.languageUtils.toResolveHierarchy(g),this.resolvedLanguage=void 0,this.setResolvedLanguage(g)},d=(g,h)=>{h?this.isLanguageChangingTo===s&&(c(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,o.resolve((...v)=>this.t(...v)),r&&r(g,(...v)=>this.t(...v))},m=g=>{!s&&!g&&this.services.languageDetector&&(g=[]);const h=re(g)?g:g&&g[0],v=this.store.hasLanguageSomeTranslations(h)?h:this.services.languageUtils.getBestMatchFromCodes(re(g)?[g]:g);v&&(this.language||c(v),this.translator.language||this.translator.changeLanguage(v),this.services.languageDetector?.cacheUserLanguage?.(v)),this.loadResources(v,x=>{d(x,v)})};return!s&&this.services.languageDetector&&!this.services.languageDetector.async?m(this.services.languageDetector.detect()):!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(m):this.services.languageDetector.detect(m):m(s),o}getFixedT(s,r,o){const c=(d,m,...g)=>{let h;typeof m!="object"?h=this.options.overloadTranslationOptionHandler([d,m].concat(g)):h={...m},h.lng=h.lng||c.lng,h.lngs=h.lngs||c.lngs,h.ns=h.ns||c.ns,h.keyPrefix!==""&&(h.keyPrefix=h.keyPrefix||o||c.keyPrefix);const v=this.options.keySeparator||".";let x;return h.keyPrefix&&Array.isArray(d)?x=d.map(b=>(typeof b=="function"&&(b=Zu(b,{...this.options,...m})),`${h.keyPrefix}${v}${b}`)):(typeof d=="function"&&(d=Zu(d,{...this.options,...m})),x=h.keyPrefix?`${h.keyPrefix}${v}${d}`:d),this.t(x,h)};return re(s)?c.lng=s:c.lngs=s,c.ns=r,c.keyPrefix=o,c}t(...s){return this.translator?.translate(...s)}exists(...s){return this.translator?.exists(...s)}setDefaultNamespace(s){this.options.defaultNS=s}hasLoadedNamespace(s,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=r.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const m=(g,h)=>{const v=this.services.backendConnector.state[`${g}|${h}`];return v===-1||v===0||v===2};if(r.precheck){const g=r.precheck(this,m);if(g!==void 0)return g}return!!(this.hasResourceBundle(o,s)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||m(o,s)&&(!c||m(d,s)))}loadNamespaces(s,r){const o=fs();return this.options.ns?(re(s)&&(s=[s]),s.forEach(c=>{this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}),this.loadResources(c=>{o.resolve(),r&&r(c)}),o):(r&&r(),Promise.resolve())}loadLanguages(s,r){const o=fs();re(s)&&(s=[s]);const c=this.options.preload||[],d=s.filter(m=>c.indexOf(m)<0&&this.services.languageUtils.isSupportedCode(m));return d.length?(this.options.preload=c.concat(d),this.loadResources(m=>{o.resolve(),r&&r(m)}),o):(r&&r(),Promise.resolve())}dir(s){if(s||(s=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!s)return"rtl";try{const c=new Intl.Locale(s);if(c&&c.getTextInfo){const d=c.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services?.languageUtils||new ig(cg());return s.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(o.getLanguagePartFromCode(s))>-1||s.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(s={},r){const o=new hs(s,r);return o.createInstance=hs.createInstance,o}cloneInstance(s={},r=Ir){const o=s.forkResourceStore;o&&delete s.forkResourceStore;const c={...this.options,...s,isClone:!0},d=new hs(c);if((s.debug!==void 0||s.prefix!==void 0)&&(d.logger=d.logger.clone(s)),["store","services","language"].forEach(g=>{d[g]=this[g]}),d.services={...this.services},d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},o){const g=Object.keys(this.store.data).reduce((h,v)=>(h[v]={...this.store.data[v]},h[v]=Object.keys(h[v]).reduce((x,b)=>(x[b]={...h[v][b]},x),h[v]),h),{});d.store=new ag(g,c),d.services.resourceStore=d.store}return s.interpolation&&(d.services.interpolator=new og(c)),d.translator=new Xr(d.services,c),d.translator.on("*",(g,...h)=>{d.emit(g,...h)}),d.init(c,r),d.translator.options=c,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ot=hs.createInstance();ot.createInstance;ot.dir;ot.init;ot.loadResources;ot.reloadResources;ot.use;ot.changeLanguage;ot.getFixedT;ot.t;ot.exists;ot.setDefaultNamespace;ot.hasLoadedNamespace;ot.loadNamespaces;ot.loadLanguages;const Cx=(i,s,r,o)=>{const c=[r,{code:s,...o||{}}];if(i?.services?.logger?.forward)return i.services.logger.forward(c,"warn","react-i18next::",!0);_n(c[0])&&(c[0]=`react-i18next:: ${c[0]}`),i?.services?.logger?.warn?i.services.logger.warn(...c):console?.warn&&console.warn(...c)},mg={},nh=(i,s,r,o)=>{_n(r)&&mg[r]||(_n(r)&&(mg[r]=new Date),Cx(i,s,r,o))},ih=(i,s)=>()=>{if(i.isInitialized)s();else{const r=()=>{setTimeout(()=>{i.off("initialized",r)},0),s()};i.on("initialized",r)}},Ku=(i,s,r)=>{i.loadNamespaces(s,ih(i,r))},pg=(i,s,r,o)=>{if(_n(r)&&(r=[r]),i.options.preload&&i.options.preload.indexOf(s)>-1)return Ku(i,r,o);r.forEach(c=>{i.options.ns.indexOf(c)<0&&i.options.ns.push(c)}),i.loadLanguages(s,ih(i,o))},qx=(i,s,r={})=>!s.languages||!s.languages.length?(nh(s,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:s.languages}),!0):s.hasLoadedNamespace(i,{lng:r.lng,precheck:(o,c)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!c(o.isLanguageChangingTo,i))return!1}}),_n=i=>typeof i=="string",jx=i=>typeof i=="object"&&i!==null,Dx=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Nx={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Tx=i=>Nx[i],Ex=i=>i.replace(Dx,Tx);let Xu={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ex,transDefaultProps:void 0};const Mx=(i={})=>{Xu={...Xu,...i}},Rx=()=>Xu;let sh;const Lx=i=>{sh=i},zx=()=>sh,Ox={type:"3rdParty",init(i){Mx(i.options.react),Lx(i)}},wx=D.createContext();class Ux{constructor(){this.usedNamespaces={}}addUsedNamespaces(s){s.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Hu={exports:{}},Bu={};var fg;function Hx(){if(fg)return Bu;fg=1;var i=Wr();function s(b,C){return b===C&&(b!==0||1/b===1/C)||b!==b&&C!==C}var r=typeof Object.is=="function"?Object.is:s,o=i.useState,c=i.useEffect,d=i.useLayoutEffect,m=i.useDebugValue;function g(b,C){var q=C(),E=o({inst:{value:q,getSnapshot:C}}),B=E[0].inst,w=E[1];return d(function(){B.value=q,B.getSnapshot=C,h(B)&&w({inst:B})},[b,q,C]),c(function(){return h(B)&&w({inst:B}),b(function(){h(B)&&w({inst:B})})},[b]),m(q),q}function h(b){var C=b.getSnapshot;b=b.value;try{var q=C();return!r(b,q)}catch{return!0}}function v(b,C){return C()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:g;return Bu.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:x,Bu}var gg;function Bx(){return gg||(gg=1,Hu.exports=Hx()),Hu.exports}var Vx=Bx();const kx=(i,s)=>_n(s)?s:jx(s)&&_n(s.defaultValue)?s.defaultValue:Array.isArray(i)?i[i.length-1]:i,Ix={t:kx,ready:!1},Gx=()=>()=>{},rh=(i,s={})=>{const{i18n:r}=s,{i18n:o,defaultNS:c}=D.useContext(wx)||{},d=r||o||zx();d&&!d.reportNamespaces&&(d.reportNamespaces=new Ux),d||nh(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const m=D.useMemo(()=>({...Rx(),...d?.options?.react,...s}),[d,s]),{useSuspense:g,keyPrefix:h}=m,v=c||d?.options?.defaultNS,x=_n(v)?[v]:v||["translation"],b=D.useMemo(()=>x,x);d?.reportNamespaces?.addUsedNamespaces?.(b);const C=D.useRef(0),q=D.useCallback(Y=>{if(!d)return Gx;const{bindI18n:ee,bindI18nStore:le}=m,Z=()=>{C.current+=1,Y()};return ee&&d.on(ee,Z),le&&d.store.on(le,Z),()=>{ee&&ee.split(" ").forEach(Re=>d.off(Re,Z)),le&&le.split(" ").forEach(Re=>d.store.off(Re,Z))}},[d,m]),E=D.useRef(),B=D.useCallback(()=>{if(!d)return Ix;const Y=!!(d.isInitialized||d.initializedStoreOnce)&&b.every(Ue=>qx(Ue,d,m)),ee=s.lng||d.language,le=C.current,Z=E.current;if(Z&&Z.ready===Y&&Z.lng===ee&&Z.keyPrefix===h&&Z.revision===le)return Z;const me={t:d.getFixedT(ee,m.nsMode==="fallback"?b:b[0],h),ready:Y,lng:ee,keyPrefix:h,revision:le};return E.current=me,me},[d,b,h,m,s.lng]),[w,k]=D.useState(0),{t:I,ready:F}=Vx.useSyncExternalStore(q,B,B);D.useEffect(()=>{if(d&&!F&&!g){const Y=()=>k(ee=>ee+1);s.lng?pg(d,s.lng,b,Y):Ku(d,b,Y)}},[d,s.lng,b,F,g,w]);const $=d||{},se=D.useRef(null),Q=D.useRef(),G=Y=>{const ee=Object.getOwnPropertyDescriptors(Y);ee.__original&&delete ee.__original;const le=Object.create(Object.getPrototypeOf(Y),ee);if(!Object.prototype.hasOwnProperty.call(le,"__original"))try{Object.defineProperty(le,"__original",{value:Y,writable:!1,enumerable:!1,configurable:!1})}catch{}return le},te=D.useMemo(()=>{const Y=$,ee=Y?.language;let le=Y;Y&&(se.current&&se.current.__original===Y?Q.current!==ee?(le=G(Y),se.current=le,Q.current=ee):le=se.current:(le=G(Y),se.current=le,Q.current=ee));const Z=[I,le,F];return Z.t=I,Z.i18n=le,Z.ready=F,Z},[I,$,F,$.resolvedLanguage,$.language,$.languages]);if(d&&g&&!F)throw new Promise(Y=>{const ee=()=>Y();s.lng?pg(d,s.lng,b,ee):Ku(d,b,ee)});return te};function hc({value:i,onChange:s,placeholder:r,className:o}){const{t:c}=rh();return f.jsxs("div",{className:Ve("flex items-center gap-3 px-4 py-2 rounded-md border border-surface-border bg-surface/70 transition-all duration-200","focus-within:border-accent-dark focus-within:shadow-glow",o),children:[f.jsx(Jg,{size:18,className:"text-content-subtle","aria-hidden":"true"}),f.jsx("input",{type:"search",value:i,onChange:d=>s(d.target.value),placeholder:r||c("search.placeholder"),className:"bg-transparent outline-none w-full text-sm text-content placeholder:text-content-subtle","aria-label":r||c("search.placeholder")})]})}hc.propTypes={value:z.string.isRequired,onChange:z.func.isRequired,placeholder:z.string,className:z.string};hc.defaultProps={placeholder:"Rechercher...",className:""};function xa(i){return Array.isArray?Array.isArray(i):uh(i)==="[object Array]"}function Px(i){if(typeof i=="string")return i;let s=i+"";return s=="0"&&1/i==-1/0?"-0":s}function Fx(i){return i==null?"":Px(i)}function Yt(i){return typeof i=="string"}function lh(i){return typeof i=="number"}function Jx(i){return i===!0||i===!1||Qx(i)&&uh(i)=="[object Boolean]"}function oh(i){return typeof i=="object"}function Qx(i){return oh(i)&&i!==null}function Dt(i){return i!=null}function Vu(i){return!i.trim().length}function uh(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(i)}const Yx="Incorrect 'index' type",Zx=i=>`Invalid value for key ${i}`,Kx=i=>`Pattern length exceeds max of ${i}.`,Xx=i=>`Missing ${i} property in key`,$x=i=>`Property 'weight' in key '${i}' must be a positive integer`,hg=Object.prototype.hasOwnProperty;class Wx{constructor(s){this._keys=[],this._keyMap={};let r=0;s.forEach(o=>{let c=ch(o);r+=c.weight,this._keys.push(c),this._keyMap[c.id]=c,r+=c.weight}),this._keys.forEach(o=>{o.weight/=r})}get(s){return this._keyMap[s]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ch(i){let s=null,r=null,o=null,c=1,d=null;if(Yt(i)||xa(i))o=i,s=vg(i),r=$u(i);else{if(!hg.call(i,"name"))throw new Error(Xx("name"));const m=i.name;if(o=m,hg.call(i,"weight")&&(c=i.weight,c<=0))throw new Error($x(m));s=vg(m),r=$u(m),d=i.getFn}return{path:s,id:r,weight:c,src:o,getFn:d}}function vg(i){return xa(i)?i:i.split(".")}function $u(i){return xa(i)?i.join("."):i}function eS(i,s){let r=[],o=!1;const c=(d,m,g)=>{if(Dt(d))if(!m[g])r.push(d);else{let h=m[g];const v=d[h];if(!Dt(v))return;if(g===m.length-1&&(Yt(v)||lh(v)||Jx(v)))r.push(Fx(v));else if(xa(v)){o=!0;for(let x=0,b=v.length;x<b;x+=1)c(v[x],m,g+1)}else m.length&&c(v,m,g+1)}};return c(i,Yt(s)?s.split("."):s,0),o?r:r[0]}const tS={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},aS={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(i,s)=>i.score===s.score?i.idx<s.idx?-1:1:i.score<s.score?-1:1},nS={location:0,threshold:.6,distance:100},iS={useExtendedSearch:!1,getFn:eS,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var oe={...aS,...tS,...nS,...iS};const sS=/[^ ]+/g;function rS(i=1,s=3){const r=new Map,o=Math.pow(10,s);return{get(c){const d=c.match(sS).length;if(r.has(d))return r.get(d);const m=1/Math.pow(d,.5*i),g=parseFloat(Math.round(m*o)/o);return r.set(d,g),g},clear(){r.clear()}}}class vc{constructor({getFn:s=oe.getFn,fieldNormWeight:r=oe.fieldNormWeight}={}){this.norm=rS(r,3),this.getFn=s,this.isCreated=!1,this.setIndexRecords()}setSources(s=[]){this.docs=s}setIndexRecords(s=[]){this.records=s}setKeys(s=[]){this.keys=s,this._keysMap={},s.forEach((r,o)=>{this._keysMap[r.id]=o})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Yt(this.docs[0])?this.docs.forEach((s,r)=>{this._addString(s,r)}):this.docs.forEach((s,r)=>{this._addObject(s,r)}),this.norm.clear())}add(s){const r=this.size();Yt(s)?this._addString(s,r):this._addObject(s,r)}removeAt(s){this.records.splice(s,1);for(let r=s,o=this.size();r<o;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(s,r){return s[this._keysMap[r]]}size(){return this.records.length}_addString(s,r){if(!Dt(s)||Vu(s))return;let o={v:s,i:r,n:this.norm.get(s)};this.records.push(o)}_addObject(s,r){let o={i:r,$:{}};this.keys.forEach((c,d)=>{let m=c.getFn?c.getFn(s):this.getFn(s,c.path);if(Dt(m)){if(xa(m)){let g=[];const h=[{nestedArrIndex:-1,value:m}];for(;h.length;){const{nestedArrIndex:v,value:x}=h.pop();if(Dt(x))if(Yt(x)&&!Vu(x)){let b={v:x,i:v,n:this.norm.get(x)};g.push(b)}else xa(x)&&x.forEach((b,C)=>{h.push({nestedArrIndex:C,value:b})})}o.$[d]=g}else if(Yt(m)&&!Vu(m)){let g={v:m,n:this.norm.get(m)};o.$[d]=g}}}),this.records.push(o)}toJSON(){return{keys:this.keys,records:this.records}}}function dh(i,s,{getFn:r=oe.getFn,fieldNormWeight:o=oe.fieldNormWeight}={}){const c=new vc({getFn:r,fieldNormWeight:o});return c.setKeys(i.map(ch)),c.setSources(s),c.create(),c}function lS(i,{getFn:s=oe.getFn,fieldNormWeight:r=oe.fieldNormWeight}={}){const{keys:o,records:c}=i,d=new vc({getFn:s,fieldNormWeight:r});return d.setKeys(o),d.setIndexRecords(c),d}function Gr(i,{errors:s=0,currentLocation:r=0,expectedLocation:o=0,distance:c=oe.distance,ignoreLocation:d=oe.ignoreLocation}={}){const m=s/i.length;if(d)return m;const g=Math.abs(o-r);return c?m+g/c:g?1:m}function oS(i=[],s=oe.minMatchCharLength){let r=[],o=-1,c=-1,d=0;for(let m=i.length;d<m;d+=1){let g=i[d];g&&o===-1?o=d:!g&&o!==-1&&(c=d-1,c-o+1>=s&&r.push([o,c]),o=-1)}return i[d-1]&&d-o>=s&&r.push([o,d-1]),r}const xn=32;function uS(i,s,r,{location:o=oe.location,distance:c=oe.distance,threshold:d=oe.threshold,findAllMatches:m=oe.findAllMatches,minMatchCharLength:g=oe.minMatchCharLength,includeMatches:h=oe.includeMatches,ignoreLocation:v=oe.ignoreLocation}={}){if(s.length>xn)throw new Error(Kx(xn));const x=s.length,b=i.length,C=Math.max(0,Math.min(o,b));let q=d,E=C;const B=g>1||h,w=B?Array(b):[];let k;for(;(k=i.indexOf(s,E))>-1;){let G=Gr(s,{currentLocation:k,expectedLocation:C,distance:c,ignoreLocation:v});if(q=Math.min(G,q),E=k+x,B){let te=0;for(;te<x;)w[k+te]=1,te+=1}}E=-1;let I=[],F=1,$=x+b;const se=1<<x-1;for(let G=0;G<x;G+=1){let te=0,Y=$;for(;te<Y;)Gr(s,{errors:G,currentLocation:C+Y,expectedLocation:C,distance:c,ignoreLocation:v})<=q?te=Y:$=Y,Y=Math.floor(($-te)/2+te);$=Y;let ee=Math.max(1,C-Y+1),le=m?b:Math.min(C+Y,b)+x,Z=Array(le+2);Z[le+1]=(1<<G)-1;for(let me=le;me>=ee;me-=1){let Ue=me-1,R=r[i.charAt(Ue)];if(B&&(w[Ue]=+!!R),Z[me]=(Z[me+1]<<1|1)&R,G&&(Z[me]|=(I[me+1]|I[me])<<1|1|I[me+1]),Z[me]&se&&(F=Gr(s,{errors:G,currentLocation:Ue,expectedLocation:C,distance:c,ignoreLocation:v}),F<=q)){if(q=F,E=Ue,E<=C)break;ee=Math.max(1,2*C-E)}}if(Gr(s,{errors:G+1,currentLocation:C,expectedLocation:C,distance:c,ignoreLocation:v})>q)break;I=Z}const Q={isMatch:E>=0,score:Math.max(.001,F)};if(B){const G=oS(w,g);G.length?h&&(Q.indices=G):Q.isMatch=!1}return Q}function cS(i){let s={};for(let r=0,o=i.length;r<o;r+=1){const c=i.charAt(r);s[c]=(s[c]||0)|1<<o-r-1}return s}class mh{constructor(s,{location:r=oe.location,threshold:o=oe.threshold,distance:c=oe.distance,includeMatches:d=oe.includeMatches,findAllMatches:m=oe.findAllMatches,minMatchCharLength:g=oe.minMatchCharLength,isCaseSensitive:h=oe.isCaseSensitive,ignoreLocation:v=oe.ignoreLocation}={}){if(this.options={location:r,threshold:o,distance:c,includeMatches:d,findAllMatches:m,minMatchCharLength:g,isCaseSensitive:h,ignoreLocation:v},this.pattern=h?s:s.toLowerCase(),this.chunks=[],!this.pattern.length)return;const x=(C,q)=>{this.chunks.push({pattern:C,alphabet:cS(C),startIndex:q})},b=this.pattern.length;if(b>xn){let C=0;const q=b%xn,E=b-q;for(;C<E;)x(this.pattern.substr(C,xn),C),C+=xn;if(q){const B=b-xn;x(this.pattern.substr(B),B)}}else x(this.pattern,0)}searchIn(s){const{isCaseSensitive:r,includeMatches:o}=this.options;if(r||(s=s.toLowerCase()),this.pattern===s){let E={isMatch:!0,score:0};return o&&(E.indices=[[0,s.length-1]]),E}const{location:c,distance:d,threshold:m,findAllMatches:g,minMatchCharLength:h,ignoreLocation:v}=this.options;let x=[],b=0,C=!1;this.chunks.forEach(({pattern:E,alphabet:B,startIndex:w})=>{const{isMatch:k,score:I,indices:F}=uS(s,E,B,{location:c+w,distance:d,threshold:m,findAllMatches:g,minMatchCharLength:h,includeMatches:o,ignoreLocation:v});k&&(C=!0),b+=I,k&&F&&(x=[...x,...F])});let q={isMatch:C,score:C?b/this.chunks.length:1};return C&&o&&(q.indices=x),q}}class Wa{constructor(s){this.pattern=s}static isMultiMatch(s){return bg(s,this.multiRegex)}static isSingleMatch(s){return bg(s,this.singleRegex)}search(){}}function bg(i,s){const r=i.match(s);return r?r[1]:null}class dS extends Wa{constructor(s){super(s)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(s){const r=s===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class mS extends Wa{constructor(s){super(s)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(s){const o=s.indexOf(this.pattern)===-1;return{isMatch:o,score:o?0:1,indices:[0,s.length-1]}}}class pS extends Wa{constructor(s){super(s)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(s){const r=s.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class fS extends Wa{constructor(s){super(s)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(s){const r=!s.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,s.length-1]}}}class gS extends Wa{constructor(s){super(s)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(s){const r=s.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[s.length-this.pattern.length,s.length-1]}}}class hS extends Wa{constructor(s){super(s)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(s){const r=!s.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,s.length-1]}}}class ph extends Wa{constructor(s,{location:r=oe.location,threshold:o=oe.threshold,distance:c=oe.distance,includeMatches:d=oe.includeMatches,findAllMatches:m=oe.findAllMatches,minMatchCharLength:g=oe.minMatchCharLength,isCaseSensitive:h=oe.isCaseSensitive,ignoreLocation:v=oe.ignoreLocation}={}){super(s),this._bitapSearch=new mh(s,{location:r,threshold:o,distance:c,includeMatches:d,findAllMatches:m,minMatchCharLength:g,isCaseSensitive:h,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(s){return this._bitapSearch.searchIn(s)}}class fh extends Wa{constructor(s){super(s)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(s){let r=0,o;const c=[],d=this.pattern.length;for(;(o=s.indexOf(this.pattern,r))>-1;)r=o+d,c.push([o,r-1]);const m=!!c.length;return{isMatch:m,score:m?0:1,indices:c}}}const Wu=[dS,fh,pS,fS,hS,gS,mS,ph],yg=Wu.length,vS=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,bS="|";function yS(i,s={}){return i.split(bS).map(r=>{let o=r.trim().split(vS).filter(d=>d&&!!d.trim()),c=[];for(let d=0,m=o.length;d<m;d+=1){const g=o[d];let h=!1,v=-1;for(;!h&&++v<yg;){const x=Wu[v];let b=x.isMultiMatch(g);b&&(c.push(new x(b,s)),h=!0)}if(!h)for(v=-1;++v<yg;){const x=Wu[v];let b=x.isSingleMatch(g);if(b){c.push(new x(b,s));break}}}return c})}const xS=new Set([ph.type,fh.type]);class SS{constructor(s,{isCaseSensitive:r=oe.isCaseSensitive,includeMatches:o=oe.includeMatches,minMatchCharLength:c=oe.minMatchCharLength,ignoreLocation:d=oe.ignoreLocation,findAllMatches:m=oe.findAllMatches,location:g=oe.location,threshold:h=oe.threshold,distance:v=oe.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:o,minMatchCharLength:c,findAllMatches:m,ignoreLocation:d,location:g,threshold:h,distance:v},this.pattern=r?s:s.toLowerCase(),this.query=yS(this.pattern,this.options)}static condition(s,r){return r.useExtendedSearch}searchIn(s){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:o,isCaseSensitive:c}=this.options;s=c?s:s.toLowerCase();let d=0,m=[],g=0;for(let h=0,v=r.length;h<v;h+=1){const x=r[h];m.length=0,d=0;for(let b=0,C=x.length;b<C;b+=1){const q=x[b],{isMatch:E,indices:B,score:w}=q.search(s);if(E){if(d+=1,g+=w,o){const k=q.constructor.type;xS.has(k)?m=[...m,...B]:m.push(B)}}else{g=0,d=0,m.length=0;break}}if(d){let b={isMatch:!0,score:g/d};return o&&(b.indices=m),b}}return{isMatch:!1,score:1}}}const ec=[];function _S(...i){ec.push(...i)}function tc(i,s){for(let r=0,o=ec.length;r<o;r+=1){let c=ec[r];if(c.condition(i,s))return new c(i,s)}return new mh(i,s)}const $r={AND:"$and",OR:"$or"},ac={PATH:"$path",PATTERN:"$val"},nc=i=>!!(i[$r.AND]||i[$r.OR]),AS=i=>!!i[ac.PATH],CS=i=>!xa(i)&&oh(i)&&!nc(i),xg=i=>({[$r.AND]:Object.keys(i).map(s=>({[s]:i[s]}))});function gh(i,s,{auto:r=!0}={}){const o=c=>{let d=Object.keys(c);const m=AS(c);if(!m&&d.length>1&&!nc(c))return o(xg(c));if(CS(c)){const h=m?c[ac.PATH]:d[0],v=m?c[ac.PATTERN]:c[h];if(!Yt(v))throw new Error(Zx(h));const x={keyId:$u(h),pattern:v};return r&&(x.searcher=tc(v,s)),x}let g={children:[],operator:d[0]};return d.forEach(h=>{const v=c[h];xa(v)&&v.forEach(x=>{g.children.push(o(x))})}),g};return nc(i)||(i=xg(i)),o(i)}function qS(i,{ignoreFieldNorm:s=oe.ignoreFieldNorm}){i.forEach(r=>{let o=1;r.matches.forEach(({key:c,norm:d,score:m})=>{const g=c?c.weight:null;o*=Math.pow(m===0&&g?Number.EPSILON:m,(g||1)*(s?1:d))}),r.score=o})}function jS(i,s){const r=i.matches;s.matches=[],Dt(r)&&r.forEach(o=>{if(!Dt(o.indices)||!o.indices.length)return;const{indices:c,value:d}=o;let m={indices:c,value:d};o.key&&(m.key=o.key.src),o.idx>-1&&(m.refIndex=o.idx),s.matches.push(m)})}function DS(i,s){s.score=i.score}function NS(i,s,{includeMatches:r=oe.includeMatches,includeScore:o=oe.includeScore}={}){const c=[];return r&&c.push(jS),o&&c.push(DS),i.map(d=>{const{idx:m}=d,g={item:s[m],refIndex:m};return c.length&&c.forEach(h=>{h(d,g)}),g})}class fi{constructor(s,r={},o){this.options={...oe,...r},this.options.useExtendedSearch,this._keyStore=new Wx(this.options.keys),this.setCollection(s,o)}setCollection(s,r){if(this._docs=s,r&&!(r instanceof vc))throw new Error(Yx);this._myIndex=r||dh(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(s){Dt(s)&&(this._docs.push(s),this._myIndex.add(s))}remove(s=()=>!1){const r=[];for(let o=0,c=this._docs.length;o<c;o+=1){const d=this._docs[o];s(d,o)&&(this.removeAt(o),o-=1,c-=1,r.push(d))}return r}removeAt(s){this._docs.splice(s,1),this._myIndex.removeAt(s)}getIndex(){return this._myIndex}search(s,{limit:r=-1}={}){const{includeMatches:o,includeScore:c,shouldSort:d,sortFn:m,ignoreFieldNorm:g}=this.options;let h=Yt(s)?Yt(this._docs[0])?this._searchStringList(s):this._searchObjectList(s):this._searchLogical(s);return qS(h,{ignoreFieldNorm:g}),d&&h.sort(m),lh(r)&&r>-1&&(h=h.slice(0,r)),NS(h,this._docs,{includeMatches:o,includeScore:c})}_searchStringList(s){const r=tc(s,this.options),{records:o}=this._myIndex,c=[];return o.forEach(({v:d,i:m,n:g})=>{if(!Dt(d))return;const{isMatch:h,score:v,indices:x}=r.searchIn(d);h&&c.push({item:d,idx:m,matches:[{score:v,value:d,norm:g,indices:x}]})}),c}_searchLogical(s){const r=gh(s,this.options),o=(g,h,v)=>{if(!g.children){const{keyId:b,searcher:C}=g,q=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(h,b),searcher:C});return q&&q.length?[{idx:v,item:h,matches:q}]:[]}const x=[];for(let b=0,C=g.children.length;b<C;b+=1){const q=g.children[b],E=o(q,h,v);if(E.length)x.push(...E);else if(g.operator===$r.AND)return[]}return x},c=this._myIndex.records,d={},m=[];return c.forEach(({$:g,i:h})=>{if(Dt(g)){let v=o(r,g,h);v.length&&(d[h]||(d[h]={idx:h,item:g,matches:[]},m.push(d[h])),v.forEach(({matches:x})=>{d[h].matches.push(...x)}))}}),m}_searchObjectList(s){const r=tc(s,this.options),{keys:o,records:c}=this._myIndex,d=[];return c.forEach(({$:m,i:g})=>{if(!Dt(m))return;let h=[];o.forEach((v,x)=>{h.push(...this._findMatches({key:v,value:m[x],searcher:r}))}),h.length&&d.push({idx:g,item:m,matches:h})}),d}_findMatches({key:s,value:r,searcher:o}){if(!Dt(r))return[];let c=[];if(xa(r))r.forEach(({v:d,i:m,n:g})=>{if(!Dt(d))return;const{isMatch:h,score:v,indices:x}=o.searchIn(d);h&&c.push({score:v,key:s,value:d,idx:m,norm:g,indices:x})});else{const{v:d,n:m}=r,{isMatch:g,score:h,indices:v}=o.searchIn(d);g&&c.push({score:h,key:s,value:d,norm:m,indices:v})}return c}}fi.version="6.6.2";fi.createIndex=dh;fi.parseIndex=lS;fi.config=oe;fi.parseQuery=gh;_S(SS);const TS={title:"Le Monde de l'Ombre",intro:"Val-d'Ombre, cit industrielle et gothique, touffe sous la poussire de roche et les vapeurs mtalliques.",sections:[{title:"Atmosphre Gnrale",content:["Val-d'Ombre est une cit industrielle et gothique accroche  flanc de montagne.","L'air y est satur de poussire de roche, brume froide, odeur mtallique des forges.","C'est une ville de verticalit, de terrasses, de fumes et d'ombres."]},{title:"La Spirale des ons",content:["Tour inverse titanesque qui s'enfonce dans la crote terrestre.","Non pas construite, mais  pousse  depuis une autre ralit.","Architecture vivante : les couloirs changent si on les quitte trop longtemps.","Le Secret : Thade veut s'y brancher pour figer sa conscience et devenir immortel."]}]},ES={id:"quartier_des_mineurs",name:"Quartier des Mineurs",summary:"Niveau du sol au pied de la falaise, quartier ouvrier nain o la tension sociale est permanente.",details:["Ambiance : Bruyant, satur de poussire et de jurons nains.","Tension : Piquets de grve, charrettes renverses, familles prtes  tout pour quitter la ville.","Focus : Cur du conflit social entre la Guilde des Mineurs, le Conseil et la Guilde des Mages.","Opportunits : Recruter des allis temporaires, provoquer des meutes ou organiser des actions de sabotage."],locations:[{id:"quartier_des_mineurs_place",name:"Place Centrale du Quartier",summary:"Carrefour bruyant o se croisent mineurs, contrematres et familles puises.",details:["Ambiance : Cris, odeur de sueur et de charbon, fume des forges en arrire-plan.","Tests : Diplomatie / Intimidation pour calmer ou enflammer la foule.","Ennemis potentiels : Casseurs ou briseurs de grve manipuls par Thade.","Opportunits : Lancer des rumeurs, organiser une manifestation, ngocier avec les meneurs de grve."],npcIds:["durnik_chef_mineur","contremaitre_humain"]},{id:"quartier_artisan_patrouille",name:"Alle des Artisans",summary:"Rue principale borde d'ateliers mtallurgiques, devenue terrain de rafles improvises.",details:["Ambiance : Vapeur brlante, marteaux arrts net, torches renverses.","Tests : Discrtion / Acrobaties pour se faufiler entre les barrages de caisses.","Danger : Patrouilles mixtes (gardes humains, automates de la Guilde), dnonciations forces.","Usage : Montrer la violence de la Loi Martiale et les arrestations ciblant les Nains."],npcIds:["patrouille_mixte_conseil"]},{id:"entree_mine_valdombre",name:"Entre de la Mine",summary:"Palissade garde et cage de descente massive, point de passage oblig entre la surface et les profondeurs.",details:["Ambiance : Rugissement du treuil, fume de torches, martlement des boucliers des gardes.","Tests : Diplomatie / Intimidation pour franchir le piquet de grve sans violence.","Danger : Risque d'meute, sabotage latent, surveillants prts  dclencher l'alarme.","Usage : Contrle d'accs vers la Mine d'Argent, ngociations entre Guildes et PJ."],npcIds:["garde_portail_mine"]},{id:"forge_thorgar_refuge",name:"Forge-Refuge de Thorgar",summary:"Atelier latral du Temple-Forgeron converti en sanctuaire provisoire pour les blesss et chefs nains.",details:["Ambiance : Chaleur touffante des fours, murmures de prires, odeur d'huile brle.","Tests : Premiers secours / Artisanat (forge) pour stabiliser les dfenses improvises.","Danger : Effondrement possible si les glyphes sont sabords de l'intrieur.","Usage : Lieu des dcisions morales, confrontation directe avec Thorgar sur la stratgie."],npcIds:["thorgar_pretre_nain"]},{id:"temple_forgeron",name:"Temple-Forgeron des Nains",summary:"Forteresse-temple creuse dans la roche, cur spirituel et militaire des Nains.",details:["Ambiance : Chant religieux sourd ml au martlement des marteaux sur l'enclume sacre.","Tests : Religion / Histoire pour comprendre les runes de protection graves dans la pierre.","Ennemis : Pendant la Nuit des Longs Couteaux, assaillants morts-vivants et fanatiques de Thade.","Loot : Reliques naines, armes bnies contre les morts-vivants, accs  des bndictions temporaires."],npcIds:["thorgar_pretre_nain","capitaine_garde_temple"]},{id:"egouts_val_dombre",name:"gouts de Val-d'Ombre",summary:"Rseau ancien reliant quartiers pauvres, Temple-Forgeron et Cimetire.",details:["Ambiance : Souterrains sombres, odeurs pestilentielles, eau stagnante.","Tests : Survie / Perception pour viter de se perdre ou tomber dans des fosses caches.","Ennemis : Rats gants, charognards, expriences rates de ncromancie.","Usage : Voie de fuite, terrain de gurilla naine et d'infiltration discrte."],npcIds:["sniv_kobold"]},{id:"taverne_fumees_rouges",name:"Taverne des Fumes Rouges",summary:"Bouge enfum frquent par contrematres, dockers et mercenaires sans contrat.",details:["Ambiance : Fume paisse, tables collantes, rires gras et bagarres rgulires.","Tests : Perception / Intuition pour reprer les vrais informateurs parmi les ivrognes.","Ennemis potentiels : Brutes locales, collecteurs de dettes.","Opportunits : Recruter des mercenaires, rgler des dettes, provoquer une diversion."],npcIds:["tenancier_taverne"]}]},MS={id:"quartier_du_savoir",name:"Quartier du Savoir",summary:"Quartier en terrasses ddi au savoir, aux bibliothques et aux expriences secrtes.",details:["Ambiance : De jour, agitation studieuse ; de nuit, complots en robe noire.","Tension : Rivalits entre tudiants, professeurs et cabales secrtes.","Focus : Point d'entre idal pour enquter sur la Spirale et les expriences de ncromancie.","Opportunits : Accs aux archives interdites,  des mentors ou  des ennemis puissants."],locations:[{id:"quartier_du_savoir_coeur",name:"Cur du Quartier du Savoir",summary:"Terrasses de tours fines relies par des passerelles couvertes.",details:["Ambiance : Odeur d'encre, de parchemin et d'ozone magique.","Tests : Connaissances / Investigation pour glaner des informations discrtes.","Danger : Espions de Thade  l'afft de toute curiosit mal place.","Usage : Lieu de rencontres rapides avec diffrents rudits et tudiants."],npcIds:["etudiante_cabale"]},{id:"tour_des_mages_toit",name:"Toit de la Tour des Mages",summary:"Plateforme d'affrontement final, balaye par les vents et les clairs arcaniques.",details:["Quatre pylnes alimentent un bouclier de force sur le boss.","Vue panoramique sur Val-d'Ombre en ruine.","Terrain : risque de chute, clairs, gravit instable lors de la fusion.","Climax : lieu de la confrontation contre Thade et la Spirale."],npcIds:["kaelen_vampire"]},{id:"valdombre_sommet_tour_mage",name:"Sommet ventr de la Tour des Mages",summary:"Crte brise o le tunnel de la Spirale ventre le toit, thtre d'irruptions violentes.",details:["Ambiance : Pluie de gravats, clairs arcaniques, vue panoramique sur la ville en flammes.","Tests : Acrobaties / Volont pour rester debout sous les rafales magiques.","Danger : Gardes d'lite, champs de force instables, arrive possible de Thade.","Usage : Transition entre la Spirale et l'affrontement final  la surface."],npcIds:[]},{id:"tour_des_mages",name:"Tour des Mages",summary:"Symbole de la Guilde des Mages, cur du pouvoir magique de la ville.",details:["Ambiance : Brume violette, clairs arcaniques, silhouettes en robes observant la ville.","Tests : Arcane / Politique pour naviguer entre les diffrentes factions de mages.","Ennemis : Apprentis fanatiss, lmentaires lis, gardiens magiques.","Climax : Devient thtre du combat final contre Thade dans la campagne."],npcIds:["thade_coren","archimage_defecteur","magi_tuteur_loyal"]},{id:"bureau_thade_coren",name:"Bureau de Thade Coren",summary:"Appartement panoramique o Thade orchestre la guerre : bibliothques en peau, cartes arcaniques et relais vers la Spirale.",details:["Ambiance : Parfums d'encens froid, instruments de mesure sifflants, vitraux irradiant une lueur violette.","Tests : Investigation / Magie pour dcoder les plans gravs sur les murs et dtecter les glyphes de dfense.","Danger : Serviteurs spectraux, cristaux-judas relis  la Spirale, piges qui inversent la gravit.","Usage : Pice cl pour dcouvrir les complots de Thade, voler ses recherches ou affronter sa projection."],npcIds:["thade_coren"]},{id:"universite_arcane",name:"Universit Arcane et Bibliothques",summary:"Complexe d'amphithtres, de salles de cours et d'archives interdites.",details:["Ambiance : Chuchotements, pages tournes, chandelles vacillantes.","Tests : Recherche / Investigation pour dnicher des informations sur la Spirale et la ncromancie.","Ennemis : Bibliothcaires zls, sorts de dfense animant les livres et les tagres.","Loot : Grimoires, parchemins de sorts, notes de recherches compromettantes."],npcIds:["etudiant_universite","bibliothecaire_interdits"]},{id:"place_marche_noir",name:"Place du March Noir",summary:"Place couverte  l'cart des patrouilles, ddie aux transactions interdites.",details:["Ambiance : Torches bleutres, voix basses, marchandises caches sous des bches.","Tests : Ngociation / Intimidation pour obtenir des objets rares sans se faire dpouiller.","Ennemis potentiels : Voleurs, assassins, espions.","Loot : Composants ncromantiques, artefacts de la Spirale, informations vendues au plus offrant."],npcIds:["marchand_gris"]}]},RS={id:"hauteurs_brumeuses",name:"Hauteurs Brumeuses",summary:"Plateaux suprieurs plongs dans la brume, domaine des nobles et des industriels.",details:["Ambiance : Brume froide, jardins suspendus, balcons dominant la ville.","Tension : Dcalage extrme entre le confort des hauteurs et la misre du bas.","Focus : Lieu des dcisions politiques et des complots  grande chelle.","Opportunits : Infiltration, espionnage, renversement d'alliances."],locations:[{id:"hauteurs_brumeuses_quartier",name:"Quartier des Nobles",summary:"Manoirs murs, alles silencieuses et gardes blass.",details:["Ambiance : Silence feutr, parfums coteux, lumire tamise par la brume.","Tests : Discrtion / Bluff pour se faire passer pour des invits.","Ennemis : Gardes privs, mages de cour.","Usage : Rencontres diplomatiques, chantages, soires qui peuvent tourner au massacre."],npcIds:["bourgmestre"]},{id:"manoir_bourgmestre",name:"Manoir du Bourgmestre",summary:"Rsidence officielle, mlange de luxe fatigu et de paranoa.",details:["Ambiance : Couloirs chargs de portraits svres, pices de rception rarement utilises.","Tests : Investigation pour trouver des archives caches sur la gestion de la ville.","Ennemis : Espions infiltrs, gardes loyaux au Conseil plutt qu'au Bourgmestre.","Loot : Documents compromettants, lettres codes mentionnant la Spirale."],npcIds:["secretaire_bourgmestre"]},{id:"chapelle_oublies",name:"Chapelle des Oublis",summary:"Petit sanctuaire oubli coinc entre deux demeures nobles.",details:["Ambiance : Silence pais, cierges presque consums, statues de saints oublis.","Tests : Religion / Intuition pour percevoir la lassitude du clerg local.","Ennemis potentiels : Fanatiques isols, esprits amers.","Usage : Refuge discret pour les PJ, lieu de confessions et de complots nocturnes."],npcIds:["clerc_desabuse"]},{id:"balcons_brumeux",name:"Balcons du Brumeux",summary:"Passerelles dominant le vide, idales pour rencontres secrtes et chutes spectaculaires.",details:["Ambiance : Brume paisse, vent glac, vue plongeante sur le Cimetire et la Mine.","Tests : Acrobatie / Discrtion lors de filatures en hauteur.","Ennemis : Assassins, agents de Thade, cratures volantes invoques.","Usage : Scnes dramatiques de confrontation, de trahison ou de sacrifice."],npcIds:["assassin_masque"]}]},LS={id:"vieille_ville",name:"Vieille Ville",summary:"Quartier le plus ancien, labyrinthe de ruelles troites et de maisons penches.",details:["Ambiance : Linge humide suspendu, pavs glissants, odeur de moisi.","Tension : Refuge des marginaux, des apprentis mages en fuite et des contrebandiers.","Focus : Terrain idal pour les filatures, embuscades et planques secrtes.","Opportunits : Rseaux d'information parallles, caches d'objets illicites."],locations:[{id:"vieille_ville_ruelles",name:"Vieille Ville et Ruelles Basses",summary:"Rseau de ruelles serres o l'on se perd facilement.",details:["Ambiance : Obscurit, murs humides, voix touffes derrire les volets.","Tests : Discrtion / Perception pour viter les embuscades.","Ennemis : Bandits, espions, cratures tapis dans l'ombre.","Usage : Terrain de jeu des criminels et des complots mineurs."],npcIds:["chef_bandes_ruelles"]},{id:"auberge_pic_brise",name:'Auberge "Le Pic Bris"',summary:"Grande auberge de bois sombre, point de dpart idal de la campagne.",details:["Ambiance : Rires fatigus, odeur de bire, feu chaleureux dans l'tre.","Tests : Renseignements pour glaner les premires rumeurs sur le Cimetire et la Mine.","Ennemis potentiels : Ivrognes agressifs, collecteurs de dettes.","Usage : Point de rencontre initial, lieu o les PJ reoivent leurs premires offres de mission."],npcIds:["aubergiste_pic_brise"]}]},zS={id:"centre_civique",name:"Centre Civique",summary:"Cur administratif de Val-d'Ombre, sige du pouvoir civil et judiciaire.",details:["Ambiance : Places paves, btiments officiels imposants, drapeaux flottant dans la brume.","Tension : Dcisions impopulaires, rassemblements qui dgnrent, prsence policire forte.","Focus : Lieu des annonces, des procs et des conseils de crise.","Opportunits : Plaidoyer politique, renversement d'alliances, actions spectaculaires en public."],locations:[{id:"hotel_de_ville_valdombre",name:"Htel de Ville de Val-d'Ombre",summary:"Sige administratif et salle du Conseil, cur des dcisions politiques.",details:["Ambiance : Couloirs tendus, odeur d'encre et de fume de torches.","Tests : Diplomatie / Intimidation pour influer sur les votes et discours.","Dangers : Gardes du Conseil, mages asserments, complots de Thade.","Usage : Scnes de crise, dclarations de loi martiale, assassinats politiques."],npcIds:["bourgmestre"]},{id:"hotel_de_ville_conseil",name:"Salle du Conseil Sanglant",summary:"Salle ovale aux vitraux rouges o se runissent les dirigeants lors des crises.",details:["Ambiance : Cloche d'alarme, tables couvertes de cartes, odeur de sang sch.","Tests : Diplomatie / Bluff pour survivre aux accusations croises.","Danger : Gardes du Conseil prts  dgainer, mages de Thade dissimuls.","Usage : Dclencher le massacre du Sommet et isoler les PJ politiquement."],npcIds:["bourgmestre"]},{id:"hotel_ville_place_conseil",name:"Htel de Ville et Place du Conseil",summary:"Esplanade officielle o se tiennent discours et rassemblements.",details:["Ambiance : Statues austres, estrades pour les orateurs, foule potentiellement explosive.","Tests : Discours / Intimidation pour orienter l'opinion publique.","Ennemis : Gardes du Conseil, agitateurs pays, agents de Thade.","Usage : Scnes de crise politique, dclarations de loi martiale, excutions publiques."],npcIds:["capitaine_garde_urbaine"]},{id:"rues_valdombre_nuit",name:"Rues de Val-d'Ombre (nuit)",summary:"Rseau de ruelles plonges dans la brume, patrouilles par les forces du Conseil.",details:["Ambiance : Brume lourde, lanternes sporadiques, cris touffs.","Dangers : Patrouilles mixtes (gardiens, golems de chair), embuscades.","Tests : Discrtion / Survie urbaine pour viter arrestations et rafles.","Usage : Fuites nocturnes, purges, embuscades orchestres par Thade."],npcIds:[]},{id:"rues_valdombre_brume",name:"Rues Brumeuses Ranimes",summary:"Artres noyes de brume violette o les cadavres se relvent instantanment.",details:["Ambiance : Cloches funbres, silhouettes titubantes, parfums de chair brle.","Tests : Survie / Perception pour anticiper les foyers de ranimation.","Danger : veil simultan de zombies et de golems de chair.","Usage : Mettre en scne l'veil de la Ncropole et les premires pertes massives."],npcIds:["capitaine_garde_urbaine"]},{id:"prison_conseil",name:"Prison du Conseil",summary:"Bloc de pierre sans fentres, symbole de la rpression politique.",details:["Ambiance : Couloirs troits, odeur de sueur et de dsinfectant, gravures de prires et d'insultes sur les murs.","Tests : vasion / Infiltration pour faire sortir ou entrer quelqu'un discrtement.","Ennemis : Geliers brutaux, interrogateurs, mages asserments.","Usage : Faux procs, interrogatoires politiques, vasions spectaculaires."],npcIds:["geolier_principal"]}]},OS={id:"cimetiere_et_seuil",name:"Cimetire et Seuil",summary:"Ncropole en terrasses relies par des escaliers troits, seuil vers la Spirale.",details:["Ambiance : Brume paisse, statues gothiques, lanternes mourantes.","Tension : Profanations rcentes, veilles inquites, intervention de la Garde.","Focus : Point de dpart du premier scnario, lieu de passage vers la Spirale.","Opportunits : Enqutes, combats contre les morts-vivants, rvlations sur la cabale ncromancienne."],locations:[{id:"cimetiere_terrasse",name:"Cimetire en Terrasse",summary:"Gradins funraires taills dans la falaise.",details:["Ambiance : Brouillard, silence, bruit lointain de la ville.","Tests : Perception / Investigation pour reprer les tombes profanes.","Ennemis : Pilleurs de tombes, morts-vivants, gardes nerveux.","Usage : Scnes d'enqute, de garde de nuit, de premiers combats contre la ncromancie."],npcIds:["gardien_cimetiere"]},{id:"mausolee_seuil",name:"Mausole Secret du Seuil",summary:"Tombeau scell servant de sas vers la Spirale.",details:["Ambiance : Froid mordant, silence touff, runes d'interdiction partiellement effaces.","Tests : Religion / Arcane pour comprendre les runes naines de confinement.","Ennemis : Chevaliers morts-vivants, gardiens de l'ancien ordre.","Usage : Point de non-retour de la campagne, ouverture du puits vers la Spirale."],npcIds:["spectre_ancien_heros"]},{id:"mausolee_pont_secret",name:"Pont Secret des Mausoles",summary:"Passerelle troite reliant deux terrasses funraires, pige par les ncromanciens.",details:["Ambiance : Chanes grinantes, poussire de pierre, runes fissures sous les pieds.","Tests : Acrobaties / Perception pour viter les sections sabotes.","Danger : Gardiens gargouilles, charges explosives poses par Durnik.","Usage : Lieu du sacrifice hroque bloquant l'accs au Seuil."],npcIds:["durnik_chef_mineur"]},{id:"puits_spirale_abime",name:"Puits de l'Abme Spirale",summary:"Ouverture verticale noire o l'on ressent l'appel de la Spirale.",details:["Ambiance : Vent froid venant d'en bas, chuchotements lointains.","Tests : Volont / Escalade pour affronter le vertige et descendre en rappel.","Danger : Tourbillons d'nergie attirant armes et mes, assauts d'ombres.","Usage : Dernire tape avant la fuite vers la Spirale lors de la chute de la ville."],npcIds:[]}]},wS={id:"profondeurs_mine",name:"Profondeurs de la Mine",summary:"Rseau de galeries profondes, poumon conomique et porte brise vers la Spirale.",details:["Ambiance : Grincement des cages de descente, chaleur touffante, poussire de roche.","Tension : Mineurs terroriss par les hurlements de la pierre.","Focus : Dcouverte de la paroi de la Spirale au niveau -8.","Opportunits : Exploration, survie, sabotage, ngociations avec la Guilde des Mineurs."],locations:[{id:"mine_argent",name:"La Mine d'Argent",summary:"Galeries principales et niveaux de travail ordinaires.",details:["Ambiance : Lumire de lanternes, claquement des pioches, rails grinants.","Tests : Survie / Ingnierie pour viter les effondrements et poches de gaz.","Ennemis : Monstres fouisseurs, cratures attires par la magie de la Spirale.","Usage : Lieu d'introduction  la menace surnaturelle dans les profondeurs."],npcIds:["contremaitre_nain_mine"]},{id:"galeries_silencieuses",name:"Galeries Silencieuses",summary:"Niveaux -1  -7 abandonns aprs les premiers hurlements de la pierre.",details:["Ambiance : Tables renverses, repas  moiti mangs, outils abandonns.","Tests : Perception / Sang-froid pour affronter l'atmosphre oppressante.","Ennemis : Monstres rouilleurs, ankhegs, morts oublis.","Usage : Exploration horrifique et pistes vers la paroi de la Spirale."],npcIds:["geometre_fou"]}]},US={id:"spirale",name:"La Spirale",summary:"Donjon invers aux lois changeantes, accessible par la brche dans la mine.",details:["Ambiance : Murmures lointains, gravit capricieuse, lumire violette sourde.","Tension : L'architecture se reconfigure, rien n'est fiable longtemps.","Focus : Les premiers cercles testent la rsilience et la prudence des explorateurs.","Opportunits : Dcouvrir la source des rsonances, isoler la gode chantante, comprendre la conscience du lieu."],locations:[{id:"spirale_premier_cercle",name:"Premier Cercle de la Spirale",summary:"Anfractuosits initiales aprs la fissure, couloirs qui se rcrivent derrire soi.",details:["Rgle :  chaque sortie d'une salle, le couloir prcdent change de topologie.","Dangers : Goules mineurs gares, cubes nettoyeurs, instabilit gravitationnelle lgre.","Indices : Veines cristallines pulsant au rythme des rsonances, inscriptions naines partiellement effaces.","Usage : Premire zone pour prouver les rgles de la Spirale et affronter la Gode chantante."],npcIds:["sentinelle_reliee","lysa_exploratrice_perdue"]},{id:"spirale_engrenages_plenaires",name:"Engrenages Plnaires",summary:"Segment de contrle o les engrenages modulent la gravit des niveaux suprieurs.",details:["Ambiance : clairs d'nergie pure, vibrations continues, champ magntique dsorientant.","Tests : Ingnierie / Acrobaties pour actionner les leviers synchroniss.","Danger : Compression brutale pour ceux qui ratent le rythme, arcs lectriques alatoires.","Usage : Dsamorcer le mcanisme avant de pntrer dans la Salle des Engrenages principale."],npcIds:[]},{id:"spirale_balcon_inverse",name:"Balcon Invers",summary:"Corniche donnant sur le vide, surplombant les structures retournes de la Spirale.",details:["Vertige constant, pluie de poussire cristalline tombant vers le haut.","Point d'observation idal pour reprer des passerelles mouvantes.","Risque : Chutes imprvisibles si la gravit change brusquement.","Indice : On entend le chant de la Gode rsonner plus fort ici."],npcIds:[]},{id:"spirale_coeur_geode",name:"Cur de la Gode Chantante",summary:"Salle cristalline o l'nergie de la Spirale se condense.",details:["Pulsations lumineuses violettes synchronises avec le cristal de Thade.","Chant harmoniquement discordant, fatigue mentale accrue.","Structure semi-organique : la gode se dfend en modifiant l'espace.","But : Dtruire ou canaliser l'nergie pour stabiliser la mine."],npcIds:["geode_avatar"]},{id:"spirale_zone_dechets",name:"Zone de Dchets",summary:"lots instables d'boulis et de gravats, premire halte aprs la chute.",details:["Gravit erratique, brume violette, clats cristallins tranchants.","Le sol se dsagrge si l'on s'y repose trop longtemps.","Point d'entre pour les survivants jects vers la Spirale.","Vestiges nains indiquant que d'autres sont dj tombs ici."],npcIds:["charognard_errant"]},{id:"spirale_couloirs_ether",name:"Couloirs de l'ther",summary:"Galeries translucides suspendues dans le vide, parcourues de vents inverses.",details:["Ambiance : Lumire blanche diffuse, poussire flottant  contresens, chos mtalliques dforms.","Tests : Acrobaties / Volont pour garder son orientation quand la gravit pivote de 90.","Dangers : Prdateurs thrs, bourrasques aspirant vers le plafond devenu sol.","Usage : Terrain d'introduction aux rgles physiques absurdes avant de rejoindre les couloirs organiques."],npcIds:[]},{id:"spirale_couloirs_chair",name:"Couloirs de Chair",summary:"Vaisseaux organiques pulsants, ragissant aux motions et au sang.",details:["Parois veineuses, yeux incrusts, chuchotements humides.","Gravit changeante, sols visqueux, escaliers de cartilage.","La Spirale observe : tests de volont et de sang-froid.","Accs vers le laboratoire secret plus bas."],npcIds:["marchand_fou_mercane"]},{id:"spirale_carrefour_mercane",name:"Carrefour du Mercane",summary:"Plateforme hexagonale o convergent six veines vivantes, transforme en bazar interdit.",details:["Ambiance : Odeur d'ozone et de trbenthine, cliquetis d'artefacts suspendus autour d'un brasero violet.","Tests : Marchandage / Bluff (souvenirs contre ressources).","Danger : Contrats pigs qui siphonnent des niveaux ou des souvenirs des PJ.","Usage : Rencontre avec le Marchand Fou, accs  des informations sur les niveaux infrieurs."],npcIds:["marchand_fou_mercane"]},{id:"spirale_salle_miroirs",name:"Salle des Miroirs du Regret",summary:"Cylindre tapiss de miroirs liquides refltant des futurs possibles.",details:["Ambiance : Chuchotements familiers, battements de cur amplifis, froid psychique.","Tests : Volont / Bluff contre soi-mme pour accepter un secret ou subir des dgts mentaux.","Danger : Reflets qui sortent des miroirs si l'on ment.","Usage : Confronter les PJ  leurs regrets avant d'accder au mcanisme d'ascenseur."],npcIds:[]},{id:"spirale_labo_secret",name:"Laboratoire Secret de Thade",summary:"Complexe technomagique enchss dans la paroi, cur des expriences de Thade.",details:["Portes runiques, odeur d'ozone et de formol, bassins d'mes.","Production de corps rassembls et d'artefacts de contrle.","Archives prouvant l'usage d'clats de Spirale sur le cur de Thade.","Pont vers les zones mcaniques plus profondes."],npcIds:["sujet_zero"]},{id:"spirale_bibliotheque_ames",name:"Bibliothque de Cristal des mes",summary:"Galerie d'tagres faites d'os et de quartz, contenant des souvenirs pigs.",details:["Ambiance : Bourdonnement harmonique, lueurs prisonnires dans chaque fiole.","Tests : Connaissance / Utilisation d'objets magiques pour consulter sans librer les esprits.","Danger : Fantmes archivistes, surtension mentale en cas de lecture prolonge.","Usage : Rvler le plan d'immortalit de Thade et des indices sur la Spirale."],npcIds:[]},{id:"spirale_laboratoire_clonage",name:"Laboratoire de Clonage",summary:"Chane de montage charnelle o des corps recomposs sont assembls.",details:["Ambiance : Pistons organiques, odeur d'aldhyde, clats de mtal ensanglants.","Tests : Sabotage / Artisanat (alchimie) pour drgler les cuves.","Danger : Berserkers frachement sortis des cuves, alarmes appelant Sujet Zro.","Usage : Prouver que Thade produit ses armes artificielles."],npcIds:[]},{id:"spirale_salle_engrenages",name:"Salle des Engrenages",summary:"Cathdrale mcanique d'engrenages gants suspendus dans le vide.",details:["Bruit assourdissant, vents tranchants, plateformes en rotation.","Flux d'nergie alimentant la surface et les pylnes de Thade.","Passerelles ncessitant synchronisation et sang-froid.","Point de sabotage critique pour affaiblir Thade."],npcIds:["inevitable_contremetre"]},{id:"spirale_tunnel_teleport",name:"Tunnel de Tlportation",summary:"Colonne luminescente propulsant vers la surface, protge par des ombres.",details:["Flux d'nergie vertical, salles-tampons cycles par la Spirale.","Purge rgulire des intrus par dcharges d'ombre et de vide.","Permet d'intercepter Thade pendant la remonte.","Termine sur la Tour des Mages si le flux est invers."],npcIds:[]}]},HS=[ES,MS,RS,LS,zS,OS,wS,US],Sn={...TS,zones:HS},BS={id:1,title:"SCNARIO 1 : LE PRIX DE L'IMPATIENCE",level:"Niveaux 1-3",system:"D&D 3.5",synopsis:"Le cimetire nain de Val-d'Ombre est la cible de profanations inquitantes. Ces actes, maquills en pillages, dissimulent les expriences interdites de Jaren, un tudiant manipul par le Professeur Thade Coren. Les aventuriers sont engags pour rsoudre l'affaire, sans savoir qu'ils servent en ralit  effacer les traces du vritable marionnettiste.",acts:[{title:"ACTE 1 : L'INCIDENT DU CIMETIRE",stake:"Prouver sa valeur aux nains de Val-d'Ombre en dcouvrantla nature des profanations avant que le clan ne se fasse justice lui-mme.",location:"L'Auberge du Pic Bris & Le Cimetire des Terrasses.",scenes:[{title:"Scne 1 : L'Offre du Prtre",type:"Social",image:"/images/scenes/auberge_pic_brise.jpg",locationId:"auberge_pic_brise",npcIds:["thorgar_pretre_nain","aubergiste_pic_brise"],description:{sous_titre:"Ici, on respecte la bire et les anctres.",visuel:"Poutres basses en chne noirci, fume de pipe paisse, clats de voix graves. Un panneau  MAGIE INTERDITE  est clou au mur.",audio:"Le choc des chopes, le crpitement du foyer, et un silence pesant  l'entre des trangers.",odeur:"Bire brune forte, viande rtie et sueur de travail.",lumiere:"Tamise par la fume, foyer central ardent aux reflets orangs."},narration:{declencheur:"Thorgar, un nain au regard d'acier, fait signe aux PJ de s'approcher de sa table isole.",texte_a_lire:" Le cimetire a t profan. La garde ne voit que des squelettes l o dorment nos pres, mais pour nous, c'est une insulte qui se lave dans le sang. Pas question de souiller le Livre des Rancunes avec des noms de vulgaires pillards ! Retrouvez-les, faites-leur payer et ramenez les restes de nos anctres. ",contexte_mj:"Thorgar est dgot. Pour lui, l'argent est secondaire face  l'affront fait aux nains. Il cherche des gens  discrets  et extrieurs  la ville.",objectif:"Accepter le contrat et obtenir des informations sur les tombes vises."},mecaniques:{defis:["Diplomatie (DD 15) : Ngocier une avance ou une prime supplmentaire (50 po).","Connaissances (Folklore) (DD 12) : Apprendre que les tombes vises sont celles de la ligne des Thanes (chefs de clan)."],indices:["Les tombes ne sont pas vides de leur or, mais certains os sont prlevs avec une prcision chirurgicale."],recompenses:"200  300 po (groupe) + Amulette de protection contre les morts-vivants (1 usage)."},transitions:{success:"Thorgar offre une avance et indique le chemin du cimetire.",fail:"Thorgar les engage par ncessit mais les fait surveiller par un mineur."}},{title:"Scne 2 : Un Cimetire dans la Brume",type:"Social",image:"/images/scenes/gardien_cimetiere.jpg",locationId:"cimetiere_terrasse",npcIds:["gardien_cimetiere"],description:{sous_titre:"Une nuit sans lune sur les terrasses funraires.",visuel:"Une grille monumentale en fer forg. Une silhouette massive (le Gardien) surveille l'entre, arbalte au poing.",audio:"Grincement des chanes et le cliquetis mtallique du mcanisme d'arbalte.",odeur:"un parfum de terre noire sature d'eau et de pierre moisie.",lumiere:"Le halo jaune et vacillant d'une lanterne sourde."},narration:{declencheur:"Les PJ s'approchent du portail principal.",texte_a_lire:" N'essayez mme pas. J'ai une ligne de vue dgage. Donnez-moi une seule raison de ne pas vous clouer au portail. ",contexte_mj:"Le Gardien est puis et sur les nerfs. Si les PJ mentionnent Thorgar ou montrent le contrat, il s'adoucit, baisse son arme mais reste mfiant.",objectif:"Gagner l'accs et reprer la zone de la prochaine profanation."},mecaniques:{defis:["Diplomatie (DD 12) : Calmer le Gardien. Succs : Il offre des carreaux d'arbalte en argent (x5).","Dtection (DD 14) : Reprer des traces de pas lgres (bottes de citadins) prs de la crypte Nord.","Art de la Magie (DD 15) : Identifier l'odeur d'ozone comme une trace de ncromancie de  conservation ."],indices:["Le Gardien confirme :  Ils ont emport le fmur gauche de l'ancien Thane. Pourquoi un fmur ? "],recompenses:"Avantage tactique (Surprise) pour la scne suivante. Le Gardien peut prter main-forte (Guerrier Niv 2)."},transitions:{success:"Les PJ se mettent en embuscade prs de la crypte.",fail:"Le Gardien refuse l'entre. Les PJ arrivent trop tard : le combat commence alors que les pilleurs s'enfuient."}},{title:"Scne 3 : Les Pilleurs",type:"Combat",image:"/images/scenes/scene_3.jpg",locationId:"cimetiere_terrasse",npcIds:["etudiant_renvoye","brutes_cimetiere","squelette_Instable","gardien_cimetiere"],description:{sous_titre:"L'embuscade prs de la crypte ouverte.",visuel:"Trois mercenaires creusent sous l'il vigilant d'un jeune homme en robe d'tudiant. Celui-ci, qui semble diriger les oprations, examine un crne  la lumire de sa lanterne",audio:"Bruit des pelles contre la pierre et rire nerveux de l'tudiant.",odeur:"Une odeur de terre grasse et d'humus tremp s'lve du trou frachement creus.",lumiere:"Lumire crue de la lampe-tempte au centre de la scne."},narration:{declencheur:"L'assaut des PJ ou une maladresse.",texte_a_lire:"Le jeune homme sursaute : Qu'est-ce que vous attendez, idiots ?! Tuez-les ! S'ils m'arrtent, vous n'aurez jamais le reste de votre or !",contexte_mj:"L'tudiant est Jaren. Il est fanatique mais lche. Les mercenaires (brutes) font cran.",objectif:"Neutraliser les gardes et capturer Jaren vivant."},mecaniques:{defis:["Combat : 3 Brutes (Guerrier 1) et Jaren (Magicien 1 - Spcialisation Ncromancie).","Intimidation (DD 13) : Faire fuir les mercenaires si Jaren est bless.","Magie Instable : Tout sort de zone a 20% de chance de ranimer un tas d'os (Squelette simple) qui attaque tout le monde."],indices:["Jaren porte une broche de la Fraternit Nyx.","Une liste de noms nains avec la mention  Compatible ."],recompenses:"Bourse de 50 po + Baguette de Lecture de la Magie (5 charges)."},transitions:{success:"Jaren est captur, prt  parler.",fail:"Jaren s'enfuit dans les bois, laissant sa sacoche derrire lui."}},{title:"Scne 4 : L'Autopsie du Crime",type:"Investigation",image:"/images/scenes/jaren_death.jpg",locationId:"cimetiere_terrasse",npcIds:["etudiant_renvoye","gardien_cimetiere"],description:{sous_titre:"Un interrogatoire qui tourne au drame.",visuel:"Jaren tremble violemment. Ses yeux brillent d'une lueur arcanique instable.",audio:"Un bourdonnement haute frquence qui fait siffler les oreilles.",odeur:"Ozone et brl.",lumiere:"Flashs intermittents provenant des veines du cou de Jaren."},narration:{declencheur:"Les PJ posent une question sur  Le Matre .",texte_a_lire:"Il ouvre la bouche pour rpondre, veut ngocier sa vie. Ses mains se plaquent sur ses tempes tandis qu'il hurle sans qu'aucun son ne sorte, avant de s'effondrer, l'esprit bris.",contexte_mj:"Thade Coren a plac un  Sceau de Censure  sur son lve. La trahison dclenche une hmorragie crbrale magique. Jaren meurt sur le coup.",objectif:"Comprendre que l'ennemi est au sein de l'Universit."},mecaniques:{defis:["Art de la Magie (DD 16) : Identifier le sort comme une variante interdite de  Vu de Silence .","Premiers Secours (DD 15) : Constater que la mort est d'origine magique et instantane.","Perception (DD 12) : Trouver sur le corps une invitation pour une confrence prive au nom du Professeur Thade Coren."],indices:["La broche de la Fraternit Nyx est un laissez-passer pour les quartiers tudiants."],recompenses:"XP d'investigation. Gratitude de Thorgar pour la rcupration des restes."},transitions:{success:"Fin de l'Acte 1. Les PJ ont un nom (Coren) et une destination (l'Universit)."}}]},{title:"ACTE 2 : LA PISTE ARCANIQUE",stake:"Remonter la piste de la ncromancie au sein de l'Universit et localiser le repaire de Jaren, tout en naviguant dans les intrigues du Professeur Coren.",location:"Universit de Magie de Val-d'Ombre.",scenes:[{title:"Scne 1 : La Fraternit Dissoute",type:"Social",image:"/images/scenes/universite_arcane.jpg",locationId:"universite_arcane",npcIds:["etudiant_universite"],description:{sous_titre:"Les chos d'un scandale hantent encore les couloirs de marbre.",visuel:"Niche au cur dune cit de pierre, la Tour des Mages se dresse comme un monolithe de marbre blanc grav de runes lumineuses, une anomalie verticale s'levant en spirales impossibles. Des passerelles de verre liquide relient les btiments entre eux, tandis que des orbes lumineux patrouillent silencieusement autour des plus hautes flches, projetant une lumire froide et clinique.",audio:"Le bourdonnement lectrique des barrires de mana, ponctu par le son cristallin des pas sur le verre et des chos de voix dsincarnes.",odeur:"Poussire de bibliothque, encre frache et th  la bergamote.",lumiere:"Une luminescence blanche et strile manant des murs eux-mmes, gommant les reliefs et donnant aux visages un aspect cireux."},narration:{declencheur:"Les PJ prsentent la broche de Nyx  un tudiant dans la cour.",texte_a_lire:`L'apprenti se dcompose, Il jette un coup d'il anxieux par-dessus son paule et siffle entre ses dents  Cachez a, tout de suite ! Le sceau de la Nyx... Vous tes fou ? On ne l'voque plus ici, pas depuis la Purge. Si vous voulez poser des questions, allez voir le Professeur Coren, c'est lui qui s'en est "occup". Mais par piti, laissez-moi en dehors de a. `,contexte_mj:"L'Universit veut touffer le scandale. Orienter les PJ vers Thade Coren comme figure d'autorit morale.",objectif:"Localiser le bureau de Thade Coren et recueillir les bruits de couloir."},mecaniques:{defis:["Diplomatie (DD 13) : Convaincre l'tudiant de parler davantage.","Renseignements (DD 15) : Apprendre que Jaren tait le protg de Coren."],indices:["Rumeurs : On raconte que Jaren n'a pas quitt les lieux en silence. Il hurlait que son expulsion tait une  erreur monumentale  et que bientt, mme le Conseil des Mages devra se mettre  genoux devant son prochain matre."],recompenses:"Localisation du bureau de Thade."},transitions:{success:"Rencontre avec Thade (Scne 2).",fail:"Les PJ sont escorts par la garde universitaire jusqu'au bureau de Coren pour  interrogatoire ."}},{title:"Scne 2 : Le Professeur Bienveillant",type:"Social",image:"/images/scenes/thade_coren.jpg",locationId:"bureau_thade_coren",npcIds:["thade_coren"],description:{sous_titre:"Le bureau d'un homme d'ordre et de loi magique.",visuel:"Murs tapisss de grimoires impeccables. Thade est assis derrire un bureau de chne, lgant et calme.",audio:"Le grattement d'une plume de phnix et le tic-tac d'une horloge astronomique.",odeur:"Cire de bougie chaude et lavande sche.",lumiere:"Tamise par des vitraux illustrant les lois de la magie."},narration:{declencheur:"Aborder le sujet de Jaren.",texte_a_lire:"Thade observe la broche avec lassitude, la faisant tourner entre ses doigts longs et fins.  Jaren... Un esprit brillant, hlas bris par sa propre ambition. Ses propos sur le Conseil ? La dmence d'un enfant qui cherche  se donner de l'importance. La ncromancie n'est pas un jeu. S'il a continu ses recherches, il nous met tous en pril. Retrouvez-le. Et surtout, rapportez-moi ses travaux intacts pour que je puisse valuer les dgts. ",contexte_mj:"Thade sait qu'il a tu Jaren, mais joue la surprise. Il veut rcuprer les rsultats des expriences maintenant que son pion est hors-jeu.",objectif:"Accepter la mission de localiser le laboratoire et les notes de Jaren."},mecaniques:{defis:["Psychologie (DD 18) : Thade semble sincre, mais son dtachement face aux menaces contre le Conseil est troublant.","Ngociation (DD 14) : Obtenir 100 po d'avance pour  frais d'enqute ."],indices:["Le rapport d'expulsion de Jaren. En marge, l'criture lgante de Thade note :  Instabilit prvisible. Manque de discipline. "],recompenses:"Sauf-conduit de l'Universit + 1 parchemin de Dissipation de la Magie."},transitions:{success:"Vers le taudis de Jaren (Scne 3)."}},{title:"Scne 3 : La Descente aux Enfers",type:"Exploration",image:"/images/scenes/taudis_jaren.jpg",locationId:"vieille_ville_taudis_jaren",npcIds:[],description:{sous_titre:"Le sanctuaire abandonn d'un esprit bris, dsormais livr aux tnbres.",visuel:"Une mansarde o la folie s'est inscrite sur les murs. Des parchemins forment une spirale obsessionnelle de croquis anatomiques nains. Au centre, les planches du parquet ont vol en clats autour d'une trappe bante.",audio:"Le claquement sec d'un volet mal fix et le grondement sourd, presque organique, de l'eau dans les profondeurs.",odeur:"Un mlange curant de papier jauni, de moisissure et l'odeur mtallique de la magie brute.",lumiere:"Des lames de lumire grise dcoupent l'obscurit, rvlant la poussire qui danse au-dessus du chaos."},narration:{declencheur:"Fouille approfondie de la pice.",texte_a_lire:`Ce qui rgne ici n'a rien du simple dsordre d'un tudiant. On sent qu'une rage dsespre a retourn chaque meuble, chaque papier, avec une frnsie presque palpable. Sur le mur, la paranoa s'est mue en obsession : une seule phrase s'y tale partout, griffonne  s'en briser les ongles :  Mensonge. Tout n'est que mensonge. Il a menti. IL A MENTI.  

Au milieu de ce chaos, le regard est invitablement attir par le sol. La trappe n'a pas t simplement ouverte ; elle a t littralement arrache, le bois pulvris et les gonds sauts sous l'impact d'une force magique brutale. On ignore qui a forc le passage, mais la violence de l'effraction trahit une urgence telle qu'on n'a mme pas cherch la cl.`,contexte_mj:"Jaren est hors d'tat (mort ou fuite). Kaela est passe rcemment pour rcuprer ses notes et a forc l'accs au laboratoire souterrain. L'odeur d'ozone et la chaleur rsiduelle indiquent que l'effraction est trs rcente : la trace est encore chaude.",objectif:"S'enfoncer dans les gouts pour traquer Kaela et dcouvrir le laboratoire secret."},mecaniques:{defis:["Fouille (DD 12) : Dnicher sous un tas de linge sale un plan partiel des gouts, avec une croix rouge marquant une zone sous le vieux manoir.","Art de la Magie (DD 14) : Analyser les traces de brlures sur la trappe. Ce n'est pas la magie du niveau de Jaren, mais une force plus puissante (celle de Kaela)."],indices:["Un journal intime brl dont il ne reste qu'une page :  Tout ce qu'on a construit n'est qu'un immense mensonge pour nourrir son ambition."],recompenses:"Accs  l'Acte 3. Si le plan est trouv, les PJ ont un Avantage sur les jets de Survie dans les gouts."},transitions:{success:"Dbut de l'Acte 3 : Les gouts et le Labyrinthe."}}]},{title:"ACTE 3 : LES GOUTS ET LE LABYRINTHE",stake:"Survivre  l'environnement hostile et localiser l'entre du repaire secret de Jaren.",location:"gouts de Val-d'Ombre & Fondations du vieux manoir.",scenes:[{title:"Scne 1 : Le Kobold Tmoin",type:"Social / Investigation",image:"/images/scenes/sniv_kobold.jpg",locationId:"egouts_croisement",npcIds:["sniv_kobold"],description:{sous_titre:"Un habitant des profondeurs qui a tout vu.",visuel:"Des tunnels de briques suintantes. Deux petits yeux jaunes brillent de terreur dans un conduit de trop-plein.",audio:"Le clapotis de l'eau noire.",odeur:"Soufre, eaux croupie.",lumiere:"La lumire des PJ projette des ombres dformes sur les murs incurvs."},narration:{declencheur:"Les PJ entendent des pleurs touffs derrire une grille de fer.",texte_a_lire:" Pas taper ! Sniv rien fait ! La femme... la sorcire aux yeux fous ! Elle est arrive et l'autre... le Matre Jaren... il ne vient plus. Il ne donne plus d'ordres. Elle est pire ! Elle a pris les autres... mais les frres reviennent jamais. Pourquoi ils reviennent jamais ?",contexte_mj:"Sniv a vu la transition de pouvoir. Il servait Jaren, mais Kaela a pris le relais avec une cruaut dcuple pour finir le rituel. Il est traumatis par le changement de rgime.",objectif:"Calmer Sniv pour obtenir des informations sur les piges et l'entre du manoir."},mecaniques:{defis:["Diplomatie (DD 12) : Calmer Sniv (lui offrir de la nourriture rduit le DD  10).","Intimidation (DD 15) : Le forcer  parler, mais il risque de s'enfuir  la premire occasion."],indices:["Sniv rvle :  Elle dit que Jaren tait trop mou. Elle dit que le Matre sera fier d'elle quand le Conseil brlera. "],recompenses:"Arrive Furtive : Ils commencent la scne suivante en mode Discrtion avec un bonus de +2 ou un avantage, car ils arrivent par un endroit que les gardes de Kaela ne surveillent pas."},transitions:{success:"Sniv guide les PJ vers la porte du manoir (Scne 2).",fail:"Sniv s'enfuit dans les tuyaux. Les PJ doivent naviguer  l'aveugle (Survie DD 15) pour viter de se perdre."}},{title:"Scne 2 : La Porte du Manoir Englouti",type:"Combat / Investigation",image:"/images/scenes/egouts_entree_manoir.jpg",locationId:"egouts_entree_manoir",npcIds:["squelettes_nains_gardiens"],description:{sous_titre:"Une porte noble en fer forg, incongrue au milieu des immondices.",visuel:"Au dtour d'un conduit effondr, la brique suintante laisse place  une arche, sculpte de runes naines marteles. Une lourde porte en fer forg, barre le passage. Deux gardiens squelettiques, draps dans leurs armures, montent la  garde.",odeur:"L'air devient soudainement sec, froid tranche avec la puanteur des gouts.",lumiere:"Une lueur violette instable filtre  travers le trou de la serrure.",audio:"Le cliquetis des os et un bourdonnement sourd, comme un battement de cur, qui mane de derriere la porte."},narration:{declencheur:"Les PJ arrivent  porte de vue de la porte.",texte_a_lire:"Ces gardiens ne sont pas des serviteurs anonymes. Sur leurs plastrons briss, vous reconnaissez les blasons des clans fondateurs de Val-d'Ombre.  votre approche, leurs orbites vides s'allument d'une lueur haineuse, et ils lvent leurs haches de guerre dans un silence de mort.",contexte_mj:"C'est un combat symbolique. Les PJ voient ici le rsultat direct des profanations. La porte est scelle magiquement et ragit  la broche de la Fraternit Nyx.",objectif:"Vaincre les gardiens pour accder au mcanisme de la porte."},mecaniques:{defis:["Combat : 2 Squelettes de Thanes (Guerriers Nains lites, CA 16, RD 5/Contondant). Ils utilisent des tactiques militaires coordonnes.","Savoir Arcanique (DD 14) : Remarquer que le flux magique de la porte rpond  la signature de la broche de Nyx."],recompenses:"Hache de matre (naine) + la broche de Nyx s'illumine, agissant comme une cl pour la porte.",indices:["Sur le bouclier de l'un d'eux, une gravure rcente et grossire :  Nyx  par-dessus les runes anciennes."],recompenses:"Armes de matre (Haches naines) et ouverture de la porte grce  la broche."},transitions:{success:"La porte s'ouvre sur un escalier montant vers le laboratoire (Acte 4).",fail:"Le combat dure trop longtemps. L'alarme est donne et l'Acte 4 commence en alerte maximale."}}]},{title:"ACTE 4 : LE RITUEL DE LA SPIRALE",stake:"Arrter l'activation de la Spirale et dcouvrir qui a pris la suite de Jaren.",location:"Laboratoire secret du Manoir Van Kel.",scenes:[{title:"Scne 1 : L'veil Forc",type:"Combat",image:"/images/scenes/manoir_hall.jpg",locationId:"manoir_hall",npcIds:["ilse_nyx"],description:{sous_titre:"Ilse veut transformer l'chec de Jaren en son propre triomphe.",visuel:"Le hall luxueux est profan : un immense cercle de cendres et de sang sch entoure le corps de Jaren. Des fils d'nergie violace relient le cadavre  des ancres d'argent plantes dans le sol.",audio:"Un bourdonnement grave qui fait vibrer les vitraux. Ilse hurle ses incantations pour couvrir le bruit de la magie qui s'emballe.",odeur:"Ozone (magie), fer (sang).",lumiere:"Des clairs de magie noire qui illuminent par intermittence le grand escalier."},narration:{declencheur:"Les PJ entrent dans le Hall.",texte_a_lire:"Ilse von Reiner lve les mains, ignorant les spasmes du cadavre  ses pieds.  Jaren n'tait qu'un mdiocre, un esprit faible qui s'est noy dans ses propres peurs. Le Matre le savait, et je le savais aussi. Il n'tait qu'un brouillon. Mais avec son sang et ma volont, je vais enfin valider les thorie du Matre ! Admirez la naissance d'un dieu ! ",contexte_mj:"Ilse est pragmatique, elle considre Jaren comme une simple ressource magique. Elle traite la ncromancie comme une science exacte. Elle veut stabiliser Jaren pour prouver  Thade qu'elle est plus utile qu'un cadavre.",objectif:"Neutraliser Ilse avant qu'elle ne stabilise la crature."},mecaniques:{defis:["Combat : Ilse (Magicienne Niv 3) protge par 2 Squelettes Instables (anciens serviteurs de Jaren qu'elle a asservis).","Anomalie (DD 12) :  chaque tour, le rituel instable libre une onde. Quiconque est  dcouvert subit 1d4 dgts de froid."],indices:["Une note de Thade dans les poches de Ilse :  Ilse, ne me dcevez pas comme votre prdcesseur, ou ne revenez pas  l'Universit. "],recompenses:"Bourse (40 po), Bague de protection +1, et les notes de recherche."},transitions:{success:"Ilse s'croule en maudissant l'incomptence de Jaren. Dans un dernier souffle magique, le cercle explose et le 'Sujet J-01' se lve, libr de ses entraves."}},{title:"Scne 2 : Le Sujet J-01",type:"Boss",image:"/images/scenes/jaren_le_maudit.jpg",locationId:"manoir_hall",npcIds:["jaren_corrompu"],description:{sous_titre:"Une existence rduite  un moteur magique dfaillant.",visuel:"Le corps de Jaren se redresse par saccades, comme une marionnette dont on tire brutalement les fils. La lueur qui s'chappe de ses orbites est blafarde, et sa peau se craquelle sous l'effet d'un froid surnaturel.",audio:"Le bruit sec des os qui se remettent en place et le sifflement de l'air qui s'chappe de ses poumons perfors. Aucun mot, juste un rle mcanique.",odeur:"Ozone et viande putride."},narration:{declencheur:"la dfaite d'Ilse.",texte_a_lire:"La chose qui fut Jaren ne hurle pas. Elle ne vous maudit pas. Elle avance simplement vers vous dans un silence terrifiant, chaque pas laissant une trace de givre sur le marbre du hall.",contexte_mj:"Jaren est incapable de reflechir son me est en train d'tre dvore par le rituel incomplet.",objectif:"Dtruire la dpouille de Jaren pour stopper l'anomalie."},mecaniques:{defis:["Aura de Froid : Toute personne au contact de Jaren subit 1d4 dgts de froid au dbut de son tour.","clats de glace :  50% de ses PV, le corps de Jaren expulse des fragments d'os et de givre (Jet de Rflexes DD 13 ou 1d8 dgts)."],recompenses:"Bague de focalisation brise, fragments d'une gemme d'me (valeur 50 po)."},transitions:{success:"Le corps de Jaren s'effondre et se change instantanment en poussire givre. Le silence revient dans le hall."}},{title:"Scne 3 : Le Bilan du Matre",type:"Conclusion",image:"/images/scenes/thade_coren.jpg",locationId:"manoir_hall",npcIds:["thade_coren"],description:{sous_titre:"L'architecte vient rcuprer les donnes.",visuel:"Thade entre dans le hall par la grande porte, comme s'il rentrait d'une promenade. Il contourne les dbris avec une lgance drangeante, rangeant sa montre  gousset.",audio:"Le bruit rgulier de sa canne sur le marbre. Sa voix est calme, pose, presque monocorde.",odeur:"Lavande et tabac froid."},narration:{declencheur:"La destruction du Sujet J-01 et la dfaite d'Ilse.",texte_a_lire:"Thade observe les restes de Jaren avec une moue de dsapprobation.  Dommage. La phase de transition tait prometteuse, mais le contenant tait trop instable. Quant  Ilse... elle a toujours manqu de patience.  Il se tourne vers vous avec un lger hochement de tte.  Vous avez t d'une efficacit remarquable pour des consultants externes. Merci d'avoir purg ces erreurs. L'Universit n'aime pas les fuites. ",contexte_mj:"Thade ne se cache mme pas. Il considre les PJ comme des prestataires de services qui ont nettoy ses expriences rates. Il ramasse les notes d'Ilse sans aucune motion pour ses lves morts.",objectif:"Rcuprer la solde et comprendre l'ampleur du cynisme de Thade."},mecaniques:{defis:["Psychologie (DD 13) : Raliser que Thade ne ressent absolument aucune tristesse, seulement de la dception technique.","Sens de la rpartie (DD 15) : Tenter d'obtenir une prime supplmentaire pour 'exposition  des risques biologiques non mentionns'."],recompenses:"Bourse de 200 po (la prime promise) + une sensation de malaise profond."},transitions:{success:"Fin de l'acte. Thade quitte le manoir, laissant les PJ seuls avec les cadavres de deux tudiants qui n'taient, au fond, que des variables dans une quation."}}]}]},VS={id:2,title:"SCNARIO 2 : L'CHO DES PROFONDEURS",level:"Niveaux 4-6",system:"D&D 3.5",synopsis:"La mine d'argent est  l'arrt. Thade Coren, agissant en expert, envoie les PJ 'stabiliser' une fissure magique. En ralit, les PJ servent de vecteurs pour charger un cristal avec l'nergie d'une anomalie plantaire : la Spirale.",acts:[{title:"ACTE 1 : LA GRVE DE LA PIOCHE",stake:"Accepter la mission et l'outil de Thade sans comprendre sa vraie nature.",location:"Quartier du Savoir & Quartier des Mineurs.",scenes:[{title:"Scne 1 : Le Conseil de Crise",type:"Social",image:"/images/scenes/universite_arcane.jpg",locationId:"universite_arcane",npcIds:["durnik_chef_mineur","thade_coren"],description:{sous_titre:"Une aide trop gnreuse pour tre honnte.",visuel:"Durnik, couvert de suie, semble minuscule face  Thade dans le hall froid de l'Universit. Entre eux, lvitant sur un coussin de velours, repose un Cristal.",audio:"Le cristal met un sifflement tnu, presque mlodique. Durnik grogne de mpris.",odeur:"Lavande et poussire de roche.",lumiere:"Lumire znithale froide tombant de la coupole."},narration:{declencheur:"Les PJ sont convoqus ou arrivent pour enquter.",texte_a_lire:`Le hall majestueux de luniversit rsonne dune dispute inhabituelle. Durnik, le contrematre nain furieux, pointe un doigt calleux vers le cristal que Thade Coren tient avec prcaution.

- Durnik :  Par la barbe de mes anctres, Thade ! Ce caillou me donne la nause ! Mes gars meurent l-dessous et toi tu restes l  nous vendre de la verroterie ? 

- Thade : (S'adressant aux PJ avec un sourire mielleux)  Ah, vous tombez  point nomm. Voici les aventuriers qui ont "nettoy" les erreurs de nos anciens lves, Durnik. Un peu de tenue. 

C'est une simple rsonance arcanique. Portez ce stabilisateur au niveau -8. Il absorbera les vibrations nfastes et protgera l'esprit des travailleurs. 

- Durnik :Allez d'abord aux 'Fumes Rouges' dans le quartier bas. Mara, la tenancire, a les accs pour le puits secondaire. Elle connait  les noms des mineurs en tat de vous aider. vitez de pavaner avec le cristal, les locaux sont nerveux. `,contexte_mj:"Thade prsente la mission comme une rparation morale. Le cristal est en ralit un siphon destin  se charger de l'nergie de la Spirale.",contexte_mj:"Thade ment froidement. Le cristal n'est pas un stabilisateur, mais un condensateur vide destin  aspirer l'nergie de la Spirale.",objectif:"Accepter le Cristal et la mission de 'stabilisation'."},mecaniques:{defis:["Sens de la Magie (DD 18) : Le cristal appartient  l'cole de l'vocation et de la Ncromancie (trange pour un outil de stabilisation).","Psychologie (DD 20) : Thade semble sincre, mais son regard trahit une impatience dvorante."],indices:["Thade insiste pour que vous gardiez le cristal 'pour mesurer les vibrations'."],recompenses:"Le Cristal de Rsonance (Objet de qute)."},transitions:{success:"Les PJ quittent l'Universit avec l'artefact en direction des quartiers miniers.",fail:"Les PJ sont vus comme des agents perturbateurs, complexifiant les interactions futures."}},{title:"Scne 2 : Le Quartier Paralys",type:"Investigation",image:"/images/scenes/quartier_mineurs.jpg",locationId:"quartier_des_mineurs_place",npcIds:["tenancier_taverne"],description:{sous_titre:"La peur se rpand comme une trane de poudre.",visuel:"Des barricades de fortune bloquent les accs aux rues principales. Des graffitis  la chaux sur les murs dnoncent la Tour des Mages. Une effigie de magicien brle lentement sur la place centrale.",audio:"Le grondement des conversations de groupe qui s'arrtent net  votre passage. On entend des insultes lances au loin.",odeur:"Brl, goudron et bire forte.",lumiere:"La lueur orange des brasiers en opposition au gris du ciel."},narration:{declencheur:"Entre des PJ dans le quartier.",texte_a_lire:' peine avez-vous franchi les premires maisons que les regards se font assassins.  la taverne des "Fumes Rouges", Mara ne nettoie son comptoir : elle sert des pichets  des nains aux yeux rouges de rage. En voyant le cristal briller  votre ceinture, elle crache au sol.  Encore des laquais de la Tour ? Ils envoient des chiens de garde maintenant que leurs expriences nous font crever ? Partez avant que la foule ne dcide de vous enterrer sans attendre la mine. murmure-t-elle sans lever les yeux.',contexte_mj:"Les rumeurs sont exagres mais bases sur des faits rels (hallucinations causes par la proximit de la Spirale).",objectif:"Recueillir des rumeurs et comprendre la nature de la menace (psychique/sonique)."},mecaniques:{defis:["Collecte d'informations (DD 10) : Apprendre les rumeurs ('ombres vivantes', 'chant de la pierre').","Intimidation/Diplomatie (DD 14) : Convaincre un mineur de parler de ce qu'il a vu en bas."],indices:["Les mineurs les plus touchs saignent des oreilles.","Le chant semble venir des niveaux les plus profonds."],recompenses:"Information sur l'accs condamn."},transitions:{success:"Piste vers l'entre de la mine.",fail:"Perte de temps, la nuit tombe et l'ambiance devient plus oppressante."}},{title:"Scne 3 : Le Piquet de Grve",type:"Social",image:"/images/scenes/entree_mine.jpg",locationId:"entree_mine_valdombre",npcIds:["durnik_chef_mineur"],description:{sous_titre:"Un mur de nains obstins.",visuel:"Durnik et ses hommes bloquent l'immense grille de l'ascenseur avec des barricades de fortune.",audio:"Chants de grve graves et monotones, cliquetis d'armes prtes.",odeur:"Huile de machine et tabac nain.",lumiere:"Les brasiers des gardes projettent des ombres dansantes sur le mtal."},narration:{declencheur:"Arrive devant les grilles verrouilles de la mine.",texte_a_lire:"Durnik crache au sol et pointe la machinerie:  On ne descend plus. La roche pulse et mes gars voient des choses tranges. Le monte-charge est fonctionnel, mais le levier d'activation est dans la cabine de contrle, de l'autre ct de la grille. Il ne reste personne pour aller l'enclencher. Si vous voulez descendre, c'est  vos risques et prils. On verrouille derrire vous. ",contexte_mj:"Durnik protge ses hommes. Il ne laissera passer que ceux qui prouvent qu'ils peuvent survivre et rgler le problme.",objectif:"Convaincre Durnik de lever le barrage ou trouver un autre accs."},mecaniques:{defis:["Diplomatie (DD 15) : Convaincre Durnik que le cristal de Thade va rgler le problme.","Ingnierie / Mcanique (DD 14) : Comprendre que le mcanisme ncessite une pression constante sur le levier intrieur pour descendre en scurit.","Renseignement (DD 12) : Apprendre que trois mineurs ont disparu au niveau -8 aprs avoir 'entendu leur propre nom sortir du mur'."],indices:["Durnik a scell le niveau -1 aprs que des 'choses' soient remontes."],recompenses:"Accs  la mine, respect des nains (si diplomatie)."},transitions:{success:"Durnik ouvre et active lui-mme le monte-charge  vapeur.",fail:"Les PJ doivent s'introduire par un conduit d'aration dangereux (Test d'Escalade DD 15)."}},{title:"Scne 4 : La Cage",type:"Transition",image:"/images/scenes/cage_mine.jpg",locationId:"entree_mine_valdombre",npcIds:[],description:{sous_titre:"Une descente vers l'inconnu.",visuel:"Les parois de roche dfilent  toute vitesse. L'obscurit se fait totale.",audio:"Le grincement assourdissant des chanes, puis un silence lourd une fois au fond.",odeur:"L'air devient chaud, sec et mtallique.",lumiere:"L'obscurit avale la lumire des torches  quelques mtres seulement."},narration:{declencheur:"Activation du levier de descente.",texte_a_lire:"La cage descend, encore et encore. La temprature monte. Soudain, le mcanisme s'arrte avec un grand bruit mtallique. Vous tes seuls, pendus au bout d'une chane dans les entrailles du monde.",contexte_mj:"Huis clos pour mettre l'ambiance. Le cristal de Thade commence  luire faiblement.",objectif:"Arriver au niveau -1 sans cder  la panique."},mecaniques:{defis:["Constitution (DD 12) : Rsister  la pression et  la chaleur croissante.","Perception (DD 15) : Entendre un grattement sur le toit de la cage."],indices:["Le cristal de Thade pulse en rythme avec une vibration lointaine."],recompenses:"Aucune, survie."},transitions:{success:"Arrive au niveau -1, Acte 2.",fail:"Arrive avec tat 'Secou' (-2 aux jets) pour le dbut de l'Acte 2."}}]},{title:"ACTE 2 : LES GALERIES SILENCIEUSES",stake:"Traverser la mine dserte et atteindre la faille de la Spirale.",location:"Niveaux infrieurs (Niveaux -1  -7.) de la mine d'argent.",scenes:[{title:"Scne 1 : La Forge Dserte",type:"Investigation",image:"/images/scenes/forge_desertee.jpg",locationId:"galeries_silencieuses",npcIds:[],description:{sous_titre:"Une vie interrompue.",visuel:"Tables renverses, enclumes froides, gamelles de ragot moisies, comme si tout le monde s'tait envol.",audio:"Goutte--goutte incessant. Aucun bruit de vermine.",odeur:"Nourriture avarie et cette odeur d'ozone persistante.",lumiere:"Lumire des PJ uniquement. Les lampes murales sont brises."},narration:{declencheur:"Sortie de la cage.",texte_a_lire:"C'tait la zone de repos du niveau -1. Les repas sont encore dans les assiettes. Aucune trace de combat, juste... une fuite perdue. Une botte abandonne gt au milieu de la pice.",contexte_mj:"Les mineurs ont fui une vague de panique psychique. Pas de monstres ici, juste l'ambiance.",objectif:"Comprendre que la menace n'est pas (que) physique."},mecaniques:{defis:["Investigation (DD 13) : Trouver un journal de bord laiss par un contrematre.","Art de la Magie (DD 15) : Le Cristal de Thade commence  luire plus fort (Indice : il se nourrit)."],indices:["Journal : 'Ils sont dans les murs. Ils chantent.'"],recompenses:"Carte mise  jour vers le niveau -7."},transitions:{success:"Progression vers les niveaux infrieurs.",fail:"Progression lente, paranoa croissante."}},{title:"Scne 2 : Les Charognards d'Acier",type:"Combat",image:"/images/scenes/monstres_rouilleurs.jpg",locationId:"galeries_silencieuses",npcIds:[],description:{sous_titre:"La faim des profondeurs.",visuel:"Des cratures aux carapaces mtalliques rongent les rails de la mine.",audio:"Cliquetis d'antennes et bruits de mastication de mtal.",odeur:"Acide et rouille.",lumiere:"Les reflets des carapaces dans le noir."},narration:{declencheur:"Approche d'un dpt de matriel.",texte_a_lire:"Le chemin est barr par des cratures ressemblant  des insectes gants. Elles ne mangent pas les corps... elles mangent les pioches et les rails. Et elles vous ont vus.",contexte_mj:"Monstres Rouilleurs (Rust Monsters) ou Ankhegs corrompus. Danger pour l'quipement des PJ.",objectif:"Traverser la zone ou liminer la menace."},mecaniques:{defis:["Combat : Vaincre les Charognards (1 jeune oxydeur corrompu).","Connaissance (Nature/Donjon) (DD 14) : Identifier les monstres rouilleurs et protger ses armes."],indices:["Les cratures semblent fuir quelque chose venant du bas."],recompenses:"Minerais prcieux (100 po) dlaisss par les mineurs en fuite."},transitions:{success:"Accs au niveau -5.",fail:"Perte d'quipement (armes/armures corrodes)."}},{title:"Scne 3 : La Poche de Gaz",type:"Pige",image:"/images/scenes/galerie_gaz.jpg",locationId:"galeries_silencieuses",npcIds:[],description:{sous_titre:"Un pige invisible.",visuel:"L'air ondule lgrement. Les flammes des torches virent au bleu.",audio:"Un sifflement lger sort d'une fissure.",odeur:"uf pourri (soufre) intense.",lumiere:"Faible, brumeuse."},narration:{declencheur:"Arrive au niveau -7.",texte_a_lire:"L'odeur vous prend  la gorge. Vos yeux piquent. Une nappe de gaz invisible stagne dans cette section du tunnel.",contexte_mj:"Zone de gaz explosif. Toute flamme nue provoque une explosion.",objectif:"Traverser sans faire sauter la galerie."},mecaniques:{defis:["Connaissance (Souterrains) / Survie (DD 15) : Identifier le gaz grisou.","Dextrit / Discrtion (DD 12) : Se dplacer sans crer d'tincelles (armures mtalliques)."],indices:["Un squelette d'oiseau (canari) dans une cage au sol."],recompenses:"Passage scuris."},transitions:{success:"Accs au cul-de-sac du Gomtre.",fail:"Explosion (dgts de feu, effondrement partiel)."}},{title:"Scne 4 : Le Journal du Gomtre",type:"Investigation",image:"/images/scenes/campement_geometre.jpg",locationId:"galeries_silencieuses",npcIds:["geometre_fou"],description:{sous_titre:"La logique face  la folie.",visuel:"Un campement de fortune. Un nain dessch est assis contre le mur, serrant un carnet.",audio:"Silence absolu, pesant.",odeur:"Poussire ancienne.",lumiere:"La lanterne du nain est teinte depuis longtemps."},narration:{declencheur:"Dcouverte du corps.",texte_a_lire:"C'est le gomtre disparu. Il n'a aucune blessure, mais sa gourde est pleine. Il est mort de soif... ou de peur de bouger.",contexte_mj:"Le gomtre a compris que la Spirale change la topologie. Il a prfr mourir sur place que de se perdre.",objectif:"Rcuprer ses notes pour comprendre la suite."},mecaniques:{defis:["Fouille (DD 10) : Rcuprer le journal.","Linguistique / Intelligence (DD 14) : Dcrypter les notes griffonnes frntiquement."],indices:["Journal : 'La galerie s'allonge quand on ne la regarde pas.', 'La gomtrie est un mensonge ici.'","Carte du niveau -8 (le Mur Bris)."],recompenses:"Bonus +2 aux jets de Survie dans la Spirale grce aux notes."},transitions:{success:"Piste vers le niveau -8.",fail:"Comprhension moindre des dangers  venir."}},{title:"Scne 5 : Le Mur Bris",type:"Dcouverte",image:"/images/scenes/mur_brise.jpg",locationId:"galeries_silencieuses",npcIds:[],description:{sous_titre:"L o la mine s'arrte et o l'horreur commence.",visuel:"La roche grise naturelle s'arrte net. Devant vous, une paroi de matire obsidienne violette, lisse et huileuse. Elle est fissure.",audio:"Un bourdonnement grave qui fait vibrer les dents.",odeur:"Ozone et sang.",lumiere:"Une lueur violette malsaine pulse depuis la fissure."},narration:{declencheur:"Arrive au bout de la galerie principale.",texte_a_lire:"Vous y tes. La brche. Les outils des mineurs gisent au sol, tordus comme s'ils avaient fondu.  travers la fissure dans la roche noire, vous apercevez... du vide. Et des escaliers qui descendent vers le haut.",contexte_mj:"Point de bascule vers l'Acte 3. Le cristal de Thade devient brlant.",objectif:"Franchir la fissure."},mecaniques:{defis:["Volont (DD 14) : Rsister  l'envie de fuir face  l'aura surnaturelle.","Connaissance (Arcanes/Plans) (DD 16) : Identifier la matire comme extra-planaire (Limbes/Far Realm)."],indices:["La roche n'est pas naturelle, c'est une 'peau' qui spare les ralits."],recompenses:"Entre dans la Spirale."},transitions:{success:"Entre dans l'Antichambre de la Folie (Acte 3).",fail:"Recul, ncessit de se regrouper avant de ressayer."}}]},{title:"ACTE 3 : L'ANTICHAMBRE DE LA FOLIE",stake:"Transition vers le surnaturel.",location:"Faille Mine/Spirale.",scenes:[{title:"Scne 1 : Les Runes d'Avertissement",type:"Lore",image:"/images/scenes/runes_avertissement.jpg",locationId:"galeries_silencieuses",npcIds:[],description:{sous_titre:"Les dernires protections ont cd.",visuel:"D'anciennes plaques de mtal nain encadrent la brche, couvertes de runes marteles.",audio:"Crpitement d'nergie magique rsiduelle.",odeur:"Mtal chaud.",lumiere:"Les runes luisent faiblement puis s'teignent."},narration:{declencheur:"Examen de la fissure.",texte_a_lire:"Ce n'tait pas juste une mine. C'tait une prison. Les runes disent : 'Ici commence ce qui ne doit pas tre. Ne creusez pas plus loin.' Quelqu'un a burin les avertissements pour les rendre illisibles.",contexte_mj:"Preuve que le Conseil ou Thade savaient, ou que les anciens nains savaient. Sabotage vident.",objectif:"Comprendre l'origine du danger."},mecaniques:{defis:["Dcryptage / Nain (DD 12) : Lire les runes endommages.","Investigation (DD 14) : Remarquer les traces de burin rcentes."],indices:["Le sabotage est rcent (quelques semaines, avant la grve)."],recompenses:"Preuve de la ngligence criminelle."},transitions:{success:"Passage de la brche.",fail:"Passage sans comprendre l'historique."}},{title:"Scne 2 : Les Gardiens de Pierre",type:"Combat",image:"/images/scenes/elementaires_corrompus.jpg",locationId:"galeries_silencieuses",npcIds:[],description:{sous_titre:"La roche se dfend.",visuel:"Des amas de pierre se dtachent des murs. Des veines violettes parcourent leur corps.",audio:"Grondement sourd, comme un boulement contrl.",odeur:"Poussire de pierre.",lumiere:"Leurs yeux sont des failles lumineuses."},narration:{declencheur:"Passage de la zone runique.",texte_a_lire:"Les rochers bougent. Des lmentaires de terre, corrompus par l'nergie de la Spirale, mergent. Ils ne semblent pas vous attaquer par devoir, mais par douleur. Ils sont fous.",contexte_mj:"lmentaires de Terre corrompus. Ils attaquent tout ce qui bouge. Ils ne gardent pas, ils fuient la fissure.",objectif:"Survivre  l'assaut."},mecaniques:{defis:["Combat : Vaincre les lmentaires corrompus.","Empathie Sauvage / Magie (DD 18) : Calmer temporairement un lmentaire pour qu'il fuit."],indices:["Leur cur est un clat de cristal violet."],recompenses:"clats de cristal (composants magiques)."},transitions:{success:"La voie est libre.",fail:"Retraite force ou blessures graves."}},{title:"Scne 3 : L'Appel de la Spirale",type:"Vision",image:"/images/scenes/vision_spirale.jpg",locationId:"galeries_silencieuses",npcIds:[],description:{sous_titre:"Le regard de l'abme.",visuel:"En touchant la roche noire de la fissure, la ralit ondule.",audio:"Le chant devient intelligible : des mots dans une langue inconnue mais comprhensible.",odeur:"Nant.",lumiere:"Flash psychique."},narration:{declencheur:"Contact physique avec la brche.",texte_a_lire:"Une vision vous traverse l'esprit. Un il gigantesque, fait de gomtrie impossible, vous observe. Vous vous sentez minuscule. Le Cristal de Thade dans votre poche devient brlant, aspirant cette nergie.",contexte_mj:"Lien entre le Cristal de Thade et la Spirale. Le Cristal se 'charge'.",objectif:"Rsister  l'assaut psychique."},mecaniques:{defis:["Volont (DD 15) : Ne pas tre tourdi par la vision.","Connaissance (Mystres) (DD 16) : Comprendre que la Spirale est consciente."],indices:["Le Cristal de Thade agit comme une cl ou un siphon."],recompenses:"Information sur la nature consciente du donjon."},transitions:{success:"Entre lucide.",fail:"Entre avec condition 'Hant' (malus volont)."}},{title:"Scne 4 : Le Passage",type:"Exploration",image:"/images/scenes/passage_gravite.jpg",locationId:"galeries_silencieuses",npcIds:[],description:{sous_titre:"L o le bas devient le haut.",visuel:"Vous traversez la fissure. Le sol devient plafond. Les perspectives s'inversent.",audio:"Craquement des articulations, vertige auditif.",odeur:"L'air est rarfi, charg d'lectricit.",lumiere:"Lumire ambiante diffuse sans source."},narration:{declencheur:"Franchissement physique.",texte_a_lire:"Un pas. Deux pas. Le monde bascule. Vous ne descendez plus, vous... tombez vers le haut ? Non, la gravit a pivot de 10 degrs. Vous marchez sur le mur, qui est maintenant le sol.",contexte_mj:"Transition vers les rgles de la Spirale. Dsorientation des joueurs.",objectif:"S'adapter  la nouvelle gravit."},mecaniques:{defis:["Acrobaties (DD 12) : Ne pas tomber lors du changement de gravit.","Constitution (DD 10) : Rsister  la nause."],indices:["Les lois de la physique sont locales ici."],recompenses:"Accs  la Spirale proprement dite."},transitions:{success:"Arrive sur le Balcon.",fail:"Chute mineure (dgts contondants)."}},{title:"Scne 5 : Le Balcon",type:"Cliffhanger",image:"/images/scenes/balcon_spirale.jpg",locationId:"spirale_balcon_inverse",npcIds:["exploratrice_perdue"],description:{sous_titre:"Un panorama impossible.",visuel:"Une corniche de pierre donnant sur un vide infini... rempli de tours et d'escaliers flottants, la tte en bas.",audio:"Le vent des profondeurs hurle.",odeur:"Ozone pur.",lumiere:"Des nbuleuses violettes clairent le vide."},narration:{declencheur:"Arrive sur la plateforme.",texte_a_lire:"Devant vous s'tend la Spirale. Un donjon invers, creus non dans la roche, mais dans la ralit. Sur la corniche, une silhouette humaine vous observe, pe au clair. C'est Lysa.",contexte_mj:"Lysa est une exploratrice perdue depuis des jours. Elle connat les rgles du Premier Cercle.",objectif:"Rencontrer Lysa et obtenir des infos."},mecaniques:{defis:["Diplomatie (DD 12) : Calmer Lysa qui est sur les nerfs.","Perception (DD 10) : Voir le chemin qui continue le long d'une chane gante."],indices:["Lysa : 'Ne revenez jamais sur vos pas, le chemin change derrire vous.'"],recompenses:"Lysa rejoint le groupe (temporairement) ou donne sa carte."},transitions:{success:"Dbut de l'Acte 4 avec un guide.",fail:"Dbut de l'Acte 4 seul."}}]},{title:"ACTE 4 : LE PREMIER CERCLE",stake:"Survie en milieu hostile.",location:"La Spirale (Haut).",scenes:[{title:"Scne 1 : L'Architecture Vivante",type:"Mcanique",image:"/images/scenes/architecture_vivante.jpg",locationId:"spirale_premier_cercle",npcIds:[],description:{sous_titre:"Le labyrinthe qui triche.",visuel:"Couloirs de pierre lisse qui semblent respirer. Les portes changent de place quand on ne les regarde pas.",audio:"Bruit de pierre qui frotte contre la pierre dans votre dos.",odeur:"Absence d'odeur, strilit inquitante.",lumiere:"Phosphorescence des murs."},narration:{declencheur:"Exploration du premier couloir.",texte_a_lire:"Vous avancez dans le couloir. Vous vous retournez un instant... le chemin par lequel vous tes venus a disparu. Il n'y a plus qu'un mur lisse. La Spirale se referme derrire vous.",contexte_mj:"Mcanique du donjon : pas de retour arrire simple. Il faut avancer. Rgle : Si on quitte une salle, le couloir derrire change.",objectif:"Comprendre et accepter la rgle du 'toujours tout droit'."},mecaniques:{defis:["Survie / Intelligence (DD 15) : Reprer les motifs rcurrents pour ne pas tourner en rond.","Cartographie (DD 20) : Essayer de tracer un plan (trs difficile)."],indices:["Suivre le flux d'nergie violette mne au cur."],recompenses:"Progression vers le centre."},transitions:{success:"Progression fluide.",fail:"Errance, fatigue, jets de rencontre alatoire."}},{title:"Scne 2 : Les Anciens Mineurs",type:"Combat",image:"/images/scenes/goules_mineurs.jpg",locationId:"spirale_premier_cercle",npcIds:[],description:{sous_titre:"Ceux qui n'ont jamais remont.",visuel:"Des silhouettes votes, portant des lambeaux de tenues de mineurs nains d'il y a un sicle.",audio:"'Creuser... encore... creuser...'",odeur:"Moisissure et vieux cuir.",lumiere:"Leurs yeux sont des orbites vides."},narration:{declencheur:"Entre dans une salle d'extraction ancienne.",texte_a_lire:"Ils frappent les murs avec des os ou des dbris. Ce sont des goules, ou pire, des mineurs d'antan anims par la volont du donjon. Ils se tournent vers vous, pioches leves.",contexte_mj:"Goules avec quipement de mineur (CA amliore, attaques avec pioches).",objectif:"Survivre  l'embuscade."},mecaniques:{defis:["Combat : Vaincre les morts-vivants.","Religion (DD 12) : Comprendre qu'ils ne sont pas des morts-vivants classiques, mais des 'marionnettes' de la Spirale."],indices:["Ils protgent l'accs  la Gode."],recompenses:"Vieux bijoux nains, potentiellement une arme magique mineure."},transitions:{success:"Accs  la salle de la Gode.",fail:"Fuite, blessures."}},{title:"Scne 3 : La Gode Chantante",type:"Objectif",image:"/images/scenes/geode_chantante.jpg",locationId:"spirale_coeur_geode",npcIds:["geode_avatar"],description:{sous_titre:"Le cur du problme.",visuel:"Une immense caverne cristalline. Au centre, une gode de la taille d'une maison pulse violemment.",audio:"Le HURLEMENT. C'est ici. Le son est physique, il fait vibrer vos os.",odeur:"Air ionis  l'extrme.",lumiere:"blouissante, violette et blanche."},narration:{declencheur:"Entre dans la salle.",texte_a_lire:"C'est la source du chant qui rend les mineurs fous. Une excroissance de la Spirale qui perce vers notre ralit. L'Avatar de la Gode se manifeste, une forme humanode faite de cristal tranchant.",contexte_mj:"Boss de l'acte. Le Cristal de Thade se met  vibrer si fort qu'il fait mal  tenir. Action : Dtruire la gode ou la drainer.",objectif:"Neutraliser la Gode (la dtruire ou la drainer avec le cristal)."},mecaniques:{defis:["Combat : Affronter l'Avatar de la Gode.","Arcanes (DD 16) : Utiliser le Cristal de Thade pour siphonner l'nergie au lieu de combattre (Action complexe).","Volont (DD 14) : Rsister aux dgts soniques par tour."],indices:["Thade voulait cette nergie. Le cristal est plein  craquer."],recompenses:"Cristal de Thade charg (Objet cl). La mine se calme."},transitions:{success:"La Gode s'teint. La Spirale tremble (rejet).",fail:"Mort ou fuite sans rsoudre le problme."}},{title:"Scne 4 : Le Nettoyeur",type:"Rencontre",image:"/images/scenes/cube_nettoyeur.jpg",locationId:"spirale_premier_cercle",npcIds:["cube_nettoyeur"],description:{sous_titre:"Le systme immunitaire s'active.",visuel:"Un cube glatineux ou une masse amorphe qui avance, dissolvant le sol derrire lui.",audio:"Succion humide.",odeur:"Acide pur.",lumiere:"Translucide, englobant les dbris."},narration:{declencheur:"Aprs avoir neutralis la Gode.",texte_a_lire:"La Spirale ragit  l'agression. Quelque chose arrive dans le couloir pour 'nettoyer' l'infection... c'est--dire vous.",contexte_mj:"Course-poursuite ou combat dsespr. Le donjon veut les expulser. Systme immunitaire du donjon.",objectif:"Fuir vers la sortie."},mecaniques:{defis:["Course-poursuite (Skill Challenge) : Acrobaties, Athltisme, Survie.","Combat : Ralentir le Nettoyeur."],indices:["Le chemin de retour est temporairement stable, comme si le donjon vous recrachait."],recompenses:"Survie."},transitions:{success:"Retour  la fissure.",fail:"Dgts d'acide, perte d'quipement."}},{title:"Scne 5 : Le Rejet",type:"Fuite",image:"/images/scenes/fissure_rejet.jpg",locationId:"spirale_premier_cercle",npcIds:[],description:{sous_titre:"L'expulsion.",visuel:"La ralit se tord. La fissure est l, palpitante.",audio:"Le monde crie.",odeur:"Vide.",lumiere:"Stroboscopique."},narration:{declencheur:"Arrive  la fissure.",texte_a_lire:"Vous sautez  travers la brche. La gravit s'inverse  nouveau brutalement. Vous vous crasez sur le sol de pierre froide de la mine. Le silence revient. C'est fini... pour l'instant.",contexte_mj:"Retour brutal  la ralit. La Spirale tremble aprs la destruction de la gode. Les PJ sont meurtris mais vivants.",objectif:"Regagner la surface."},mecaniques:{defis:["Acrobaties (DD 12) : Atterrissage contrl.","Vigueur (DD 12) : Ne pas tre tourdi."],indices:["La fissure se referme partiellement, mais reste active."],recompenses:"Fin de l'Acte 4."},transitions:{success:"Retour  la mine.",fail:"Dgts de chute."}}]},{title:"ACTE 5 : LE SABOTAGE",stake:"Trahison et politique.",location:"Retour surface.",scenes:[{title:"Scne 1 : Retour en Terre Connue",type:"Rpit",image:"/images/scenes/mine_calme.jpg",locationId:"mine_argent",npcIds:["contremaitre_nain_mine"],description:{sous_titre:"Le calme avant la tempte.",visuel:"Le niveau -1 est calme. Grelm le contrematre vous attend, l'air soucieux.",audio:"Le bruit normal de la mine (gouttes d'eau) est revenu.",odeur:"Poussire familire.",lumiere:"Lanterne de Grelm."},narration:{declencheur:"Arrive au point de rendez-vous.",texte_a_lire:"'Vous tes vivants ! Par la barbe de Moradin, le chant a cess. Qu'avez-vous fait ?' Grelm semble soulag, mais il regarde nerveusement vers l'ascenseur.",contexte_mj:"Mine stable. Le chant a cess. Les PJ ont le Cristal charg d'nergie. Grelm est honnte, mais il sait que des 'hommes du Conseil' sont descendus.",objectif:"Faire un rapport rapide et appeler l'ascenseur."},mecaniques:{defis:["Psychologie (DD 12) : Sentir l'inquitude de Grelm.","Diplomatie : Rassurer le nain."],indices:["Grelm : 'D'autres sont descendus aprs vous. Des mercenaires. Ils ont dit qu'ils venaient vous aider.'"],recompenses:"Information sur l'embuscade."},transitions:{success:"Prparation au combat.",fail:"Surprise  la scne suivante."}},{title:"Scne 2 : Les Secouristes",type:"Embuscade",image:"/images/scenes/mercenaires_thade.jpg",locationId:"mine_argent",npcIds:[],description:{sous_titre:"Les nettoyeurs de Thade.",visuel:"Des hommes en armures lgres, visages masqus, surgissent des ombres prs de la cage.",audio:"Armes qu'on dgaine.",odeur:"Huile d'arme.",lumiere:"Ils ont bris les lanternes environnantes."},narration:{declencheur:"Approche de la cage.",texte_a_lire:"'Le Matre veut le cristal. Et pas de tmoins.' Pas de ngociation. Ils attaquent.",contexte_mj:"Mercenaires de Thade dguiss. Objectif : Rcuprer le cristal, pas de tmoins.",objectif:"Survivre et garder le cristal."},mecaniques:{defis:["Combat : Vaincre les mercenaires.","Protection : Empcher qu'ils ne tuent Grelm (tmoin)."],indices:["Ils portent un sceau discret de la maison Coren."],recompenses:"quipement de qualit, ordres crits ('Rcuprer le sujet, nettoyer la zone')."},transitions:{success:"Accs  la cage.",fail:"Capture (scnario alternatif) ou fuite difficile."}},{title:"Scne 3 : L'Effondrement",type:"Catastrophe",image:"/images/scenes/effondrement_mine.jpg",locationId:"mine_argent",npcIds:[],description:{sous_titre:"Effacer les preuves.",visuel:"Des charges explosives sur les piliers de soutnement. La mche brle.",audio:"Sifflement de la mche.",odeur:"Poudre noire.",lumiere:"L'tincelle qui court."},narration:{declencheur:"Pendant ou aprs le combat.",texte_a_lire:"Le dernier mercenaire sourit en mourant. 'Pour Val-d'Ombre'. Il a activ les charges. La mine va s'effondrer sur la brche... et sur vous.",contexte_mj:"Explosifs mercenaires sautent. Compte  rebours. Il faut fuir par la cage.",objectif:"Remonter avant l'explosion."},mecaniques:{defis:["Athltisme (DD 12) : Courir vers la cage.","Ingnierie (DD 15) : Tenter de dsamorcer (risqu)."],indices:["Thade prfre dtruire la mine que de laisser des preuves de la Spirale."],recompenses:"Survie in extremis."},transitions:{success:"Remonte vers la surface.",fail:"Dgts d'effondrement, ensevelissement partiel."}},{title:"Scne 4 : Confrontation Surface",type:"Social",image:"/images/scenes/confrontation_surface.jpg",locationId:"quartier_des_mineurs_place",npcIds:["durnik_chef_mineur","thade_coren"],description:{sous_titre:"La vrit contre le pouvoir.",visuel:"La cage merge dans la poussire. Durnik et Thade sont l, entours de gardes et de mineurs.",audio:"Explosion sourde dans les profondeurs. Silence de la foule.",odeur:"Poussire qui remonte du puits.",lumiere:"Jour ple, aveuglant aprs les profondeurs."},narration:{declencheur:"Sortie de la cage.",texte_a_lire:"La terre tremble une dernire fois. La mine est scelle. Thade s'avance, visage inquiet (jou). 'Dieux merci, vous avez survcu  ce terrible accident. Avez-vous... les relevs ?'",contexte_mj:"Thade et Durnik prsents. Thade retourne la situation (accuse le trauma des PJ). Il veut rcuprer le cristal.",objectif:"Grer la situation politique. Rendre le cristal ou le cacher ?"},mecaniques:{defis:["Intimidation / Diplomatie (DD 16) : Rvler la trahison de Thade (difficile sans preuves tangibles).","Bluff (DD 14) : Cacher le cristal ou mentir sur ce qui s'est pass.","Psychologie : Voir que Thade est prt  tout pour le cristal."],indices:["Thade perd son sang-froid si on refuse le cristal."],recompenses:"XP de fin de scnario, Rputation (Mineurs ou Conseil)."},transitions:{success:"Fin du scnario.",fail:"Thade rcupre le cristal par la force ou la ruse, mais les PJ sont vivants."}},{title:"Scne 5 : Le Foss se creuse",type:"Conclusion",image:"/images/scenes/epilogue_mine.jpg",locationId:"quartier_des_mineurs_place",npcIds:[],description:{sous_titre:"pilogue.",visuel:"Les mineurs regardent leur mine dtruite. Thade repart vers la Tour des Mages.",audio:"Le vent tourne.",odeur:"Amertume.",lumiere:"Crpuscule."},narration:{declencheur:"Dpart des protagonistes.",texte_a_lire:"La grve est finie, car il n'y a plus de mine. Les Nains vous regardent avec respect, mais aussi tristesse. Thade a ce qu'il voulait, ou une partie. Et la Spirale... la Spirale est toujours l, juste sous vos pieds.",contexte_mj:"Grve finie mais mine sabote. Nains blment la magie, Mages blment la mine. Thade a son nergie.",objectif:"Bilan."},mecaniques:{defis:[],indices:["Thade va utiliser l'nergie pour ouvrir un passage plus stable (Scnario 3/4)."],recompenses:"Monte de niveau."},transitions:{success:"Vers Scnario 3.",fail:"Vers Scnario 3."}}]}]},kS={id:3,title:"SCNARIO 3 : LA CHUTE DE VAL-D'OMBRE",level:"Niveaux 7-9",synopsis:"Thade orchestre la 'Nuit des Longs Couteaux'. Les PJ, ennemis publics, doivent fuir dans la Spirale.",acts:[{title:"ACTE 1 : L'ASSASSINAT",stake:"Dclencheur politique.",location:"Htel de Ville.",scenes:[{title:"Scne 1 : Le Sommet Sanglant",type:"Tension",image:"/images/scenes/conseil_sanglant.jpg",locationId:"hotel_de_ville_conseil",npcIds:["bourgmestre_valdombre","grand_pretre_nain","thade_coren","secretaire_bourgmestre"],details:["Bourgmestre, Grand Prtre nain, PJ.","Thade prsent, silencieux."]},{title:"Scne 2 : Le Sang",type:"Event",image:"/images/scenes/mort_grand_pretre.jpg",locationId:"hotel_de_ville_valdombre",npcIds:["grand_pretre_nain"],details:["Le Grand Prtre meurt (magie noire).","Coupable dsign : un apprenti mage sous charme."]},{title:"Scne 3 : Bataille du Conseil",type:"Combat",image:"/images/scenes/bataille_conseil.jpg",locationId:"hotel_de_ville_valdombre",details:["Chaos total. Nains en rage vs Gardes mages.","Protger le Bourgmestre."]},{title:"Scne 4 : L'vacuation",type:"Fuite",image:"/images/scenes/evacuation_toits.jpg",locationId:"hotel_de_ville_valdombre",npcIds:["thade_coren"],details:["Btiment en feu. Sortie par les toits.","Thade disparat."]},{title:"Scne 5 : La Loi Martiale",type:"Consquence",image:"/images/scenes/loi_martiale.jpg",locationId:"hotel_de_ville_valdombre",details:["Annonce : 'Les Nains ont trahi'.","Couvre-feu immdiat."]}]},{title:"ACTE 2 : LA NUIT DES LONGS COUTEAUX",stake:"Purge et rvlation.",location:"Rues (Nuit).",scenes:[{title:"Scne 1 : La Rafle",type:"Discrtion",image:"/images/scenes/rafle_artisan.jpg",locationId:"quartier_artisan_patrouille",npcIds:["chef_bandes_ruelles"],details:["Rejoindre une planque au milieu des ateliers mis sous scells.","Patrouilles mixtes : gardes humains + automates de la Guilde."]},{title:"Scne 2 : L'veil de la Ncropole",type:"Horreur",image:"/images/scenes/necropole_brume.jpg",locationId:"rues_valdombre_brume",npcIds:["capitaine_garde_urbaine","geolier_principal"],details:["Rafle des nains.","Les morts se relvent immdiatement en Zombies."]},{title:"Scne 3 : L'Embuscade",type:"Combat",image:"/images/scenes/embuscade_nuit.jpg",locationId:"rues_valdombre_nuit",npcIds:["assassin_masque"],details:["Lieutenant de Thade (Ncro Niv 8) + Squelettes gants."]},{title:"Scne 4 : Le Dilemme de Thorgar",type:"Choix",image:"/images/scenes/forge_thorgar.jpg",locationId:"forge_thorgar_refuge",npcIds:["thorgar_pretre_nain"],details:["Thorgar est encercl dans son annexe de forge.","Sauver les rfugis enferms ou rcuprer des ressources."]},{title:"Scne 5 : Le Temple-Forteresse",type:"Regroupement",image:"/images/scenes/temple_forteresse.jpg",locationId:"temple_forgeron",npcIds:["thorgar_pretre_nain","durnik_chef_mineur"],details:["Dernier bastion libre.","Rfugis barricads."]}]},{title:"ACTE 3 : LA RSISTANCE",stake:"Sige.",location:"Temple-Forgeron.",scenes:[{title:"Scne 1 : Fortification",type:"Stratgie",image:"/images/scenes/fortification_temple.jpg",locationId:"temple_moradin_enceinte",npcIds:["thorgar_pretre_nain","durnik_chef_mineur"],details:["Organiser la dfense intrieure.","Atout : Explosifs de mine stocks dehors."]},{title:"Scne 2 : La Sortie Commando",type:"Action",image:"/images/scenes/sortie_egouts.jpg",locationId:"egouts_val_dombre",npcIds:["sniv_kobold"],details:["Rcuprer les explosifs.","Sorts : Invisibilit / Forme gazeuse."]},{title:"Scne 3 : Le Tratre",type:"Sabotage",image:"/images/scenes/traitre_temple.jpg",locationId:"temple_forgeron",npcIds:["capitaine_garde_temple"],details:["Un rfugi dsactive les glyphes.","Neutralisation requise."]},{title:"Scne 4 : L'Assaut Final",type:"Bataille",image:"/images/scenes/assaut_final.jpg",locationId:"temple_moradin_parvis",details:["Wargame simplifi.","Ennemis : Bliers osseux, Wraiths."]},{title:"Scne 5 : Le Dme",type:"Magie",image:"/images/scenes/dome_violet.jpg",locationId:"temple_forgeron",details:["Dme violet isole la ville.","Plus de tlportation vers l'extrieur."]}]},{title:"ACTE 4 : LE RITUEL DE LA BRUME",stake:"Comprendre le but.",location:"Hauteurs Brumeuses.",scenes:[{title:"Scne 1 : La Tour",type:"Observation",image:"/images/scenes/tour_brume.jpg",locationId:"tour_arcanique_brume",details:["Faisceau d'nergie Mine-Tour-Spirale.","Thade transforme la ville en ncropole."]},{title:"Scne 2 : Contre-Attaque",type:"Infiltration",image:"/images/scenes/contre_attaque_tour.jpg",locationId:"tour_arcanique_brume",details:["Frapper la source (pylne d'nergie).","Ville mconnaissable (brume acide)."]},{title:"Scne 3 : L'Abomination",type:"Boss",image:"/images/scenes/golem_chair.jpg",locationId:"tour_arcanique_brume",details:["Gardien du pylne : Golem de chair avanc."]},{title:"Scne 4 : La Projection",type:"Face  Face",image:"/images/scenes/projection_thade.jpg",locationId:"tour_arcanique_brume",npcIds:["thade_coren"],details:["Image gante de Thade.","Il lance un sort Niv 8 (Mtores) sur le quartier."]},{title:"Scne 5 : L'chec",type:"Retraite",image:"/images/scenes/retraite_temple.jpg",locationId:"tour_arcanique_brume",details:["Temple en feu.","Seule issue : L'accs secret du Cimetire."]}]},{title:"ACTE 5 : LA FUITE VERS LE BAS",stake:"Quitter la ville.",location:"Vers le Cimetire.",scenes:[{title:"Scne 1 : Le Gantelet",type:"Course",image:"/images/scenes/course_ruines.jpg",locationId:"rues_valdombre_nuit",details:["Skill challenge  travers les ruines.","Horde de zombies."]},{title:"Scne 2 : Le Sacrifice de Durnik",type:"Sacrifice",image:"/images/scenes/sacrifice_durnik.jpg",locationId:"mausolee_pont_secret",npcIds:["durnik_chef_mineur"],details:["Gargouille bloque le passage.","Durnik se sacrifie en faisant sauter le pont."]},{title:"Scne 3 : Gardiens du Seuil",type:"Combat",image:"/images/scenes/mausolee_seuil.jpg",locationId:"mausolee_seuil",details:["Mausole secret.","4 Chevaliers de la mort."]},{title:"Scne 4 : L'Abme",type:"Action",image:"/images/scenes/puits_abime.jpg",locationId:"puits_spirale_abime",details:["Ouvrir la porte scelle.","Puits noir insondable."]},{title:"Scne 5 : La Chute",type:"Conclusion",image:"/images/scenes/chute_spirale.jpg",locationId:"mausolee_seuil",npcIds:["thade_coren"],details:["Thade arrive.","Sauter dans le vide de la Spirale."]}]}]},IS={id:4,title:"SCNARIO 4 : LE LABYRINTHE VIVANT",level:"Niveaux 10-12",synopsis:"Survie dans la Spirale. Comprendre l'immortalit de Thade. Pirater le systme de transport.",acts:[{title:"ACTE 1 : LA CHUTE ET LE RVEIL",stake:"Survie immdiate.",location:"Zone de Dchets.",scenes:[{title:"Scne 1 : Gravit Inverse",type:"Cinmatique",image:"/images/scenes/gravite_inversee.jpg",locationId:"spirale_zone_dechets",details:["Gravit s'inverse.","Dgts : 4d6 + Test Vigueur (Nause)."]},{title:"Scne 2 : Les Charognards de l'ther",type:"Combat",image:"/images/scenes/charognards_ether.jpg",locationId:"spirale_couloirs_ether",details:["Ennemis : Destrachans ou prdateurs thrs.","Terrain : Vents inverses aspirant vers la vote."]},{title:"Scne 3 : Silence des Pierres",type:"Exploration",image:"/images/scenes/silence_pierres.jpg",locationId:"spirale_zone_dechets",details:["les flottantes, brume violette.","Rgle : Ne pas dormir (l'le se dsagrge)."]},{title:"Scne 4 : Le Bivouac",type:"Dcouverte",image:"/images/scenes/bivouac_squelette.jpg",locationId:"spirale_zone_dechets",details:["Squelette nain ancien.","Loot : Bouteille d'air infini.","Note : 'La tour bouge'."]},{title:"Scne 5 : Le Shift",type:"Twist",image:"/images/scenes/shift_geographie.jpg",details:["Aprs repos dans une grotte, la sortie donne sur un couloir de marbre.","La gographie a chang."]}]},{title:"ACTE 2 : L'COSYSTME ABERRANT",stake:"Adaptation.",location:"Couloirs de chair.",scenes:[{title:"Scne 1 : Salle de la Gravit",type:"Pige",image:"/images/scenes/salle_gravite.jpg",locationId:"spirale_couloirs_chair",details:["Gravit change chaque tour.","Combat vs Gargouilles de cristal."]},{title:"Scne 2 : Le Marchand de Souvenirs",type:"Rencontre",image:"/images/scenes/marchand_souvenirs.jpg",locationId:"spirale_carrefour_mercane",npcIds:["marchand_fou_mercane"],details:["Mercane ou Diable exil.","Monnaie : Souvenirs, PV permanents.","Info : Labo plus bas."]},{title:"Scne 3 : Murs ont des oreilles",type:"Horreur",image:"/images/scenes/murs_oreilles.jpg",locationId:"spirale_couloirs_chair",details:["Murs de chair, yeux.","Ennemi : Gibbering Mouther colossal."]},{title:"Scne 4 : Le Miroir du Regret",type:"Puzzle",image:"/images/scenes/miroir_regret.jpg",locationId:"spirale_salle_miroirs",details:["Le reflet ne bouge pas.","Solution : 'Donner' une faiblesse/aveu au reflet."]},{title:"Scne 5 : L'Ascenseur",type:"Transition",image:"/images/scenes/ascenseur_vis.jpg",locationId:"spirale_couloirs_chair",details:["Vis sans fin gante.","Sauter dessus (Acrobatie) pour descendre."]}]},{title:"ACTE 3 : LE LABORATOIRE SECRET",stake:"Rvlation.",location:"Base fortifie dans la paroi.",scenes:[{title:"Scne 1 : Le Sas",type:"Infiltration",image:"/images/scenes/sas_labo.jpg",locationId:"spirale_labo_secret",details:["Porte technomagique.","Gardes : 2 Golems de fer."]},{title:"Scne 2 : La Bibliothque de Cristal",type:"Lore",image:"/images/scenes/bibliotheque_cristal.jpg",locationId:"spirale_bibliotheque_ames",details:["Bocaux d'mes.","Journal : Thade remplace son cur par un clat de la Spirale."]},{title:"Scne 3 : L'Usine  Soldats",type:"Horreur",image:"/images/scenes/usine_soldats.jpg",locationId:"spirale_laboratoire_clonage",details:["Chane de montage de corps rassembls.","Possibilit de sabotage."]},{title:"Scne 4 : Le Prototype",type:"Combat",image:"/images/scenes/prototype_troll.jpg",locationId:"spirale_labo_secret",npcIds:["sujet_zero"],details:["Gardien : Sujet Zro (Troll/Dmon).","Capacits : Rgnration + Rsistance magie."]},{title:"Scne 5 : Armurerie",type:"Rcompense",image:"/images/scenes/armurerie_secrete.jpg",locationId:"spirale_labo_secret",details:["Objets dangereux.","Loot cl : Cl de contrle (Cube runique)."]}]},{title:"ACTE 4 : LE MCANISME",stake:"Contrle.",location:"Salle des Engrenages.",scenes:[{title:"Scne 1 : Mcanisme de Contrle",type:"Environnement",image:"/images/scenes/mecanisme_controle.jpg",locationId:"spirale_engrenages_plenaires",details:["Engrenages gants dans le vide.","Bruit assourdissant (Malus coute/sorts)."]},{title:"Scne 2 : La Traverse",type:"Skill",image:"/images/scenes/traversee_engrenages.jpg",locationId:"spirale_engrenages_plenaires",details:["Sauts d'engrenage en engrenage.","Mephits vapeur/feu."]},{title:"Scne 3 : Le Contrematre",type:"Combat",image:"/images/scenes/contremaitre_inevitable.jpg",locationId:"spirale_salle_engrenages",npcIds:["inevitable_contremetre"],details:["Inevitable (Construct de Loi).","Ngociation possible (Thade est une menace)."]},{title:"Scne 4 : Sabotage du Flux",type:"Action",image:"/images/scenes/sabotage_flux.jpg",locationId:"spirale_salle_engrenages",details:["Couper l'nergie vers la surface.","Effet : Affaiblit Thade pour le final."]},{title:"Scne 5 : Le Portail",type:"Objectif",image:"/images/scenes/portail_teleport.jpg",locationId:"spirale_salle_engrenages",details:["Plateforme de tlportation.","Hacking : Inverser vers 'Sortie : Tour des Mages'."]}]},{title:"ACTE 5 : L'ASCENSION",stake:"Sortie.",location:"Tunnel de tlportation.",scenes:[{title:"Scne 1 : Garde d'lite",type:"Combat",image:"/images/scenes/garde_elite.jpg",locationId:"spirale_tunnel_teleport",details:["2 Dmons des ombres.","Chrono avant purge de la salle."]},{title:"Scne 2 : Tlportation",type:"Cinmatique",image:"/images/scenes/teleportation_lumiere.jpg",locationId:"spirale_tunnel_teleport",details:["Vitesse lumire vers le haut.","Aperus des niveaux prcdents."]},{title:"Scne 3 : Le Blocage",type:"Obstacle",image:"/images/scenes/blocage_thade.jpg",locationId:"spirale_tunnel_teleport",npcIds:["thade_coren"],details:["Thade tente de bloquer.","Duel de Volont."]},{title:"Scne 4 : Vision",type:"Info",image:"/images/scenes/vision_ruine.jpg",locationId:"spirale_tunnel_teleport",details:["Aperu de Val-d'Ombre en ruine.","Bonus moral."]},{title:"Scne 5 : Irruption",type:"Cliffhanger",image:"/images/scenes/irruption_tour.jpg",locationId:"valdombre_sommet_tour_mage",details:["Explosion du sol de la Tour des Mages.","Arrive au milieu du QG ennemi."]}]}]},GS={id:5,title:"SCNARIO 5 : L'AUBE DE SANG",level:"Niveaux 13-16",synopsis:"Retour surface aprs 1 mois. Val-d'Ombre est une ncropole. Assaut final.",acts:[{title:"ACTE 1 : LE RETOUR FRACASSANT",stake:"Tte de pont.",location:"Tour des Mages -> Ville.",scenes:[{title:"Scne 1 : Effet de Surprise",type:"Combat",image:"/images/scenes/surprise_tour.jpg",locationId:"tour_des_mages",npcIds:["thade_coren"],details:["3 Lieutenants ncromanciens.","Tour de surprise complet."]},{title:"Scne 2 : Fuite Tactique",type:"Action",image:"/images/scenes/fuite_fenetre.jpg",locationId:"tour_des_mages",npcIds:["thade_coren"],details:["Thade bombarde le plafond.","Sauter par la fentre (Chute de plume)."]},{title:"Scne 3 : Ville Morte",type:"Ambiance",image:"/images/scenes/ville_morte.jpg",locationId:"vieille_ville_ruelles",details:["Cendres, silence, squelettes.","1 mois a pass."]},{title:"Scne 4 : Dernier Carr",type:"Rencontre",image:"/images/scenes/dernier_carre.jpg",locationId:"egouts_val_dombre",npcIds:["thorgar_pretre_nain"],details:["Gurilla naine dans les gouts.","Thorgar assig au Temple."]},{title:"Scne 5 : Plan de Bataille",type:"Objectif",image:"/images/scenes/plan_bataille.jpg",locationId:"temple_forgeron",npcIds:["thorgar_pretre_nain","durnik_chef_mineur"],details:["Briser le sige pour crer une diversion."]}]},{title:"ACTE 2 : LE RALLIEMENT",stake:"Bataille de masse.",location:"Parvis du Temple.",scenes:[{title:"Scne 1 : Le Sige",type:"Observation",image:"/images/scenes/siege_temple.jpg",locationId:"temple_forgeron",details:["Milliers de zombies.","Catapultes en os."]},{title:"Scne 2 : Entre en Scne",type:"Combat",image:"/images/scenes/entree_scene.jpg",locationId:"temple_forgeron",npcIds:["thorgar_pretre_nain","durnik_chef_mineur"],details:["Attaque par l'arrire.","Sorts de zone majeurs.","Cible : Artillerie."]},{title:"Scne 3 : Rsurrection de l'Espoir",type:"Social",image:"/images/scenes/resurrection_espoir.jpg",locationId:"temple_forgeron",npcIds:["thorgar_pretre_nain","durnik_chef_mineur"],details:["Discours (DD 25).","Cri : 'Pour la Pierre et le Sang !'."]},{title:"Scne 4 : Armement",type:"Logistique",image:"/images/scenes/armement_sacre.jpg",locationId:"temple_forgeron",details:["Armurerie sacre ouverte.","Marteau Tueur de mages, Potions."]},{title:"Scne 5 : La Charge",type:"pique",image:"/images/scenes/charge_epique.jpg",locationId:"temple_forgeron",npcIds:["thorgar_pretre_nain","durnik_chef_mineur"],details:["Sortie suicide des Nains.","Voie dgage vers la Tour."]}]},{title:"ACTE 3 : L'ASCENSION INFERNALE",stake:"Dungeon crawl vertical.",location:"Tour des Mages.",scenes:[{title:"Scne 1 : Hall des Illusions",type:"Pige",image:"/images/scenes/hall_illusions.jpg",locationId:"tour_des_mages",details:["Mirage arcanique + Symboles de mort.","Contre : Vision lucide."]},{title:"Scne 2 : Mnagerie",type:"Combat",image:"/images/scenes/menagerie_tour.jpg",locationId:"tour_des_mages",details:["Escaliers en colimaon.","Ennemis : Bbilith ou Golem Mithral."]},{title:"Scne 3 : Salle des Portails",type:"Puzzle",image:"/images/scenes/salle_portails.jpg",locationId:"tour_des_mages",details:["Tlporteurs multiples.","Indice : Suivre le flux violet."]},{title:"Scne 4 : Les Otages",type:"Dilemme",image:"/images/scenes/otages_zombies.jpg",locationId:"tour_des_mages",details:["Anciens du Conseil zombifis conscients.","Ils supplient la mort."]},{title:"Scne 5 : L'Apprenti Favori",type:"Mini-Boss",image:"/images/scenes/apprenti_vampire.jpg",locationId:"tour_des_mages",npcIds:["kaelen_vampire"],details:["Kaelen (Vampire Niv 12).","Accs au toit."]}]},{title:"ACTE 4 : LE SANCTUAIRE INTRIEUR",stake:"Pr-climax.",location:"Appartements de Thade.",scenes:[{title:"Scne 1 : Le Cur du Mal",type:"Dcor",image:"/images/scenes/coeur_mal.jpg",locationId:"bureau_thade_coren",details:["Bibliothque en peau humaine.","Vue panoramique."]},{title:"Scne 2 : Le Phylactre",type:"Rvlation",image:"/images/scenes/phylactere_spirale.jpg",locationId:"bureau_thade_coren",npcIds:["thade_coren"],details:["Phylactre = La Spirale.","Tuer le corps le bannit seulement."]},{title:"Scne 3 : Festin des Hros",type:"Prparation",image:"/images/scenes/festin_heros.jpg",locationId:"bureau_thade_coren",details:["Rserve de potions ultimes.","Buffs de longue dure."]},{title:"Scne 4 : La Voix",type:"Social",image:"/images/scenes/voix_thade.jpg",locationId:"bureau_thade_coren",npcIds:["thade_coren"],details:["Projection de Thade.","Offre d'alliance (Test Volont)."]},{title:"Scne 5 : L'Escalier",type:"Transition",image:"/images/scenes/escalier_lumiere.jpg",locationId:"bureau_thade_coren",details:["chelle de lumire.","Orage magique."]}]},{title:"ACTE 5 : LE CRPUSCULE DES DIEUX",stake:"Boss Final.",location:"Toit de la Tour.",scenes:[{title:"Phase 1 : Le Sorcier",type:"Boss",image:"/images/scenes/boss_sorcier.jpg",locationId:"tour_des_mages_toit",npcIds:["thade_coren"],details:["Bouclier de force (4 pylnes  dtruire).","Bombardement  distance."]},{title:"Phase 2 : La Fusion",type:"Boss",image:"/images/scenes/boss_fusion.jpg",locationId:"tour_des_mages_toit",npcIds:["thade_coren"],details:["Thade absorbe l'nergie (50% PV).","Transformation : Monstre de pierre noire."]},{title:"Phase 3 : Le Chaos",type:"Twist",image:"/images/scenes/boss_chaos.jpg",locationId:"tour_des_mages_toit",details:["Intervention de la Spirale.","Tentacules attaquent tout le monde."]},{title:"Scne 4 : Chute du Tyran",type:"Cinmatique",image:"/images/scenes/chute_tyran.jpg",locationId:"tour_des_mages_toit",details:["Thade vaincu est aspir par la Spirale.","Il est 'digr'."]},{title:"Scne 5 : pilogue",type:"Conclusion",image:"/images/scenes/epilogue_soleil.jpg",locationId:"tour_des_mages_toit",details:["Soleil sur les ruines.","Ville libre mais dtruite."]}]}]},il=[BS,VS,kS,IS,GS],PS=["size","type","alignment","fp","cr","environment","environnement","organisation","organization","ini","initiative","sens","senses","ca","ac","pv","hp","dv","hd","js","saves","vit","speed","abb","bab","grp","grapple","attaque","attack","att_complete","fullAttack","espace","space","allonge","reach","att_sp","specialAttacks","qual_sp","specialQualities","carac","abilities","comptences","competences","skills","dons","feats","tactiques","tactics","butin","loot","est_ennemi","isEnemy","role","description","tactical","buffs","spells_prepared","spellbook"],FS={vig:"+0",ref:"+0",vol:"+0"},JS={for:10,dex:10,con:10,int:10,sag:10,cha:10},Ya=i=>Array.isArray(i)?i.map(Ya):i&&typeof i=="object"?{...i}:i;function bc(i={}){const s={...i};PS.forEach(o=>{o in s&&delete s[o]});const r={id:i.id??"",name:i.name??"",size:i.size??"Moyen",type:i.type??"Humanode (Humain)",alignment:i.alignment??"N",fp:i.fp??i.cr??1,environment:i.environment??i.environnement??"",organisation:i.organisation??i.organization??"Solitaire",ini:i.ini??i.initiative??"+0",sens:i.sens??i.senses??"",ca:i.ca??i.ac??"10 (+0 Dex) ; contact 10, pris au dpourvu 10",pv:i.pv??i.hp??1,dv:i.dv??i.hd??"1d8",js:Ya(i.js??i.saves??FS),vit:i.vit??i.speed??"9 m",abb:i.abb??i.bab??"+0",grp:i.grp??i.grapple??"+0",attaque:i.attaque??i.attack??"",att_complete:i.att_complete??i.fullAttack??"",espace:i.espace??i.space??"1,5 m",allonge:i.allonge??i.reach??"1,5 m",att_sp:Ya(i.att_sp??i.specialAttacks??[]),qual_sp:Ya(i.qual_sp??i.specialQualities??[]),carac:Ya(i.carac??i.abilities??JS),comptences:i.comptences??i.competences??i.skills??"",dons:i.dons??i.feats??"",tactiques:i.tactiques??i.tactics??"",butin:i.butin??i.loot??"",est_ennemi:i.est_ennemi??i.isEnemy??!1,role:i.role??i.description??"",tactical:Ya(i.tactical??null),buffs:Ya(i.buffs??[]),spells_prepared:Ya(i.spells_prepared??i.spellbook??{})};return{...s,...r}}const QS=[{id:"thade_coren",name:"Thade Coren",size:"Moyen",type:"Humanode (humain)",alignment:"LN",fp:8,environment:"Val-d'Ombre (Universit, Conclave) puis Spirale",organization:"Solitaire (manipulateur)",initiative:"+2",senses:"Perception +8",ac:{total:20,touch:13,flatFooted:18},hp:68,hd:"10d4+30",saves:{fort:"+7",ref:"+6",will:"+11"},speed:"9 m",attack:"bton ferr +7 (1d6+1 contondant)",fullAttack:"bton ferr +7 (1d6+1) ou rayon affaiblissant +9  distance",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de magicien/ensorceleur (NLS 10) : contrle, ncromancie, entrave","Rayon affaiblissant 4/jour"],specialQualities:["Prparation : +2 DD pour les sorts de contrle lancs sur cibles affaiblies","Rsistance mentale (contre Charme) +2"],abilities:{str:10,dex:14,con:14,int:20,wis:12,cha:16},skills:"Concentration +15, Diplomatie +12, Intimidation +11, Connaissance (arcane) +17, Connaissance (plans) +12, Psychologie +10",feats:"Volont de fer, Science de l'initiative, Incantation silencieuse, Incantation rflexe, Robustesse",tactics:"Commence par entraver (corde anime, immobilisation), place des rayons affaiblissants, puis ngocie si avantage. En fuite, utilise brume de dissimulation et dimensions mineures.",loot:"Bton ferr, notes ncromantiques, cristal mouchard, anneau de protection +1",isEnemy:!1,antagonist:!0,role:"Antagoniste principal, double jeu : mcne puis manipulateur.",details:["Motivation : Fusionner avec la Spirale pour atteindre l'immortalit.","Masque : Froid, acadmique, se prsente comme un alli rationnel.","Spoiler : Manipule les PJ ds les premiers scnarios en orientant leurs enqutes.","Combat : Dans le final, utilise la Tour comme catalyseur d'nergie ncromantique."],tactical:{bookReference:"Bestiaire : Dossier 'Thade Coren' (Chap. Manipulations & Spirale)",scenarioContext:"Acte 2-3 : infiltration au Conclave, ensuite confrontation finale dans la Spirale (cercle des miroirs). Focus sur les sorts de contrle pour dstabiliser les PJ avant de ngocier.",spells:[{name:"Rayon affaiblissant",details:"+9 / DD 16 Str, -2 Str/Con pendant 1 tour, 4/j. Permet de fragiliser la cible principale avant l'assaut."},{name:"Corde anime",details:"Prpare un pige pour restreindre un seul PJ : +12 toucher, DD 15 Force, idal pour neutraliser un tank temporairement."},{name:"Brume de dissimulation",details:"Prpare sa retraite ou se repositionner derrire un masque magique ; dclenche aprs avoir lanc rayon ou immobilisation."}],tacticFeats:[{name:"Science de l'initiative",details:"Donne une fentre pour activer un sort ds le tour 1 et imposer son plan tactique."},{name:"Incantation rflexe",details:"Permet de lancer un sort de raction (rayon ou tlportation mineure) quand un PJ s'approche trop."}],tacticSummary:"Dmarre par des contrles (corde anime, immobilisation), enchane avec rayon affaiblissant, puis se met en retrait pour converser/ngocier. Garde une brume active pour fuir vers les tages suprieurs si mis en difficult."}},{id:"thorgar_pretre_nain",name:"Thorgar",size:"Moyen",type:"Humanode (nain)",alignment:"LB",fp:5,environment:"Quartier du Savoir / Temple-Forgeron",organization:"Solitaire ou avec 1-2 acolytes",initiative:"-1",senses:"Vision dans le noir 18 m, Perception +8",ac:{total:19,touch:9,flatFooted:19},hp:52,hd:"6d8+24",saves:{fort:"+9",ref:"+1",will:"+8"},speed:"6 m (armure)",attack:"marteau de guerre +9 (1d8+3 contondant)",fullAttack:"marteau de guerre +9 (1d8+3)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Canalisation d'nergie 5/jour (2d6 positif)","Spcialit : bndiction contre morts-vivants (+1 JS et jets d'attaque contre morts-vivants)"],specialQualities:["Rsistance naine (+2 JS poison, sorts, effets magiques)","Dtection des passages secrets pierreux"],abilities:{str:14,dex:8,con:18,int:12,wis:16,cha:12},skills:"Connaissance (religion) +10, Premiers secours +9, Diplomatie +6, Intimidation +6",feats:"Robustesse, Science de l'initiative (sacr), Incantation statique",tactics:"Ouvre avec bndiction/armes magiques, se place en premire ligne, canalise pour soutenir. Refuse de fuir tant que des reliques sont menaces.",loot:"Marteau de guerre grav, reliques bnites, anneau d'acier runique (+1 CA naturelle)",isEnemy:!1,role:"Alli, prtre du Temple, protecteur du Savoir",details:["Motivation : Protger la mmoire des morts, empcher l'ouverture de la Spirale et sauver les civils.","Attitude : Grave, inflexible sur les questions sacres, mais reconnaissant envers les PJ.","Usage : Point d'ancrage moral, soins, informations secrtes. Dclenche le 'Dilemme de Thorgar'.","Lien : Premier  parler de la 'maladie' de la montagne."],tactical:{bookReference:"Bestiaire : Portrait 'Thorgar, prtre du Temple-Forgeron'",scenarioContext:"Acte 1-2 : support de la ligne de front dans le Temple. Utilise ses bndictions pour renforcer les gardes et ses pouvoirs contre morts-vivants dans les catacombes.",spells:[{name:"Bndiction",details:"+1 d'attaque et de sauvegardes pour les allis proches (3/j). Lance ds l'engagement pour couvrir les gardes."},{name:"Canalisation d'nergie (positif)",details:"5/j, 2d6 PV; priorise les gardes blesss puis lui-mme si menac par mort-vivant."}],tacticFeats:[{name:"Robustesse",details:"Permet de rester au contact et d'absorber les dgts lors des charges ennemies."}],tacticSummary:"Se place en premire ligne pour canaliser/ soigner les allis. S'il est menac par morts-vivants, utilise canalisation pour les affaiblir ; refuse de fuir tant que reliques sont protges."}},{id:"aubergiste_pic_brise",name:"Brand, aubergiste du Pic Bris",size:"Moyen",type:"Humanode (Humain)",alignment:"NB",fp:2,environment:"Vieille Ville  Auberge du Pic Bris",organization:"Solitaire (avec personnel 1-2)",initiative:"+1",senses:"Dtection +5",ac:{total:14,touch:11,flatFooted:13},hp:18,hd:"3d8+3",saves:{fort:"+3",ref:"+2",will:"+2"},speed:"9 m",attack:"Matraque +4 (1d6+1 non ltal)",fullAttack:"Matraque +4 (1d6+1 non ltal)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Contacts tendus en ville (+4 Estimation/Collecte d'infos sur rumeurs locales)"],abilities:{str:13,dex:12,con:12,int:10,wis:11,cha:12},skills:"Diplomatie +6, Psychologie +5, Dtection +5, Estimation +6",feats:"Arme de Prdilection (matraque), Vigilance",tactics:"Tente dapaiser, ne se bat quen lgitime dfense ; connat les issues de lauberge.",loot:"Cls des chambres, petite caisse de pices, liste de clients.",isEnemy:!1,role:"Hte bien inform qui entend toutes les conversations.",details:["Motivation : Protger sa rputation et viter les ennuis avec la garde.","Attitude : Jovial en public, prudent en priv ; observe beaucoup.","Usage : Source de rumeurs, point de contact pour guider les PJ vers leurs premires pistes."]},{id:"etudiant_universite",name:"Althis, apprenti archiviste",size:"Moyen",type:"Humanode (humain)",alignment:"NB",fp:1,environment:"Universit de Magie de Val-d'Ombre  Cour centrale",organization:"Solitaire (parfois avec 1-2 condisciples)",initiative:"+1",senses:"Perception +4",ac:{total:12,touch:11,flatFooted:11},hp:9,hd:"2d8",saves:{fort:"+1",ref:"+1",will:"+3"},speed:"9 m",attack:"bton runique +1 (1d6 non ltal)",fullAttack:"bton runique +1 (1d6 non ltal)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Mmoire prodigieuse (+2 Collecte d'infos sur l'Universit)","Badge discret de la Fraternit Nyx (permet d'accder aux couloirs tudiants la nuit)"],abilities:{str:10,dex:12,con:12,int:14,wis:12,cha:11},skills:"Diplomatie +6, Collecte d'infos +7, Connaissance (arcane) +9, Psychologie +4",feats:"Science de l'initiative, Don de ngociateur",tactics:"vite toute violence. Prfre parlementer, partager des rumeurs ou accompagner les PJ jusqu'au bureau de Thade si convaincu.",loot:"Cl de dortoir en argent, carnet de rumeurs griffonnes, badge de Nyx (preuve implicante).",isEnemy:!1,role:"tudiant inquiet qui sert de premier point de contact avec l'Universit.",tactical:{bookReference:"Scnario 1  Acte 2, Scne 1 : La Fraternit Dissoute",scenarioContext:"Althis craint encore la Fraternit Nyx mais sait que Thade cache des secrets. Il accepte d'aider les PJ si ceux-ci restent discrets.",spells:[],specialActions:[{name:"Guide improvis",details:"Peut accorder un bonus circonstanciel de +2 aux tests de Diplomatie ou de Collecte d'infos  l'Universit s'il accompagne les PJ."},{name:"Rumeurs touffes",details:"Sur un test de Diplomatie DD 15 russi par les PJ, Althis partage des rumeurs ciblant directement Thade Coren."}],tacticFeats:[{name:"Science de l'initiative",details:"Toujours le premier  parler pour viter que la garde universitaire ne s'en mle."}],tacticSummary:"Tente de calmer toute tension et oriente les PJ vers le bureau de Thade aprs les avoir mis en garde contre la surveillance du Conseil."}},{id:"durnik_chef_mineur",name:"Durnik, chef de la Guilde des Mineurs",size:"Moyen",type:"Humanode (humain)",alignment:"NB",fp:4,environment:"Quartier des Mineurs, tunnels suprieurs",organization:"Avec 2-4 gardes de mine",initiative:"+1",senses:"Perception +5",ac:{total:17,touch:11,flatFooted:16},hp:42,hd:"5d10+15",saves:{fort:"+8",ref:"+2",will:"+4"},speed:"9 m",attack:"hache de mine +8 (1d10+4 tranchant)",fullAttack:"hache de mine +8/+3 (1d10+4)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Cri d'alarme 1/j (Intimidation de masse, test VS Volont DD 14 : secou 1d4 rd)"],specialQualities:["Rsistance  la fatigue (tests Con pour marches forces +4)"],abilities:{str:16,dex:12,con:16,int:10,wis:12,cha:12},skills:"Escalade +9, Survie +7, Intimidation +8, Artisanat (mines) +9",feats:"Attaque en puissance, Science de l'initiative, Robustesse",tactics:"Se place en avant dans les tunnels mins, fait reculer les PJ s'ils menacent les mineurs ; accepte de ngocier si preuve de complot.",loot:"Hache lourde runique, carnet de codes des tunnels, pierre de tonnerre",isEnemy:!1,role:"Chef de guilde, ouvre ou ferme l'accs aux mines.",details:["Motivation : Protger les mineurs de la 'pierre malade' et des dcisions du Conseil.","Attitude : Bourru mais honnte. Respecte les PJ qui prennent des risques pour les siens.","Utilisation : Donneur de qutes pour les scnarios lis  la Mine et  la Spirale.","Test social : Difficile  convaincre si les PJ sont trop proches des Mages ou du Conseil.","Au Pont Secret : Rsolu  mourir pour gagner du temps lors de l'vacuation (sacrifice hroque)."],tactical:{bookReference:"Bestiaire : Dossier 'Durnik, chef des mineurs' (Actes 2-3)",scenarioContext:"Acte 2 : surveille les accs aux tunnels suprieurs. Utilise son terrain pour crer des goulots d'tranglement et protger les mineurs.",spells:[],specialActions:[{name:"Cri d'alarme",details:"1/j, effectue un test de Volont DD 14 pour retirer les PJ du support moral (-1 moral, secou 1d4 tours)."}],tacticFeats:[{name:"Attaque en puissance",details:"Maximise les dgts avec sa hache pour punir les intrus."},{name:"Robustesse",details:"Reste au contact mme quand les tunnels s'effondrent."}],tacticSummary:"Se place devant les berges mines, frappe en premire ligne, puis recule derrire des arcs de pierres. Fait reculer les PJ quand deux gardes tombent."}},{id:"capitaine_garde_temple",name:"Capitaine de la garde du Temple",size:"Moyen",type:"Humanode (humain)",alignment:"LN",fp:4,environment:"Temple-Forgeron et environs",organization:"Escouade (capitaine + 3-6 gardes)",initiative:"+1",senses:"Perception +6",ac:{total:18,touch:11,flatFooted:17},hp:40,hd:"5d10+10",saves:{fort:"+6",ref:"+3",will:"+2"},speed:"6 m (armure)",attack:"pe longue +8 (1d8+3 tranchant)",fullAttack:"pe longue +8/+3 (1d8+3)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Ordre de tir (les gardes allis gagnent +1 attaquer pour 1 tour)"],specialQualities:["Bonus de commandement (+1 moral aux gardes  9 m)"],abilities:{str:15,dex:12,con:14,int:10,wis:12,cha:12},skills:"Perception +6, Intimidation +7, Profession (soldat) +8",feats:"Science de l'initiative, Robustesse, Arme de prdilection (pe longue)",tactics:"Forme les gardes en ligne, couvre la retraite des civils, ngocie si l'autorit du Temple est invoque.",loot:"pe longue grave, plastron bleu nuit, sceau du Temple",isEnemy:!1,role:"Officier pragmatique, pivot entre temple et civils.",details:["Motivation : Maintenir l'ordre et viter une guerre civile ouverte.","Attitude : Suspicion envers les PJ impliqus dans trop d'incidents.","Combat : Peut devenir un ennemi direct si les PJ se rangent ouvertement contre le Conseil.","Spoiler : Manipul par des ordres falsifis provenant de la faction de Thade."],tactical:{bookReference:"Bestiaire : 'Capitaine de la garde du Temple' (Quartier du Savoir)",scenarioContext:"Acte 1 : dfend l'accs au Temple-Forgeron. Coordonne les gardes et use de ses ordres pour encadrer les civils.",spells:[],specialActions:[{name:"Ordre de tir",details:"+1 aux jets dattaque des gardes  9 m pendant 1 tour (1/j)."}],tacticFeats:[{name:"Science de l'initiative",details:"Initie les charges coordonnes avant que les PJ ne s'organisent."},{name:"Robustesse",details:"Absorbe les attaques pendant qu'il protge un passage."}],tacticSummary:"Reste en formation serre, couvre la retraite des civils et force les PJ  passer par les gardes. Plie si l'autorit du Temple l'exige."}},{id:"marchand_fou_mercane",name:"Le Marchand Fou (Mercane exil)",size:"Moyen",type:"Extrieur (loyal)",alignment:"LN",fp:6,environment:"Spirale  Couloirs de Chair",organization:"Solitaire",initiative:"+2",senses:"Vision dans le noir 18 m, Perception +10",ac:{total:19,touch:12,flatFooted:17},hp:52,hd:"7d8+21",saves:{fort:"+6",ref:"+5",will:"+9"},speed:"9 m",attack:"dague +8 (1d4+2)",fullAttack:"dague +8/+3 (1d4+2)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts inns (NLS 7) : porte dimensionnelle 1/j, invisibilit 2/j, dtection de la magie  volont"],specialQualities:["Rsistance  la magie 18","Immunit au poison","Sens marchand (+4 Estimation)"],abilities:{str:10,dex:14,con:16,int:18,wis:12,cha:16},skills:"Estimation +14, Bluff +12, Diplomatie +12, Psychologie +10, Connaissance (plans) +11",feats:"Science de l'initiative, Ngociateur, Volont de fer",tactics:"Ngocie d'abord, se rend invisible si menac, tente la fuite dimensionnelle. Vend information contre vitalit.",loot:"Trousse de marchandises exotiques, anneau de discrtion mineure",isEnemy:!1,role:"Marchand opportuniste, prte  des marchs tranges.",tactical:{bookReference:"Bestiaire : 'Marchand Fou' (Spirale  Couloirs de Chair)",scenarioContext:"Acte 4 : apparait en ngociateur instable dans les couloirs de la Spirale, prt  sacrifier des objets contre des informations.",spells:[{name:"Porte dimensionnelle (inn)",details:"1/j pour s'chapper ou faire traverser un alli, dclench aprs avoir vendu un objet."},{name:"Invisibilit (inn)",details:"2/j pour s'clipser aprs une transaction ou un chec tactique."}],specialActions:[{name:"Dtection de la magie",details:"Continu, repre les PJ essayant de mentir ou de dissimuler un objet prcieux."}],tacticFeats:[{name:"Science de l'initiative",details:"Avance les ngociations avant que la troupe ne se concentre."},{name:"Volont de fer",details:"Rsiste aux menaces mentales ou aux tentatives de lui faire abandonner un march."}],tacticSummary:"Ngocie, propose des deals, puis se rend invisible ou franchit une porte dimensionnelle si la situation tourne au combat."}},{id:"lysa_exploratrice_perdue",name:"Lysa, exploratrice perdue",size:"Moyen",type:"Humanode (humain)",alignment:"NB",fp:3,environment:"Spirale  Premier cercle",organization:"Solitaire (survivante)",initiative:"+3",senses:"Perception +7",ac:{total:17,touch:13,flatFooted:14},hp:28,hd:"4d8+8",saves:{fort:"+4",ref:"+6",will:"+2"},speed:"9 m",attack:"pe courte +7 (1d6+2)",fullAttack:"pe courte +7 (1d6+2)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Attaque sournoise +2d6"],specialQualities:["vasion","Esquive instinctive"],abilities:{str:12,dex:16,con:14,int:12,wis:10,cha:10},skills:"Discrtion +10, Perception +7, Survie +7, Acrobatie +9",feats:"Arme de prdilection (pe courte), Tir de prcision, Esquive",tactics:"Observe avant d'agir ; coopre si on partage eau/soins. vite le combat direct, cherche les issues.",loot:"Carte dforme de la Spirale, rations maigres",isEnemy:!1,role:"Guide de circonstance, possible allie ou romance survie.",tactical:{bookReference:"Bestiaire : 'Lysa, exploratrice perdue' (Spirale  Premier cercle)",scenarioContext:"Acte 3 : guide les PJ puis doit se dfendre contre des chasseurs. Prfre viter le combat direct.",spells:[],specialActions:[{name:"Attaque sournoise",details:"+2d6 quand elle frappe depuis la cachette ou aprs une vasion."}],tacticFeats:[{name:"Tir de prcision",details:"Finit les cratures blesses  distance."},{name:"Esquive",details:"Reste hors de porte avec des dplacements prcis."}],tacticSummary:"Observe d'abord, coopre quand on partage ressources, puis frappe en retrait en visant les ouvertures ; fuit si la situation dgnre."}},{id:"inevitable_contremetre",name:"Invitable Contremtre",size:"Moyen",type:"Extrieur (Loi, Artfact)",alignment:"LN",fp:6,environment:"Spirale  Salle des Engrenages",organization:"Solitaire ou patrouille (1-2)",initiative:"+1",senses:"Vision dans le noir 18 m, Perception Aveugle 6 m",ac:{total:22,touch:11,flatFooted:21},hp:68,hd:"9d8+27",saves:{fort:"+8",ref:"+4",will:"+9"},speed:"6 m ; vol stationnaire 3 m (manoeuvre parfaite)",attack:"Marteau de Gravit +12 (1d8+4 contondant, Rf. DD 17 annule Ralentissement)",fullAttack:"Marteau de Gravit +12 (1d8+4 contondant) et Rayon de Stase +9 (1d6 froid, Vol. DD 17 annule Ralentissement)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Rayon de Stase (Ralentissement 1 tour, Volont DD 17 annule)"],specialQualities:["Champ Anti-magie Localis (rayon 1,5 m, 3 tours/jour)","RD 5/chaotique","Immunit (Artfact) : poison, sommeil, maladie","Conviction de Loi (+2 JS contre enchantements)"],abilities:{str:18,dex:12,con:16,int:12,wis:14,cha:12},skills:"Dtection +14, Psychologie +12, Connaissance (ingnierie) +10",feats:"Robustesse, Science de l'Initiative, Vigilance",tactics:"Neutralise les lanceurs, ngocie si preuve de l'anomalie de Thade ; peut basculer d'alli  ennemi.",loot:"Cl de recalibrage, noyau d'nergie rgul.",isEnemy:!1,role:"Gardien neutre des mcanismes de la Spirale, potentiel alli si convaincu.",tactical:{bookReference:"Bestiaire : 'Invitable Contremtre' (Spirale  Salle des Engrenages)",scenarioContext:"Acte 4 : surveille l'accs mcanique de la Spirale. Alterne sabots et rayon de stase pour neutraliser les lanceurs de sorts.",spells:[],specialActions:[{name:"Rayon de Stase",details:"+9, inflige 1d6 froid + ralentissement (Vol DD 17 pour annuler) ; priorise les lanceurs de sorts."}],tacticFeats:[{name:"Robustesse",details:"Supporte les attaques magiques lorsque son champ anti-magie est actif."},{name:"Science de l'initiative",details:"Agit avant les cantrips ennemis."}],tacticSummary:"Bloque les couloirs avec son marteau de gravit, dclenche son champ anti-magie localis, puis vise les lanceurs avec le rayon de stase ; peut ngocier si l'anomalie de Thade est clairement dmontre."}},{id:"gardien_cimetiere",name:"Gardien du Cimetire",size:"Moyen",type:"Humanode (Humain)",alignment:"NB",fp:3,environment:"Cimetire en terrasse",organization:"Solitaire",initiative:"+1",senses:"Dtection +7",ac:{total:16,touch:11,flatFooted:15},hp:32,hd:"4d8+12",saves:{fort:"+6",ref:"+2",will:"+2"},speed:"9 m",attack:"Bton Ferr +6 (1d6+2 non ltal)",fullAttack:"Bton Ferr +6 (1d6+2 non ltal)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Bannissement Mineur des Morts-Vivants (1/j, NLS 4, comme Dissipation cible)"],specialQualities:["Bonus +2 JS contre la peur dans le cimetire","Dtection des Perturbations du Sol Sacr"],abilities:{str:14,dex:12,con:16,int:10,wis:12,cha:10},skills:"Survie +8, Dtection +7, Connaissance (religion) +6",feats:"Robustesse, Vigilance, Arme de Prdilection (bton)",tactics:"Avertit avant dattaquer, soutient les PJ contre profanateurs ; se replie dans le mausole si submerg.",loot:"Cls du mausole, amulette bnie (+1 JS contre peur).",isEnemy:!1,role:"Protecteur bienveillant du cimetire, ressource pour informations ou bndictions.",tactical:{bookReference:"Bestiaire : 'Gardien du Cimetire' (Terrasse du Cimetire)",scenarioContext:"Acte 2 : protge les spultures contre les profanateurs et les morts-vivants ; sert d'alli mais peut repousser les PJ si la peur s'installe.",spells:[],specialActions:[{name:"Bannissement Mineur des Morts-Vivants",details:"1/j, NLS 4, agit comme une dissipation cible pour repousser les morts-vivants autour de lui."}],tacticFeats:[{name:"Robustesse",details:"Soutient la ligne quand les morts-vivants attaquent en masse."},{name:"Vigilance",details:"Maintient les PJ en scurit avec une perception accrue de la peur et de la trahison."}],tacticSummary:"Privilgie la prvention : avertit avant dattaquer, soutient les PJ contre les profanations, puis se replie dans le mausole si submerg."}},{id:"archimage_defecteur",name:"Archimage Dfecteur",size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:9,environment:"Quartier du Savoir  Tour des Mages (cachette)",organization:"Solitaire",initiative:"+2",senses:"Vision dans le noir (sort), Dtection +10",ac:{total:18,touch:12,flatFooted:16},hp:45,hd:"9d4+18",saves:{fort:"+5",ref:"+5",will:"+9"},speed:"9 m",attack:"Bton de force +5 (1d6+1)",fullAttack:"Bton de force +5 (1d6+1)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de Magicien NLS 9"],specialQualities:["Contre-mesures anti-ncromancie","Portails Rapides"],abilities:{str:8,dex:14,con:14,int:19,wis:14,cha:10},skills:"Art de la magie +16, Connaissances (arcanes) +16, Connaissances (plans) +14, Dcryptage +12",feats:"Ecole Renforce (Abjuration), Extension d'effet, Magie de Guerre",tactics:"Reste invisible, observe, et n'intervient que pour saboter un rituel ou fuir via un portail.",loot:"Parchemin de Dissipation Suprme, Cl de contournement des protections de la Tour.",isEnemy:!1,role:"Ancien matre du Conseil, tente de saboter Thade de l'intrieur.",details:["Motivation : Stopper Thade avant la fusion avec la Spirale.","Attitude : Paranoaque, exige des preuves de loyaut.","Pouvoir : Portails rapides, contre-mesures anti-ncromancie.","Usage : Peut fournir des cls de contournement dans la Tour."]}];QS.map(i=>bc(i));const YS=[{id:"sujet_zero",name:"Sujet Zro",size:"Grand",type:"Crature artificielle (aberration)",alignment:"CN",fp:8,environment:"Spirale  Laboratoire secret de Thade",organization:"Solitaire",initiative:"+1",senses:"Vision dans le noir 18 m, odorat",ac:{total:18,touch:9,flatFooted:17},hp:102,hd:"12d10+36",saves:{fort:"+9",ref:"+5",will:"+6"},speed:"9 m",attack:"griffe +14 (1d8+6)",fullAttack:"2 griffes +14 (1d8+6) et morsure +12 (2d6+3)",space:"3 m",reach:"3 m",specialAttacks:["Rage contrle (+2 dgts, 5 tours)","Prise puissante (+4 sur lutte)"],specialQualities:["Rgnration 3 (supprime par dgts radieux ou soniques)","Rsistance  la magie 16"],abilities:{str:22,dex:12,con:20,int:6,wis:12,cha:6},skills:"Perception +10, Intimidation +8",feats:"Robustesse, Science du critique (griffe), Attaque en puissance, Combat en aveugle",tactics:"S'acharne sur la cible la plus bruyante ; si rgnration stoppe, tente d'abattre rapidement puis fuit vers Thade.",loot:"Implants exprimentaux, chantillon d'clat de Spirale",isEnemy:!0,role:"Garde du laboratoire, tragdie contrle par Thade.",tactical:{bookReference:"Bestiaire : 'Sujet Zro' (Annexe Spirale - laboratoire)",scenarioContext:"Acte 4 : combat d'anantissement dans les laboratoires. Se concentre sur des attaques brutes et sa rgnration, avec des pics de rage pour punir les soins.",spells:[],specialActions:[{name:"Rage contrle",details:"+2 dgts pendant 5 tours, dclenche quand il perd >30% PV avant de changer de cible."},{name:"Prise puissante",details:"+4 sur lutte, cherche  immobiliser le lanceur de sorts ou le gurisseur."}],tacticFeats:[{name:"Science du critique",details:"Optimise les attaques de griffe en concentration sur le lanceur de sorts le plus vulnrable."},{name:"Attaque en puissance",details:"Souhaite des frappes maximales sur les tanks blesss."}],tacticSummary:"Fonce sur la cible la plus bruyante, utilise sa rgnration pour rester au contact ; si la rgnration est stoppe, tente de fuir vers Thade."}},{id:"assassin_masque",name:"Assassin Masqu",size:"Moyen",type:"Humanode (Humain)",alignment:"NM",fp:5,environment:"Ruelles de Val-d'Ombre, toits",organization:"Solitaire ou duo",initiative:"+6",senses:"Dtection +8",ac:"18 (+4 Dex, +4 Armure) ; contact 14, pris au dpourvu 14",hp:45,dv:"6d8+18",js:{vig:"+5",ref:"+9",vol:"+3"},vit:"9 m, escalade 6 m",abb:"+4",grp:"+6",attaque:"Dague +8 (1d4+2, x2) ou Arbalte Lgre +8 (1d8, 19-20/x2)",att_complete:"Dague +8/+3 (1d4+2, x2) ou Arbalte Lgre +8 (1d8, 19-20/x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Attaque Sournoise +3d6","Poison Enduit (Vig. DD 15)"],qual_sp:["Esquive Instinctive","Bonus Discrtion +4 en milieu urbain"],carac:{for:12,dex:18,con:14,int:12,sag:10,cha:10},comptences:"Discrtion +14, Acrobaties +12, Dtection +8, Escalade +10",dons:"Science de l'Initiative, Tir de Prcision, Arme de Prdilection (dague)",tactiques:"Frappe depuis les ombres, s'acharne sur les cibles isoles ; peut ngocier un contrat si pris de vitesse.",butin:"Lettre scelle, fiole de poison, masque rituel",est_ennemi:!0,role:"Tueur  gages li aux complots urbains.",details:["Motivation : L'argent et le frisson du danger.","Attitude : Ne parle presque jamais, communique par gestes.","Combat : Spcialiste des attaques surprise et des chutes mortelles.","Spoiler : Peut tre li  une faction que les PJ croyaient allie."],tactical:{bookReference:"Bestiaire urbain : 'Assassin Masqu' (Ruelles / Ombres)",scenarioContext:"Acte 1-3 : embuscade dans les toits. Prfre frapper isolment avant que les gardes se regroupent.",spells:[],specialActions:[{name:"Attaque sournoise",details:"+3d6 ds qu'il frappe un ennemi en dehors du combat."},{name:"Poison enduit",details:"Application sur dague (Vig DD 15), utilis sur ses premires attaques pour maximiser la victime engage."}],tacticFeats:[{name:"Tir de prcision",details:"Ouverture sur la cible isole (dague ou arbalte)."},{name:"Science de l'initiative",details:"Permet d'agir avant la majorit de la troupe et de choisir sa cible."}],tacticSummary:"Frappe depuis les ombres, vise les cibles isoles, peut ngocier ou s'enfuir si surpris."}},{id:"etudiant_renvoye",name:"Jaren",size:"Moyen",type:"Humanode (Humain)",alignment:"Neutre Mauvais",fp:1,environment:"Cimetire des Terrasses, Universit de Magie",organization:"Solitaire (accompagn de 3 brutes)",initiative:"+6",senses:"Dtection +2",ac:"12 (+2 Dex) ; contact 12, pris au dpourvu 10",hp:5,dv:"1d4+1",js:{vig:"+1",ref:"+2",vol:"+2"},vit:"9 m",abb:"+0",grp:"+1",attaque:"Dague +1 (1d4+1) ou Bton +1 (1d6+1)",att_complete:"Dague +1 (1d4+1) ou Bton +1 (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sort mineur  volont (Rayon de givre +3 toucher  distance, 1d3 froid)","Couverture : +4 CA contre les attaques  distance derrire une stle (terrain)"],qual_sp:["Science acadmique (+2 en Connaissances : arcanes)","Vu de Silence (Inconscient) : si interrog sur le Matre, dclenchement de censure (lment de scnario)"],carac:{for:12,dex:14,con:12,int:15,sag:10,cha:8},comptences:"Connaissances (arcanes) +9, Art de la magie +6, Discrtion +6, Dtection +2",dons:"Science de l'Initiative, criture de parchemins",tactiques:"Reste derrire les brutes. Tour 1 : lance Armure de mage si menac (CA 16 ensuite). Sinon, Projectile magique sur la cible la plus blesse. Utilise Rayon de givre pour harceler et reculer. Cherche  fuir ds quune brute tombe.",buffs:[{name:"Armure de mage",effect:"+4 CA darmure (CA passe  16)",duration:"1 heure"}],spells_prepared:{niveau0:["Rayon de givre","Dtection de la magie","Lumire"],niveau1:["Armure de mage","Projectile magique"]},butin:"Broche en argent (fraternit Nyx), Outils chirurgicaux (Universit), Liste de 'Sujets' (Nains), 1 parchemin de Rayon affaiblissant",est_ennemi:!0,role:"tudiant dsespr et manipul, pivot de l'enqute entre le Cimetire et l'Universit.",tactical:{bookReference:"Scnario 1  Acte 1, Scne 3 : L'Interrogatoire interrompu",scenarioContext:"Membre junior de la Fraternit Nyx. Terrifi par Thade Coren, mais obsd par ses recherches.",spells:[{name:"Rayon de givre",details:"+3 toucher  distance, 1d3 froid."},{name:"Projectile magique",details:"1 projectile (1d4+1), pas de JS."},{name:"Armure de mage",details:"+4 CA darmure, dure 1 heure."}],specialActions:[{name:"Appel  l'aide",details:"Si Jaren tombe  3 PV ou moins, il tente de se rendre/fuir et marchande sa vie."}],tacticSummary:"Terrain + brutes = cran. Jaren nest pas un duelliste : il pique, recule, puis tente la fuite."}},{id:"contremaitre_humain",name:"Varrus, contrematre humain",size:"Moyen",type:"Humanode (Humain)",alignment:"LE",fp:3,environment:"Quartier des Mineurs  Place Centrale",organization:"Solitaire (avec 2 gardes)",initiative:"+1",senses:"Perception +5",ac:{total:16,touch:11,flatFooted:15},hp:38,hd:"5d8+10",saves:{fort:"+4",ref:"+2",will:"+4"},speed:"9 m",attack:"Fouet +6 (1d3 non ltal ou ltal)",fullAttack:"Fouet +6 (1d3)",space:"1,5 m",reach:"4,5 m (fouet)",specialAttacks:["Dsarmement (Amlior)"],specialQualities:["Autorit Tyranique (+2 Intimidation sur les mineurs)"],abilities:{str:14,dex:12,con:14,int:12,sag:10,cha:14},skills:"Intimidation +10, Psychologie +6, Profession (contrematre) +8",feats:"Maniement du fouet, Expertise du combat",tactics:"Reste derrire ses gardes, utilise son fouet pour dsarmer ou faire trbucher les meneurs.",loot:"Fouet de matre, liste noire des mineurs, lettre scelle (ordre de Thade).",isEnemy:!0,role:"Intermdiaire entre le Conseil et les mineurs.",details:["Motivation : Maintenir la production cote que cote pour conserver ses privilges.","Attitude : Mprisant envers les Nains, agressif envers les PJ qui remettent en cause l'autorit.","Combat : Peut devenir un antagoniste lors d'une meute ou d'un piquet de grve qui dgnre.","Indice : Reoit des ordres indirectement lis  Thade via des lettres scelles."]},{id:"patrouille_mixte_conseil",name:"Patrouille Mixte du Conseil",size:"Moyen",type:"Humanode (Humain/Nain)",alignment:"LN",fp:4,environment:"Quartier des Mineurs  Alle des Artisans",organization:"Escouade (4 gardes)",initiative:"+0",senses:"Perception +4",ac:{total:17,touch:10,flatFooted:17},hp:30,hd:"4d10+8",saves:{fort:"+6",ref:"+1",will:"+1"},speed:"6 m",attack:"Hallebarde +6 (1d10+2)",fullAttack:"Hallebarde +6 (1d10+2)",space:"1,5 m",reach:"3 m",specialAttacks:["Formation de mur (Couverture +4 si adjacents)"],specialQualities:[],abilities:{str:15,dex:10,con:14,int:10,wis:10,cha:10},skills:"Dtection +5, Intimidation +6",feats:"Robustesse, Arme de prdilection (hallebarde)",tactics:"Barricadent les ruelles, utilisent l'allonge des hallebardes pour tenir la foule  distance.",loot:"Uniforme du Conseil, ordre d'arrestation vierge, cristal relais.",isEnemy:!0,role:"Escouade composite charge de briser la rsistance artisanale.",details:["Motivation : Appliquer les ordres de Thade sous couvert du Conseil.","Tactiques : Barricader les ruelles, utiliser des immobilisations magiques.","Indice : Le chef porte un cristal relais identique  celui de Thade."]},{id:"garde_portail_mine",name:"Escouade de Gardes du Portail",size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:3,environment:"Quartier des Mineurs  Entre de la Mine",organization:"Groupe (3-5)",initiative:"+1",senses:"Perception +5",ac:{total:16,touch:11,flatFooted:15},hp:26,hd:"3d10+6",saves:{fort:"+5",ref:"+2",will:"+1"},speed:"9 m",attack:"pe courte +5 (1d6+2)",fullAttack:"pe courte +5 (1d6+2)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:[],abilities:{str:14,dex:12,con:14,int:10,wis:10,cha:10},skills:"Psychologie +4, Dtection +5",feats:"Vigilance, Arme de prdilection",tactics:"Dfensive stricte. Ne frappent que si on force le passage ou si une arme est tire.",loot:"Cls du treuil, lanterne, sceau falsifi.",isEnemy:!0,role:"Soldats puiss chargs de verrouiller l'accs.",details:["Motivation : Obir aux ordres contradictoires du Conseil tout en vitant un massacre.","Attitude : Nerveuse, souponne les PJ d'espionnage.","Usage : Obstacles physiques ou ngociation sous pression.","Indice : Portent des sceaux falsifis lis aux lettres de Thade."]},{id:"magi_tuteur_loyal",name:"Matre Arcaniste Loyaliste",size:"Moyen",type:"Humanode (Humain)",alignment:"LN",fp:7,environment:"Quartier du Savoir  Tour des Mages",organization:"Solitaire (avec golems ou lmentaires)",initiative:"+2",senses:"Dtection de la magie, Vision dans le noir",ac:{total:18,touch:12,flatFooted:16},hp:45,hd:"9d4+18",saves:{fort:"+6",ref:"+5",will:"+8"},speed:"9 m",attack:"Rayon Arcanique +6 (4d6 force)",fullAttack:"Rayon Arcanique +6 (4d6 force)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de Magicien NLS 9 (vocation/Abjuration)"],specialQualities:["Glyphes de Renvoi (1/tour, renvoie un sort de niveau 3 ou moins)"],abilities:{str:10,dex:14,con:14,int:18,wis:12,cha:12},skills:"Art de la magie +15, Connaissances (arcanes) +15, Intimidation +10",feats:"Ecole Renforce (vocation), vigilance",tactics:"Dclenche ses glyphes sans sommation, reste  distance derrire des champs de force.",loot:"Bton de dfense, parchemins de Dissipation.",isEnemy:!0,role:"Professeur rest fidle  la Guilde, mais pas  Thade.",details:["Motivation : Protger la Tour contre toute intrusion, PJ compris.","Attitude : Arrogant, dclenche des runes de dfense sans sommation.","Pouvoir : Champs de force, glyphes de renvoi, serviteurs lmentaires.","Usage : Mini-boss ou ngociateur si convaincu que Thade trahit la Guilde."]}];YS.map(i=>bc(i));const ZS=[{id:"rat_geat_spirale",name:"Rat Gant de la Spirale",size:"Petit",type:"Animal",alignment:"N",fp:"1/8",environnement:"gouts, Zones de dchets",organisation:"Horde (10-20)",ini:"+3",sens:"Vision nocturne, Odorat",ca:"15 (+1 T, +3 Dex, +1 Nat.) ; contact 14, pris au dpourvu 12",pv:5,dv:"1d8+1",js:{vig:"+3",ref:"+5",vol:"+1"},vit:"12 m, escalade 6 m",abb:"+0",grp:"-4",attaque:"Morsure +4 (1d4 plus maladie)",att_complete:"Morsure +4 (1d4 plus maladie)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Maladie (Fivre des gouts, Vig DD 12)"],qual_sp:["Vision nocturne"],carac:{for:10,dex:17,con:12,int:2,sag:12,cha:4},comptences:"Discrtion +8, Escalade +10, Dtection +4",dons:"Attaque en finesse",tactiques:"Attaque en masse, fuit le feu.",butin:"Aucun",est_ennemi:!0},{id:"mendiant_hante",name:"Mendiant Hant",size:"Moyen",type:"Humanode (Humain)",alignment:"CN",fp:"1/6",environnement:"Vieille Ville",organisation:"Solitaire ou foule (4-8)",ini:"+0",sens:"Dtection +0",ca:"10 ; contact 10, pris au dpourvu 10",pv:4,dv:"1d8",js:{vig:"+0",ref:"+0",vol:"-1"},vit:"9 m",abb:"+0",grp:"+0",attaque:"Coup dsespr +0 (1d3 non ltal)",att_complete:"Coup dsespr +0 (1d3 non ltal)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Folie (Immunis  la terreur)"],carac:{for:10,dex:10,con:10,int:9,sag:8,cha:8},comptences:"Discrtion +2",dons:"Endurance",tactiques:"S'accroche aux PJ, hurle, n'attaque que si provoqu ou contrl.",butin:"Guenilles, 1d6 pc",est_ennemi:!1},{id:"kobold_mineur",name:"Kobold Mineur",size:"Petit",type:"Humanode (Reptilien)",alignment:"LM",fp:"1/4",environnement:"Mines profondes",organisation:"quipe (4-8)",ini:"+1",sens:"Vision dans le noir 18 m",ca:"15 (+1 T, +1 Dex, +2 Cuir, +1 Nat.) ; contact 12, pris au dpourvu 14",pv:4,dv:"1d8",js:{vig:"+0",ref:"+1",vol:"+2"},vit:"9 m",abb:"+1",grp:"-3",attaque:"Pic de mineur +2 (1d4-1)",att_complete:"Pic de mineur +2 (1d4-1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Sensibilit  la lumire"],carac:{for:9,dex:13,con:10,int:10,sag:10,cha:8},comptences:"Artisanat (piges) +4, Dtection +2, Fouille +4",dons:"Vigilance",tactiques:"Attire les ennemis vers des piges, lance des cailloux.",butin:"Outils de mineur, ppites de cuivre",est_ennemi:!0},{id:"homme_arme_cimetiere",name:"Homme d'arme du cimetire",size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:"1/4",environnement:"cimetiere_terrasse",organisation:"Patrouille (3-6) ou Garde (1-2)",ini:"+0",sens:"Dtection +1",ca:"13 (+2 Cuir clout, +1 cu de bois) ; contact 10, pris au dpourvu 13",pv:6,dv:"1d8+1",js:{vig:"+3",ref:"+0",vol:"+0"},vit:"9 m",abb:"+1",grp:"+2",attaque:"Gourdin +2 (1d6+1)",att_complete:"Gourdin +2 (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:13,dex:11,con:12,int:9,sag:10,cha:8},comptences:"Intimidation +2, Dtection +1",dons:"Vigueur surhumaine",tactiques:"Obit aux ordres ; reste en formation ; fuit si son chef meurt.",butin:"Gourdin, armure de cuir clout, bouclier, 1d4 pa",est_ennemi:!0},{id:"gobelin_ferrailleur",name:"Gobelin Ferrailleur",size:"Petit",type:"Humanode (Gobelinode)",alignment:"NM",fp:"1/3",environnement:"Dcharges, Ruines",organisation:"Bande (4-9)",ini:"+2",sens:"Vision dans le noir 18 m",ca:"15 (+1 T, +2 Dex, +2 Cuir) ; contact 13, pris au dpourvu 13",pv:5,dv:"1d8+1",js:{vig:"+3",ref:"+2",vol:"-1"},vit:"9 m",abb:"+1",grp:"-3",attaque:"Couteau rouill +3 (1d3)",att_complete:"Couteau rouill +3 (1d3)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Dplacement silencieux +4"],carac:{for:11,dex:15,con:12,int:10,sag:9,cha:6},comptences:"Discrtion +6, Dtection +2, Escamotage +4",dons:"Esquive",tactiques:"Vole des objets et s'enfuit, tend des embuscades lches.",butin:"Objets vols htroclites, ferraille",est_ennemi:!0},{id:"zombie_mineur",name:"Zombie Putrfi",size:"Moyen",type:"Mort-vivant",alignment:"NM",fp:"1/2",environnement:"Cimetire, gouts",organisation:"Horde (6-12)",ini:"-1",sens:"Vision dans le noir 18 m",ca:"11 (-1 Dex, +2 Nat.) ; contact 9, pris au dpourvu 11",pv:12,dv:"2d12+3",js:{vig:"+0",ref:"-1",vol:"+3"},vit:"9 m (ne court pas)",abb:"+1",grp:"+2",attaque:"Coup +2 (1d6+1)",att_complete:"Coup +2 (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Rduction des dgts 5/Tranchant","Immunits des morts-vivants"],carac:{for:13,dex:8,con:"-",int:"-",sag:10,cha:1},comptences:"",dons:"Robustesse",tactiques:"Avance implacablement, ne fuit jamais.",butin:"Aucun",est_ennemi:!0},{id:"milicien_valdombre",name:"Milicien de Val-d'Ombre",size:"Moyen",type:"Humanode (Humain)",alignment:"LN",fp:1,environnement:"Ville",organisation:"Patrouille (2-4)",ini:"+1",sens:"Dtection +2",ca:"16 (+1 Dex, +4 Broigne, +1 Rondache) ; contact 11, pris au dpourvu 15",pv:9,dv:"1d10+1",js:{vig:"+3",ref:"+1",vol:"+0"},vit:"6 m",abb:"+1",grp:"+2",attaque:"pe longue +2 (1d8+1)",att_complete:"pe longue +2 (1d8+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:13,dex:12,con:12,int:10,sag:10,cha:10},comptences:"Intimidation +4, Dtection +2, Psychologie +2",dons:"Arme de prdilection (pe longue), Vigilance",tactiques:"Coordonne ses attaques, appelle la garde d'lite si dbord.",butin:"pe longue, broigne, sifflet",est_ennemi:!1},{id:"acolyte_cabale",name:"Acolyte de la Cabale",size:"Moyen",type:"Humanode (Humain)",alignment:"NM",fp:1,environnement:"Tour des mages",organisation:"Solitaire ou Duo",ini:"+2",sens:"Dtection +1",ca:"12 (+2 Dex) ; contact 12, pris au dpourvu 10",pv:7,dv:"2d4+2",js:{vig:"+1",ref:"+2",vol:"+4"},vit:"9 m",abb:"+1",grp:"+0",attaque:"Dague +1 (1d4-1)",att_complete:"Dague +1 (1d4-1)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts (Niveau 1: Projectile magique, Armure de mage)"],qual_sp:[],carac:{for:8,dex:14,con:12,int:15,sag:12,cha:10},comptences:"Concentration +5, Art de la magie +6",dons:"cole renforce (vocation), Magie de guerre",tactiques:"Reste  distance, lance ses sorts puis fuit.",butin:"Parchemin niveau 1, composantes de sort",est_ennemi:!0}],KS=[{id:"charognard_errant",name:"Charognard Errant",size:"Moyen",type:"Extrieur (Chaos)",alignment:"CN",fp:2,environnement:"Spirale  Zone de Dchets",organisation:"Solitaire ou meute (2-4)",ini:"+1",sens:"Vision dans le noir 18 m, Odorat",ca:"15 (+1 Dex, +4 Nat.) ; contact 11, pris au dpourvu 14",pv:22,dv:"3d8+9",js:{vig:"+5",ref:"+4",vol:"+2"},vit:"9 m (6 c.) ; escalade 6 m",abb:"+3",grp:"+6",attaque:"Morsure +6 (1d6+3)",att_complete:"Morsure +6 (1d6+3) et 2 griffes +1 (1d4+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Charge Instable (Vig. DD 15 ou renvers sur terrain bris)"],qual_sp:["Camouflage d'boulis (+4 Discrtion dans les gravats)"],carac:{for:16,dex:12,con:16,int:4,sag:12,cha:6},comptences:"Dtection +6, Discrtion +6, Survie +4",dons:"Vigilance, Attaque en Puissance",tactiques:"Charge les isols, profite des effondrements pour sparer le groupe ; fuit  < 30% PV.",butin:"clats cristallins souills (alchimie mineure), chair instable.",est_ennemi:!0,role:"Prdateur opportuniste attir par la chair frache.",details:["Utilise les effondrements  son avantage.","Fuit si bless ou si la gravit se retourne.","Prsage des dangers naturels de la Spirale."]},{id:"sniv_kobold",name:"Sniv, claireur Kobold",size:"Petit",type:"Humanode (Kobold)",alignment:"CN",fp:2,environnement:"Tunnels secondaires",organisation:"Escouade (2-5 kobolds)",ini:"+3",sens:"Vision dans le noir 18 m, Dtection +6",ca:"17 (+1 T, +3 Dex, +3 Armure) ; contact 14, pris au dpourvu 14",pv:20,dv:"3d8+6",js:{vig:"+3",ref:"+6",vol:"+2"},vit:"9 m",abb:"+2",grp:"+2",attaque:"Lance Courte +6 (1d4+1, x2) ou Arbalte Lgre +7 (1d6, 19-20/x2)",att_complete:"Lance Courte +6 (1d4+1, x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Pose de Piges Rapides (pige simple en 1 tour)"],qual_sp:["Esquive Totale","Taille Petite (+1 CA, +1 Attaque, +4 Discrtion)"],carac:{for:12,dex:17,con:14,int:10,sag:10,cha:8},comptences:"Discrtion +11, Dtection +6, Artisanat (piges) +9",dons:"Tir de Prcision, Arme de Prdilection (arbalte lgre)",tactiques:"Tire, se replie derrire un pige, harcle  distance ; ne reste jamais au contact plus dun tour.",butin:"Arbalte lgre, fioles d'huile, matriaux de piges.",est_ennemi:!1,role:"Guide tremblant mais utile dans le rseau d'gouts.",details:["Motivation : Survivre et quitter les tunnels hants.","Attitude : Apeur, trs superstitieux, respecte la force et les dmonstrations de magie.","Utilisation : Peut viter au groupe plusieurs combats ou embuscades s'il est bien trait.","Rcompense : Indique des caches oublies laisses par d'anciens contrebandiers."]},{id:"aubergiste_pic_brise",name:"Brand, Aubergiste du Pic Bris",size:"Moyen",type:"Humanode (Humain)",alignment:"NB",fp:2,environnement:"Vieille Ville  Auberge du Pic Bris",organisation:"Solitaire (avec personnel 1-2)",ini:"+1",sens:"Dtection +5",ca:"14 (+1 Dex, +3 Armure) ; contact 11, pris au dpourvu 13",pv:18,dv:"3d8+3",js:{vig:"+3",ref:"+2",vol:"+2"},vit:"9 m",abb:"+2",grp:"+3",attaque:"Matraque +4 (1d6+1 non ltal)",att_complete:"Matraque +4 (1d6+1 non ltal)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Contacts tendus en Ville (+4 Estimation/Collecte dInfos sur rumeurs locales)"],carac:{for:13,dex:12,con:12,int:10,sag:11,cha:12},comptences:"Diplomatie +6, Psychologie +5, Dtection +5, Estimation +6",dons:"Arme de Prdilection (matraque), Vigilance",tactiques:"Tente dapaiser, ne se bat quen lgitime dfense ; connat les issues de lauberge.",butin:"Cls des chambres, petite caisse de pices, liste de clients.",est_ennemi:!1},{id:"etudiante_cabale",name:"Lyssia, tudiante de la Cabale Nyx",size:"Moyen",type:"Humanode (Humain)",alignment:"NB",fp:2,environnement:"Quartier du Savoir",organisation:"Solitaire",ini:"+2",sens:"Dtection +4",ca:"13 (+2 Dex, +1 Dfl.) ; contact 13, pris au dpourvu 11",pv:15,dv:"2d8+6",js:{vig:"+2",ref:"+3",vol:"+4"},vit:"9 m",abb:"+1",grp:"+1",attaque:"Dague +2 (1d4, 19-20/x2)",att_complete:"Dague +2 (1d4, 19-20/x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["NLS 2 (1er/J) : Dtection de la magie, Lumire, Message. **Sorts de niveau 1** : (2/j) : Dissimulation d'objets (DD 12), Lecture de magie (DD 12)"],qual_sp:["Avide dInformations (+2 Diplomatie/Bluff pour marchander des secrets)"],carac:{for:10,dex:14,con:14,int:12,sag:10,cha:12},comptences:"Diplomatie +6, Bluff +6, Connaissance (arcane) +6, Discrtion +5",dons:"Ngociateur, Science de l'Initiative",tactiques:"vite le combat ; tente de ngocier ou de donner des infos contre protection.",butin:"Broche de la cabale, notes occultes partielles.",est_ennemi:!1,role:"Informatrice nerveuse sur les agissements de ses anciens camarades.",details:["Motivation : Se protger de la disgrce de la cabale et survivre  la purge.","Attitude : Mfiante envers les PJ lis au Temple-Forgeron.","Info : Connat des entres secondaires vers les laboratoires de la Tour des Mages.","volution : Peut devenir une allie majeure ou une tratresse, selon la faon dont les PJ la traitent."]},{id:"secretaire_bourgmestre",name:"Elira, Secrtaire du Bourgmestre",size:"Moyen",type:"Humanode (Humain)",alignment:"LN",fp:2,environnement:"Hauteurs Brumeuses / Htel de Ville",organisation:"Solitaire",ini:"+1",sens:"Dtection +5",ca:"13 (+1 Dex, +2 Armure/Vtements) ; contact 11, pris au dpourvu 12",pv:16,dv:"3d8",js:{vig:"+1",ref:"+2",vol:"+4"},vit:"9 m",abb:"+2",grp:"+2",attaque:"Dague +2 (1d4, 19-20/x2)",att_complete:"Dague +2 (1d4, 19-20/x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Mmoire des Dossiers (+4 Connaissance (bureaucratie/lois locales))"],carac:{for:10,dex:12,con:10,int:14,sag:12,cha:12},comptences:"Diplomatie +7, Psychologie +6, Connaissance (noblesse) +8, Estimation +6",dons:"Volont de Fer, Ngociateur",tactiques:"vite tout combat ; protge les documents, coopre si on respecte la procdure.",butin:"Cls de bureaux, documents scells.",est_ennemi:!1},{id:"tenancier_taverne",name:"Mara, Tenancire des Fumes Rouges",size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:2,environnement:"Quartier des Mineurs  Taverne des Fumes Rouges",organisation:"Solitaire (avec 1-2 videurs)",ini:"+2",sens:"Dtection +6",ca:"14 (+2 Dex, +2 Armure) ; contact 12, pris au dpourvu 12",pv:18,dv:"3d8+3",js:{vig:"+3",ref:"+3",vol:"+2"},vit:"9 m",abb:"+2",grp:"+4",attaque:"Gourdin +5 (1d6+2 contondant)",att_complete:"Gourdin +5 (1d6+2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Jet de Casserole (Arme Improvise, 1d4 dgts, porte 6 m)"],qual_sp:["Voit Tout Passer (+2 Collecte d'Infos dans le quartier)"],carac:{for:14,dex:14,con:12,int:10,sag:12,cha:12},comptences:"Intimidation +7, Diplomatie +6, Dtection +6, Collecte d'Infos +7",dons:"Arme Improvise, Science de l'Initiative",tactiques:"Tente dintimider ou dexpulser ; appelle ses videurs, vite lescalade ltale.",butin:"Caisse de la taverne, bouteilles rares.",est_ennemi:!1},{id:"cultiste_spirale",name:"Initi du Culte de la Spirale",size:"Moyen",type:"Humanode (Humain)",alignment:"CM",fp:2,environnement:"Sous-sols, Lieux abandonns",organisation:"Cellule (3-6)",ini:"+1",sens:"Dtection +3",ca:"14 (+1 Dex, +3 Armure de cuir clout) ; contact 11, pris au dpourvu 13",pv:13,dv:"2d8+4",js:{vig:"+4",ref:"+1",vol:"+4"},vit:"9 m",abb:"+1",grp:"+2",attaque:"Faucille +3 (1d6+1)",att_complete:"Faucille +3 (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts (Niv 1: Frayeur, Blessure lgre, Bndiction)"],qual_sp:["Dvotion fanatique (+2 JS Volont contre charme/terreur)"],carac:{for:12,dex:12,con:14,int:10,sag:15,cha:8},comptences:"Concentration +7, Connaissance (religion) +5",dons:"Arme de prdilection (Faucille), Incantation de combat",tactiques:"Combat jusqu' la mort, lance Frayeur en premier.",butin:"Symbole de la spirale en fer noir, parchemins impies.",est_ennemi:!0},{id:"loup_mutant",name:"Loup des Dchets",size:"Moyen",type:"Animal (Crature magique)",alignment:"N",fp:2,environnement:"Zones de dchets, Priphrie",organisation:"Meute (2-5)",ini:"+2",sens:"Vision dans le noir 18 m, Odorat, Vision nocturne",ca:"14 (+2 Dex, +2 Nat.) ; contact 12, pris au dpourvu 12",pv:19,dv:"3d8+6",js:{vig:"+5",ref:"+5",vol:"+2"},vit:"15 m",abb:"+2",grp:"+4",attaque:"Morsure +5 (1d6+3 plus Croc-en-jambe)",att_complete:"Morsure +5 (1d6+3 plus Croc-en-jambe)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Croc-en-jambe (Action libre si morsure touche)"],qual_sp:["Pelage Camlon (+4 Discrtion dans les dchets)"],carac:{for:15,dex:15,con:15,int:2,sag:12,cha:6},comptences:"Discrtion +6, Dtection +4, Survie +2",dons:"Arme de prdilection (Morsure), Pistage",tactiques:"Encercle la proie, vise les jambes pour renverser.",butin:"Peau malade (sans valeur), dents acres.",est_ennemi:!0},{id:"garde_tour_mages",name:"Garde Arcanique",size:"Moyen",type:"Humanode (Humain)",alignment:"LN",fp:2,environnement:"Quartier du Savoir, Tour des Mages",organisation:"Binme",ini:"+1",sens:"Dtection +2",ca:"16 (+1 Dex, +4 Chemise de mailles, +1 Targe) ; contact 11, pris au dpourvu 15",pv:16,dv:"2d10+2",js:{vig:"+4",ref:"+1",vol:"+1"},vit:"9 m",abb:"+2",grp:"+4",attaque:"Hallebarde +5 (1d10+3, x3)",att_complete:"Hallebarde +5 (1d10+3, x3)",espace:"1,5 m",allonge:"3 m (Hallebarde)",att_sp:[],qual_sp:["Rsistance  la magie mineure (+1 JS contre sorts)"],carac:{for:16,dex:12,con:13,int:10,sag:12,cha:10},comptences:"Intimidation +5, Dtection +2, Connaissance (arcane) +2",dons:"Arme de prdilection (Hallebarde), Attaque rflexe",tactiques:"Utilise l'allonge pour tenir l'ennemi  distance, protge les mages.",butin:"Hallebarde de qualit, potion de soin lgre.",est_ennemi:!0}],XS=[{id:"cube_nettoyeur",name:"Cube Nettoyeur de Mine",size:"Grand",type:"Amoebode",alignment:"N",fp:3,environnement:"Mines et tunnels abandonns",organisation:"Solitaire",ini:"-5",sens:"Vision dans le noir 18 m",ca:"12 (-1 T, -5 Dex, +8 Nat.) ; contact 4, pris au dpourvu 12",pv:39,dv:"6d10+6",js:{vig:"+3",ref:"-3",vol:"-2"},vit:"3 m (2 c.)",abb:"+4",grp:"+12",attaque:"Coup +8 (1d6+4 plus Absorption)",att_complete:"Coup +8 (1d6+4 plus Absorption)",espace:"3 m",allonge:"3 m",att_sp:["Absorption (Paralysie 1d3 tours, 1d6 acide/tour, Rf. DD 14 annule)"],qual_sp:["Immunit aux coups critiques","Vulnrable : lectricit/Tonnerre (dgts +50%)"],carac:{for:18,dex:1,con:12,int:0,sag:10,cha:1},comptences:"",dons:"",tactiques:"Avance lentement vers les sources de chaleur/odeur ; pige dans les couloirs troits.",butin:"Fragments mtalliques propres, huile de maintenance concentre.",est_ennemi:!0},{id:"bourgmestre",name:"Bourgmestre de Val-d'Ombre",size:"Moyen",type:"Humanode (Humain)",alignment:"LN",fp:3,environnement:"Centre Civique",organisation:"Solitaire (avec 1-2 gardes)",ini:"+0",sens:"Dtection +4",ca:"13 (+0 Dex, +3 Armure/Vtements) ; contact 10, pris au dpourvu 13",pv:24,dv:"4d8+4",js:{vig:"+3",ref:"+1",vol:"+6"},vit:"9 m",abb:"+3",grp:"+3",attaque:"Canne dApparat +4 (1d6 contondant)",att_complete:"Canne dApparat +4 (1d6)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Autorit Civile (+2 Diplomatie/Intimidation avec officiels)"],carac:{for:10,dex:10,con:12,int:14,sag:12,cha:14},comptences:"Diplomatie +9, Intimidation +7, Psychologie +7, Connaissance (noblesse) +8",dons:"Volont de Fer, Ngociateur",tactiques:"Parle avant de frapper ; ordonne aux gardes, se replie si la situation dgnre.",butin:"Sceau du bourgmestre, carnet de contacts.",est_ennemi:!1,details:["Motivation : Maintenir une faade d'ordre et protger la ville. viter que la ville implose, quitte  suivre Thade.","Attitude : Courtois mais influenable, cherche des allis fiables.","Usage : Peut soutenir ou accuser les PJ selon les preuves. Alli potentiel si convaincu de la trahison de Thade.","Indice : Signatures forces sur des dcrets nocturnes."]},{id:"geolier_principal",name:"Matre Joran, Gelier Principal",size:"Moyen",type:"Humanode (Humain)",alignment:"LN",fp:3,environnement:"Prison du Conseil",organisation:"Solitaire (avec 2-4 gardes)",ini:"+1",sens:"Dtection +7",ca:"17 (+1 Dex, +6 Armure) ; contact 11, pris au dpourvu 16",pv:30,dv:"4d8+12",js:{vig:"+6",ref:"+2",vol:"+2"},vit:"9 m",abb:"+3",grp:"+6",attaque:"Masse +7 (1d6+3 contondant)",att_complete:"Masse +7 (1d6+3)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Entrave Experte (+2 au jet de lutte pour menotter)"],qual_sp:["Cls Multiples, Systmes dAlarme (bonus +4 Recherche pour trouver/surveiller)"],carac:{for:15,dex:12,con:14,int:10,sag:12,cha:10},comptences:"Dtection +7, Intimidation +6, Profession (gelier) +8",dons:"Robustesse, Vigilance",tactiques:"Privilgie limmobilisation ; appelle des renforts plutt que dengager seul.",butin:"Trousseau de cls, registre des prisonniers.",est_ennemi:!1,details:["Motivation : Garder ses prisonniers enferms cote que cote.","Attitude : Cruel avec les faibles, servile avec les puissants.","Combat : Prfre dlguer, mais connat tous les piges et passages de la prison.","Spoiler : Dtient des prisonniers cls lis  la rsistance naine."]},{id:"marchand_gris",name:"Le Marchand Gris",size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:3,environnement:"Quartier du Savoir (march discret)",organisation:"Solitaire",ini:"+2",sens:"Dtection +6",ca:"15 (+3 Dex, +2 Armure) ; contact 13, pris au dpourvu 12",pv:24,dv:"3d8+9",js:{vig:"+4",ref:"+3",vol:"+4"},vit:"9 m",abb:"+2",grp:"+3",attaque:"Dague +4 (1d4+1, 19-20/x2)",att_complete:"Dague +4 (1d4+1, 19-20/x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Bombe Fumigne (2/j, nuage 3 m, Discrtion +10 pour fuir)"],qual_sp:["Sixime Sens du March (+2 Estimation/Bluff lors dchanges dobjets magiques)"],carac:{for:12,dex:15,con:14,int:12,sag:12,cha:12},comptences:"Estimation +10, Bluff +8, Diplomatie +8, Discrtion +8, Dtection +6",dons:"Ngociateur, Science de l'Initiative",tactiques:"Fuit ou ngocie ; nengage pas de combat prolong, se cache derrire fumignes.",butin:"Fiole fumigne, artefact mineur  revendre.",est_ennemi:!1},{id:"clerc_desabuse",name:"Frre Malen, Clerc Dsabus",size:"Moyen",type:"Humanode (Humain)",alignment:"N",fp:3,environnement:"Hauteurs Brumeuses",organisation:"Solitaire",ini:"0",sens:"Dtection +6",ca:"15 (+5 Armure) ; contact 10, pris au dpourvu 15",pv:28,dv:"4d8+8",js:{vig:"+6",ref:"+1",vol:"+5"},vit:"9 m",abb:"+3",grp:"+5",attaque:"Masse Lgre +5 (1d6+2)",att_complete:"Masse Lgre +5 (1d6+2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["NLS 4 : Canalisation (3/j, 2d6)"],qual_sp:["Rsistance au poison +2","Doute Pieux (+2 Psychologie pour reprer supercheries religieuses)"],carac:{for:14,dex:10,con:14,int:12,sag:14,cha:10},comptences:"Connaissance (religion) +8, Premiers Secours +7, Diplomatie +5",dons:"Robustesse, Volont de Fer",tactiques:"Soigne avant de combattre ; refuse les violences gratuites, peut se retirer sil juge la cause injuste.",butin:"Symbole sacr terni, fioles de soins mineures.",est_ennemi:!1,role:"Religieux qui doute autant de ses dieux que de ses suprieurs.",details:["Motivation : Trouver un sens  la souffrance qui s'abat sur Val-d'Ombre.","Attitude : Las, mais rceptif aux preuves concrtes apportes par les PJ.","Info : A entendu parler de visions lies  la Spirale chez certains fidles.","Usage : Peut offrir un soutien moral, des soins et des rumeurs."]},{id:"chef_bandes_ruelles",name:"Rask, Chef de Bande de la Vieille Ville",size:"Moyen",type:"Humanode (Humain)",alignment:"CN",fp:3,environnement:"Vieille Ville",organisation:"Bande (Rask + 3-6 voyous)",ini:"+2",sens:"Dtection +6",ca:"16 (+2 Dex, +4 Armure) ; contact 12, pris au dpourvu 14",pv:30,dv:"4d10+8",js:{vig:"+5",ref:"+3",vol:"+2"},vit:"9 m",abb:"+4",grp:"+6",attaque:"Cimeterre +8 (1d6+3, 18-20/x2)",att_complete:"Cimeterre +8 (1d6+3, 18-20/x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Appel de la Bande (Voyou supplmentaire arrive en 1d4 tours si en ville)"],qual_sp:["Intimidation de Rue (+2 Intimidation en milieu urbain)"],carac:{for:14,dex:14,con:14,int:10,sag:10,cha:12},comptences:"Intimidation +8, Dtection +6, Collecte d'Infos +6",dons:"Attaque en Puissance, Science de l'Initiative",tactiques:"Cherche lavantage numrique, frappe vite puis se replie si lopposition est solide ; appelle sa bande au moindre sifflet.",butin:"Bourse de racket, cimeterre brch.",est_ennemi:!0,role:"Petit seigneur du crime local.",details:["Motivation : Contrler les ruelles et racketter les marchands.","Attitude : Arrogant, dteste qu'on lui marche sur les pieds.","Combat : Entour de voyous, connat tous les raccourcis pour fuir.","Usage : Antagoniste rcurrent ou alli forc contre une menace plus grande."]},{id:"bourgmestre_valdombre",name:"Bourgmestre Intrimaire de Val-d'Ombre",size:"Moyen",type:"Humanode (Humain)",alignment:"LN",fp:3,environnement:"Centre Civique",organisation:"Solitaire (avec 2 gardes)",ini:"+1",sens:"Dtection +4",ca:"14 (+1 Dex, +3 Vtements) ; contact 11, pris au dpourvu 13",pv:26,dv:"4d8+6",js:{vig:"+4",ref:"+2",vol:"+6"},vit:"9 m",abb:"+3",grp:"+3",attaque:"Canne-Sceptre +4 (1d6 contondant)",att_complete:"Canne-Sceptre +4 (1d6)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Autorit Civile (+2 Diplomatie/Intimidation avec officiels)","Discours Rassembleur (+1 moral 1/j aux allis 1 minute)"],carac:{for:10,dex:12,con:12,int:14,sag:12,cha:14},comptences:"Diplomatie +9, Intimidation +7, Psychologie +7, Connaissance (noblesse) +8",dons:"Volont de Fer, Ngociateur",tactiques:"Privilgie la ngociation et dlgue aux gardes ; se rend si lordre public le requiert.",butin:"Sceau officiel, registre des taxes.",est_ennemi:!1},{id:"contremaitre_nain_mine",name:"Contrematre Nain des Mines",size:"Moyen",type:"Humanode (Nain)",alignment:"LB",fp:3,environnement:"Profondeurs de la mine",organisation:"Escouade (1 contrematre + 3-6 mineurs)",ini:"0",sens:"Vision dans le noir 18 m, Dtection +7",ca:"17 (+7 Armure) ; contact 10, pris au dpourvu 17",pv:34,dv:"4d10+12",js:{vig:"+7",ref:"+1",vol:"+2"},vit:"6 m (Armure)",abb:"+4",grp:"+7",attaque:"Pioche Lourde +8 (1d8+4, x3)",att_complete:"Pioche Lourde +8 (1d8+4, x3)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Cri dAlarme (+2 moral aux mineurs  9 m 1 tour)"],qual_sp:["Rsistance Naine (+2 JS poison/sorts)","Connaissance des Souterrains (+2 Survie/Dtection (pierre))"],carac:{for:16,dex:10,con:16,int:10,sag:12,cha:10},comptences:"Artisanat (mines) +9, Dtection +7, Survie +6",dons:"Robustesse, Arme de Prdilection (pioche lourde)",tactiques:"Tient la ligne pour protger les mineurs, utilise le cri dalarme pour regrouper.",butin:"Pioche lourde, plan des galeries, lampe  huile robuste.",est_ennemi:!1,role:"Nain pragmatique charg de la scurit des galeries.",details:["Motivation : Renvoyer tout le monde vivant  la surface.","Attitude : Bourru, se mfie des aventuriers trop tmraires.","Info : Connat les zones dj 'maudites' de la mine.","Usage : Guide officieux pour les premires explorations."]},{id:"jaren_apprenti",name:"Jaren, Apprenti Dchu",size:"Moyen",type:"Humanode (Humain)",alignment:"CN",fp:3,environnement:"Vieille Ville, cachette",organisation:"Solitaire",ini:"+2",sens:"Dtection +4",ca:"15 (+2 Dex, +3 Armure/Vtements) ; contact 12, pris au dpourvu 13",pv:22,dv:"3d8+9",js:{vig:"+3",ref:"+3",vol:"+5"},vit:"9 m",abb:"+2",grp:"+3",attaque:"Dague +4 (1d4+1, 19-20/x2)",att_complete:"Dague +4 (1d4+1, 19-20/x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["NLS 3 : **Sorts de niveau 0** : (5/j) : Graisseur, Lumire Dansante, Main du Mage"],qual_sp:["Obsession Spirale (+2 Concentration pour effets lis aux cristaux)"],carac:{for:10,dex:14,con:14,int:12,sag:10,cha:10},comptences:"Discrtion +7, Dtection +4, Connaissance (arcane) +6, Artisanat (runes) +6",dons:"Science de l'Initiative, Magie de Guerre",tactiques:"Tente de fuir ou de ngocier ; en combat, utilise Graisseur pour retarder puis senfuit.",butin:"Notes dlirantes sur la Spirale, dague, pochettes de poudre cristalline.",est_ennemi:!0},{id:"bibliothecaire_interdits",name:"Matre Selvar, Gardien des Archives Interdites",size:"Moyen",type:"Humanode (Humain)",alignment:"LN",fp:3,environnement:"Quartier du Savoir  Archives interdites",organisation:"Solitaire",ini:"+1",sens:"Dtection +7",ca:"14 (+1 Dex, +3 Vtements) ; contact 11, pris au dpourvu 13",pv:24,dv:"4d8+4",js:{vig:"+3",ref:"+2",vol:"+7"},vit:"9 m",abb:"+3",grp:"+3",attaque:"Bton +4 (1d6)",att_complete:"Bton +4 (1d6)",espace:"1,5 m",allonge:"1,5 m",att_sp:["NLS 3 : **Sorts de niveau 0** : (5/j) : Dtection de la magie, Lumire, Protection mineure"],qual_sp:["Verrouillage des Archives (+2 DD pour Forcer Serrures/Glyphes)","Mmoire des Grimoires (+4 Connaissance (arcane/histoire))"],carac:{for:10,dex:12,con:12,int:16,sag:14,cha:10},comptences:"Connaissance (arcane) +10, Connaissance (histoire) +10, Dtection +7, Psychologie +6",dons:"Volont de Fer, Ngociateur",tactiques:"Cherche  repousser ou prvenir plutt qu se battre ; appelle la garde arcanique si menac.",butin:"Cls des archives, grimoires de rfrence, glyphe dalerte.",est_ennemi:!1,role:"Gardien sourcilleux des secrets arcaniques.",details:["Motivation : Protger les connaissances dangereuses, mme contre le Conseil.","Attitude : Froid mais juste, respecte les pactes et les serments.","Info : Connat l'existence de la Spirale et souponne Thade, sans pouvoir le prouver.","Prix : Exige un serment ou un sacrifice symbolique pour l'accs  certains savoirs."]},{id:"horreur_chitineuse",name:"Horreur Chitineuse",size:"Moyen",type:"Aberration",alignment:"NM",fp:3,environnement:"Profondeurs de la Spirale",organisation:"Solitaire ou Nid (2-4)",ini:"+3",sens:"Vision dans le noir 18 m, Tremorsense 9 m",ca:"18 (+3 Dex, +5 Naturelle) ; contact 13, pris au dpourvu 15",pv:26,dv:"4d8+8",js:{vig:"+3",ref:"+4",vol:"+5"},vit:"12 m, Escalade 9 m",abb:"+3",grp:"+6",attaque:"Griffe +6 (1d6+3)",att_complete:"2 Griffes +6 (1d6+3) et Morsure +1 (1d4+1 plus venin)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Venin (Vig DD 14, 1d2 Con / 1d2 Con)"],qual_sp:["Rsistance  l'acide 5"],carac:{for:16,dex:17,con:14,int:5,sag:12,cha:8},comptences:"Discrtion +10, Escalade +12, Saut +10",dons:"Attaque en finesse, Attaques multiples",tactiques:"Tombe du plafond sur sa proie, tente de mordre pour affaiblir.",butin:"Carapace dure (artisanat), Glande  venin.",est_ennemi:!0},{id:"disciple_vide",name:"Disciple du Vide",size:"Moyen",type:"Humanode (Humain)",alignment:"NM",fp:3,environnement:"Temples secrets",organisation:"Groupe (1 disciple + 2-4 initis)",ini:"+2",sens:"Dtection +3",ca:"15 (+2 Dex, +3 Armure de cuir, +1 Anneau) ; contact 12, pris au dpourvu 13",pv:22,dv:"4d6+8",js:{vig:"+3",ref:"+3",vol:"+6"},vit:"9 m",abb:"+2",grp:"+2",attaque:"Dague empoisonne +4 (1d4, 19-20/x2)",att_complete:"Dague empoisonne +4 (1d4, 19-20/x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts (Niv 2: Tnbres, Immobilisation de personne, Ccit)","Regard angoissant (Vol DD 13 ou Secou)"],qual_sp:["Rsistance mentale (+2 JS contre charme)"],carac:{for:10,dex:14,con:14,int:12,sag:16,cha:13},comptences:"Concentration +9, Savoir (Arcane) +8, Psychologie +8",dons:"Incantation de combat, Volont de fer",tactiques:"Lance Tnbres pour dsorienter, vise les lanceurs de sorts.",butin:"Parchemin de Tnbres, Dague de matre, Symbole impie.",est_ennemi:!0},{id:"assassin_guilde",name:"Couteau de l'Ombre",size:"Moyen",type:"Humanode (Humain)",alignment:"NM",fp:3,environnement:"Ville, Toits",organisation:"Solitaire ou Binme",ini:"+7",sens:"Dtection +6",ca:"16 (+3 Dex, +3 Cuir clout matre) ; contact 13, pris au dpourvu 13",pv:19,dv:"3d6+6",js:{vig:"+3",ref:"+6",vol:"+1"},vit:"9 m",abb:"+2",grp:"+3",attaque:"pe courte +6 (1d6+1, 19-20/x2)",att_complete:"pe courte +6 (1d6+1, 19-20/x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Attaque sournoise +2d6"],qual_sp:["Esquive instinctive"],carac:{for:12,dex:17,con:14,int:13,sag:10,cha:8},comptences:"Discrtion +9, Dplacement silencieux +9, Acrobatie +9, Escalade +7",dons:"Science de l'initiative, Arme de prdilection (pe courte)",tactiques:"Attaque depuis les ombres, vise les cibles isoles, fuit si repr.",butin:"pe courte de matre, poison (2 doses), cape sombre.",est_ennemi:!0}],$S=[{id:"geometre_fou",name:"Gomtre Fou",size:"Moyen",type:"Humanode (Humain)",alignment:"CM",fp:4,environnement:"Val-d'Ombre, quartiers obscurs",organisation:"Solitaire",ini:"+2",sens:"Dtection +6",ca:"17 (+2 Dex, +5 Armure) ; contact 12, pris au dpourvu 15",pv:34,dv:"5d8+10",js:{vig:"+4",ref:"+3",vol:"+6"},vit:"9 m",abb:"+3",grp:"+5",attaque:"Pique  Dessin Modifie +6 (1d8+2 perforant)",att_complete:"Pique  Dessin Modifie +6 (1d8+2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Glyphes de Dsorientation (1/j, zone 3 m, Rf. DD 15 : tourdi 1 tour)"],qual_sp:["Esprit Fractal (+2 JS contre illusions)","Cartographie Tordue (+4 Connaissance (architecture et ingnierie))"],carac:{for:12,dex:14,con:14,int:16,sag:10,cha:8},comptences:"Connaissance (architecture et ingnierie) +12, Dtection +6, Artisanat (plans) +10, Psychologie +4",dons:"Volont de Fer, Science de l'Initiative, Pointage Prcis",tactiques:"Pose un glyphe pour couper une poursuite, frappe puis se replie. Panique si on dtruit ses cartes.",butin:"Plans dforms de Val-d'Ombre, craies runiques.",est_ennemi:!0,role:"Source d'indices post-mortem (ou vivant, selon le timing).",details:["Motivation : Cartographier l'impossible.","Indice : Journal dcrivant des galeries qui s'allongent quand on ne les regarde pas.","Usage : Point de bascule vers la comprhension de l'architecture vivante de la Spirale.","Loot : Plans dforms mais prcieux pour naviguer dans les profondeurs."]},{id:"capitaine_garde_urbaine",name:"Capitaine de la Garde Urbaine",size:"Moyen",type:"Humanode (Humain)",alignment:"LN",fp:4,environnement:"Centre Civique, patrouilles",organisation:"Escouade (capitaine + 4-8 gardes)",ini:"+1",sens:"Dtection +7",ca:"18 (+1 Dex, +7 Armure) ; contact 11, pris au dpourvu 17",pv:42,dv:"5d10+15",js:{vig:"+7",ref:"+3",vol:"+3"},vit:"6 m (Armure)",abb:"+5",grp:"+8",attaque:"Glaive +9 (1d10+4 tranchant, x3)",att_complete:"Glaive +9/+4 (1d10+4, x3)",espace:"1,5 m",allonge:"3 m",att_sp:["Ordre de Barrage (+1 CA et JS aux Gardes  9 m, 1 tour)"],qual_sp:["Bonus de Commandement (+1 moral aux Gardes  9 m)"],carac:{for:16,dex:12,con:16,int:10,sag:12,cha:12},comptences:"Dtection +7, Intimidation +8, Profession (soldat) +9",dons:"Robustesse, Science de l'Initiative, Arme de Prdilection (glaive)",tactiques:"Tient la ligne, ordonne des charges ou barrages ; se replie en bon ordre.",butin:"Glaive, sifflet dalarme, insigne de la garde.",est_ennemi:!1,role:"Chef militaire charg du maintien de l'ordre.",details:["Motivation : Garder la ville sous contrle, quel qu'en soit le prix. Enfermer la situation, quitte  tirer sur les civils lors des crises.","Attitude : Souponneux, voit les PJ comme des fauteurs de troubles potentiels. Paniqu par l'ampleur du carnage surnaturel.","Combat : Redoutable stratge avec de nombreux soldats sous ses ordres.","Spoiler : Instrumentalis par Thade lors de la Nuit des Longs Couteaux (reoit des ordres crypts).","Usage : Adversaire tragique qui peut tre converti ou limin."]},{id:"durnik_chef_mineur",name:"Durnik, chef de la Guilde des Mineurs",size:"Moyen",type:"Humanode (Humain)",alignment:"NB",fp:4,environnement:"Quartier des Mineurs, tunnels suprieurs",organisation:"Avec 2-4 gardes de mine",ini:"+1",sens:"Dtection +5",ca:"17 (+1 Dex, +6 Armure) ; contact 11, pris au dpourvu 16",pv:42,dv:"5d10+15",js:{vig:"+8",ref:"+2",vol:"+4"},vit:"9 m",abb:"+5",grp:"+8",attaque:"Hache de mine +8 (1d10+4, tranchant)",att_complete:"Hache de mine +8/+3 (1d10+4, tranchant)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Cri d'alarme 1/j (Intimidation de masse, Volont DD 14 : Secou 1d4 rd)"],qual_sp:["Rsistance  la fatigue (tests de Constitution pour marches forces +4)"],carac:{for:16,dex:12,con:16,int:10,sag:12,cha:12},comptences:"Escalade +9, Survie +7, Intimidation +8, Artisanat (mines) +9",dons:"Robustesse, Attaque en puissance, Arme de prdilection (hache), Volont de fer",tactiques:"Protge ses mineurs, cre des goulots d'tranglement, frappe fort en premire ligne. Se replie si deux allis tombent.",butin:"Hache de mine quilibre, sifflet de signal, plan des galeries",est_ennemi:!1},{id:"traqueur_dimensionnel",name:"Traqueur Dimensionnel",size:"Moyen",type:"Extrieur (Chaos)",alignment:"CM",fp:4,environnement:"Zones de faille, Spirale",organisation:"Solitaire ou Meute (2)",ini:"+8",sens:"Vision dans le noir 18 m, Vision lucide",ca:"19 (+4 Dex, +5 Naturelle) ; contact 14, pris au dpourvu 15",pv:32,dv:"5d8+10",js:{vig:"+6",ref:"+8",vol:"+5"},vit:"12 m",abb:"+5",grp:"+7",attaque:"Griffes phasiques +9 (1d6+2 plus dessiccation)",att_complete:"2 Griffes phasiques +9 (1d6+2 plus dessiccation)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Dessiccation (Vig DD 14 ou 1d4 dgts temporaires For/Dex)","Saut Dimensionnel (Action mouv, 18m)"],qual_sp:["Flou (20% rat permanent)","Rsistance magie 15"],carac:{for:14,dex:19,con:14,int:7,sag:13,cha:10},comptences:"Discrtion +12, Dtection +9, Acrobatie +12",dons:"Science de l'initiative, Attaque en finesse, Arme de prdilection (Griffes)",tactiques:"Se tlporte derrire les cibles faibles (mages/soigneurs), attaque et disparat.",butin:"Essence de chaos (alchimie), griffes cristallines.",est_ennemi:!0},{id:"golem_dechets",name:"Golem de Rebuts",size:"Grand",type:"Crature artificielle",alignment:"N",fp:4,environnement:"Dcharges, Ruines industrielles",organisation:"Solitaire",ini:"-1",sens:"Vision dans le noir 18 m, Vision nocturne",ca:"18 (-1 T, -1 Dex, +10 Naturelle) ; contact 8, pris au dpourvu 18",pv:53,dv:"6d10+20",js:{vig:"+2",ref:"+1",vol:"+2"},vit:"6 m",abb:"+4",grp:"+13",attaque:"Chelem +8 (2d8+5)",att_complete:"2 Chelems +8 (2d8+5)",espace:"3 m",allonge:"3 m",att_sp:["Nuage de Ttanos (Si touch, Vig DD 15 ou maladie)"],qual_sp:["Immunits des cratures artificielles","Rduction dgts 5/Adamantine"],carac:{for:21,dex:9,con:"-",int:"-",sag:11,cha:1},comptences:"",dons:"",tactiques:"Avance et crase. Ne s'arrte que si dtruit.",butin:"Mtaux rares (valeur 50-100 po) dans les dbris.",est_ennemi:!0},{id:"chevalier_conseil",name:"Chevalier du Conseil",size:"Moyen",type:"Humanode (Humain)",alignment:"LN",fp:4,environnement:"Haute Ville, Palais",organisation:"Solitaire ou Escorte (1 + 2 gardes)",ini:"+0",sens:"Dtection +3",ca:"20 (+0 Dex, +9 Harnois, +1 Bouclier lourd matre) ; contact 10, pris au dpourvu 20",pv:47,dv:"6d10+12",js:{vig:"+7",ref:"+2",vol:"+4"},vit:"6 m (Harnois)",abb:"+6",grp:"+9",attaque:"pe btarde de matre +10 (1d10+3, 19-20/x2)",att_complete:"pe btarde +10/+5 (1d10+3, 19-20/x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Dfi (+2 dgts contre 1 cible)"],qual_sp:["Aura de courage (+4 JS peur aux allis)"],carac:{for:17,dex:10,con:14,int:10,sag:14,cha:14},comptences:"Diplomatie +8, quitation +6, Intimidation +8",dons:"Arme de prdilection (pe btarde), Spcialisation martiale, Enchanement",tactiques:"Lance un dfi au combattant le plus fort, refuse le dshonneur.",butin:"Harnois, pe btarde de matre, Sceau du conseil.",est_ennemi:!0}],WS=[{id:"spectre_ancien_heros",name:"Spectre d'un Ancien Hros Nain",size:"Moyen",type:"Mort-vivant (Incorporel)",alignment:"LB",fp:5,environnement:"Seuil / mausole secret",organisation:"Solitaire",ini:"+6",sens:"Vision dans le noir 18 m, Dtection +10",ca:"17 (+6 Dex, +1 Dfl.) ; contact 17, pris au dpourvu 11",pv:45,dv:"7d12",js:{vig:"+2",ref:"+6",vol:"+7"},vit:"Vol 12 m (parfaite)",abb:"+3",grp:"",attaque:"Contact Incorporel +8 (1d8 nergie ngative)",att_complete:"Contact Incorporel +8 (1d8 nergie ngative)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Drain de Force (1d6, Vig. DD 15 demi)","Hurlement Antique (1/j, Vol. DD 16 : Secou 1d4 tours)"],qual_sp:["Incorporel","Canalisation Vulnrable","Repos Li au Mausole (disparat si relique restaure)"],carac:{for:"",dex:22,con:"",int:12,sag:14,cha:16},comptences:"Dtection +10, Discrtion +12, Connaissance (histoire) +8",dons:"Science de l'Initiative, Volont de Fer, Esquive",tactiques:"Teste les intrus par le hurlement, frappe puis se replie dans les murs ; disparat si on honore correctement la relique.",butin:"Reliques hroques, fragments darmes naines.",est_ennemi:!0,role:"Gardien spectral du Seuil.",details:["Motivation : Empcher quiconque de rouvrir le passage vers la Spirale.","Attitude : Hostile par dfaut, mais peut tre apais par des preuves de ncessit.","Combat : Combat redoutable, mais peut tre vit par des rites appropris.","Spoiler : Rvle des fragments de la vritable histoire de la premire rencontre avec la Spirale."]},{id:"mage_corrompu_spirale",name:"Mage Corrompu par la Spirale",size:"Moyen",type:"Humanode (Humain)",alignment:"CM",fp:5,environnement:"Tour des Mages, Laboratoires secrets",organisation:"Solitaire (avec sbires)",ini:"+6",sens:"Dtection +5",ca:"16 (+2 Dex, +4 Armure de mage) ; contact 12, pris au dpourvu 14",pv:38,dv:"7d4+14",js:{vig:"+4",ref:"+4",vol:"+7"},vit:"9 m",abb:"+3",grp:"+3",attaque:"Dague +1 +4 (1d4+1)",att_complete:"Dague +1 +4 (1d4+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts (Niv 3 (2/j): Boule de feu, clair ; Niv 2: Image miroir, Flche acide ; Niv 1: Projectile magique x4, Bouclier)"],qual_sp:["Aura de perturbation (Malus -1 aux JS des ennemis  3m)"],carac:{for:10,dex:14,con:14,int:17,sag:10,cha:12},comptences:"Art de la magie +13, Connaissance (arcane) +13, Concentration +12",dons:"Science de l'initiative, cole renforce (vocation), Magie de guerre",tactiques:"Se protge avec Image miroir/Bouclier, pilonne avec Boule de feu.",butin:"Baguette de projectiles magiques (10 charges), Dague +1, Livre de sorts.",est_ennemi:!0},{id:"bete_fosse",name:"Bte de la Fosse",size:"Grand",type:"Aberration",alignment:"N",fp:5,environnement:"Profondeurs de la mine, Spirale",organisation:"Solitaire",ini:"+1",sens:"Vision dans le noir 18 m, Perception des vibrations",ca:"19 (-1 T, +1 Dex, +9 Naturelle) ; contact 10, pris au dpourvu 18",pv:59,dv:"7d8+28",js:{vig:"+8",ref:"+3",vol:"+5"},vit:"12 m",abb:"+5",grp:"+14",attaque:"Tentacule +9 (1d6+5 plus treinte)",att_complete:"2 Tentacules +9 (1d6+5) et Morsure +4 (1d8+2)",espace:"3 m",allonge:"3 m",att_sp:["treinte (Action libre si tentacule touche)","Constriction (1d6+7)"],qual_sp:["Gurison acclre 2","Allonge suprieure"],carac:{for:20,dex:12,con:18,int:2,sag:10,cha:4},comptences:"Escalade +14, Dtection +6",dons:"Attaque en puissance, Vigueur surhumaine",tactiques:"Attrape les cibles proches et les broie, mord ceux qui s'approchent.",butin:"Organes alchimiques, gemmes non digres.",est_ennemi:!0}],e2=[{id:"inevitable_contremetre",name:"Invitable Contremtre",size:"Moyen",type:"Extrieur (Loi, Artfact)",alignment:"LN",fp:6,environnement:"Spirale  Salle des Engrenages",organisation:"Solitaire ou patrouille (1-2)",ini:"+1",sens:"Vision dans le noir 18 m, Perception Aveugle 6 m",ca:"22 (+1 Dex, +11 Nat.) ; contact 11, pris au dpourvu 21",pv:68,dv:"9d8+27",js:{vig:"+8",ref:"+4",vol:"+9"},vit:"6 m ; vol stationnaire 3 m (manoeuvre parfaite)",abb:"+9",grp:"+13",attaque:"Marteau de Gravit +12 (1d8+4 contondant, Rf. DD 17 annule Ralentissement)",att_complete:"Marteau de Gravit +12 (1d8+4 contondant) et Rayon de Stase +9 (1d6 froid, Vol. DD 17 annule Ralentissement)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Rayon de Stase (Ralentissement 1 tour, Volont DD 17 annule)"],qual_sp:["Champ Anti-magie Localis (rayon 1,5 m, 3 tours/jour)","RD 5/chaotique","Immunit (Artfact) : poison, sommeil, maladie","Conviction de Loi (+2 JS contre enchantements)"],carac:{for:18,dex:12,con:16,int:12,sag:14,cha:12},comptences:"Dtection +14, Psychologie +12, Connaissance (ingnierie) +10",dons:"Robustesse, Science de l'Initiative, Vigilance",tactiques:"Neutralise les lanceurs, ngocie si preuve de l'anomalie de Thade ; peut basculer d'alli  ennemi.",butin:"Cl de recalibrage, noyau d'nergie rgul.",est_ennemi:!0},{id:"sentinelle_reliee",name:"Sentinelle Relie",size:"Moyen",type:"Artfact",alignment:"N",fp:6,environnement:"Spirale  Premier cercle",organisation:"Solitaire",ini:"+1",sens:"Vision dans le noir 18 m, Perception Aveugle 6 m",ca:"19 (+1 Dex, +8 Nat.) ; contact 11, pris au dpourvu 18",pv:72,dv:"9d10+20",js:{vig:"+3",ref:"+4",vol:"+5"},vit:"6 m",abb:"+9",grp:"+15",attaque:"Poing Cristallin +12 (1d8+6 contondant + 1d4 force)",att_complete:"2 poings cristallins +12 (1d8+6 + 1d4 force)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Dcharge Rsonante (3/j, 3d6 force, Rf. DD 16 demi)"],qual_sp:["RD 5/adamantium","Immunit (Artfact) + Rsistance Sonique 10","Lien de Rsonance : dsoriente si Symbole Nain de Confinement (2 Attaque/CA/JS 1d4 tours)"],carac:{for:22,dex:12,con:"",int:6,sag:12,cha:8},comptences:"Dtection +8, Intimidation +6",dons:"Robustesse, Attaque en Puissance, Science du Critique (poing)",tactiques:"Engage frontalement ; si lien de rsonance perturb, passe en mode dfensif ou se replie en suivant les ordres du cur de la Spirale.",butin:"Fragment cristallin rsonant, schmas runiques rods.",est_ennemi:!0,role:"Golem poreux aux veines de cristal, surveille les intrusions.",details:["Motivation : Contenir la propagation de la Gode chantante.","Attitude : Attaque si le cristal de Thade rsonne, sinon observe.","Indice : Ragit faiblement aux symboles nains de confinement.","Usage : Garde mobile pouvant tre vite par ruse ou ngociation arcano-tech."]},{id:"grand_pretre_nain",name:"Grand Prtre Nain",size:"Moyen",type:"Humanode (Nain)",alignment:"LB",fp:6,environnement:"Temple-Forgeron / catacombes",organisation:"Solitaire (avec 1-2 acolytes)",ini:"-1",sens:"Vision dans le noir 18 m, Dtection +9",ca:"19 (-1 Dex, +10 Armure) ; contact 9, pris au dpourvu 19",pv:65,dv:"8d8+32",js:{vig:"+11",ref:"+1",vol:"+10"},vit:"6 m (Armure)",abb:"+6",grp:"+8",attaque:"Marteau de Guerre +10 (1d8+3, x3)",att_complete:"Marteau de Guerre +10/+5 (1d8+3, x3)",espace:"1,5 m",allonge:"1,5 m",att_sp:["NLS 8 : Canalisation (6/j, 4d6)","Sanctification du Sol (1/j, zone 6 m, +2 JS allis vs morts-vivants)"],qual_sp:["Rsistance Naine (+2 JS poison/sorts)","Inbranlable (+2 contre renversement)"],carac:{for:14,dex:8,con:18,int:12,sag:18,cha:14},comptences:"Connaissance (religion) +14, Premiers Secours +11, Diplomatie +10, Intimidation +8",dons:"Robustesse, Volont de Fer, Science de l'Initiative (Sacr)",tactiques:"Bnit le groupe, canalise pour soutenir, frappe les morts-vivants en priorit ; protge reliques et fidles.",butin:"Marteau runique, reliques sacres, anneau de protection +1.",est_ennemi:!1}],t2=[{id:"geode_avatar",name:"Avatar de la Gode",size:"Grand",type:"Extrieur (Terre, Chaos)",alignment:"CN",fp:7,environnement:"Spirale  Cur de la Gode Chantante",organisation:"Solitaire (gardien)",ini:"+2",sens:"Vision dans le noir 18 m, Perception Aveugle 9 m",ca:"20 (-1 T, +2 Dex, +9 Nat.) ; contact 11, pris au dpourvu 18",pv:95,dv:"10d8+50",js:{vig:"+12",ref:"+9",vol:"+9"},vit:"6 m (4 c.) ; vol 3 m (manoeuvre limite)",abb:"+10",grp:"+20",attaque:"Fouet Cristallin +15 (2d6+6 soniques)",att_complete:"Fouet Cristallin +15 (2d6+6 soniques) et Onde Sonique (voir SpA)",espace:"3 m",allonge:"3 m (6 m avec fouet)",att_sp:["Onde Sonique (cne 6 m, 4d6 soniques, Rf. DD 18 demi)","Plissement Spatial (zone 6 m devient terrain difficile 1 tour, Vol. DD 18)"],qual_sp:["Rsistance Sonique 10","Faiblesse : Runes Naines de Confinement (2 CA/2 JS)"],carac:{for:22,dex:14,con:20,int:10,sag:16,cha:16},comptences:"Dtection +15, Connaissance (plans) +8, Intimidation +10",dons:"Science de l'Initiative, Attaque en Puissance, Robustesse, Volont de Fer",tactiques:"Alterne onde de zone et verrouillage d'une cible menaante ; dfend la gode principale.",butin:"clat de gode chantante, essence de rsonance.",est_ennemi:!0,role:"Manifestation semi-consciente de la Spirale.",details:["Motivation : Protger la source et tendre la rsonance.","Attitude : Communique par vibrations, peut ngocier via empathie magique.","Pouvoir : Dforme la gomtrie, projette des ondes soniques.","Faiblesse : Perturbe par les runes naines de confinement."]},{id:"kaelen_vampire",name:"Kaelen, Vampire des gouts",size:"Moyen",type:"Mort-vivant",alignment:"CM",fp:7,environnement:"gouts de Val-d'Ombre",organisation:"Solitaire",ini:"+7",sens:"Vision dans le noir 18 m, Dtection +14",ca:"21 (+3 Dex, +8 Nat.) ; contact 13, pris au dpourvu 18",pv:68,dv:"8d12+16",js:{vig:"+4",ref:"+9",vol:"+6"},vit:"9 m, escalade 9 m",abb:"+4",grp:"+10",attaque:"Coup +11 (1d6+6 plus Drain de Niveau)",att_complete:"2 coups +11 (1d6+6 plus Drain de Niveau)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Drain de Niveau (1 niveau, Vol. DD 18 annule)","Domination (3/j, Vol. DD 17)"],qual_sp:["RD 10/argent et magie","RM 15","Rgnration 5 (sauf feu/acide)","Forme Gazeuse (Brume)","Rsistance Froid/lectricit 10"],carac:{for:22,dex:16,con:"",int:14,sag:14,cha:18},comptences:"Discrtion +14, Dtection +14, Acrobaties +12, Intimidation +14",dons:"Science de l'Initiative, Attaque en Puissance, Robustesse, Esquive",tactiques:"Chasse isolment, frappe puis se change en brume si bless ; use de domination pour recruter des goules.",butin:"Cape sombre, anneau d'opacit, notes sur la Spirale.",est_ennemi:!0,role:"Vampire mage, dernier rempart avant le sommet.",details:["Protecteur loyal de Thade, espre l'immortalit via la Spirale.","Contrle des nues d'ombres et des contre-sorts.","Peut tre retourn par la promesse d'un pouvoir indpendant de Thade."],tactical:{}}],a2=[],n2=[],i2=[],s2=[],r2=[],l2=[],o2=[],u2=[],c2=[],d2=[],m2=[],p2=[],f2=[],g2=[...ZS,...KS,...XS,...$S,...WS,...e2,...t2,...a2,...n2,...i2,...s2,...r2,...l2,...o2,...u2,...c2,...d2,...m2,...p2,...f2];g2.map(i=>bc({...i,est_ennemi:!0}));const h2=[{name:"Le Conseil (Politique)",type:"Administration",desc:"Le Bourgmestre est un humain honnte mais dpass. Il est obsd par le maintien de la paix entre Nains et Mages pour que le commerce tourne.",icon:Yr,color:"text-blue-400 border-blue-900 bg-blue-950/30",hierarchy:[{role:"Bourgmestre",npcId:"bourgmestre",notes:"Autorit civile, cherche l'quilibre."},{role:"Capitaine de la Garde urbaine",npcId:"capitaine_garde_urbaine",notes:"Scurit, couvre-feu, sige."},{role:"Gelier du Conseil",npcId:"geolier_principal",notes:"Prisons politiques, interrogatoires."}],npcIds:["bourgmestre","capitaine_garde_urbaine","geolier_principal"]},{name:"Faction Nains",type:"Foi & Mineurs",desc:"Le bloc nain runit les mineurs et le Temple-Forgeron : gardiens du savoir ancestral, protecteurs des galeries et des reliques sacres.",icon:mi,color:"text-amber-400 border-amber-900 bg-amber-950/30",hierarchy:[{role:"Chef de la Guilde des Mineurs",npcId:"durnik_chef_mineur",notes:"Voix des mineurs, meneur de grve."},{role:"Haut Clerc / Prtre du Temple-Forgeron",npcId:"thorgar_pretre_nain",notes:"Avertit sur la Spirale, soutien moral."},{role:"Contrematre scurit mine",npcId:"contremaitre_nain_mine",notes:"Logistique, scurit des galeries."},{role:"Capitaine de la Garde du Temple",npcId:"capitaine_garde_temple",notes:"Organise la dfense et les patrouilles sacres."},{role:"Gardien du Cimetire",npcId:"gardien_cimetiere",notes:"Veille sur les spultures et dtecte les profanations."}],npcIds:["durnik_chef_mineur","thorgar_pretre_nain","contremaitre_nain_mine","capitaine_garde_temple","gardien_cimetiere"]},{name:"La Guilde des Mages",type:"Les Ambitieux",desc:"Prestige intellectuel et force militaire. Officiellement contre la ncromancie, mais Thade Coren a infiltr le Cercle Intrieur et radicalise les tudiants.",icon:Qg,color:"text-purple-400 border-purple-900 bg-purple-950/30",hierarchy:[{role:"Cercle Intrieur",npcId:"thade_coren",notes:"Antagoniste, contrle la Tour."},{role:"Archimage dfecteur",npcId:"archimage_defecteur",notes:"Sabote Thade de l'intrieur."},{role:"Matre loyaliste",npcId:"magi_tuteur_loyal",notes:"Dfend la Tour contre tous."},{role:"Apprenti favori",npcId:"kaelen_vampire",notes:"Garde du toit, bras droit vampirique."}],npcs:["thade_coren","archimage_defecteur","magi_tuteur_loyal","kaelen_vampire","bibliothecaire_interdits"]},{name:"Rseau des Ombres",type:"Assassins & Informateurs",desc:"Intermdiaires discrets, chasseurs de primes et opportunistes qui profitent du chaos pour tirer les ficelles dans l'ombre.",icon:Gg,color:"text-emerald-300 border-emerald-900 bg-emerald-950/30",hierarchy:[{role:"Courtier invisible",npcId:"marchand_fou_mercane",notes:"Marchand d'informations et d'artefacts."},{role:"Assassin Masqu",npcId:"assassin_masque",notes:"Tueur  gages li aux complots urbains."},{role:"claireuse perdue",npcId:"lysa_exploratrice_perdue",notes:"Guide occasionnelle pour qui paye ou sauve sa peau."}],npcs:["marchand_fou_mercane","assassin_masque","lysa_exploratrice_perdue"]}],v2=["size","type","alignment","fp","cr","environment","environnement","organisation","organization","ini","initiative","sens","senses","ca","ac","pv","hp","dv","hd","js","saves","vit","speed","abb","bab","grp","grapple","attaque","attack","att_complete","fullAttack","espace","space","allonge","reach","att_sp","specialAttacks","qual_sp","specialQualities","carac","abilities","comptences","competences","skills","dons","feats","tactiques","tactics","butin","loot","est_ennemi","isEnemy","role","description","tactical","buffs","spells_prepared","spellbook","class","languages","details","antagonist"],b2={vig:"+0",ref:"+0",vol:"+0"},y2={for:10,dex:10,con:10,int:10,sag:10,cha:10},ha=i=>Array.isArray(i)?i.map(ha):i&&typeof i=="object"?{...i}:i;function yc(i={}){const s={...i};v2.forEach(o=>{o in s&&delete s[o]});const r={id:i.id??"",name:i.name??"",size:i.size??"Moyen",type:i.type??"Humanode (Humain)",alignment:i.alignment??"N",fp:i.fp??i.cr??1,environment:i.environment??i.environnement??"",organisation:i.organisation??i.organization??"Solitaire",ini:i.ini??i.initiative??"+0",sens:i.sens??i.senses??"",ca:i.ca??i.ac??"10 (+0 Dex) ; contact 10, pris au dpourvu 10",pv:i.pv??i.hp??1,dv:i.dv??i.hd??"1d8",js:ha(i.js??i.saves??b2),vit:i.vit??i.speed??"9 m",abb:i.abb??i.bab??"+0",grp:i.grp??i.grapple??"+0",attaque:i.attaque??i.attack??"",att_complete:i.att_complete??i.fullAttack??"",espace:i.espace??i.space??"1,5 m",allonge:i.allonge??i.reach??"1,5 m",att_sp:ha(i.att_sp??i.specialAttacks??[]),qual_sp:ha(i.qual_sp??i.specialQualities??[]),carac:ha(i.carac??i.abilities??y2),comptences:i.comptences??i.competences??i.skills??"",dons:i.dons??i.feats??"",tactiques:i.tactiques??i.tactics??"",butin:i.butin??i.loot??"",est_ennemi:i.est_ennemi??i.isEnemy??!1,role:i.role??i.description??"",tactical:ha(i.tactical??null),buffs:ha(i.buffs??[]),spells_prepared:ha(i.spells_prepared??i.spellbook??{}),class:i.class??null,lvl:i.lvl??i.level_value??null,languages:i.languages??"",details:ha(i.details??[]),antagonist:i.antagonist??null};return{...s,...r}}const x2=[{id:"thade_coren",name:"Thade Coren",class:"Magicien (Ncromancien)",lvl:10,size:"Moyen",type:"Humanode (Humain)",alignment:"LN",environment:"Val-d'Ombre (Universit, Conclave) puis Spirale",organization:"Solitaire (manipulateur)",initiative:"+6",senses:"Dtection +2, Psychologie +10",languages:"Commun, Draconique, Infernal, Abyssal",ac:{total:17,touch:13,flatFooted:15},hp:57,hd:"10d4+30",saves:{fort:"+6",ref:"+6",will:"+10"},speed:"9 m",attack:"Bton ferr de matre +6 (1d6)",fullAttack:"Bton ferr de matre +6 (1d6)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de Magicien (NLS 10, DD 15 + niv)","Rayon affaiblissant (renforc par don)"],specialQualities:["Lien arcanique (Anneau)","coles interdites : Illusion, Enchantement"],abilities:{str:10,dex:14,con:14,int:20,wis:12,cha:16},skills:"Concentration +15, Connaissances (arcanes) +18, Connaissances (plans) +18, Diplomatie +16, Art de la magie +18",feats:["Science de l'initiative","Volont de fer","cole renforce (Ncromancie)","Extension de dure","Magie de guerre"],tactics:"Reste  distance. Utilise 'Mur de force' pour diviser le groupe, puis 'Rayon affaiblissant' sur les combattants.",loot:"Bton ferr de matre, Anneau de protection +1, Bracelets d'armure +4, Livre de sorts.",isEnemy:!1,antagonist:!0,role:"Antagoniste principal, double jeu : mcne puis manipulateur.",details:["Motivation : Fusionner avec la Spirale pour atteindre l'immortalit.","Masque : Froid, acadmique, se prsente comme un alli rationnel.","Spoiler : Manipule les PJ ds les premiers scnarios en orientant leurs enqutes.","Combat : Dans le final, utilise la Tour comme catalyseur d'nergie ncromantique."],tactical:{bookReference:"Manuel des Joueurs 3.5 : Magicien",scenarioContext:"Acte 2-3 : Confrontation finale dans la Spirale.",spells:[{name:"Rayon affaiblissant",details:"Attaque contact distance +7, 1d6+5 pnalit Force."},{name:"Mur de force",details:"Bloque les charges et lignes de vue."},{name:"Dbilit",details:"3d6 Int (Vig DD 20 demi), pour neutraliser les mages."}],specialActions:[],tacticFeats:["cole renforce (Ncromancie)"],tacticSummary:"Contrle le terrain avec Mur de force, affaiblit les menaces physiques, garde Tlportation pour fuir."}},{id:"thorgar_pretre_nain",name:"Thorgar",class:"Prtre",lvl:6,size:"Moyen",type:"Humanode (Nain)",alignment:"LB",environment:"Quartier du Savoir / Temple-Forgeron",organization:"Solitaire ou avec 1-2 acolytes",initiative:"+3",senses:"Vision dans le noir 18 m, Perception +3 (+5 pierre)",languages:"Commun, Nain",ac:{total:20,touch:9,flatFooted:20},hp:52,hd:"6d8+24",saves:{fort:"+9",ref:"+1",will:"+8"},speed:"6 m",attack:"Marteau de guerre de matre +8 (1d8+2/x3)",fullAttack:"Marteau de guerre de matre +8 (1d8+2/x3)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Renvoi des morts-vivants (4/jour, niveau 6, 2d6+7 dgts de renvoi)","Incantation spontane (Soins)"],specialQualities:["Traits des Nains","Stabilit","Connaissance de la pierre"],abilities:{str:14,dex:8,con:18,int:12,wis:16,cha:12},skills:"Concentration +13, Connaissances (religion) +10, Premiers secours +8, Diplomatie +5",feats:["Arme de prdilection (Marteau de guerre)","Science de l'initiative","Robustesse"],tactics:"Ouvre avec Bndiction et Bouclier de la foi. Cherche le contact pour protger les allis. Utilise Renvoi si morts-vivants.",loot:"Marteau de guerre de matre, Harnois, Grand bouclier en acier, Anneau d'acier runique (+1 CA naturelle), Symbole sacr.",isEnemy:!1,antagonist:null,role:"Alli, prtre du Temple, protecteur du Savoir",details:["Motivation : Protger la mmoire des morts, empcher l'ouverture de la Spirale et sauver les civils.","Attitude : Grave, inflexible sur les questions sacres, mais reconnaissant envers les PJ.","Usage : Point d'ancrage moral, soins, informations secrtes. Dclenche le 'Dilemme de Thorgar'.","Lien : Premier  parler de la 'maladie' de la montagne."],tactical:{bookReference:"Manuel des Joueurs 3.5 : Prtre",scenarioContext:"Acte 1-2 : support de la ligne de front dans le Temple.",spells:[{name:"Bndiction",details:"+1 attaque/JS (allis, 6 min)."},{name:"Bouclier de la foi",details:"+2 CA parade (6 min)."},{name:"Soins modrs",details:"2d8+6 PV."},{name:"Prire",details:"+1 bonus chance allis / -1 malus ennemis."}],specialActions:["Renvoi des morts-vivants"],tacticFeats:["Robustesse"],tacticSummary:"Se place en premire ligne pour soigner et buffer. Refuse de fuir tant que des reliques sont menaces."}},{id:"aubergiste_pic_brise",name:"Brand, aubergiste du Pic Bris",class:"Expert",lvl:3,size:"Moyen",type:"Humanode (Humain)",alignment:"NB",environment:"Vieille Ville  Auberge du Pic Bris",organization:"Solitaire (avec personnel 1-2)",initiative:"+1",senses:"Dtection +5, Psychologie +6",languages:"Commun, Argot",ac:{total:14,touch:11,flatFooted:13},hp:18,hd:"3d6+3",saves:{fort:"+2",ref:"+2",will:"+4"},speed:"9 m",attack:"Matraque de matre +4 (1d6+1 non ltal)",fullAttack:"Matraque de matre +4 (1d6+1 non ltal)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:["Contacts tendus en ville (+4 Estimation/Collecte d'infos sur rumeurs locales)"],abilities:{str:13,dex:12,con:12,int:10,wis:11,cha:12},skills:"Diplomatie +7, Psychologie +6, Dtection +5, Estimation +6, Profession (aubergiste) +7",feats:["Arme de Prdilection (matraque)","Vigilance","Ngociateur"],tactics:"Tente dapaiser, ne se bat quen lgitime dfense ; connat les issues de lauberge.",loot:"Cls des chambres, petite caisse de pices, liste de clients.",isEnemy:!1,antagonist:null,role:"Hte bien inform qui entend toutes les conversations.",details:["Motivation : Protger sa rputation et viter les ennuis avec la garde.","Attitude : Jovial en public, prudent en priv ; observe beaucoup.","Usage : Source de rumeurs, point de contact pour guider les PJ vers leurs premires pistes."],tactical:{bookReference:"Guide du Matre 3.5 : PNJ Expert",scenarioContext:"Acte 1 : Auberge du Pic Bris.",spells:[],specialActions:[],tacticFeats:["Vigilance"],tacticSummary:"Se cache derrire le comptoir (couvert) et appelle la garde."}},{id:"etudiant_universite",name:"Althis, apprenti archiviste",class:"Magicien",lvl:2,size:"Moyen",type:"Humanode (humain)",alignment:"NB",environment:"Universit de Magie de Val-d'Ombre  Cour centrale",organization:"Solitaire (parfois avec 1-2 condisciples)",initiative:"+1",senses:"Perception +4",languages:"Commun, Draconique, Elfique",ac:{total:12,touch:11,flatFooted:11},hp:9,hd:"2d4+2",saves:{fort:"+1",ref:"+1",will:"+3"},speed:"9 m",attack:"bton runique +1 (1d6 non ltal)",fullAttack:"bton runique +1 (1d6 non ltal)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de Magicien (NLS 2)"],specialQualities:["Mmoire prodigieuse (+2 Collecte d'infos sur l'Universit)","Badge discret de la Fraternit Nyx (permet d'accder aux couloirs tudiants la nuit)","Familier (Rat : +2 Vigueur)"],abilities:{str:10,dex:12,con:12,int:14,wis:12,cha:11},skills:"Diplomatie +6, Collecte d'infos +7, Connaissances (arcanes) +9, Psychologie +4, Art de la magie +7",feats:["Science de l'initiative","Ngociateur","criture de parchemins"],tactics:"vite toute violence. Prfre parlementer, partager des rumeurs ou accompagner les PJ jusqu'au bureau de Thade si convaincu.",loot:"Cl de dortoir en argent, carnet de rumeurs griffonnes, badge de Nyx (preuve implicante).",isEnemy:!1,antagonist:null,role:"tudiant inquiet qui sert de premier point de contact avec l'Universit.",tactical:{bookReference:"Scnario 1  Acte 2, Scne 1 : La Fraternit Dissoute",scenarioContext:"Althis craint encore la Fraternit Nyx mais sait que Thade cache des secrets. Il accepte d'aider les PJ si ceux-ci restent discrets.",spells:[{name:"Sommeil",details:"Endort 4 DV de cratures (Volont DD 13)."},{name:"Bouclier",details:"+4 CA."},{name:"Lumire",details:"Cantrip."}],specialActions:[{name:"Guide improvis",details:"Peut accorder un bonus circonstanciel de +2 aux tests de Diplomatie ou de Collecte d'infos  l'Universit s'il accompagne les PJ."},{name:"Rumeurs touffes",details:"Sur un test de Diplomatie DD 15 russi par les PJ, Althis partage des rumeurs ciblant directement Thade Coren."}],tacticFeats:[{name:"Science de l'initiative",details:"Toujours le premier  parler pour viter que la garde universitaire ne s'en mle."}],tacticSummary:"Tente de calmer toute tension et oriente les PJ vers le bureau de Thade aprs les avoir mis en garde contre la surveillance du Conseil."}},{id:"durnik_chef_mineur",name:"Durnik, chef de la Guilde des Mineurs",class:"Guerrier",lvl:5,size:"Moyen",type:"Humanode (humain)",alignment:"NB",environment:"Quartier des Mineurs, tunnels suprieurs",organization:"Avec 2-4 gardes de mine",initiative:"+1",senses:"Perception +5",languages:"Commun, Nain, Terran",ac:{total:17,touch:11,flatFooted:16},hp:42,hd:"5d10+15",saves:{fort:"+7",ref:"+2",will:"+2"},speed:"9 m",attack:"Hache de mine +9 (1d10+5/x3)",fullAttack:"Hache de mine +9 (1d10+5/x3)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Cri d'alarme 1/j (Intimidation de masse, test VS Volont DD 14 : secou 1d4 rd)"],specialQualities:["Rsistance  la fatigue (tests Con pour marches forces +4)"],abilities:{str:16,dex:12,con:16,int:10,wis:12,cha:12},skills:"Escalade +9, Survie +7, Intimidation +8, Artisanat (mines) +9, Connaissances (architecture) +4",feats:["Attaque en puissance","Science de l'initiative","Robustesse","Arme de prdilection (Hache)","Spcialisation martiale (Hache)"],tactics:"Se place en avant dans les tunnels mins, fait reculer les PJ s'ils menacent les mineurs ; accepte de ngocier si preuve de complot.",loot:"Hache lourde runique, carnet de codes des tunnels, pierre de tonnerre",isEnemy:!1,antagonist:null,role:"Chef de guilde, ouvre ou ferme l'accs aux mines.",details:["Motivation : Protger les mineurs de la 'pierre malade' et des dcisions du Conseil.","Attitude : Bourru mais honnte. Respecte les PJ qui prennent des risques pour les siens.","Utilisation : Donneur de qutes pour les scnarios lis  la Mine et  la Spirale.","Test social : Difficile  convaincre si les PJ sont trop proches des Mages ou du Conseil.","Au Pont Secret : Rsolu  mourir pour gagner du temps lors de l'vacuation (sacrifice hroque)."],tactical:{bookReference:"Bestiaire : Dossier 'Durnik, chef des mineurs' (Actes 2-3)",scenarioContext:"Acte 2 : surveille les accs aux tunnels suprieurs. Utilise son terrain pour crer des goulots d'tranglement et protger les mineurs.",spells:[],specialActions:[{name:"Cri d'alarme",details:"1/j, effectue un test de Volont DD 14 pour retirer les PJ du support moral (-1 moral, secou 1d4 tours)."}],tacticFeats:[{name:"Attaque en puissance",details:"Maximise les dgts avec sa hache pour punir les intrus."},{name:"Robustesse",details:"Reste au contact mme quand les tunnels s'effondrent."}],tacticSummary:"Se place devant les berges mines, frappe en premire ligne, puis recule derrire des arcs de pierres. Fait reculer les PJ quand deux gardes tombent."}},{id:"capitaine_garde_temple",name:"Korgan, Capitaine de la Garde",class:"Guerrier",lvl:5,size:"Moyen",type:"Humanode (Nain)",alignment:"LN",environment:"Temple-Forgeron et environs",organization:"Escouade (capitaine + 3-6 gardes)",initiative:"+5",senses:"Vision dans le noir 18 m, Perception +6 (+8 pierre)",languages:"Commun, Nain",ac:{total:21,touch:11,flatFooted:20},hp:45,hd:"5d10+18",saves:{fort:"+7",ref:"+2",will:"+2"},speed:"6 m",attack:"Hache de guerre naine de matre +9 (1d10+4/x3)",fullAttack:"Hache de guerre naine de matre +9 (1d10+4/x3)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Ordre de tir (les gardes allis gagnent +1 attaquer pour 1 tour)"],specialQualities:["Traits des Nains","Stabilit","Connaissance de la pierre","Bonus de commandement (+1 moral aux gardes  9 m)"],abilities:{str:15,dex:12,con:16,int:10,wis:12,cha:10},skills:"Perception +6, Intimidation +6, Profession (soldat) +8, Connaissances (architecture) +2",feats:["Science de l'initiative","Robustesse","Arme de prdilection (Hache de guerre naine)","Spcialisation martiale (Hache de guerre naine)","Attaque en puissance"],tactics:"Forme un mur de boucliers avec ses gardes. Utilise sa stabilit pour tenir la ligne. Ngocie si l'autorit du Temple est invoque.",loot:"Hache de guerre naine grave, Harnois, Grand bouclier en acier, Sceau du Temple",isEnemy:!1,antagonist:null,role:"Officier nain intransigeant, gardien des traditions du Temple.",details:["Motivation : Protger le Temple-Forgeron et ses secrets.","Attitude : Mfiant envers les non-nains, respecte la force et la discipline.","Combat : Ne recule jamais, prfre mourir que de laisser profaner le Temple.","Spoiler : Manipul par des ordres falsifis, mais sa loyaut envers le Temple peut le faire changer de camp si la tromperie est rvle."],tactical:{bookReference:"Bestiaire : 'Korgan, Garde du Temple' (Quartier du Savoir)",scenarioContext:"Acte 1 : dfend l'accs au Temple-Forgeron. Bloque le passage avec sa constitution massive.",spells:[],specialActions:[{name:"Ordre de tir",details:"+1 aux jets dattaque des gardes  9 m pendant 1 tour (1/j)."}],tacticFeats:[{name:"Science de l'initiative",details:"Organise la dfense avant l'assaut."},{name:"Robustesse",details:"Encaisse les coups pour protger les prtres."}],tacticSummary:"Utilise le terrain et sa stabilit pour empcher tout passage. Les gardes forment un mur autour de lui."}},{id:"marchand_fou_mercane",name:"Le Marchand Fou (Mercane exil)",class:"Extrieur",lvl:7,size:"Moyen",type:"Extrieur (loyal)",alignment:"LN",environment:"Spirale  Couloirs de Chair",organization:"Solitaire",initiative:"+2",senses:"Vision dans le noir 18 m, Perception +10",languages:"Commun, Infernal, Cleste, Draconique, Tlpathie 30m",ac:{total:19,touch:12,flatFooted:17},hp:52,hd:"7d8+21",saves:{fort:"+8",ref:"+7",will:"+6"},speed:"9 m",attack:"dague +8 (1d4+2)",fullAttack:"dague +8/+3 (1d4+2)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts inns (NLS 7) : porte dimensionnelle 1/j, invisibilit 2/j, dtection de la magie  volont"],specialQualities:["Rsistance  la magie 18","Immunit au poison","Sens marchand (+4 Estimation)"],abilities:{str:10,dex:14,con:16,int:18,wis:12,cha:16},skills:"Estimation +14, Bluff +13, Diplomatie +15, Psychologie +11, Connaissances (plans) +14",feats:["Science de l'initiative","Ngociateur","Volont de fer"],tactics:"Ngocie d'abord, se rend invisible si menac, tente la fuite dimensionnelle. Vend information contre vitalit.",loot:"Trousse de marchandises exotiques, anneau de discrtion mineure",isEnemy:!1,antagonist:null,role:"Marchand opportuniste, prte  des marchs tranges.",details:["Motivation : Le profit, mme dans l'apocalypse.","Attitude : Instable, parle  des interlocuteurs invisibles."],tactical:{bookReference:"Bestiaire : 'Marchand Fou' (Spirale  Couloirs de Chair)",scenarioContext:"Acte 4 : apparait en ngociateur instable dans les couloirs de la Spirale, prt  sacrifier des objets contre des informations.",spells:[{name:"Porte dimensionnelle (inn)",details:"1/j pour s'chapper ou faire traverser un alli, dclench aprs avoir vendu un objet."},{name:"Invisibilit (inn)",details:"2/j pour s'clipser aprs une transaction ou un chec tactique."}],specialActions:[{name:"Dtection de la magie",details:"Continu, repre les PJ essayant de mentir ou de dissimuler un objet prcieux."}],tacticFeats:[{name:"Science de l'initiative",details:"Avance les ngociations avant que la troupe ne se concentre."},{name:"Volont de fer",details:"Rsiste aux menaces mentales ou aux tentatives de lui faire abandonner un march."}],tacticSummary:"Ngocie, propose des deals, puis se rend invisible ou franchit une porte dimensionnelle si la situation tourne au combat."}},{id:"lysa_exploratrice_perdue",name:"Lysa, exploratrice perdue",class:"Roublard",lvl:4,size:"Moyen",type:"Humanode (humain)",alignment:"NB",environment:"Spirale  Premier cercle",organization:"Solitaire (survivante)",initiative:"+7",senses:"Perception +8",languages:"Commun, Gobelin",ac:{total:17,touch:13,flatFooted:14},hp:25,hd:"4d6+8",saves:{fort:"+3",ref:"+7",will:"+1"},speed:"9 m",attack:"pe courte +7 (1d6+1/19-20)",fullAttack:"pe courte +7 (1d6+1/19-20)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Attaque sournoise +2d6"],specialQualities:["vasion","Esquive instinctive","Dcouverte de piges"],abilities:{str:12,dex:16,con:14,int:12,wis:10,cha:10},skills:"Discrtion +10, Perception +8, Survie +7, Acrobatie +10, Fouille +8, Escalade +8",feats:["Arme de prdilection (pe courte)","Science de l'initiative","Esquive"],tactics:"Observe avant d'agir ; coopre si on partage eau/soins. vite le combat direct, cherche les issues.",loot:"Carte dforme de la Spirale, rations maigres",isEnemy:!1,antagonist:null,role:"Guide de circonstance, possible allie ou romance survie.",details:["Motivation : Survivre et sortir.","Attitude : Mfiante mais cooprative."],tactical:{bookReference:"Bestiaire : 'Lysa, exploratrice perdue' (Spirale  Premier cercle)",scenarioContext:"Acte 3 : guide les PJ puis doit se dfendre contre des chasseurs. Prfre viter le combat direct.",spells:[],specialActions:[{name:"Attaque sournoise",details:"+2d6 quand elle frappe depuis la cachette ou aprs une vasion."}],tacticFeats:[{name:"Tir de prcision",details:"Finit les cratures blesses  distance."},{name:"Esquive",details:"Reste hors de porte avec des dplacements prcis."}],tacticSummary:"Observe d'abord, coopre quand on partage ressources, puis frappe en retrait en visant les ouvertures ; fuit si la situation dgnre."}},{id:"inevitable_contremetre",name:"Invitable Contremtre",class:"Extrieur (Inevitable)",lvl:9,size:"Moyen",type:"Extrieur (Loi, Artfact)",alignment:"LN",environment:"Spirale  Salle des Engrenages",organization:"Solitaire ou patrouille (1-2)",initiative:"+5",senses:"Vision dans le noir 18 m, Perception Aveugle 6 m, Dtection +14",languages:"Mcanique, Cleste, Infernal",ac:{total:22,touch:11,flatFooted:21},hp:68,hd:"9d8+27",saves:{fort:"+9",ref:"+4",will:"+8"},speed:"6 m ; vol stationnaire 3 m (manoeuvre parfaite)",attack:"Marteau de Gravit +13 (1d8+4 contondant, Rf. DD 17 annule Ralentissement)",fullAttack:"Marteau de Gravit +13/+8 (1d8+4 contondant) et Rayon de Stase +10 contact (1d6 froid, Vol. DD 17 annule Ralentissement)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Rayon de Stase (Ralentissement 1 tour, Volont DD 17 annule)","Sorts inns (Injonction, Immobilisation de personne)"],specialQualities:["Champ Anti-magie Localis (rayon 1,5 m, 3 tours/jour)","RD 5/chaotique","Immunit (Artfact) : poison, sommeil, maladie","Conviction de Loi (+2 JS contre enchantements)"],abilities:{str:18,dex:12,con:16,int:12,wis:14,cha:12},skills:"Dtection +14, Psychologie +14, Connaissances (ingnierie) +13, Fouille +13",feats:["Robustesse","Science de l'initiative","Vigilance","Attaque en puissance"],tactics:"Neutralise les lanceurs, ngocie si preuve de l'anomalie de Thade ; peut basculer d'alli  ennemi.",loot:"Cl de recalibrage, noyau d'nergie rgul.",isEnemy:!1,antagonist:null,role:"Gardien neutre des mcanismes de la Spirale, potentiel alli si convaincu.",details:["Motivation : Maintenir l'intgrit structurelle.","Attitude : Robotique, logique pure."],tactical:{bookReference:"Bestiaire : 'Invitable Contremtre' (Spirale  Salle des Engrenages)",scenarioContext:"Acte 4 : surveille l'accs mcanique de la Spirale. Alterne sabots et rayon de stase pour neutraliser les lanceurs de sorts.",spells:[],specialActions:[{name:"Rayon de Stase",details:"+9, inflige 1d6 froid + ralentissement (Vol DD 17 pour annuler) ; priorise les lanceurs de sorts."}],tacticFeats:[{name:"Robustesse",details:"Supporte les attaques magiques lorsque son champ anti-magie est actif."},{name:"Science de l'initiative",details:"Agit avant les cantrips ennemis."}],tacticSummary:"Bloque les couloirs avec son marteau de gravit, dclenche son champ anti-magie localis, puis vise les lanceurs avec le rayon de stase ; peut ngocier si l'anomalie de Thade est clairement dmontre."}},{id:"gardien_cimetiere",name:"Gunnar, Gardien du Cimetire",class:"Expert",lvl:4,size:"Moyen",type:"Humanode (Nain)",alignment:"NB",environment:"Cimetire en terrasse",organization:"Solitaire",initiative:"+2",senses:"Vision dans le noir 18 m, Dtection +10, Perception auditive +8",languages:"Commun, Nain",ac:{total:17,touch:12,flatFooted:15},hp:35,hd:"4d6+19",saves:{fort:"+5",ref:"+3",will:"+5"},speed:"6 m",attack:"Arbalte lourde de matre +7 (1d10/19-20)",fullAttack:"Arbalte lourde de matre +7 (1d10/19-20)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Bannissement Mineur (1/j, NLS 4, hbtement de mort-vivant DD 13)","Bonus contre les Orques/Gobelinodes (+1  l'attaque)"],specialQualities:["Stabilit (+4 contre bousculade)","Rsistance naine (+2 JS poison, sorts, effets magiques)","Sens du Sacr (Dtection des Perturbations du Sol Sacr)","Connaissance de la pierre"],abilities:{str:12,dex:15,con:18,int:10,wis:12,cha:8},skills:"Artisanat (maonnerie) +7, Dtection +10, Perception auditive +8, Connaissances (religion) +5, Profession (fossoyeur) +8",feats:["Rechargement rapide (Arbalte lourde)","Arme de Prdilection (Arbalte lourde)","Robustesse","Vigilance"],tactics:"Se poste en hauteur sur une pierre tombale ou un mausole. Tire  l'arbalte sur les profanateurs. Dgaine sa hache si approch.",loot:"Arbalte lourde de matre, 20 carreaux, 5 carreaux bnis (+1d6 vs MV), cls du cimetire.",isEnemy:!1,antagonist:null,role:"Sentinelle stoque, refuse de laisser quiconque profaner le repos des anctres.",details:["Motivation : Protger le repos des anctres.","Attitude : Stoque, mfiant envers les trangers.","Signe distinctif : Porte une barbe tresse avec des anneaux funraires."],tactical:{bookReference:"Bestiaire : 'Durgin, Sentinelle des Tombes' (Terrasse du Cimetire)",scenarioContext:"Durgin surveille les accs depuis les remparts du mausole central.",spells:[],specialActions:[{name:"Rechargement rapide",details:"Rduit le rechargement de l'arbalte lourde  une action de mouvement (au lieu d'une action complexe)."},{name:"Bannissement Mineur",details:"1/j, hbtement de mort-vivant (DD 13)."}],tacticFeats:[{name:"Arme de Prdilection",details:"Inclus dans le bonus d'attaque de +7."}],tacticSummary:"Tire un carreau (action simple), recharge (action de mouvement). Si dbord, il utilise son Bannissement pour gagner du temps et se repositionner."}},{id:"archimage_defecteur",name:"Archimage Dfecteur",class:"Magicien",lvl:9,size:"Moyen",type:"Humanode (Humain)",alignment:"N",environment:"Quartier du Savoir  Tour des Mages (cachette)",organization:"Solitaire",initiative:"+6",senses:"Vision dans le noir (sort), Dtection +10",languages:"Commun, Draconique, Abyssal, Infernal",ac:{total:18,touch:12,flatFooted:16},hp:45,hd:"9d4+18",saves:{fort:"+5",ref:"+5",will:"+9"},speed:"9 m",attack:"Bton de force +5 (1d6+1)",fullAttack:"Bton de force +5 (1d6+1)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de Magicien NLS 9"],specialQualities:["Contre-mesures anti-ncromancie","Portails Rapides","Familier (Corbeau)"],abilities:{str:8,dex:14,con:14,int:19,wis:14,cha:10},skills:"Art de la magie +16, Connaissances (arcanes) +16, Connaissances (plans) +14, Dcryptage +12, Concentration +14",feats:["cole Renforce (Abjuration)","Extension d'effet","Magie de Guerre","Science de l'initiative","criture de parchemins"],tactics:"Reste invisible, observe, et n'intervient que pour saboter un rituel ou fuir via un portail.",loot:"Parchemin de Dissipation Suprme, Cl de contournement des protections de la Tour.",isEnemy:!1,antagonist:null,role:"Ancien matre du Conseil, tente de saboter Thade de l'intrieur.",details:["Motivation : Stopper Thade avant la fusion avec la Spirale.","Attitude : Paranoaque, exige des preuves de loyaut.","Pouvoir : Portails rapides, contre-mesures anti-ncromancie.","Usage : Peut fournir des cls de contournement dans la Tour."],tactical:{bookReference:"Manuel des Joueurs 3.5 : Magicien",scenarioContext:"Acte 3 : Tour des Mages.",spells:[{name:"Mur de force",details:"Bloque passage."},{name:"Dissipation de la magie",details:"Annule effets."},{name:"Tlportation",details:"Fuite."}],specialActions:["Contre-sort"],tacticFeats:["cole Renforce (Abjuration)"],tacticSummary:"N'intervient que pour saboter un rituel ou fuir."}}],S2=x2.map(i=>yc(i)),_2=[{id:"sujet_zero",name:"Sujet Zro",class:null,lvl:null,fp:8,size:"Grand",type:"Crature artificielle (aberration)",alignment:"CN",environment:"Spirale  Laboratoire secret de Thade",organization:"Solitaire",initiative:"+1",senses:"Vision dans le noir 18 m, Odorat, Dtection +10, Perception auditive +10",languages:"Commun (comprend mais ne parle pas)",ac:{total:18,touch:10,flatFooted:17},hp:114,hd:"12d8+60",saves:{fort:"+9",ref:"+5",will:"+9"},speed:"9 m",attack:"Griffe +14 (1d8+6, 19-20/x2)",fullAttack:"2 griffes +14 (1d8+6, 19-20/x2) et morsure +9 (2d6+3)",space:"3 m",reach:"3 m",specialAttacks:["Rage contrle (+2 dgts, 5 tours)","Prise puissante (+4 sur lutte)"],specialQualities:["Rgnration 3 (supprime par dgts radieux ou soniques)","Rsistance  la magie 16","Traits d'Aberration (immunit  l'tourdissement)"],abilities:{str:22,dex:12,con:20,int:6,wis:12,cha:6},skills:"Intimidation +8, Dtection +10, Perception auditive +10, Natation +8",feats:["Robustesse","Science du critique (griffe)","Attaque en puissance","Combat en aveugle","Enchanement"],tactics:"S'acharne sur la cible la plus bruyante ; si rgnration stoppe, tente d'abattre rapidement puis fuit vers Thade.",loot:"Implants exprimentaux (500 po), chantillon d'clat de Spirale.",isEnemy:!0,antagonist:!0,role:"Garde du laboratoire, tragdie contrle par Thade.",details:["Motivation : Mettre fin  sa propre souffrance en dtruisant tout.","Attitude : Bestiale, met des sons mtalliques en respirant.","Secret : tait autrefois un assistant de l'Universit avant les expriences de Thade."],tactical:{bookReference:"Bestiaire : 'Sujet Zro' (Annexe Spirale)",scenarioContext:"Combat d'anantissement dans les laboratoires.",spells:[],specialActions:["Rage contrle","Prise puissante"],tacticFeats:["Attaque en puissance","Enchanement"],tacticSummary:"Se jette sur les lanceurs de sorts pour les immobiliser avec son allonge de 3m."}},{id:"assassin_masque",name:"Assassin Masqu",category:"ennemis",class:"Roublard / Assassin",lvl:"Roublard 5, Assassin 1",size:"Moyen",type:"Humanode (Humain)",alignment:"NM",environment:"Ruelles de Val-d'Ombre, toits",organization:"Solitaire ou duo",initiative:"+8",senses:"Vision nocturne, Dtection +8, Perception auditive +8",languages:"Commun, Langage des signes des voleurs",ac:{total:18,touch:14,flatFooted:14},hp:33,hd:"6d6+12",saves:{fort:"+3",ref:"+10",will:"+1"},speed:"9 m, escalade 6 m",attack:"Dague de matre +9 (1d4+2, 19-20/x2)",fullAttack:"Dague de matre +9 (1d4+2) ou Arbalte lgre +9 (1d8, 19-20/x2)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Attaque Sournoise +3d6","Attaque Mortelle (Assassin, Vig DD 12)","Poison Enduit (Vig DD 15)"],specialQualities:["Esquive Instinctive","Utilisation des poisons (pas de risque d'auto-empoisonnement)"],abilities:{str:12,dex:18,con:14,int:14,wis:10,cha:10},skills:"Discrtion +14, Dplacement silencieux +14, Acrobaties +12, Dtection +8, Escalade +10, Art de la magie +5",feats:["Science de l'initiative","Attaque en finesse","Arme de prdilection (dague)","Esquive"],tactics:"Frappe depuis les ombres, s'acharne sur les cibles isoles.",loot:"Fiole de poison de sang-noir, masque rituel, 50 po.",isEnemy:!0,antagonist:null,role:"Tueur  gages li aux complots urbains.",details:["Motivation : L'argent et l'effacement de son pass.","Attitude : Silencieux, communique par gestes.","Combat : Utilise les hauteurs pour des attaques plongeantes."],tactical:{bookReference:"Bestiaire urbain : Assassin",scenarioContext:"Embuscade nocturne sur les toits.",spells:[{name:"Dguisement",details:"Sort d'Assassin (NLS 1)."}],specialActions:["Attaque Mortelle"],tacticFeats:["Tir de prcision"],tacticSummary:"Vise le gurisseur avec une dague empoisonne ds le premier round."}},{id:"etudiant_renvoye",name:"Jaren",category:"ennemis",class:"Magicien",lvl:1,size:"Moyen",type:"Humanode (Humain)",alignment:"NM",environment:"Cimetire des Terrasses, Universit",organization:"Solitaire (avec 3 brutes)",initiative:"+6",senses:"Dtection +2, Perception auditive +2",languages:"Commun, Draconique",ac:{total:12,touch:12,flatFooted:10},hp:5,hd:"1d4+1",saves:{fort:"+1",ref:"+2",will:"+2"},speed:"9 m",attack:"Bton +1 (1d6+1)",fullAttack:"Bton +1 (1d6+1)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Rayon de givre (+3 contact dist, 1d3 froid)"],specialQualities:["Science acadmique (+2 Connaissances Arcanes)"],abilities:{str:12,dex:14,con:12,int:15,wis:10,cha:8},skills:"Connaissances (arcanes) +9, Art de la magie +6, Discrtion +6, Concentration +5",feats:["Science de l'initiative","criture de parchemins","Robustesse"],tactics:"Reste derrire les brutes. Lance Armure de mage.",loot:"Broche de Nyx, parchemin de Rayon affaiblissant.",isEnemy:!0,antagonist:null,role:"tudiant dsespr et manipul.",details:["Motivation : Retrouver sa place  l'Universit via Thade.","Attitude : Terrifi, transpire abondamment.","Usage : Pivot de l'enqute du Cimetire."],tactical:{bookReference:"Scnario 1  Acte 1",scenarioContext:"Embuscade au cimetire.",spells:[{name:"Armure de mage",details:"CA passe  16."},{name:"Projectile magique",details:"1d4+1 dgts."}],specialActions:[],tacticFeats:["Science de l'initiative"],tacticSummary:"Fuit ds que ses brutes sont vaincues."}},{id:"contremaitre_humain",name:"Varrus",category:"ennemis",class:"Guerrier",lvl:5,size:"Moyen",type:"Humanode (Humain)",alignment:"LE",environment:"Quartier des Mineurs  Place Centrale",organization:"Solitaire (avec 2 gardes)",initiative:"+1",senses:"Dtection +5, Perception auditive +5",languages:"Commun",ac:{total:16,touch:11,flatFooted:15},hp:38,hd:"5d10+10",saves:{fort:"+6",ref:"+2",will:"+2"},speed:"9 m",attack:"Fouet de matre +9 (1d3+4 non ltal)",fullAttack:"Fouet de matre +9 (1d3+4 non ltal)",space:"1,5 m",reach:"4,5 m (allonge du fouet)",specialAttacks:["Dsarmement amlior","Croc-en-jambe (via fouet)"],specialQualities:["Autorit Tyranique (+2 Intimidation)"],abilities:{str:14,dex:12,con:14,int:12,wis:10,cha:14},skills:"Intimidation +10, Psychologie +6, Profession (contrematre) +8, Dtection +5",feats:["Maniement du fouet","Expertise du combat","Science du dsarmement","Robustesse","Arme de prdilection (fouet)","Spcialisation martiale (fouet)"],tactics:"Reste derrire ses gardes, utilise son fouet.",loot:"Fouet de matre, liste noire des mineurs.",isEnemy:!0,antagonist:null,role:"Tyran local, intermdiaire de Thade.",details:["Motivation : Le profit et le pouvoir sur les mineurs.","Attitude : Mprisant, surtout envers les Nains.","Combat : Prfre humilier plutt que tuer."],tactical:{bookReference:"Bestiaire urbain : Contrematre",scenarioContext:"Conflit social aux mines.",spells:[],specialActions:["Dsarmement"],tacticFeats:["Expertise du combat","Science du dsarmement"],tacticSummary:"Tente de dsarmer le guerrier du groupe pour le ridiculiser."}},{id:"patrouille_mixte_conseil",name:"Patrouille Mixte",category:"ennemis",class:"Guerrier",lvl:4,size:"Moyen",type:"Humanode (Humain/Nain)",alignment:"LN",environment:"Quartier des Mineurs",organization:"Escouade (4 gardes)",initiative:"+0",senses:"Vision dans le noir 18 m, Dtection +5, Perception auditive +5",languages:"Commun, Nain",ac:{total:17,touch:10,flatFooted:17},hp:34,hd:"4d10+12",saves:{fort:"+7",ref:"+1",will:"+1"},speed:"6 m",attack:"Hallebarde +8 (1d10+5, x3)",fullAttack:"Hallebarde +8 (1d10+5, x3)",space:"1,5 m",reach:"3 m",specialAttacks:["Formation Mur de Hallebardes (+2 CA si adjacents)"],specialQualities:["Stabilit (Nains de la patrouille)"],abilities:{str:15,dex:10,con:16,int:10,wis:10,cha:10},skills:"Dtection +5, Intimidation +6, Psychologie +4",feats:["Robustesse","Arme de prdilection (hallebarde)","Attaque en puissance","Spcialisation martiale (hallebarde)","Enchanement"],tactics:"Barricadent les ruelles, utilisent l'allonge.",loot:"Uniforme du Conseil, cristal relais.",isEnemy:!0,antagonist:null,role:"Force de frappe composite du Conseil.",details:["Motivation : Maintenir l'ordre (ou ce qu'ils croient tre l'ordre).","Attitude : Discipline, refusent de discuter.","Usage : Obstacle tactique lors des meutes."],tactical:{bookReference:"Manuel des Monstres : Garde",scenarioContext:"Contrle des foules et barrages routiers.",spells:[],specialActions:["Formation Mur"],tacticFeats:["Attaque en puissance"],tacticSummary:"Utilisent l'allonge pour frapper sans tre touchs."}},{id:"garde_portail_mine",name:"Garde du Portail",category:"ennemis",class:"Guerrier",lvl:3,size:"Moyen",type:"Humanode (Humain)",alignment:"N",environment:"Entre de la Mine",organization:"Groupe (3-5)",initiative:"+1",senses:"Dtection +5, Perception auditive +5",languages:"Commun",ac:{total:16,touch:11,flatFooted:15},hp:23,hd:"3d10+6",saves:{fort:"+5",ref:"+2",will:"+1"},speed:"9 m",attack:"pe courte de matre +7 (1d6+2)",fullAttack:"pe courte de matre +7 (1d6+2)",space:"1,5 m",reach:"1,5 m",specialAttacks:[],specialQualities:[],abilities:{str:14,dex:12,con:14,int:10,wis:10,cha:10},skills:"Psychologie +4, Dtection +5, Intimidation +4",feats:["Vigilance","Arme de prdilection (pe courte)","Robustesse","Esquive","Attaque en puissance"],tactics:"Dfensive stricte. Ne frappent que si on force le passage.",loot:"Cls du treuil, sceau falsifi.",isEnemy:!0,antagonist:null,role:"Soldats chargs de verrouiller l'accs.",details:["Motivation : Finir leur tour de garde sans incident.","Attitude : Fatigue, nerveuse.","Indice : Leurs ordres portent un cachet de cire noire inhabituel."],tactical:{bookReference:"Manuel des Monstres : Soldat",scenarioContext:"Garde statique de points stratgiques.",spells:[],specialActions:["Dfense totale"],tacticFeats:["Esquive"],tacticSummary:"Se concentrent sur la dfense totale pour gagner du temps."}},{id:"magi_tuteur_loyal",name:"Matre Arcaniste",category:"ennemis",class:"Magicien",lvl:9,size:"Moyen",type:"Humanode (Humain)",alignment:"LN",environment:"Tour des Mages",organization:"Solitaire",initiative:"+6",senses:"Dtection de la magie, Vision dans le noir, Dtection +5",languages:"Commun, Draconique, Abyssal",ac:{total:18,touch:12,flatFooted:16},hp:40,hd:"9d4+18",saves:{fort:"+5",ref:"+5",will:"+8"},speed:"9 m",attack:"Bton de dfense +5 (1d6+1)",fullAttack:"Bton de dfense +5 (1d6+1)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Rayon Arcanique (NLS 9, 4d6 force)","Sorts de Magicien (vocation/Abjuration)"],specialQualities:["Glyphes de Renvoi (1/rd, niveau 3 max)","Lien avec la Tour (+2 aux JS dans la Tour)"],abilities:{str:10,dex:14,con:14,int:18,wis:12,cha:12},skills:"Art de la magie +16, Connaissances (arcanes) +16, Concentration +14, Intimidation +10",feats:["cole renforce (vocation)","Vigilance","Science de l'initiative","criture de parchemins","Extension de dure","Quintessence des sorts","Magie de guerre"],tactics:"Dclenche ses glyphes, reste  distance.",loot:"Bton de dfense, parchemins de Dissipation.",isEnemy:!0,antagonist:null,role:"Gardien du savoir rest fidle  l'ancienne guilde.",details:["Motivation : Empcher les intrus de souiller la Tour.","Attitude : Arrogante, ne tolre aucune ignorance.","Usage : Mini-boss de l'acte 3."],tactical:{bookReference:"Manuel des Joueurs : Magicien 9",scenarioContext:"Dfense de la Tour des Mages.",spells:[{name:"Bouclier de feu",details:"Dgts aux attaquants au corps  corps."},{name:"Tempte de grle",details:"3d6 impact, 2d6 froid."},{name:"Mur de force",details:"Bloque les lignes de vue et d'effet."},{name:"Cne de froid",details:"9d6 dgts de froid (Reflexe moiti)."}],specialActions:["Glyphes de Renvoi"],tacticFeats:["cole renforce (vocation)"],tacticSummary:"Active ses dfenses puis bombarde avec des sorts de zone."}},{id:"chef_bandes_ruelles",name:"Rask, Chef de Bande",category:"ennemis",class:"Roublard",lvl:3,size:"Moyen",type:"Humanode (Humain)",alignment:"CN",environment:"Vieille Ville",organization:"Bande (Rask + 3-6 voyous)",initiative:"+2",senses:"Dtection +6",languages:"Commun, Argot",ac:{total:16,touch:12,flatFooted:14},hp:30,hd:"4d10+8",saves:{fort:"+5",ref:"+3",will:"+2"},speed:"9 m",attack:"Cimeterre +8 (1d6+3, 18-20/x2)",fullAttack:"Cimeterre +8 (1d6+3, 18-20/x2)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Appel de la Bande (Voyou supplmentaire arrive en 1d4 tours si en ville)"],specialQualities:["Intimidation de Rue (+2 Intimidation en milieu urbain)"],abilities:{str:14,dex:14,con:14,int:10,wis:10,cha:12},skills:"Intimidation +8, Dtection +6, Collecte d'Infos +6",feats:["Attaque en Puissance","Science de l'Initiative"],tactics:"Cherche lavantage numrique, frappe vite puis se replie si lopposition est solide.",loot:"Bourse de racket, cimeterre brch.",isEnemy:!0,antagonist:null,role:"Petit seigneur du crime local.",details:["Motivation : Contrler les ruelles et racketter les marchands.","Attitude : Arrogant, dteste qu'on lui marche sur les pieds.","Usage : Antagoniste rcurrent ou alli forc contre une menace plus grande."],tactical:{bookReference:"Guide du Matre : Roublard",scenarioContext:"Ruelle sombre.",spells:[],specialActions:["Appel de la Bande"],tacticFeats:["Attaque en Puissance"],tacticSummary:"Submerge les PJ sous le nombre de ses sbires."}},{id:"kaelen_vampire",name:"Kaelen, Vampire des gouts",category:"ennemis",class:"Magicien",lvl:8,size:"Moyen",type:"Mort-vivant",alignment:"CM",environment:"gouts de Val-d'Ombre",organization:"Solitaire",initiative:"+7",senses:"Vision dans le noir 18 m, Dtection +14",languages:"Commun, Draconique, Infernal",ac:{total:21,touch:13,flatFooted:18},hp:68,hd:"8d12+16",saves:{fort:"+4",ref:"+9",will:"+6"},speed:"9 m, escalade 9 m",attack:"Coup +11 (1d6+6 plus Drain de Niveau)",fullAttack:"2 coups +11 (1d6+6 plus Drain de Niveau)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Drain de Niveau (1 niveau, Vol. DD 18 annule)","Domination (3/j, Vol. DD 17)"],specialQualities:["RD 10/argent et magie","RM 15","Rgnration 5 (sauf feu/acide)","Forme Gazeuse (Brume)","Rsistance Froid/lectricit 10"],abilities:{str:22,dex:16,con:0,int:14,wis:14,cha:18},skills:"Discrtion +14, Dtection +14, Acrobaties +12, Intimidation +14",feats:["Science de l'Initiative","Attaque en Puissance","Robustesse","Esquive"],tactics:"Chasse isolment, frappe puis se change en brume si bless ; use de domination pour recruter des goules.",loot:"Cape sombre, anneau d'opacit, notes sur la Spirale.",isEnemy:!0,antagonist:!0,role:"Vampire mage, dernier rempart avant le sommet.",details:["Protecteur loyal de Thade, espre l'immortalit via la Spirale.","Contrle des nues d'ombres et des contre-sorts.","Peut tre retourn par la promesse d'un pouvoir indpendant de Thade."],tactical:{bookReference:"Manuel des Monstres : Vampire",scenarioContext:"Boss de fin de donjon (gouts).",spells:[],specialActions:["Domination","Forme Gazeuse"],tacticFeats:["Attaque en Puissance"],tacticSummary:"Utilise Domination sur le guerrier, puis draine les niveaux des lanceurs de sorts."}},{id:"ilse_nyx",name:"Ilse von Reiner",category:"ennemis",class:"Magicienne (Apprentie de Thade)",lvl:3,size:"Moyen",type:"Humanode (Humaine)",alignment:"Neutre Mauvais",environment:"Laboratoire clandestin du Manoir Van Kel",organization:"Cercle des tudiants de Coren",initiative:"+2",senses:"Perception +3",languages:"Commun, Draconique",ac:{total:12,touch:12,flatFooted:10},hp:16,hd:"3d4+6",saves:{fort:"+3",ref:"+3",will:"+4"},speed:"9 m",attack:"Scalpel d'argent +2 (1d4-1)",fullAttack:"Scalpel d'argent +2 (1d4-1)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Sorts de Magicien (NLS 3)"],specialQualities:["Lien arcanique (Objet : Scalpel d'argent)"],abilities:{str:8,dex:14,con:14,int:16,wis:12,cha:10},skills:"Art de la magie +9, Concentration +8, Connaissances (arcanes) +9, Premiers secours +5",feats:["cole renforce (Ncromancie)","Esprit d'quipe"],tactics:"Lance Armure de mage ds qu'elle entend les PJ arriver. Utilise Rayon affaiblissant sur le combattant le plus fort, puis Projectile Magique pour garantir des dgts.",loot:"Scalpel de prcision (Dague en argent), Notes de recherche taches, Bourse (40 po), Cl d'un coffre  composants.",isEnemy:!0,antagonist:!0,role:"tudiante sacrifie par Thade.",details:["Motivation : Finir le rituel de rsurection de Jaren  la demande de Thade.","Attitude : Instable, parle seule, mains tremblantes. Elle semble plus terrifie par un chec que par la mort.","Signe distinctif : Porte son uniforme de l'universit, impeccablement boutonn malgr les taches de sang."],tactical:{bookReference:"Manuel des Joueurs",scenarioContext:"Scne 1 de l'Acte 4. Elle tente d'empcher les PJ d'interrompre son invocation.",spells:[{name:"Armure de mage",details:"+4 CA (pr-lanc)."},{name:"Rayon affaiblissant",details:"Attaque contact dist., -1d6+1 Force."},{name:"Projectile magique",details:"2 projectiles, 1d4+1 dgts chacun."},{name:"Toucher glacial",details:"1d6 dgts + Frisson."}],specialActions:["Appel  l'aide (Action simple) : Rveille 2 Squelettes Instables qui sortent des fosses de stockage."],tacticSummary:"Elle garde ses distances.  cause des sceaux de silence imposs par Thade, elle ne peut rien rvler. Elle combattra jusqu' la mort, sa peur du Matre surpassant son instinct de survie."}}],A2=_2.map(i=>yc(i)),C2=[{id:"rat_geat_spirale",name:"Rat Gant de la Spirale",size:"Petit",type:"Animal",alignment:"N",fp:"1/8",environnement:"gouts, Zones de dchets",organisation:"Horde (10-20)",ini:"+3",sens:"Vision nocturne, Odorat",ca:"15 (+1 T, +3 Dex, +1 Nat.) ; contact 14, pris au dpourvu 12",pv:5,dv:"1d8+1",js:{vig:"+3",ref:"+5",vol:"+1"},vit:"12 m, escalade 6 m",abb:"+0",grp:"-4",attaque:"Morsure +4 (1d4 plus maladie)",att_complete:"Morsure +4 (1d4 plus maladie)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Maladie (Fivre des gouts, Vig DD 12)"],qual_sp:["Vision nocturne"],carac:{for:10,dex:17,con:12,int:2,sag:12,cha:4},comptences:"Discrtion +8, Escalade +10, Dtection +4",dons:"Attaque en finesse",tactiques:"Attaque en masse, fuit le feu.",butin:"Aucun",est_ennemi:!0,role:"Nuisible agressif corrompu par la magie.",details:["Attaque  vue.","Porteur de maladies.","Yeux luisants d'une lueur violette."],tactical:{bookReference:"Manuel des Monstres : Rat",scenarioContext:"Rencontre alatoire gouts.",spells:[],specialActions:["Maladie"],tacticFeats:["Attaque en finesse"],tacticSummary:"Submerge par le nombre, vise les cibles au sol."}},{id:"mendiant_hante",name:"Mendiant Hant",size:"Moyen",type:"Mort-vivant",alignment:"CN",fp:"1/6",environnement:"Vieille Ville",organisation:"Solitaire ou foule (4-8)",ini:"+0",sens:"Dtection +0",ca:"10 ; contact 10, pris au dpourvu 10",pv:4,dv:"1d8",js:{vig:"+0",ref:"+0",vol:"-1"},vit:"9 m",abb:"+0",grp:"+0",attaque:"Coup dsespr +0 (1d3 non ltal)",att_complete:"Coup dsespr +0 (1d3 non ltal)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Folie (Immunis  la terreur)"],carac:{for:10,dex:10,con:10,int:9,sag:8,cha:8},comptences:"Discrtion +2",dons:"Endurance",tactiques:"S'accroche aux PJ, hurle, n'attaque que si provoqu ou contrl.",butin:"Guenilles, 1d6 pc",est_ennemi:!1,role:"Victime collatrale de la Spirale.",details:["Marmonne des prophties incohrentes.","Inoffensif sauf si accul.","Peut donner des indices cryptiques."],tactical:{bookReference:"Guide du Matre : PNJ",scenarioContext:"Ambiance rue.",spells:[],specialActions:[],tacticFeats:["Endurance"],tacticSummary:"Fuit ou s'agrippe aux PJ pour les ralentir."}},{id:"kobold_mineur",name:"Kobold Mineur",size:"Petit",type:"Humanode (Reptilien)",alignment:"LM",fp:"1/4",environnement:"Mines profondes",organisation:"quipe (4-8)",ini:"+1",sens:"Vision dans le noir 18 m",ca:"15 (+1 T, +1 Dex, +2 Cuir, +1 Nat.) ; contact 12, pris au dpourvu 14",pv:4,dv:"1d8",js:{vig:"+0",ref:"+1",vol:"+2"},vit:"9 m",abb:"+1",grp:"-3",attaque:"Pic de mineur +2 (1d4-1)",att_complete:"Pic de mineur +2 (1d4-1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Sensibilit  la lumire"],carac:{for:9,dex:13,con:10,int:10,sag:10,cha:8},comptences:"Artisanat (piges) +4, Dtection +2, Fouille +4",dons:"Vigilance",tactiques:"Attire les ennemis vers des piges, lance des cailloux.",butin:"Outils de mineur, ppites de cuivre",est_ennemi:!0,role:"Ouvrier esclave ou serviteur zl.",details:["Dteste les gnomes.","Adore les piges.","Craint la lumire."],tactical:{bookReference:"Manuel des Monstres : Kobold",scenarioContext:"Mines profondes.",spells:[],specialActions:[],tacticFeats:["Vigilance"],tacticSummary:"Attire les PJ dans les zones piges avant d'attaquer."}},{id:"brutes_cimetiere",name:"Homme d'arme du cimetire",class:"Homme d'armes",size:"Moyen",type:"Humanode (Humain)",alignment:"N",lvl:"1",environnement:"cimetiere_terrasse",organisation:"Patrouille (3-6) ou Garde (1-2)",ini:"+0",sens:"Dtection +1",ca:"13 (+2 Cuir clout, +1 cu de bois) ; contact 10, pris au dpourvu 13",pv:6,dv:"1d8+1",js:{vig:"+3",ref:"+0",vol:"+0"},vit:"9 m",abb:"+1",grp:"+2",attaque:"Gourdin +2 (1d6+1)",att_complete:"Gourdin +2 (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:13,dex:11,con:12,int:9,sag:10,cha:8},comptences:"Intimidation +2, Dtection +1",dons:"Vigueur surhumaine",tactiques:"Obit aux ordres ; reste en formation ; fuit si son chef meurt.",butin:"Gourdin, armure de cuir clout, bouclier, 1d4 pa",est_ennemi:!0,role:"Garde de bas tage.",details:["Superstitieux.","Mal pay.","Craint les morts-vivants qu'il garde."],tactical:{bookReference:"Manuel des Monstres : Homme d'armes",scenarioContext:"Cimetire.",spells:[],specialActions:[],tacticFeats:["Vigueur surhumaine"],tacticSummary:"Reste group et protge l'entre."}},{id:"gobelin_ferrailleur",name:"Gobelin Ferrailleur",size:"Petit",type:"Humanode (Gobelinode)",alignment:"NM",fp:"1/3",environnement:"Dcharges, Ruines",organisation:"Bande (4-9)",ini:"+2",sens:"Vision dans le noir 18 m",ca:"15 (+1 T, +2 Dex, +2 Cuir) ; contact 13, pris au dpourvu 13",pv:5,dv:"1d8+1",js:{vig:"+3",ref:"+2",vol:"-1"},vit:"9 m",abb:"+1",grp:"-3",attaque:"Couteau rouill +3 (1d3)",att_complete:"Couteau rouill +3 (1d3)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Dplacement silencieux +4"],carac:{for:11,dex:15,con:12,int:10,sag:9,cha:6},comptences:"Discrtion +6, Dtection +2, Escamotage +4",dons:"Esquive",tactiques:"Vole des objets et s'enfuit, tend des embuscades lches.",butin:"Objets vols htroclites, ferraille",est_ennemi:!0,role:"Pillard opportuniste.",details:["Collectionne les dchets brillants.","Lche.","Vit dans les ruines."],tactical:{bookReference:"Manuel des Monstres : Gobelin",scenarioContext:"Ruines et dcharges.",spells:[],specialActions:[],tacticFeats:["Esquive"],tacticSummary:"Attaque  distance puis fuit pour se cacher."}},{id:"zombie_mineur",name:"Zombie Putrfi",size:"Moyen",type:"Mort-vivant",alignment:"NM",fp:"1/2",environnement:"Cimetire, gouts",organisation:"Horde (6-12)",ini:"-1",sens:"Vision dans le noir 18 m",ca:"11 (-1 Dex, +2 Nat.) ; contact 9, pris au dpourvu 11",pv:12,dv:"2d12+3",js:{vig:"+0",ref:"-1",vol:"+3"},vit:"9 m (ne court pas)",abb:"+1",grp:"+2",attaque:"Coup +2 (1d6+1)",att_complete:"Coup +2 (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Rduction des dgts 5/Tranchant","Immunits des morts-vivants"],carac:{for:13,dex:8,con:"-",int:"-",sag:10,cha:1},comptences:"",dons:"Robustesse",tactiques:"Avance implacablement, ne fuit jamais.",butin:"Aucun",est_ennemi:!0,role:"Cadavre anim sans volont.",details:["Ancien mineur.","Odeur pestilentielle.","Ne ressent pas la douleur."],tactical:{bookReference:"Manuel des Monstres : Zombie",scenarioContext:"Zones corrompues.",spells:[],specialActions:[],tacticFeats:["Robustesse"],tacticSummary:"Charge la cible la plus proche sans rflchir."}},{id:"milicien_valdombre",name:"Milicien de Val-d'Ombre",class:"Guerrier",size:"Moyen",type:"Humanode (Humain)",alignment:"LN",lvl:"1",environnement:"Ville",organisation:"Patrouille (2-4)",ini:"+1",sens:"Dtection +2",ca:"16 (+1 Dex, +4 Broigne, +1 Rondache) ; contact 11, pris au dpourvu 15",pv:9,dv:"1d10+1",js:{vig:"+3",ref:"+1",vol:"+0"},vit:"6 m",abb:"+1",grp:"+2",attaque:"pe longue +2 (1d8+1)",att_complete:"pe longue +2 (1d8+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:[],carac:{for:13,dex:12,con:12,int:10,sag:10,cha:10},comptences:"Intimidation +4, Dtection +2, Psychologie +2",dons:"Arme de prdilection (pe longue), Vigilance",tactiques:"Coordonne ses attaques, appelle la garde d'lite si dbord.",butin:"pe longue, broigne, sifflet",est_ennemi:!1,role:"Dfenseur citoyen.",details:["Brassard de la ville.","Connat les rues.","Peut appeler de l'aide."],tactical:{bookReference:"Guide du Matre : Guerrier",scenarioContext:"Patrouille urbaine.",spells:[],specialActions:[],tacticFeats:["Vigilance"],tacticSummary:"Dfense coordonne, utilise le sifflet d'alarme."}},{id:"acolyte_cabale",name:"Acolyte de la Cabale",class:"Adepte",size:"Moyen",type:"Humanode (Humain)",alignment:"NM",lvl:"1",environnement:"Tour des mages",organisation:"Solitaire ou Duo",ini:"+2",sens:"Dtection +1",ca:"12 (+2 Dex) ; contact 12, pris au dpourvu 10",pv:7,dv:"2d4+2",js:{vig:"+1",ref:"+2",vol:"+4"},vit:"9 m",abb:"+1",grp:"+0",attaque:"Dague +1 (1d4-1)",att_complete:"Dague +1 (1d4-1)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts (Niveau 1: Projectile magique, Armure de mage)"],qual_sp:[],carac:{for:8,dex:14,con:12,int:15,sag:12,cha:10},comptences:"Concentration +5, Art de la magie +6",dons:"cole renforce (vocation), Magie de guerre",tactiques:"Reste  distance, lance ses sorts puis fuit.",butin:"Parchemin niveau 1, composantes de sort",est_ennemi:!0,role:"Apprenti mage ambitieux.",details:["Robe sombre.","Tatouages arcaniques.","Regard fanatique."],tactical:{bookReference:"Manuel des Joueurs : Magicien",scenarioContext:"Tour des mages.",spells:[{name:"Projectile magique",details:"1d4+1 dgts"}],specialActions:[],tacticFeats:["Magie de guerre"],tacticSummary:"Vide ses sorts  distance puis tente de fuir."}},{id:"squelettes_nains_gardiens",name:"Squelette Nain Gardien",size:"Moyen",type:"Mort-vivant",alignment:"NM",fp:1,environnement:"Souterrains, Cryptes",organisation:"Binme",ini:"+5",sens:"Vision dans le noir 18 m",ca:"16 (+1 Dex, +3 Cuir clout, +2 Naturelle) ; contact 11, pris au dpourvu 15",pv:13,dv:"2d12",js:{vig:"+0",ref:"+1",vol:"+3"},vit:"9 m",abb:"+1",grp:"+2",attaque:"Hache de guerre naine +3 (1d10+1, x3)",att_complete:"Hache de guerre naine +3 (1d10+1, x3)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Rduction des dgts 5/Contondant","Immunit au froid","Traits des morts-vivants"],carac:{for:13,dex:13,con:"-",int:"-",sag:10,cha:1},comptences:"",dons:"Science de l'initiative",tactiques:"Attaque sans peur, bloque le passage.",butin:"Hache de guerre naine, restes d'armure.",est_ennemi:!0,role:"Gardien ternel.",details:["Anciens guerriers du clan.","Os gravs de runes.","Yeux luisants violets (magie de Thade)."],tactical:{bookReference:"Manuel des Monstres : Squelette",scenarioContext:"Gardiens de la porte du manoir.",spells:[],specialActions:[],tacticFeats:["Science de l'initiative"],tacticSummary:"Reste en position dfensive devant la porte."}},{id:"squelette_Instable",name:"Squelette Instable",size:"Moyen",type:"Mort-vivant",alignment:"NM",fp:"1/10",environnement:"N'importe quel",organisation:"Horde (4-12)",ini:"+5",sens:"Vision dans le noir 18 m",ca:"13 (+1 Dex, +2 Nat.) ; contact 11, pris au dpourvu 12",pv:3,dv:"1/2 d12",js:{vig:"+0",ref:"+1",vol:"+1"},vit:"9 m",abb:"+0",grp:"+1",attaque:"Griffe +1 (1d4+1)",att_complete:"2 Griffes +1 (1d4+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Rduction des dgts 5/Contondant","Immunit au froid","Traits des morts-vivants"],carac:{for:13,dex:13,con:"-",int:"-",sag:10,cha:1},comptences:"",dons:"Science de l'initiative",tactiques:"Attaque aveuglment la crature la plus proche (ami ou ennemi).",butin:"Aucun",est_ennemi:!1,role:"Chair  canon sans esprit.",details:["Os blanchis et craquels.","Aucune lueur d'intelligence.","S'anime par magie instable."],tactical:{bookReference:"Manuel des Monstres : Squelette",scenarioContext:"Invocation accidentelle.",spells:[],specialActions:[],tacticFeats:["Science de l'initiative"],tacticSummary:"Attaque la cible la plus proche."}},{id:"sniv_kobold",name:"Sniv",size:"Petite",type:"Humanode (Reptilien)",alignment:"Neutre Mauvais",fp:"1/4",environnement:"gouts, Sous-sols",organisation:"Solitaire (Traumatis)",ini:"+1",sens:"Vision dans le noir 18 m, Sensibilit  la lumire",ca:"13 (+1 T, +1 Dex, +1 Naturelle) ; contact 12, pris au dpourvu 12",pv:4,dv:"1d8",js:{vig:"+2",ref:"+1",vol:"+0"},vit:"9 m",abb:"+1",grp:"-4",attaque:"Griffes +1 (1d3-1)",att_complete:"2 Griffes +1 (1d3-1)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Connaissance des gouts (+4 aux jets de Survie dans ce lieu)"],carac:{for:8,dex:13,con:10,int:10,sag:10,cha:8},comptences:"Discrtion +8, Artisanat (piges) +4, Fouille +2, Survie +4",dons:"Alerte",tactiques:"Ne combat jamais. Se cache dans les conduits et supplie pour sa vie.",butin:"Un morceau de fromage rance, une cl en laiton ternie, des babioles sans valeur.",est_ennemi:!1,role:"Tmoin cl et guide rticent.",details:["Ignore la mort de Jaren (pense qu'il se cache).","Pense que ses frres 'chantent' dans la spirale.","Terrifi par Kaela (la femme aux yeux fous)."],tactical:{bookReference:"Manuel des Monstres : Kobold (Variante)",scenarioContext:"gouts sous le manoir.",spells:[],specialActions:["Rvlation de passage drob","Dsamorage de pige"],tacticFeats:["Alerte"],tacticSummary:"Se recroqueville en boule et donne des informations en change de nourriture ou de scurit."}}],q2=[{id:"charognard_errant",name:"Charognard Errant",size:"Moyen",type:"Extrieur (Chaos)",alignment:"CN",fp:2,environnement:"Spirale  Zone de Dchets",organisation:"Solitaire ou meute (2-4)",ini:"+1",sens:"Vision dans le noir 18 m, Odorat",ca:"15 (+1 Dex, +4 Nat.) ; contact 11, pris au dpourvu 14",pv:22,dv:"3d8+9",js:{vig:"+5",ref:"+4",vol:"+2"},vit:"9 m (6 c.) ; escalade 6 m",abb:"+3",grp:"+6",attaque:"Morsure +6 (1d6+3)",att_complete:"Morsure +6 (1d6+3) et 2 griffes +1 (1d4+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Charge Instable (Vig. DD 15 ou renvers sur terrain bris)"],qual_sp:["Camouflage d'boulis (+4 Discrtion dans les gravats)"],carac:{for:16,dex:12,con:16,int:4,sag:12,cha:6},comptences:"Dtection +6, Discrtion +6, Survie +4",dons:"Vigilance, Attaque en Puissance",tactiques:"Charge les isols, profite des effondrements pour sparer le groupe ; fuit  < 30% PV.",butin:"clats cristallins souills (alchimie mineure), chair instable.",est_ennemi:!0,role:"Prdateur opportuniste attir par la chair frache.",details:["Utilise les effondrements  son avantage.","Fuit si bless ou si la gravit se retourne.","Prsage des dangers naturels de la Spirale."],tactical:{bookReference:"Manuel des Monstres",scenarioContext:"Dsolation de la Spirale.",spells:[],specialActions:["Charge Instable"],tacticFeats:["Attaque en Puissance"],tacticSummary:"Charge les cibles isoles pour les renverser."}},{id:"cultiste_spirale",name:"Initi du Culte de la Spirale",class:"Adepte",size:"Moyen",type:"Humanode (Humain)",alignment:"CM",lvl:"2",environnement:"Sous-sols, Lieux abandonns",organisation:"Cellule (3-6)",ini:"+1",sens:"Dtection +3",ca:"14 (+1 Dex, +3 Armure de cuir clout) ; contact 11, pris au dpourvu 13",pv:13,dv:"2d8+4",js:{vig:"+4",ref:"+1",vol:"+4"},vit:"9 m",abb:"+1",grp:"+2",attaque:"Faucille +3 (1d6+1)",att_complete:"Faucille +3 (1d6+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts (Niv 1: Frayeur, Blessure lgre, Bndiction)"],qual_sp:["Dvotion fanatique (+2 JS Volont contre charme/terreur)"],carac:{for:12,dex:12,con:14,int:10,sag:15,cha:8},comptences:"Concentration +7, Connaissance (religion) +5",dons:"Arme de prdilection (Faucille), Incantation de combat",tactiques:"Combat jusqu' la mort, lance Frayeur en premier.",butin:"Symbole de la spirale en fer noir, parchemins impies.",est_ennemi:!0,role:"Fanatique sacrifiable.",details:["Symbole cach.","Dvouement aveugle.","Dangereux en groupe."],tactical:{bookReference:"Manuel des Joueurs : Adepte",scenarioContext:"Culte secret.",spells:[{name:"Frayeur",details:"DD 13"}],specialActions:[],tacticFeats:["Incantation de combat"],tacticSummary:"Lance des sorts de peur avant de charger."}},{id:"garde_temple",name:"Garde du Temple",class:"Guerrier",lvl:2,size:"Moyen",type:"Humanode (Nain)",alignment:"LN",fp:2,environnement:"Temple-Forgeron",organisation:"Binme ou Escouade (2-4)",ini:"+0",sens:"Vision dans le noir 18 m, Dtection +2 (+4 pierre)",ca:"18 (+6 Clibanion, +2 Bouclier) ; contact 10, pris au dpourvu 18",pv:24,dv:"2d10+9",js:{vig:"+6",ref:"+0",vol:"+1"},vit:"6 m",abb:"+2",grp:"+4",attaque:"Hache de guerre naine +5 (1d10+2/x3)",att_complete:"Hache de guerre naine +5 (1d10+2/x3)",espace:"1,5 m",allonge:"1,5 m",att_sp:[],qual_sp:["Traits des Nains","Stabilit","Connaissance de la pierre"],carac:{for:15,dex:10,con:16,int:10,sag:12,cha:8},comptences:"Dtection +2, Intimidation +3, Artisanat (pierre) +2",dons:"Arme de prdilection (Hache de guerre naine), Robustesse, Attaque en puissance",tactiques:"Forme un mur de boucliers autour de Korgan ou des prtres. Utilise l'action 'Aider un autre' pour augmenter la CA des allis adjacents.",butin:"Hache de guerre naine, Clibanion, Bouclier lourd en acier, Sceau mineur du Temple.",est_ennemi:!1,role:"Soldat disciplin, extension de la volont de Korgan."},{id:"loup_mutant",name:"Loup des Dchets",size:"Moyen",type:"Animal (Crature magique)",alignment:"N",fp:2,environnement:"Zones de dchets, Priphrie",organisation:"Meute (2-5)",ini:"+2",sens:"Vision dans le noir 18 m, Odorat, Vision nocturne",ca:"14 (+2 Dex, +2 Nat.) ; contact 12, pris au dpourvu 12",pv:19,dv:"3d8+6",js:{vig:"+5",ref:"+5",vol:"+2"},vit:"15 m",abb:"+2",grp:"+4",attaque:"Morsure +5 (1d6+3 plus Croc-en-jambe)",att_complete:"Morsure +5 (1d6+3 plus Croc-en-jambe)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Croc-en-jambe (Action libre si morsure touche)"],qual_sp:["Pelage Camlon (+4 Discrtion dans les dchets)"],carac:{for:15,dex:15,con:15,int:2,sag:12,cha:6},comptences:"Discrtion +6, Dtection +4, Survie +2",dons:"Arme de prdilection (Morsure), Pistage",tactiques:"Encercle la proie, vise les jambes pour renverser.",butin:"Peau malade (sans valeur), dents acres.",est_ennemi:!0,role:"Bte mutante.",details:["Fourrure mite.","Yeux multiples.","Agressif."],tactical:{bookReference:"Manuel des Monstres : Loup",scenarioContext:"Extrieur.",spells:[],specialActions:["Croc-en-jambe"],tacticFeats:["Pistage"],tacticSummary:"Attaque en meute et tente de renverser les cibles."}},{id:"garde_tour_mages",name:"Garde Arcanique",class:"Guerrier",size:"Moyen",type:"Humanode (Humain)",alignment:"LN",lvl:"2",environnement:"Quartier du Savoir, Tour des Mages",organisation:"Binme",ini:"+1",sens:"Dtection +2",ca:"16 (+1 Dex, +4 Chemise de mailles, +1 Targe) ; contact 11, pris au dpourvu 15",pv:16,dv:"2d10+2",js:{vig:"+4",ref:"+1",vol:"+1"},vit:"9 m",abb:"+2",grp:"+4",attaque:"Hallebarde +5 (1d10+3, x3)",att_complete:"Hallebarde +5 (1d10+3, x3)",espace:"1,5 m",allonge:"3 m (Hallebarde)",att_sp:[],qual_sp:["Rsistance  la magie mineure (+1 JS contre sorts)"],carac:{for:16,dex:12,con:13,int:10,sag:12,cha:10},comptences:"Intimidation +5, Dtection +2, Connaissance (arcane) +2",dons:"Arme de prdilection (Hallebarde), Robustesse",tactiques:"Tient la ligne, frappe fort avec la hallebarde.",butin:"Hallebarde, chemise de mailles, sifflet d'alarme.",est_ennemi:!1,role:"Sentinelle magique.",details:["Armure grave de runes.","Silencieux.","Discipline de fer."],tactical:{bookReference:"Manuel des Monstres : Guerrier",scenarioContext:"Tour des Mages.",spells:[],specialActions:[],tacticFeats:["Robustesse"],tacticSummary:"Bloque le passage et utilise son allonge."}}],j2=[{id:"cube_nettoyeur",name:"Cube Nettoyeur de Mine",size:"Grand",type:"Amoebode",alignment:"N",fp:3,environnement:"Mines et tunnels abandonns",organisation:"Solitaire",ini:"-5",sens:"Vision dans le noir 18 m",ca:"12 (-1 T, -5 Dex, +8 Nat.) ; contact 4, pris au dpourvu 12",pv:39,dv:"6d10+6",js:{vig:"+3",ref:"-3",vol:"-2"},vit:"3 m (2 c.)",abb:"+4",grp:"+12",attaque:"Coup +8 (1d6+4 plus Absorption)",att_complete:"Coup +8 (1d6+4 plus Absorption)",espace:"3 m",allonge:"3 m",att_sp:["Absorption (Paralysie 1d3 tours, 1d6 acide/tour, Rf. DD 14 annule)"],qual_sp:["Immunit aux coups critiques","Vulnrable : lectricit/Tonnerre (dgts +50%)"],carac:{for:18,dex:1,con:12,int:0,sag:10,cha:1},comptences:"",dons:"",tactiques:"Avance lentement vers les sources de chaleur/odeur ; pige dans les couloirs troits.",butin:"Fragments mtalliques propres, huile de maintenance concentre.",est_ennemi:!0},{id:"contremaitre_nain_mine",name:"Contrematre Nain des Mines",class:"Expert",size:"Moyen",type:"Humanode (Nain)",alignment:"LB",lvl:"3",environnement:"Profondeurs de la mine",organisation:"Escouade (1 contrematre + 3-6 mineurs)",ini:"0",sens:"Vision dans le noir 18 m, Dtection +7",ca:"17 (+7 Armure) ; contact 10, pris au dpourvu 17",pv:34,dv:"4d10+12",js:{vig:"+7",ref:"+1",vol:"+2"},vit:"6 m (Armure)",abb:"+4",grp:"+7",attaque:"Pioche Lourde +8 (1d8+4, x3)",att_complete:"Pioche Lourde +8 (1d8+4, x3)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Cri dAlarme (+2 moral aux mineurs  9 m 1 tour)"],qual_sp:["Rsistance Naine (+2 JS poison/sorts)","Connaissance des Souterrains (+2 Survie/Dtection (pierre))"],carac:{for:16,dex:10,con:16,int:10,sag:12,cha:10},comptences:"Artisanat (mines) +9, Dtection +7, Survie +6",dons:"Robustesse, Arme de Prdilection (pioche lourde)",tactiques:"Tient la ligne pour protger les mineurs, utilise le cri dalarme pour regrouper.",butin:"Pioche lourde, plan des galeries, lampe  huile robuste.",est_ennemi:!1,role:"Nain pragmatique charg de la scurit des galeries.",details:["Motivation : Renvoyer tout le monde vivant  la surface.","Attitude : Bourru, se mfie des aventuriers trop tmraires.","Info : Connat les zones dj 'maudites' de la mine.","Usage : Guide officieux pour les premires explorations."]},{id:"horreur_chitineuse",name:"Horreur Chitineuse",size:"Moyen",type:"Aberration",alignment:"NM",fp:3,environnement:"Profondeurs de la Spirale",organisation:"Solitaire ou Nid (2-4)",ini:"+3",sens:"Vision dans le noir 18 m, Tremorsense 9 m",ca:"18 (+3 Dex, +5 Naturelle) ; contact 13, pris au dpourvu 15",pv:26,dv:"4d8+8",js:{vig:"+3",ref:"+4",vol:"+5"},vit:"12 m, Escalade 9 m",abb:"+3",grp:"+6",attaque:"Griffe +6 (1d6+3)",att_complete:"2 Griffes +6 (1d6+3) et Morsure +1 (1d4+1 plus venin)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Venin (Vig DD 14, 1d2 Con / 1d2 Con)"],qual_sp:["Rsistance  l'acide 5"],carac:{for:16,dex:17,con:14,int:5,sag:12,cha:8},comptences:"Discrtion +10, Escalade +12, Saut +10",dons:"Attaque en finesse, Attaques multiples",tactiques:"Tombe du plafond sur sa proie, tente de mordre pour affaiblir.",butin:"Carapace dure (artisanat), Glande  venin.",est_ennemi:!0},{id:"disciple_vide",name:"Disciple du Vide",class:"Adepte",size:"Moyen",type:"Humanode (Humain)",alignment:"NM",lvl:"3",environnement:"Temples secrets",organisation:"Groupe (1 disciple + 2-4 initis)",ini:"+2",sens:"Dtection +3",ca:"15 (+2 Dex, +3 Armure de cuir, +1 Anneau) ; contact 12, pris au dpourvu 13",pv:22,dv:"4d6+8",js:{vig:"+3",ref:"+3",vol:"+6"},vit:"9 m",abb:"+2",grp:"+2",attaque:"Dague empoisonne +4 (1d4, 19-20/x2)",att_complete:"Dague empoisonne +4 (1d4, 19-20/x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts (Niv 2: Tnbres, Immobilisation de personne, Ccit)","Regard angoissant (Vol DD 13 ou Secou)"],qual_sp:["Rsistance mentale (+2 JS contre charme)"],carac:{for:10,dex:14,con:14,int:12,sag:16,cha:13},comptences:"Concentration +9, Savoir (Arcane) +8, Psychologie +8",dons:"Incantation de combat, Volont de fer",tactiques:"Lance Tnbres pour dsorienter, vise les lanceurs de sorts.",butin:"Parchemin de Tnbres, Dague de matre, Symbole impie.",est_ennemi:!0},{id:"assassin_guilde",name:"Couteau de l'Ombre",class:"Assassin",size:"Moyen",type:"Humanode (Humain)",alignment:"NM",lvl:"3",environnement:"Ville, Toits",organisation:"Solitaire ou Binme",ini:"+7",sens:"Dtection +6",ca:"16 (+3 Dex, +3 Cuir clout matre) ; contact 13, pris au dpourvu 13",pv:19,dv:"3d6+6",js:{vig:"+3",ref:"+6",vol:"+1"},vit:"9 m",abb:"+2",grp:"+3",attaque:"pe courte +6 (1d6+1, 19-20/x2)",att_complete:"pe courte +6 (1d6+1, 19-20/x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Attaque sournoise +2d6"],qual_sp:["Esquive instinctive"],carac:{for:12,dex:17,con:14,int:13,sag:10,cha:8},comptences:"Discrtion +9, Dplacement silencieux +9, Acrobatie +9, Escalade +7",dons:"Science de l'initiative, Arme de prdilection (pe courte)",tactiques:"Attaque depuis les ombres, vise les cibles isoles, fuit si repr.",butin:"pe courte de matre, poison (2 doses), cape sombre.",est_ennemi:!0},{id:"elementaire_terre_corrompu",name:"lmentaire de Terre Corrompu",size:"Moyen",type:"lmentaire (Terre, Extraplanaire)",alignment:"N",fp:3,environnement:"Souterrains, Spirale",organisation:"Solitaire ou Groupe (2-4)",ini:"-1",sens:"Vision dans le noir 18 m, Perception des vibrations 18 m",ca:"17 (-1 Dex, +8 Naturelle) ; contact 9, pris au dpourvu 17",pv:30,dv:"4d8+12",js:{vig:"+7",ref:"+0",vol:"+1"},vit:"6 m (Terre), 6 m (Creusement)",abb:"+3",grp:"+7",attaque:"Coup +7 (1d8+6)",att_complete:"Coup +7 (1d8+6)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Matrise de la Terre (+1 attaque/dgts si cible au sol)","Pousse (Bousculade sans attaque d'opportunit)"],qual_sp:["Traits des lmentaires","Glissement terrestre","Cur de Cristal (Faiblesse : Critique possible sur 19-20 si vis spcifiquement)"],carac:{for:19,dex:8,con:17,int:4,sag:11,cha:11},comptences:"Dtection +2, Perception auditive +3",dons:"Attaque en puissance, Enchanement",tactiques:"Surgit du sol pour surprendre, frappe violemment. Ne fuit pas.",butin:"clat de cristal violet (50 po), poussire de gemme.",est_ennemi:!0,role:"Gardien involontaire, tortur par la Spirale.",details:["Veines violettes pulsantes.","Hurle silencieusement quand il frappe.","Attir par la magie."],tactical:{bookReference:"Manuel des Monstres : lmentaire de Terre",scenarioContext:"Gardiens de la brche (Scnario 2).",spells:[],specialActions:["Glissement terrestre"],tacticFeats:["Attaque en puissance"],tacticSummary:"Utilise le dcor pour se dplacer et flanquer."}},{id:"jaren_corrompu",name:"Jaren, le Sujet J-01",category:"ennemis",fp:3,size:"Moyen",type:"Mort-vivant (Humain)",alignment:"Neutre Mauvais",environment:"Laboratoire de Thade",organization:"Solitaire (Exprience dlaisse)",initiative:"+2",senses:"Vision dans le noir 18 m, Perception +4",languages:"Commun (rles inintelligibles)",ac:{total:14,touch:12,flatFooted:12},hp:22,hd:"3d12+3",saves:{fort:"+1",ref:"+3",will:"+4"},speed:"6 m (mouvements saccads)",attack:"Toucher glacial +3 contact (1d6 dgts de froid)",fullAttack:"Toucher glacial +3 contact (1d6 dgts de froid)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Aura de Froid instable (3m, 1d4 dgts)","Dcharge d'agonie (Explosion finale)"],specialQualities:["Traits des Morts-vivants","Rduction des dgts 5/Tranchant","Esprit bris (Immunit aux charmes)"],abilities:{str:14,dex:14,con:0,int:6,wis:10,cha:8},skills:"Perception +4, Escalade +6",feats:["Attaque en finesse","Dur  cuire"],tactics:"Jaren n'a plus de stratgie. Il avance vers la source de vie la plus proche. Son corps met une aura de froid constant qui blesse ceux qui l'approchent.",loot:"Bague de focalisation brise (valeur 10 po), Lambeaux d'uniforme de l'Universit, une dent en or.",isEnemy:!0,antagonist:!1,role:"Cobaye sacrifi, preuve de la cruaut de Thade.",details:["Le corps de Jaren est boursoufl, marqu par les sceaux magiques de Thade qui brillent d'un bleu maladif.","Il ne cherche pas  tuer par malice, mais par rflexe de douleur.","De la glace se forme sur le sol  chacun de ses pas."],tactical:{bookReference:"Manuel des Monstres : Zombie / Blme (adapt)",scenarioContext:"Boss de fin de l'Acte 4. Il se relve aprs la dfaite d'Ilse.",spells:[{name:"Fuite magique (Passif)",details:"Toute personne terminant son tour  moins de 3m subit 1d4 dgts de froid."}],specialActions:["Dcharge d'agonie :  0 PV, le corps explose en clats de glace. Jet de Rflexes (DD 13) ou 2d6 dgts de froid dans un rayon de 6m."],tacticFeats:["Dur  cuire"],tacticSummary:"Se dplace lentement vers le groupe. Utilise son aura pour affaiblir les PJ. S'il est encercl, il tente de frapper le personnage le plus affaibli."}}],D2=[{id:"geometre_fou",name:"Gomtre Fou",class:"Expert",size:"Moyen",type:"Humanode (Humain)",alignment:"CM",lvl:"4",environnement:"Val-d'Ombre, quartiers obscurs",organisation:"Solitaire",ini:"+2",sens:"Dtection +6",ca:"17 (+2 Dex, +5 Armure) ; contact 12, pris au dpourvu 15",pv:34,dv:"5d8+10",js:{vig:"+4",ref:"+3",vol:"+6"},vit:"9 m",abb:"+3",grp:"+5",attaque:"Pique  Dessin Modifie +6 (1d8+2 perforant)",att_complete:"Pique  Dessin Modifie +6 (1d8+2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Glyphes de Dsorientation (1/j, zone 3 m, Rf. DD 15 : tourdi 1 tour)"],qual_sp:["Esprit Fractal (+2 JS contre illusions)","Cartographie Tordue (+4 Connaissance (architecture et ingnierie))"],carac:{for:12,dex:14,con:14,int:16,sag:10,cha:8},comptences:"Connaissance (architecture et ingnierie) +12, Dtection +6, Artisanat (plans) +10, Psychologie +4",dons:"Volont de Fer, Science de l'Initiative, Pointage Prcis",tactiques:"Pose un glyphe pour couper une poursuite, frappe puis se replie. Panique si on dtruit ses cartes.",butin:"Plans dforms de Val-d'Ombre, craies runiques.",est_ennemi:!0,role:"Source d'indices post-mortem (ou vivant, selon le timing).",details:["Motivation : Cartographier l'impossible.","Indice : Journal dcrivant des galeries qui s'allongent quand on ne les regarde pas.","Usage : Point de bascule vers la comprhension de l'architecture vivante de la Spirale.","Loot : Plans dforms mais prcieux pour naviguer dans les profondeurs."]},{id:"traqueur_dimensionnel",name:"Traqueur Dimensionnel",size:"Moyen",type:"Extrieur (Chaos)",alignment:"CM",fp:4,environnement:"Zones de faille, Spirale",organisation:"Solitaire ou Meute (2)",ini:"+8",sens:"Vision dans le noir 18 m, Vision lucide",ca:"19 (+4 Dex, +5 Naturelle) ; contact 14, pris au dpourvu 15",pv:32,dv:"5d8+10",js:{vig:"+6",ref:"+8",vol:"+5"},vit:"12 m",abb:"+5",grp:"+7",attaque:"Griffes phasiques +9 (1d6+2 plus dessiccation)",att_complete:"2 Griffes phasiques +9 (1d6+2 plus dessiccation)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Dessiccation (Vig DD 14 ou 1d4 dgts temporaires For/Dex)","Saut Dimensionnel (Action mouv, 18m)"],qual_sp:["Flou (20% rat permanent)","Rsistance magie 15"],carac:{for:14,dex:19,con:14,int:7,sag:13,cha:10},comptences:"Discrtion +12, Dtection +9, Acrobatie +12",dons:"Science de l'initiative, Attaque en finesse, Arme de prdilection (Griffes)",tactiques:"Se tlporte derrire les cibles faibles (mages/soigneurs), attaque et disparat.",butin:"Essence de chaos (alchimie), griffes cristallines.",est_ennemi:!0},{id:"golem_dechets",name:"Golem de Rebuts",size:"Grand",type:"Crature artificielle",alignment:"N",fp:4,environnement:"Dcharges, Ruines industrielles",organisation:"Solitaire",ini:"-1",sens:"Vision dans le noir 18 m, Vision nocturne",ca:"18 (-1 T, -1 Dex, +10 Naturelle) ; contact 8, pris au dpourvu 18",pv:53,dv:"6d10+20",js:{vig:"+2",ref:"+1",vol:"+2"},vit:"6 m",abb:"+4",grp:"+13",attaque:"Chelem +8 (2d8+5)",att_complete:"2 Chelems +8 (2d8+5)",espace:"3 m",allonge:"3 m",att_sp:["Nuage de Ttanos (Si touch, Vig DD 15 ou maladie)"],qual_sp:["Immunits des cratures artificielles","Rduction dgts 5/Adamantine"],carac:{for:21,dex:9,con:"-",int:"-",sag:11,cha:1},comptences:"",dons:"",tactiques:"Avance et crase. Ne s'arrte que si dtruit.",butin:"Mtaux rares (valeur 50-100 po) dans les dbris.",est_ennemi:!0},{id:"chevalier_conseil",name:"Chevalier du Conseil",class:"Guerrier",size:"Moyen",type:"Humanode (Humain)",alignment:"LN",lvl:"4",environnement:"Haute Ville, Palais",organisation:"Solitaire ou Escorte (1 + 2 gardes)",ini:"+0",sens:"Dtection +3",ca:"20 (+0 Dex, +9 Harnois, +1 Bouclier lourd matre) ; contact 10, pris au dpourvu 20",pv:47,dv:"6d10+12",js:{vig:"+7",ref:"+2",vol:"+4"},vit:"6 m (Harnois)",abb:"+6",grp:"+9",attaque:"pe btarde de matre +10 (1d10+3, 19-20/x2)",att_complete:"pe btarde +10/+5 (1d10+3, 19-20/x2)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Dfi (+2 dgts contre 1 cible)"],qual_sp:["Aura de courage (+4 JS peur aux allis)"],carac:{for:17,dex:10,con:14,int:10,sag:14,cha:14},comptences:"Diplomatie +8, quitation +6, Intimidation +8",dons:"Arme de prdilection (pe btarde), Spcialisation martiale, Enchanement",tactiques:"Lance un dfi au combattant le plus fort, refuse le dshonneur.",butin:"Harnois, pe btarde de matre, Sceau du conseil.",est_ennemi:!0}],N2=[{id:"spectre_ancien_heros",name:"Spectre d'un Ancien Hros Nain",size:"Moyen",type:"Mort-vivant (Incorporel)",alignment:"LB",fp:5,environnement:"Seuil / mausole secret",organisation:"Solitaire",ini:"+6",sens:"Vision dans le noir 18 m, Dtection +10",ca:"17 (+6 Dex, +1 Dfl.) ; contact 17, pris au dpourvu 11",pv:45,dv:"7d12",js:{vig:"+2",ref:"+6",vol:"+7"},vit:"Vol 12 m (parfaite)",abb:"+3",grp:"",attaque:"Contact Incorporel +8 (1d8 nergie ngative)",att_complete:"Contact Incorporel +8 (1d8 nergie ngative)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Drain de Force (1d6, Vig. DD 15 demi)","Hurlement Antique (1/j, Vol. DD 16 : Secou 1d4 tours)"],qual_sp:["Incorporel","Canalisation Vulnrable","Repos Li au Mausole (disparat si relique restaure)"],carac:{for:"",dex:22,con:"",int:12,sag:14,cha:16},comptences:"Dtection +10, Discrtion +12, Connaissance (histoire) +8",dons:"Science de l'Initiative, Volont de Fer, Esquive",tactiques:"Teste les intrus par le hurlement, frappe puis se replie dans les murs ; disparat si on honore correctement la relique.",butin:"Reliques hroques, fragments darmes naines.",est_ennemi:!0,role:"Gardien spectral du Seuil.",details:["Motivation : Empcher quiconque de rouvrir le passage vers la Spirale.","Attitude : Hostile par dfaut, mais peut tre apais par des preuves de ncessit.","Combat : Combat redoutable, mais peut tre vit par des rites appropris.","Spoiler : Rvle des fragments de la vritable histoire de la premire rencontre avec la Spirale."]},{id:"mage_corrompu_spirale",name:"Mage Corrompu par la Spirale",class:"Magicien",size:"Moyen",type:"Humanode (Humain)",alignment:"CM",lvl:"5",environnement:"Tour des Mages, Laboratoires secrets",organisation:"Solitaire (avec sbires)",ini:"+6",sens:"Dtection +5",ca:"16 (+2 Dex, +4 Armure de mage) ; contact 12, pris au dpourvu 14",pv:38,dv:"7d4+14",js:{vig:"+4",ref:"+4",vol:"+7"},vit:"9 m",abb:"+3",grp:"+3",attaque:"Dague +1 +4 (1d4+1)",att_complete:"Dague +1 +4 (1d4+1)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Sorts (Niv 3 (2/j): Boule de feu, clair ; Niv 2: Image miroir, Flche acide ; Niv 1: Projectile magique x4, Bouclier)"],qual_sp:["Aura de perturbation (Malus -1 aux JS des ennemis  3m)"],carac:{for:10,dex:14,con:14,int:17,sag:10,cha:12},comptences:"Art de la magie +13, Connaissance (arcane) +13, Concentration +12",dons:"Science de l'initiative, cole renforce (vocation), Magie de guerre",tactiques:"Se protge avec Image miroir/Bouclier, pilonne avec Boule de feu.",butin:"Baguette de projectiles magiques (10 charges), Dague +1, Livre de sorts.",est_ennemi:!0},{id:"bete_fosse",name:"Bte de la Fosse",size:"Grand",type:"Aberration",alignment:"N",fp:5,environnement:"Profondeurs de la mine, Spirale",organisation:"Solitaire",ini:"+1",sens:"Vision dans le noir 18 m, Perception des vibrations",ca:"19 (-1 T, +1 Dex, +9 Naturelle) ; contact 10, pris au dpourvu 18",pv:59,dv:"7d8+28",js:{vig:"+8",ref:"+3",vol:"+5"},vit:"12 m",abb:"+5",grp:"+14",attaque:"Tentacule +9 (1d6+5 plus treinte)",att_complete:"2 Tentacules +9 (1d6+5) et Morsure +4 (1d8+2)",espace:"3 m",allonge:"3 m",att_sp:["treinte (Action libre si tentacule touche)","Constriction (1d6+7)"],qual_sp:["Gurison acclre 2","Allonge suprieure"],carac:{for:20,dex:12,con:18,int:2,sag:10,cha:4},comptences:"Escalade +14, Dtection +6",dons:"Attaque en puissance, Vigueur surhumaine",tactiques:"Attrape les cibles proches et les broie, mord ceux qui s'approchent.",butin:"Organes alchimiques, gemmes non digres.",est_ennemi:!0}],T2=[{id:"sentinelle_reliee",name:"Sentinelle Relie",size:"Moyen",type:"Artfact",alignment:"N",fp:6,environnement:"Spirale  Premier cercle",organisation:"Solitaire",ini:"+1",sens:"Vision dans le noir 18 m, Perception Aveugle 6 m",ca:"19 (+1 Dex, +8 Nat.) ; contact 11, pris au dpourvu 18",pv:72,dv:"9d10+20",js:{vig:"+3",ref:"+4",vol:"+5"},vit:"6 m",abb:"+9",grp:"+15",attaque:"Poing Cristallin +12 (1d8+6 contondant + 1d4 force)",att_complete:"2 poings cristallins +12 (1d8+6 + 1d4 force)",espace:"1,5 m",allonge:"1,5 m",att_sp:["Dcharge Rsonante (3/j, 3d6 force, Rf. DD 16 demi)"],qual_sp:["RD 5/adamantium","Immunit (Artfact) + Rsistance Sonique 10","Lien de Rsonance : dsoriente si Symbole Nain de Confinement (2 Attaque/CA/JS 1d4 tours)"],carac:{for:22,dex:12,con:"",int:6,sag:12,cha:8},comptences:"Dtection +8, Intimidation +6",dons:"Robustesse, Attaque en Puissance, Science du Critique (poing)",tactiques:"Engage frontalement ; si lien de rsonance perturb, passe en mode dfensif ou se replie en suivant les ordres du cur de la Spirale.",butin:"Fragment cristallin rsonant, schmas runiques rods.",est_ennemi:!0,role:"Golem poreux aux veines de cristal, surveille les intrusions.",details:["Motivation : Contenir la propagation de la Gode chantante.","Attitude : Attaque si le cristal de Thade rsonne, sinon observe.","Indice : Ragit faiblement aux symboles nains de confinement.","Usage : Garde mobile pouvant tre vite par ruse ou ngociation arcano-tech."]},{id:"inevitable_contremetre",name:"Invitable Contremtre",size:"Moyen",type:"Construit (Extraplanaire, Loi)",alignment:"LN",fp:6,environment:"Spirale  Salle des Engrenages",organization:"Solitaire ou patrouille (1-2)",initiative:"+5",senses:"Vision dans le noir 18 m, Vision nocturne, Perception aveugle 6 m, Dtection +12",ac:{total:22,touch:11,flatFooted:21},hp:68,hd:"9d10+20",saves:{fort:"+3",ref:"+4",will:"+5"},speed:"6 m (ne peut pas courir) ; vol stationnaire 3 m (parfaite)",attack:"Marteau de Gravit +13 (1d8+6 contondant, critique x3)",fullAttack:"Marteau de Gravit +13/+8 (1d8+6 contondant) et Rayon de Stase +10 contact  distance (1d6 froid + Ralentissement)",space:"1,5 m",reach:"1,5 m",specialAttacks:["Rayon de Stase (Contact  distance, Volont DD 15 annule le Ralentissement)","Frappe de la Loi (Ses attaques sont considres comme Loyales pour passer la RD)"],specialQualities:["Traits des Construits (Immunit poison, sommeil, paralysie, maladie, effets mentaux, coups critiques)","RD 5/Chaotique","Champ Anti-magie Localis (rayon 1,5 m, 3 tours/jour)","Rparation automatique (Gurison acclre 2)","Rsistance  la magie 17"],abilities:{str:18,dex:12,con:0,int:12,wis:14,cha:12},skills:"Dtection +12, Perception auditive +12, Psychologie +10, Connaissance (architecture et ingnierie) +10",feats:"Science de l'initiative, Vigilance, Attaque en puissance, Enchanement",tactics:"Analyse les flux magiques. Si une anomalie de Loi est dtecte (comme les actes de Thade), il peut suspendre les hostilits pour enquter.",loot:"Cl de recalibrage (Objet merveilleux, +5 aux tests d'ingnierie), noyau d'nergie rgul (diamant de 500 po).",isEnemy:!1,role:"Rgulateur mcanique de la Spirale, juge de la cohrence structurelle.",tactical:{bookReference:"Manuel des Monstres (3.5) : Sous-type Invitable",scenarioContext:"Gardien de la Salle des Engrenages. Il ne peut tre corrompu, mais il peut tre convaincu par la logique.",specialActions:[{name:"Champ Anti-magie",details:"Action libre. Cre une zone de 1,5m o aucun sort ne fonctionne. Idal pour neutraliser un mage au contact."}],tacticFeats:[{name:"Attaque en puissance",details:"change sa prcision contre de la force brute s'il frappe une cible ralentie."}],tacticSummary:"Utilise son Rayon de Stase pour diviser par deux la vitesse des PJ, puis se place au contact du lanceur de sorts le plus puissant pour activer son Champ Anti-magie."}}],E2=[{id:"geode_avatar",name:"Avatar de la Gode",size:"Grand",type:"Extrieur (Terre, Chaos)",alignment:"CN",fp:7,environnement:"Spirale  Cur de la Gode Chantante",organisation:"Solitaire (gardien)",ini:"+2",sens:"Vision dans le noir 18 m, Perception Aveugle 9 m",ca:"20 (-1 T, +2 Dex, +9 Nat.) ; contact 11, pris au dpourvu 18",pv:95,dv:"10d8+50",js:{vig:"+12",ref:"+9",vol:"+9"},vit:"6 m (4 c.) ; vol 3 m (manoeuvre limite)",abb:"+10",grp:"+20",attaque:"Fouet Cristallin +15 (2d6+6 soniques)",att_complete:"Fouet Cristallin +15 (2d6+6 soniques) et Onde Sonique (voir SpA)",espace:"3 m",allonge:"3 m (6 m avec fouet)",att_sp:["Onde Sonique (cne 6 m, 4d6 soniques, Rf. DD 18 demi)","Plissement Spatial (zone 6 m devient terrain difficile 1 tour, Vol. DD 18)"],qual_sp:["Rsistance Sonique 10","Faiblesse : Runes Naines de Confinement (2 CA/2 JS)"],carac:{for:22,dex:14,con:20,int:10,sag:16,cha:16},comptences:"Dtection +15, Connaissance (plans) +8, Intimidation +10",dons:"Science de l'Initiative, Attaque en Puissance, Robustesse, Volont de Fer",tactiques:"Alterne onde de zone et verrouillage d'une cible menaante ; dfend la gode principale.",butin:"clat de gode chantante, essence de rsonance.",est_ennemi:!0,role:"Manifestation semi-consciente de la Spirale.",details:["Motivation : Protger la source et tendre la rsonance.","Attitude : Communique par vibrations, peut ngocier via empathie magique.","Pouvoir : Dforme la gomtrie, projette des ondes soniques.","Faiblesse : Perturbe par les runes naines de confinement."]}],M2=[],R2=[],L2=[],z2=[],O2=[],w2=[],U2=[],H2=[],B2=[],V2=[],k2=[],I2=[],G2=[],P2=[...C2,...q2,...j2,...D2,...N2,...T2,...E2,...M2,...R2,...L2,...z2,...O2,...w2,...U2,...H2,...B2,...V2,...k2,...I2,...G2],F2=P2.map(i=>yc({isEnemy:i.est_ennemi??!0,...i}));function ku(i,s){return i.category?i.category:s==="bestiary"?"monstres":s==="ennemis"||i.est_ennemi?"ennemis":"allies"}function Iu(i){switch(i){case"allies":return"text-blue-400";case"ennemis":return"text-red-400";case"monstres":return"text-purple-400";case"neutres":return"text-yellow-400";default:return"text-gray-400"}}function J2(){const i=[];return(S2||[]).forEach(s=>{const r=ku(s,"principaux");i.push({...s,category:r,source:"principaux",color:Iu(r)})}),(A2||[]).forEach(s=>{const r=ku(s,"ennemis");i.push({...s,category:r,source:"ennemis",color:Iu(r)})}),(F2||[]).forEach(s=>{const r=ku(s,"bestiary");i.push({...s,category:r,source:"bestiary",isMonster:!0,color:Iu(r)})}),i}function Q2(i){const s=new Map;return i.forEach(r=>{r.id&&!s.has(r.id)&&s.set(r.id,r)}),s}function Y2(i){const s=new Map;return i.forEach(r=>{if(r.name){const o=r.name.toLowerCase();s.has(o)||s.set(o,r)}}),s}const va=J2(),hh=Q2(va);Y2(va);const Sg=va;function xc(i){return hh.get(i)||null}function Z2(i){return i==="all"?va:va.filter(s=>s.category===i)}const K2={all:va.length,allies:va.filter(i=>i.category==="allies").length,ennemis:va.filter(i=>i.category==="ennemis").length,monstres:va.filter(i=>i.category==="monstres").length},X2=["all","allies","ennemis","monstres"];function $2(i){return Array.isArray(i)?i.map(s=>hh.get(s)).filter(Boolean):[]}function W2(i){const s=Za(i);return s>=10?"Boss":s>=7?"Combat":s>=4?"Tension":"Social"}function Za(i){if(i==null)return 0;if(typeof i=="number")return i;const s=String(i).trim();if(s.includes("/")){const o=s.split("/");if(o.length===2)return parseFloat(o[0])/parseFloat(o[1])}const r=s.match(/\d+/g);return r&&r.length>0?r.reduce((o,c)=>o+parseInt(c,10),0):parseFloat(s)||0}function Jr(i){switch(i){case"monstres":return{label:"Monstre",className:"bg-purple-900/20 text-purple-300 border-purple-800/30"};case"ennemis":return{label:"Ennemi",className:"bg-red-900/20 text-red-300 border-red-800/30"};case"allies":return{label:"Alli",className:"bg-blue-900/20 text-blue-300 border-blue-800/30"};default:return null}}function ic({zoneId:i,locId:s,npcId:r}){const o=new URLSearchParams;i&&o.set("zone",i),s&&o.set("loc",s),r&&o.set("pnj",r);const c=o.toString();return c?`/univers?${c}`:"/univers"}function sc(i){const s=xc(i);if(!s)return null;for(const r of Sn.zones||[])for(const o of r.locations||[])if((o.npcIds||[]).includes(i))return{npc:s,loc:o,zone:r,source:s.source};return{npc:s,loc:null,zone:null,source:s.source}}function vh(i){const s=[];for(const r of il||[])for(const[o,c]of(r.acts||[]).entries())for(const[d,m]of(c.scenes||[]).entries())Array.isArray(m.npcIds)&&m.npcIds.includes(i)&&s.push({scenarioId:r.id,scenarioTitle:r.title,actTitle:c.title,actNumber:o+1,sceneNumber:d+1,sceneTitle:m.title});return s}function e_(i){const s=new Map;for(const r of il||[])for(const[o,c]of(r.acts||[]).entries())for(const[d,m]of(c.scenes||[]).entries())m.locationId&&String(m.locationId)===String(i)&&(m.npcIds||[]).forEach(g=>{const h=s.get(g)||{npcId:g,occurrences:[]};h.occurrences.push({scenarioId:r.id,scenarioTitle:r.title,actTitle:c.title,actNumber:o+1,sceneNumber:d+1,sceneTitle:m.title}),s.set(g,h)});return Array.from(s.values())}function t_(i){for(const s of Sn.zones||[]){const r=(s.locations||[]).find(o=>o.id===i);if(r)return{loc:r,zone:s}}return null}function bh(i){const s=[],r=new Set;return $2(i.npcIds||[]).forEach(c=>{r.has(c.id)||(s.push(c),r.add(c.id))}),(i.npcs||[]).forEach(c=>{c?.id&&!r.has(c.id)&&(s.push(c),r.add(c.id))}),s}const a_=()=>{const i=[];return Sn.zones?.forEach(s=>{i.push({type:"Zone",title:s.name,description:s.details,path:`/univers?zone=${s.id}`}),s.locations?.forEach(r=>{i.push({type:"Lieu",title:r.name,description:r.summary,path:`/univers?zone=${s.id}&loc=${r.id}`}),r.npcs?.forEach(o=>{i.push({type:"PNJ",title:o.name,description:o.role,path:`/univers?zone=${s.id}&loc=${r.id}&pnj=${o.id}`})})})}),il?.forEach(s=>{i.push({type:"Scnario",title:s.title,description:s.synopsis,path:`/scenarios/${s.id}`})}),h2?.forEach(s=>{i.push({type:"Faction",title:s.name,description:s.desc,path:"/factions"})}),i};function n_(){const[i,s]=D.useState(""),r=D.useMemo(()=>{const c=a_(),d=new fi(c,{threshold:.3,keys:["title","description","type"]});return{entries:c,fuse:d}},[]),o=D.useMemo(()=>i.trim()?r.fuse.search(i).map(c=>c.item):[],[i,r]);return{term:i,setTerm:s,results:o,clear:()=>s("")}}function Ka(i,s){const[r,o]=D.useState(()=>{try{const c=localStorage.getItem(i);return c?JSON.parse(c):s}catch{return s}});return D.useEffect(()=>{try{localStorage.setItem(i,JSON.stringify(r))}catch(c){console.error(`Failed to save ${i} to localStorage`,c)}},[i,r]),[r,o]}const i_=[{to:"/univers",label:"Univers",icon:Fg},{to:"/factions",label:"Factions",icon:mi},{to:"/antagoniste",label:"Antagoniste",icon:Ju},{to:"/scenarios",label:"Scnarios",icon:o0}];function s_(){const{term:i,setTerm:s,results:r,clear:o}=n_(),c=Zt(),d=tl(),[m,g]=Ka("last-route",null);return D.useEffect(()=>{c.pathname!=="/"&&g(c.pathname+c.search)},[c]),D.useEffect(()=>{c.pathname==="/"&&m&&m!=="/"&&d(m,{replace:!0})},[c.pathname,m,d]),f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-surface via-surface-raised to-surface text-content",children:[f.jsx("header",{className:"border-b border-surface-border bg-surface/95 backdrop-blur-md sticky top-0 z-50",children:f.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-4 flex items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-md bg-accent-surface border border-accent-muted text-accent",children:f.jsx(Ig,{size:20})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs uppercase tracking-widest text-content-subtle",children:"Wiki de campagne"}),f.jsx("h1",{className:"text-xl font-serif text-accent-light",children:"L'Ombre de la Spirale"})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"relative w-64",children:[f.jsx(hc,{value:i,onChange:s,placeholder:"Rechercher (PNJ, lieux, scnarios...)"}),i.trim().length>=2&&r.length>0&&f.jsx("div",{className:"absolute mt-2 w-full bg-surface border border-surface-border rounded-md shadow-xl z-20 max-h-72 overflow-auto animate-slide-down",children:f.jsx("ul",{className:"divide-y divide-surface-border",children:r.map((h,v)=>f.jsx("li",{children:f.jsxs(Xa,{to:h.path,onClick:o,className:"flex flex-col gap-1 px-3 py-2 hover:bg-surface-raised transition-colors",children:[f.jsx("span",{className:"text-xs uppercase tracking-widest text-accent",children:h.type}),f.jsx("span",{className:"text-sm text-content",children:h.title}),h.description&&f.jsx("span",{className:"text-xs text-content-muted line-clamp-2",children:h.description})]})},`${h.type}-${v}`))})})]}),f.jsx("nav",{className:"flex items-center gap-2",children:i_.map(({to:h,label:v,icon:x})=>{const b=x;return f.jsxs(Bg,{to:h,className:({isActive:C})=>Ve("flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 border","border-surface-border bg-surface-raised/60 hover:border-accent-muted hover:text-accent-light",C&&"text-accent-light border-accent-dark bg-surface-raised shadow-glow"),children:[f.jsx(b,{size:16}),v]},h)})})]})]})}),f.jsx("main",{className:"mx-auto max-w-6xl px-6 py-10",children:f.jsx(uy,{})})]})}function gi({title:i,icon:s,subtitle:r,className:o}){return f.jsxs("div",{className:Ve("mb-8 border-b border-surface-border pb-4",o),children:[f.jsxs("h2",{className:"text-3xl font-serif text-content flex items-center gap-3",children:[s&&f.jsx(s,{className:"text-accent",size:28,"aria-hidden":"true"}),f.jsx("span",{children:i})]}),r&&f.jsx("p",{className:"text-content-muted mt-2 font-serif italic",children:r})]})}gi.propTypes={title:z.string.isRequired,icon:z.elementType,subtitle:z.string,className:z.string};gi.defaultProps={icon:null,subtitle:"",className:""};function $a({children:i,className:s,title:r,subtitle:o,icon:c,variant:d="default",hoverEffect:m=!0,...g}){const h={default:"bg-surface-raised border-surface-border shadow-xl hover:shadow-glow",simple:"bg-surface border-surface-border",flat:"bg-surface/50 border-surface-border"};return f.jsxs("div",{className:Ve("border rounded-lg p-4 relative overflow-hidden transition-all duration-200",h[d]||h.default,m&&"hover:border-accent-muted",s),...g,children:[(r||c)&&f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c&&f.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-surface-raised border border-surface-border",children:c}),r&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-serif text-content",children:r}),o&&f.jsx("p",{className:"text-[11px] uppercase tracking-widest text-content-subtle",children:o})]})]}),i]})}$a.propTypes={children:z.node,className:z.string,title:z.string,subtitle:z.string,icon:z.element,variant:z.oneOf(["default","simple","flat"]),hoverEffect:z.bool};$a.defaultProps={children:null,className:"",variant:"default",hoverEffect:!0};function Sc({zones:i,selectedZoneId:s,onSelect:r}){return f.jsxs($a,{children:[f.jsx("h3",{className:"text-sm font-mono tracking-widest text-content-muted uppercase border-b border-surface-border pb-2 mb-4",children:"Zones de Val-d'Ombre"}),f.jsx("div",{className:"space-y-2 mb-4",children:i.map(o=>f.jsx("button",{onClick:()=>r(o.id),className:Ve("w-full text-left px-3 py-2 rounded border text-sm font-serif transition-colors",s===o.id?"bg-accent-surface border-accent-dark text-accent-light":"bg-surface/50 border-surface-border text-content-secondary hover:border-surface-border"),children:o.name},o.id))})]})}Sc.propTypes={zones:z.array.isRequired,selectedZoneId:z.oneOfType([z.string,z.number]),onSelect:z.func.isRequired};Sc.defaultProps={selectedZoneId:null};function _c({locations:i,selectedLocationId:s,onSelectLocation:r}){const o=i.find(b=>b.id===s)||i[0]||null,c=b=>`/antagoniste?pnj=${encodeURIComponent(b)}`,d=o?bh(o):[],m=d.map(b=>({...b,occurrences:vh(b.id)})),g=o?e_(o.id):[],h=new Set(d.map(b=>b.id)),v=g.filter(b=>!h.has(b.npcId)).map(b=>{const q=sc(b.npcId)?.npc;return{id:b.npcId,name:q?.name||b.npcId,role:q?.role||"",isEnemy:q?.isEnemy??q?.est_ennemi??!1,occurrences:b.occurrences||[]}}),x=({npc:b,isResident:C})=>f.jsxs("div",{className:"bg-surface/50 border border-surface-border rounded px-3 py-2 space-y-2",children:[f.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-semibold text-accent-light",children:b.name}),b.isEnemy&&f.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border border-red-700 text-red-300 bg-red-900/20 uppercase tracking-wide",children:"Ennemi"})]}),b.role&&f.jsx("p",{className:"text-xs text-content-muted",children:b.role})]}),b.id&&f.jsx(Xa,{to:c(b.id),className:"text-[10px] px-2 py-1 rounded border border-accent-muted text-accent-light bg-accent-surface hover:border-accent transition-colors",children:"Fiche"})]}),C&&b.details&&b.details.length>0&&f.jsx("ul",{className:"space-y-1 mt-2",children:b.details.map((q,E)=>f.jsxs("li",{className:"flex gap-2 text-xs text-content-secondary",children:[f.jsx("span",{className:"mt-1 w-1 h-1 rounded-full bg-surface-border block flex-shrink-0"}),f.jsx("span",{children:q})]},E))}),b.occurrences&&b.occurrences.length>0&&f.jsxs("div",{className:"pt-1",children:[f.jsx("p",{className:"text-[10px] uppercase tracking-widest text-content-muted mb-1.5",children:"Apparitions dans les scnarios"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:b.occurrences.map((q,E)=>f.jsxs(Xa,{to:`/scenarios?scenario=${q.scenarioId}&scene=${encodeURIComponent(q.sceneTitle)}`,className:"px-2 py-1 rounded border border-accent-muted text-accent-light bg-accent-surface hover:bg-accent-surface/80 text-[10px] uppercase tracking-wide transition-colors",title:`${q.scenarioTitle}  ${q.actTitle}  ${q.sceneTitle}`,children:[q.scenarioId,".",q.actNumber,".",q.sceneNumber]},`${b.id}-${E}-${q.sceneTitle}`))})]})]});return f.jsxs("div",{className:"space-y-6",children:[f.jsxs($a,{children:[f.jsx("h3",{className:"text-sm font-mono tracking-widest text-content-muted uppercase border-b border-surface-border pb-2 mb-4",children:"Lieux marquants"}),i.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"space-y-2 mb-4",children:i.map(b=>f.jsxs("button",{onClick:()=>r(b.id),className:Ve("w-full text-left px-3 py-2 rounded border text-sm font-serif transition-colors",o&&o.id===b.id?"bg-surface-raised border-accent-dark text-accent-light":"bg-surface/50 border-surface-border text-content-secondary hover:border-surface-border"),children:[f.jsx("div",{className:"font-semibold",children:b.name}),f.jsx("div",{className:"text-xs text-content-muted line-clamp-1",children:b.summary})]},b.id))}),o&&f.jsx("div",{className:"space-y-4 text-sm text-content-secondary",children:f.jsxs("div",{className:"space-y-3",children:[f.jsx("h4",{className:"font-serif text-accent",children:o.name}),f.jsx("p",{className:"text-content-muted text-xs mb-1",children:"Dtails du lieu"}),f.jsx("ul",{className:"space-y-1.5",children:o.details?.map((b,C)=>f.jsxs("li",{className:"flex gap-2",children:[f.jsx("span",{className:"mt-1 w-1 h-1 rounded-full bg-surface-border block flex-shrink-0"}),f.jsx("span",{children:b})]},C))})]})})]}):f.jsx("p",{className:"text-sm text-content-subtle",children:"Aucun lieu dfini pour cette zone."})]}),f.jsx($a,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-mono tracking-widest text-content-muted uppercase border-b border-surface-border pb-2 mb-4 flex items-center justify-between",children:f.jsx("span",{children:"PNJ rsidents"})}),o?m.length>0?f.jsx("div",{className:"space-y-3",children:m.map(b=>f.jsx(x,{npc:b,isResident:!0},b.id))}):f.jsx("p",{className:"text-sm text-content-subtle",children:"Aucun rsident rpertori."}):f.jsx("p",{className:"text-sm text-content-subtle",children:"Slectionnez un lieu."})]}),v.length>0&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-mono tracking-widest text-content-muted uppercase border-b border-surface-border pb-2 mb-4",children:"PNJ visiteurs"}),f.jsx("div",{className:"space-y-3",children:v.map(b=>f.jsx(x,{npc:b,isResident:!1},b.id))})]})]})})]})}_c.propTypes={locations:z.array.isRequired,selectedLocationId:z.oneOfType([z.string,z.number]),onSelectLocation:z.func.isRequired};_c.defaultProps={selectedLocationId:null};function r_(){const i=Sn.zones||[],[s,r]=Ka("universe-zone",i[0]?.id||null),[o,c]=Ka("universe-loc",null),[d,m]=Ka("universe-pnj",null),[g]=fc(),v=(i.find(q=>q.id===s)||i[0]||null)?.locations||[];D.useEffect(()=>{const q=g.get("zone"),E=g.get("loc"),B=g.get("pnj");if(q){const w=i.find(k=>String(k.id)===q);if(w)if(r(w.id),E){const k=w.locations?.find(I=>String(I.id)===E);if(c(k?k.id:null),k&&B){const F=bh(k).find($=>String($.id)===B);m(F?F.id:null)}else m(null)}else c(null),m(null)}},[g,i]);const x=q=>{r(q),c(null),m(null)},b=q=>{c(q),m(null)},C=q=>{m(E=>E===q?null:q)};return f.jsxs("div",{className:"space-y-8 animate-fadeIn text-content-secondary",children:[f.jsx(gi,{title:Sn.title,icon:Fg,subtitle:Sn.intro}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsx("div",{className:"lg:col-span-3 grid grid-cols-1 lg:grid-cols-2 gap-6",children:Sn.sections.map((q,E)=>f.jsxs($a,{children:[f.jsx("h3",{className:"text-xl font-serif text-accent mb-4 border-l-2 border-accent-dark pl-3",children:q.title}),f.jsx("ul",{className:"space-y-2",children:q.content.map((B,w)=>f.jsxs("li",{className:"flex gap-2 text-lg text-content-secondary",children:[f.jsx("span",{className:"text-accent-dark mt-1.5 w-1.5 h-1.5 rounded-full bg-accent-dark block flex-shrink-0"}),f.jsx("span",{children:B})]},w))})]},E))}),f.jsx(Sc,{zones:i,selectedZoneId:s,onSelect:x}),f.jsx("div",{className:"lg:col-span-2",children:f.jsx(_c,{locations:v,selectedLocationId:o,onSelectLocation:b,selectedNpcId:d,onSelectNpc:C})})]})]})}const l_=[{name:"Le Conseil (Politique)",type:"Administration",desc:"Le Bourgmestre est un humain honnte mais dpass. Il est obsd par le maintien de la paix entre Nains et Mages pour que le commerce tourne.",icon:Yr,color:"text-blue-400 border-blue-900 bg-blue-950/30",hierarchy:[{role:"Bourgmestre",npcId:"bourgmestre",notes:"Autorit civile, cherche l'quilibre."},{role:"Capitaine de la Garde urbaine",npcId:"capitaine_garde_urbaine",notes:"Scurit, couvre-feu, sige."},{role:"Gelier du Conseil",npcId:"geolier_principal",notes:"Prisons politiques, interrogatoires."}],npcIds:["bourgmestre","capitaine_garde_urbaine","geolier_principal"]},{name:"Faction Nains",type:"Foi & Mineurs",desc:"Le bloc nain runit les mineurs et le Temple-Forgeron : gardiens du savoir ancestral, protecteurs des galeries et des reliques sacres.",icon:mi,color:"text-amber-400 border-amber-900 bg-amber-950/30",hierarchy:[{role:"Chef de la Guilde des Mineurs",npcId:"durnik_chef_mineur",notes:"Voix des mineurs, meneur de grve."},{role:"Haut Clerc / Prtre du Temple-Forgeron",npcId:"thorgar_pretre_nain",notes:"Avertit sur la Spirale, soutien moral."},{role:"Contrematre scurit mine",npcId:"contremaitre_nain_mine",notes:"Logistique, scurit des galeries."},{role:"Capitaine de la Garde du Temple",npcId:"capitaine_garde_temple",notes:"Organise la dfense et les patrouilles sacres."},{role:"Gardien du Cimetire",npcId:"gardien_cimetiere",notes:"Veille sur les spultures et dtecte les profanations."}],npcIds:["durnik_chef_mineur","thorgar_pretre_nain","contremaitre_nain_mine","capitaine_garde_temple","gardien_cimetiere"]},{name:"La Guilde des Mages",type:"Les Ambitieux",desc:"Prestige intellectuel et force militaire. Officiellement contre la ncromancie, mais Thade Coren a infiltr le Cercle Intrieur et radicalise les tudiants.",icon:Qg,color:"text-purple-400 border-purple-900 bg-purple-950/30",hierarchy:[{role:"Cercle Intrieur",npcId:"thade_coren",notes:"Antagoniste, contrle la Tour."},{role:"Archimage dfecteur",npcId:"archimage_defecteur",notes:"Sabote Thade de l'intrieur."},{role:"Matre loyaliste",npcId:"magi_tuteur_loyal",notes:"Dfend la Tour contre tous."},{role:"Apprenti favori",npcId:"kaelen_vampire",notes:"Garde du toit, bras droit vampirique."}],npcs:["thade_coren","archimage_defecteur","magi_tuteur_loyal","kaelen_vampire","bibliothecaire_interdits"]},{name:"Rseau des Ombres",type:"Assassins & Informateurs",desc:"Intermdiaires discrets, chasseurs de primes et opportunistes qui profitent du chaos pour tirer les ficelles dans l'ombre.",icon:Gg,color:"text-emerald-300 border-emerald-900 bg-emerald-950/30",hierarchy:[{role:"Courtier invisible",npcId:"marchand_fou_mercane",notes:"Marchand d'informations et d'artefacts."},{role:"Assassin Masqu",npcId:"assassin_masque",notes:"Tueur  gages li aux complots urbains."},{role:"claireuse perdue",npcId:"lysa_exploratrice_perdue",notes:"Guide occasionnelle pour qui paye ou sauve sa peau."}],npcs:["marchand_fou_mercane","assassin_masque","lysa_exploratrice_perdue"]}];function yh({items:i,renderItem:s,className:r,listClassName:o,emptyMessage:c="Aucun lment  afficher",bordered:d=!0,divided:m=!0}){return!i||i.length===0?f.jsx("div",{className:Ve("text-center py-4 text-content-secondary",r),children:c}):f.jsx("ul",{className:Ve("space-y-2",d&&"border border-surface-border rounded-md p-2",m&&"divide-y divide-surface-border",o),children:i.map((g,h)=>f.jsx("li",{className:Ve(d&&"px-3 py-2",m&&"py-2"),children:s(g,h)},h))})}yh.propTypes={items:z.array,renderItem:z.func.isRequired,className:z.string,listClassName:z.string,emptyMessage:z.string,bordered:z.bool,divided:z.bool};function o_(){const{t:i}=rh();return f.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[f.jsx(gi,{title:i("factions.title"),icon:mi,subtitle:i("factions.subtitle")}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l_.map(s=>f.jsxs($a,{className:s.color,title:s.name,subtitle:s.type,icon:s.icon&&f.jsx(s.icon,{size:20,className:s.color.split(" ")[0]}),variant:"simple",children:[f.jsx("p",{className:"text-sm text-content-secondary leading-relaxed",children:s.desc}),s.hierarchy?.length>0&&f.jsxs("div",{className:"mt-4 space-y-2",children:[f.jsx("h4",{className:"text-xs uppercase tracking-wide text-content-muted",children:i("factions.hierarchy")}),f.jsx(yh,{items:s.hierarchy,renderItem:r=>f.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[f.jsx("span",{className:"font-semibold text-accent-light",children:r.role}),r.npcId&&(()=>{const o=sc(r.npcId),c=o?.npc?.name||r.npcId,d=o?ic({zoneId:o.zone.id,locId:o.loc.id,npcId:r.npcId}):null;return d?f.jsx("a",{href:d,title:r.npcId,className:"text-sm text-content underline decoration-accent/60 decoration-dotted underline-offset-4 hover:text-accent-light transition-colors",children:c}):f.jsx("span",{className:"text-sm text-content",title:r.npcId,children:c})})()]})})]}),s.npcIds?.length>0&&f.jsxs("div",{className:"mt-3",children:[f.jsx("h4",{className:"text-xs uppercase tracking-wide text-content-muted",children:i("factions.npcs")}),f.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1",children:s.npcIds.map(r=>{const o=sc(r),c=o?.npc?.name||r,d=o?ic({zoneId:o.zone.id,locId:o.loc.id,npcId:r}):null;return d?f.jsx("a",{href:d,title:r,className:"text-[11px] text-accent-light bg-accent-surface border border-accent-muted/40 rounded px-2 py-1 tracking-wide hover:border-accent transition-colors",children:c},r):f.jsx("span",{title:r,className:"text-[11px] text-accent-light bg-accent-surface border border-accent-muted/40 rounded px-2 py-1 tracking-wide",children:c},r)})})]})]},s.name))})]})}const u_={Combat:"bg-red-500/15 text-red-300 border-red-600",Social:"bg-blue-500/15 text-blue-300 border-blue-500",Exploration:"bg-emerald-500/15 text-emerald-300 border-emerald-500",Investigation:"bg-emerald-500/15 text-emerald-300 border-emerald-500",Ambiance:"bg-stone-500/15 text-stone-300 border-stone-500",Indice:"bg-amber-500/15 text-amber-300 border-amber-500",Boss:"bg-red-600/25 text-red-200 border-red-500 font-bold animate-pulse-slow",Tension:"bg-orange-500/15 text-orange-300 border-orange-500",Magie:"bg-purple-500/15 text-purple-300 border-purple-400",Twist:"bg-pink-500/15 text-pink-300 border-pink-400",Prparation:"bg-cyan-500/15 text-cyan-300 border-cyan-400",Action:"bg-orange-600/15 text-orange-200 border-orange-500",Rencontre:"bg-sky-500/15 text-sky-300 border-sky-400",Objectif:"bg-green-600/15 text-green-300 border-green-500",Observation:"bg-slate-500/15 text-slate-300 border-slate-400",Logistique:"bg-yellow-700/15 text-yellow-300 border-yellow-600",pique:"bg-violet-600/15 text-violet-200 border-violet-500 font-bold",Pige:"bg-red-800/15 text-red-300 border-red-700",Puzzle:"bg-indigo-500/15 text-indigo-300 border-indigo-400",Dilemme:"bg-fuchsia-500/15 text-fuchsia-300 border-fuchsia-400","Mini-Boss":"bg-red-700/20 text-red-200 border-red-500 font-bold",Dcor:"bg-gray-600/15 text-gray-300 border-gray-500",Rvlation:"bg-purple-400/15 text-purple-200 border-purple-400",Transition:"bg-slate-600/15 text-slate-200 border-slate-500",Cinmatique:"bg-gray-900/20 text-yellow-300 border-yellow-700/50",Conclusion:"bg-amber-200/20 text-amber-100 border-amber-300/50",Dcouverte:"bg-teal-500/15 text-teal-300 border-teal-400",Horreur:"bg-purple-800/15 text-purple-300 border-purple-700"},c_="bg-stone-500/15 text-stone-300 border-stone-500";function Ss({type:i,variant:s,children:r,className:o}){const c=u_[s||i]||c_;return f.jsx("span",{className:Ve("text-xs px-2 py-1 rounded border uppercase tracking-wider font-semibold",c,o),children:r||s||i})}Ss.propTypes={type:z.string,variant:z.string,children:z.node,className:z.string};Ss.defaultProps={type:"",variant:"",children:null,className:""};function d_({npc:i,onClick:s}){const[r,o]=D.useState(!1),c=i.role||i.description||i.type||"Personnage",d=i.lvl??i.level_value,m=d!=null&&d!==0&&d!=="0",g=m?`Niv ${Za(d)}`:`FP ${i.fp??i.cr}`,v=i.category==="allies"?"blue":i.category==="ennemis"?"red":i.category==="monstres"?i.est_ennemi===!1?"blue":"red":"default";return f.jsxs($a,{className:Ve("cursor-pointer transition-all duration-200 relative overflow-hidden","border-2 border-transparent hover:border-accent-light/50","hover:shadow-lg hover:transform hover:scale-[1.02]",r&&"shadow-xl border-accent-light/70"),onClick:s,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[f.jsx("div",{className:"absolute inset-0 opacity-3",children:f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent-light/10 to-transparent"})}),f.jsxs("div",{className:"relative z-10 p-4",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold truncate",children:i.name}),Jr(i.category)&&f.jsx("div",{className:Ve("inline-flex items-center mt-1 px-2 py-0.5 text-xs rounded-full border",Jr(i.category).className),children:Jr(i.category).label})]}),(m||i.fp||i.cr)&&f.jsx(Ss,{variant:v,className:Ve("ml-2 text-sm font-bold flex-shrink-0",v==="blue"&&"bg-blue-900/40 text-blue-200 border-blue-700/50",v==="red"&&"bg-red-900/40 text-red-200 border-red-700/50"),children:g})]}),f.jsx("p",{className:"text-sm text-content-secondary line-clamp-2 leading-relaxed",children:c}),f.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-surface-border/30",children:[f.jsxs("div",{className:"flex items-center gap-3 text-xs text-content-subtle",children:[i.ca&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(mi,{size:12}),f.jsxs("span",{children:["CA ",typeof i.ca=="object"?i.ca?.total:i.ca]})]}),i.pv&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Pg,{size:12}),f.jsxs("span",{children:["PV ",i.pv]})]})]}),f.jsxs("div",{className:Ve("flex items-center gap-1 text-xs text-accent-light transition-transform duration-200",r&&"transform translate-x-1"),children:[f.jsx("span",{children:"Voir dtails"}),f.jsx(Wy,{size:14})]})]})]})]})}function xh({isOpen:i,onClose:s,title:r,subtitle:o,badge:c,children:d,maxWidth:m="max-w-4xl"}){const g=D.useRef();return D.useEffect(()=>{if(!i)return;const h=x=>{g.current&&!g.current.contains(x.target)&&s()},v=x=>{x.key==="Escape"&&s()};return document.addEventListener("mousedown",h),document.addEventListener("keydown",v),document.body.style.overflow="hidden",()=>{document.removeEventListener("mousedown",h),document.removeEventListener("keydown",v),document.body.style.overflow=""}},[i,s]),i?f.jsxs("div",{className:"fixed inset-0 z-[100] overflow-y-auto",children:[f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm transition-opacity",onClick:s}),f.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:f.jsxs("div",{ref:g,className:Ve("relative bg-surface-raised rounded-xl shadow-2xl w-full max-h-[90vh] overflow-hidden border border-surface-border",m),children:[r&&f.jsxs("div",{className:"relative bg-gradient-to-r from-accent-light/20 to-accent-light/5 p-6 border-b border-surface-border",children:[f.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 rounded-lg bg-surface/80 hover:bg-surface border border-surface-border transition-colors",children:f.jsx(y0,{size:20,className:"text-content"})}),f.jsx("div",{className:"flex items-start justify-between pr-12",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("h1",{className:"text-2xl font-serif text-accent-light font-bold",children:r}),c]}),o&&f.jsx("p",{className:"text-lg text-content-secondary italic",children:o})]})})]}),f.jsx("div",{className:Ve("p-6 overflow-y-auto",r?"max-h-[calc(90vh-200px)]":"max-h-[90vh]"),children:d})]})})]}):null}xh.propTypes={isOpen:z.bool.isRequired,onClose:z.func.isRequired,title:z.string,subtitle:z.string,badge:z.node,children:z.node,maxWidth:z.string};function Sh({title:i,icon:s,children:r,className:o=""}){return f.jsxs("div",{className:`mb-6 ${o}`,children:[f.jsxs("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3 flex items-center gap-2",children:[s&&f.jsx(s,{size:18}),i]}),f.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:r})]})}Sh.propTypes={title:z.string.isRequired,icon:z.elementType,children:z.node.isRequired,className:z.string};function _h({npc:i}){const s=typeof i.ca=="object"?i.ca?.total:i.ca||i.ac?.total||i.ac,r=i.pv??i.hp,o=i.fp??i.cr,c=i.ini||i.initiative;return f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-surface/50 rounded-lg p-4 text-center border border-surface-border",children:[f.jsx(mi,{className:"w-6 h-6 mx-auto mb-2 text-accent-light"}),f.jsx("div",{className:"font-bold text-accent-light text-lg",children:"CA"}),f.jsx("div",{className:"text-xl",children:s??""})]}),f.jsxs("div",{className:"bg-surface/50 rounded-lg p-4 text-center border border-surface-border",children:[f.jsx(Pg,{className:"w-6 h-6 mx-auto mb-2 text-red-400"}),f.jsx("div",{className:"font-bold text-accent-light text-lg",children:"PV"}),f.jsx("div",{className:"text-xl",children:r??""})]}),f.jsxs("div",{className:"bg-surface/50 rounded-lg p-4 text-center border border-surface-border",children:[f.jsx(S0,{className:"w-6 h-6 mx-auto mb-2 text-yellow-400"}),f.jsx("div",{className:"font-bold text-accent-light text-lg",children:"Init"}),f.jsx("div",{className:"text-xl",children:c??""})]}),f.jsxs("div",{className:"bg-surface/50 rounded-lg p-4 text-center border border-surface-border",children:[f.jsx(Xy,{className:"w-6 h-6 mx-auto mb-2 text-purple-400"}),f.jsx("div",{className:"font-bold text-accent-light text-lg",children:i.lvl?"Niv":"FP"}),f.jsx("div",{className:"text-xl",children:i.lvl?Za(i.lvl):o??""})]})]})}_h.propTypes={npc:z.object.isRequired};function Ah({npc:i}){const s=i.taille||i.size,r=i.type,o=i.alignment||i.alignement,c=i.dv||i.hd,d=i.vit||i.speed,m=i.sens||i.senses;return f.jsxs("div",{className:"bg-surface/30 rounded-lg p-4 mb-6 border border-surface-border",children:[f.jsxs("p",{className:"text-accent-light uppercase tracking-wider text-sm font-bold mb-2",children:[s&&f.jsxs("span",{children:[s," "]}),r&&f.jsx("span",{children:r}),i.class&&f.jsxs("span",{children:[", ",i.class]}),o&&f.jsxs("span",{className:"text-content-muted normal-case",children:[" (",o,")"]})]}),f.jsxs("div",{className:"flex gap-6 text-sm text-content-secondary",children:[f.jsxs("span",{children:[f.jsx("span",{className:"text-content-muted font-medium",children:"DV :"})," ",c??""]}),f.jsxs("span",{children:[f.jsx("span",{className:"text-content-muted font-medium",children:"Vit :"})," ",d??""]}),f.jsxs("span",{children:[f.jsx("span",{className:"text-content-muted font-medium",children:"Sens :"})," ",m??""]})]})]})}Ah.propTypes={npc:z.object.isRequired};function Ch({npc:i}){const s=i.attaque||i.attack,r=i.fullAttack||i.att_complete,o=i.abb||i.bab,c=i.grp||i.grapple,d=i.espace||i.space,m=i.allonge||i.reach;return f.jsx(Sh,{title:"Combat",icon:f0,children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-content-muted font-medium",children:"Attaque :"}),f.jsx("span",{className:"font-medium",children:s??""})]}),r&&f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-content-muted font-medium",children:"Att. complte :"}),f.jsx("span",{className:"font-medium",children:r})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-content-muted font-medium",children:"ABB :"})," ",o??""]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-content-muted font-medium",children:"Lutte :"})," ",c??""]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-content-muted font-medium",children:"Espace :"})," ",d??""]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-content-muted font-medium",children:"Allonge :"})," ",m??""]})]})]})})}Ch.propTypes={npc:z.object.isRequired};function qh({npc:i}){const s=i.qual_sp||i.qualites||i.specialQualities||i.special_qualites||[],r=i.att_sp||i.specialAttacks||i.attacks_speciales||[],o=Array.isArray(r)&&r.length>0,c=Array.isArray(s)&&s.length>0;return!o&&!c?null:f.jsxs(f.Fragment,{children:[o&&f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Attaques spciales"}),f.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:f.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((d,m)=>f.jsx("span",{className:"px-3 py-1 bg-red-900/20 text-red-300 text-sm rounded border border-red-800/30",children:d},m))})})]}),c&&f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Qualits spciales"}),f.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:f.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((d,m)=>f.jsx("span",{className:"px-3 py-1 bg-blue-900/20 text-blue-300 text-sm rounded border border-blue-800/30",children:d},m))})})]})]})}qh.propTypes={npc:z.object.isRequired};function jh({npc:i}){const s=i.js||i.saves;return s?f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Jets de sauvegarde"}),f.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:typeof s=="string"?s:f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-content-muted font-medium",children:"Vig"}),f.jsx("div",{className:"text-lg font-bold",children:s.vig||s.fort||""})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-content-muted font-medium",children:"Rf"}),f.jsx("div",{className:"text-lg font-bold",children:(s.rf??s.ref)||""})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-content-muted font-medium",children:"Vol"}),f.jsx("div",{className:"text-lg font-bold",children:s.vol||s.will||""})]})]})})]}):null}jh.propTypes={npc:z.object.isRequired};function Dh({npc:i}){const s=i.carac||i.abilities;return s?f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Caractristiques"}),f.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:f.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-4 text-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-accent-light text-lg",children:"FOR"}),f.jsx("div",{className:"text-lg",children:typeof s.for=="number"?s.for:s.str||""})]}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-accent-light text-lg",children:"DEX"}),f.jsx("div",{className:"text-lg",children:typeof s.dex=="number"?s.dex:s.dex||""})]}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-accent-light text-lg",children:"CON"}),f.jsx("div",{className:"text-lg",children:typeof s.con=="number"?s.con:s.con||""})]}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-accent-light text-lg",children:"INT"}),f.jsx("div",{className:"text-lg",children:typeof s.int=="number"?s.int:s.int||""})]}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-accent-light text-lg",children:"SAG"}),f.jsx("div",{className:"text-lg",children:typeof s.sag=="number"?s.sag:s.wis||""})]}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-accent-light text-lg",children:"CHA"}),f.jsx("div",{className:"text-lg",children:typeof s.cha=="number"?s.cha:s.cha||""})]})]})})]}):null}Dh.propTypes={npc:z.object.isRequired};function Nh({npc:i}){const s=i.comptences||i.competences||i.skills,r=i.dons||i.feats;return!s&&!r?null:f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Formation"}),f.jsxs("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border space-y-3",children:[s&&f.jsxs("div",{children:[f.jsx("span",{className:"text-content-muted font-medium",children:"Comptences :"}),f.jsx("p",{className:"mt-1",children:s})]}),r&&f.jsxs("div",{children:[f.jsx("span",{className:"text-content-muted font-medium",children:"Dons :"}),f.jsx("p",{className:"mt-1",children:r})]})]})]})}Nh.propTypes={npc:z.object.isRequired};function Th({npc:i}){const s=i.environnement||i.environment,r=i.organisation||i.organization,o=i.tactiques||i.tactics,c=i.butin||i.loot,d=i.fp??i.cr;return f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Informations"}),f.jsxs("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border space-y-3",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-content-muted font-medium",children:"Environnement :"})," ",s??""]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-content-muted font-medium",children:"Organisation :"})," ",r??""]}),f.jsxs("div",{children:[f.jsxs("span",{className:"text-content-muted font-medium",children:[i.lvl?"Niveau":"FP"," :"]})," ",i.lvl??d??""]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-content-muted font-medium",children:"Butin :"})," ",c??""]})]}),o&&f.jsxs("div",{children:[f.jsx("span",{className:"text-content-muted font-medium",children:"Tactiques :"}),f.jsx("p",{className:"mt-1",children:o})]})]})]})}Th.propTypes={npc:z.object.isRequired};function Eh({occurrences:i}){return!i||i.length===0?null:f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Apparitions dans les scnarios"}),f.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:f.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((s,r)=>f.jsxs(Xa,{to:`/scenarios?scenario=${s.scenarioId}&scene=${encodeURIComponent(s.sceneTitle)}`,className:"px-3 py-1.5 rounded border border-accent-muted/30 text-accent-light bg-accent-surface/20 hover:bg-accent-surface/40 text-sm transition-colors flex items-center gap-2",title:`${s.scenarioTitle}  ${s.actTitle}  ${s.sceneTitle}`,children:[f.jsxs("span",{className:"font-mono font-bold text-accent-light/70",children:[s.scenarioId,".",s.actNumber,".",s.sceneNumber]}),f.jsx("span",{className:"text-xs truncate max-w-[200px]",children:s.sceneTitle})]},r))})})]})}Eh.propTypes={occurrences:z.arrayOf(z.shape({scenarioId:z.oneOfType([z.string,z.number]),scenarioTitle:z.string,actTitle:z.string,actNumber:z.number,sceneNumber:z.number,sceneTitle:z.string}))};function Mh({details:i}){return!i||i.length===0?null:f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-serif text-accent-light font-bold mb-3",children:"Caractristiques"}),f.jsx("div",{className:"bg-surface/30 rounded-lg p-4 border border-surface-border",children:f.jsx("ul",{className:"space-y-3",children:i.map((s,r)=>f.jsxs("li",{className:"flex gap-3",children:[f.jsx("span",{className:"mt-2 w-2 h-2 rounded-full bg-accent-light block flex-shrink-0"}),f.jsx("span",{className:"text-content-secondary",children:s})]},r))})})]})}Mh.propTypes={details:z.arrayOf(z.string)};function m_({npc:i,isOpen:s,onClose:r}){if(!i)return null;const o=i.fp??i.cr,c=vh(i.id),d=Jr(i.category),m=f.jsxs(f.Fragment,{children:[d&&f.jsx("div",{className:Ve("px-3 py-1 text-sm rounded-full border",d.className),children:d.label}),(i.lvl||o)&&f.jsx(Ss,{variant:W2(i.lvl||o),className:"text-lg font-bold ml-auto",children:i.lvl?`Niv ${Za(i.lvl)}`:`FP ${o}`})]});return f.jsxs(xh,{isOpen:s,onClose:r,title:i.name,subtitle:i.role||i.description,badge:m,children:[f.jsx(_h,{npc:i}),f.jsx(Ah,{npc:i}),f.jsx(Ch,{npc:i}),f.jsx(qh,{npc:i}),f.jsx(jh,{npc:i}),f.jsx(Dh,{npc:i}),f.jsx(Nh,{npc:i}),f.jsx(Th,{npc:i}),f.jsx(Eh,{occurrences:c}),f.jsx(Mh,{details:i.details})]})}function p_(){return{npcs:Sg,counts:K2,getNpcById:xc,getNpcsByCategory:Z2,getNpcsByFp:(s,r=Sg)=>s==="all"?r:r.filter(o=>{const c=o.lvl||o.level_value||o.fp||o.cr,d=Za(c);switch(s){case"lt1":return d<1;case"1-2":return d>=1&&d<=2;case"3-4":return d>=3&&d<=4;case"5-6":return d>=5&&d<=6;case"7-9":return d>=7&&d<=9;case"10+":return d>=10;default:return!0}}),categories:X2,fpFilters:["all","lt1","1-2","3-4","5-6","7-9","10+"]}}function f_(){const[i,s]=D.useState(null),[r,o]=D.useState(!1),[c,d]=D.useState("all"),[m,g]=D.useState("all"),[h,v]=D.useState(""),[x,b]=D.useState(""),[C]=fc(),{npcs:q,getNpcsByCategory:E,categories:B}=p_();D.useEffect(()=>{const Q=C.get("pnj");if(Q){const G=q.find(te=>te.id===Q);G&&(s(G),o(!0),G.category&&d(G.category))}},[C,q]);const w=qg.useMemo(()=>{let Q=E(c);if(h.trim()){const G=Za(h);!isNaN(G)&&G>0?Q=Q.filter(te=>{const Y=te.lvl||te.level_value||te.fp||te.cr,ee=Za(Y);return Math.abs(ee-G)<.01}):Q=Q.filter(te=>String(te.lvl||te.level_value||te.fp||te.cr)===h.trim())}else m!=="all"&&(Q=Q.filter(G=>{const te=G.lvl||G.level_value||G.fp||G.cr,Y=Za(te);switch(m){case"lt1":return Y<1;case"1-2":return Y>=1&&Y<=2;case"3-4":return Y>=3&&Y<=4;case"5-6":return Y>=5&&Y<=6;case"7-9":return Y>=7&&Y<=9;case"10+":return Y>=10;default:return!0}}));if(x.trim()){const G=x.toLowerCase();Q=Q.filter(te=>te.name?.toLowerCase().includes(G)||te.role?.toLowerCase().includes(G)||te.type?.toLowerCase().includes(G)||te.environment?.toLowerCase().includes(G)||te.organization?.toLowerCase().includes(G))}return Q},[c,m,x,E]),k={all:{icon:Yr,label:"Tous",color:"bg-gray-600"},allies:{icon:Yr,label:"Allis",color:"bg-blue-600"},ennemis:{icon:h0,label:"Ennemis",color:"bg-red-600"},monstres:{icon:i0,label:"Monstres",color:"bg-purple-600"}},I={all:{label:"Tous",color:"bg-gray-500"},lt1:{label:"< 1",color:"bg-green-600"},"1-2":{label:"1-2",color:"bg-green-500"},"3-4":{label:"3-4",color:"bg-yellow-600"},"5-6":{label:"5-6",color:"bg-yellow-500"},"7-9":{label:"7-9",color:"bg-orange-500"},"10+":{label:"10+",color:"bg-red-600"}},F=["all","lt1","1-2","3-4","5-6","7-9","10+"],$=Q=>{s(Q),o(!0)},se=()=>{o(!1),s(null)};return f.jsxs("div",{className:"space-y-8",children:[f.jsx(gi,{icon:Ju,title:"Antagonistes & PNJ",children:f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("div",{className:"text-sm text-content-subtle",children:[w.length," / ",q.length," PNJ"]})})}),f.jsxs("div",{className:"bg-surface-raised/50 rounded-xl p-6 border border-surface-border/50 shadow-lg",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx(a0,{size:20,className:"text-accent-light"}),f.jsx("h3",{className:"text-lg font-serif text-accent-light",children:"Filtres"})]}),f.jsx("div",{className:"mb-6",children:f.jsxs("div",{className:"relative",children:[f.jsx(Jg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-content-subtle",size:18}),f.jsx("input",{type:"text",placeholder:"Rechercher un PNJ, un type, un lieu...",value:x,onChange:Q=>b(Q.target.value),className:"w-full pl-10 pr-4 py-3 bg-surface border border-surface-border rounded-lg text-content placeholder:text-content-subtle focus:outline-none focus:ring-2 focus:ring-accent-light/50 focus:border-accent-light"})]})}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h4",{className:"text-sm font-medium text-content mb-3",children:"Catgorie"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(Q=>{const G=k[Q],te=G.icon,Y=c===Q;return f.jsxs("button",{onClick:()=>d(Q),className:Ve("flex items-center gap-2 px-4 py-2 rounded-lg border transition-all duration-200",Y?`${G.color} text-white border-transparent shadow-lg transform scale-105`:"bg-surface border-surface-border text-content hover:border-accent-light/50 hover:shadow-md"),children:[f.jsx(te,{size:16}),f.jsx("span",{className:"font-medium",children:G.label}),Q!=="all"&&f.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(",q.filter(ee=>ee.category===Q).length,")"]})]},Q)})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("h4",{className:"text-sm font-medium text-content",children:"Puissance (FP)"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-content-subtle",children:"FP Exact :"}),f.jsx("input",{type:"text",placeholder:"ex: 1/4",value:h,onChange:Q=>{v(Q.target.value),Q.target.value&&g("all")},className:"w-16 px-2 py-1 text-sm bg-surface border border-surface-border rounded focus:border-accent-light focus:outline-none"})]})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(Q=>{const G=I[Q],te=m===Q&&!h;return f.jsx("button",{onClick:()=>{g(Q),v("")},className:Ve("px-3 py-1.5 rounded-lg border text-sm transition-all duration-200 font-medium",te?`${G.color} text-white border-transparent shadow-md transform scale-105`:"bg-surface border-surface-border text-content hover:border-accent-light/50 hover:shadow-sm"),children:G.label},Q)})})]}),(c!=="all"||m!=="all"||x||h)&&f.jsx("div",{className:"mt-4 pt-4 border-t border-surface-border/50",children:f.jsx("button",{onClick:()=>{d("all"),g("all"),v(""),b("")},className:"text-sm text-content-subtle hover:text-accent-light transition-colors",children:"Rinitialiser tous les filtres"})})]}),w.length>0?f.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.map(Q=>f.jsx(d_,{npc:Q,onClick:()=>$(Q)},`${Q.source}-${Q.id}`))}):f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-surface-raised rounded-full mb-4 border border-surface-border",children:f.jsx(Ju,{size:32,className:"text-content-subtle"})}),f.jsx("h3",{className:"text-lg font-serif text-content mb-2",children:"Aucun PNJ trouv"}),f.jsx("p",{className:"text-content-subtle",children:x?`Aucun rsultat pour "${x}" avec les filtres actuels`:"Aucun PNJ ne correspond aux filtres slectionns"}),(c!=="all"||m!=="all"||x)&&f.jsx("button",{onClick:()=>{d("all"),g("all"),b("")},className:"mt-4 text-accent-light hover:text-accent-light/80 transition-colors",children:"Afficher tous les PNJ"})]}),f.jsx(m_,{npc:i,isOpen:r,onClose:se})]})}function _s({title:i,children:s,className:r="bg-surface-raised/40"}){return f.jsxs("div",{className:`mt-3 border border-surface-border rounded p-3 ${r}`,children:[f.jsx("h6",{className:"text-xs font-mono uppercase tracking-widest text-content-subtle mb-1",children:i}),s]})}_s.propTypes={title:z.string.isRequired,children:z.node.isRequired,className:z.string};function Rh({description:i}){return!i||!Object.entries(i).some(([,r])=>r&&String(r).trim()!==""&&r!==i.sous_titre)?null:f.jsx(_s,{title:"Description",className:"bg-surface-raised/40",children:f.jsxs("div",{className:"space-y-1.5 text-sm text-content-muted",children:[i.sous_titre&&f.jsx("p",{className:"italic text-content-secondary/90",children:i.sous_titre}),i.visuel&&f.jsxs("p",{children:[f.jsx("strong",{className:"text-content-secondary",children:"Visuel : "}),i.visuel]}),i.audio&&f.jsxs("p",{children:[f.jsx("strong",{className:"text-content-secondary",children:"Audio : "}),i.audio]}),i.odeur&&f.jsxs("p",{children:[f.jsx("strong",{className:"text-content-secondary",children:"Odeur : "}),i.odeur]}),i.lumiere&&f.jsxs("p",{children:[f.jsx("strong",{className:"text-content-secondary",children:"Lumire : "}),i.lumiere]})]})})}Rh.propTypes={description:z.shape({sous_titre:z.string,visuel:z.string,audio:z.string,odeur:z.string,lumiere:z.string})};function Lh({narration:i}){return!i||!Object.values(i).some(r=>r&&String(r).trim()!=="")?null:f.jsx(_s,{title:"Narration",className:"bg-surface-raised/60",children:f.jsxs("div",{className:"space-y-1.5 text-sm text-content-muted",children:[i.declencheur&&f.jsxs("p",{children:[f.jsx("strong",{className:"text-content-secondary",children:"Dclencheur : "}),i.declencheur]}),i.texte_a_lire&&f.jsxs("p",{children:[f.jsx("strong",{className:"text-content-secondary",children:" lire : "}),f.jsx("span",{className:"whitespace-pre-line",children:i.texte_a_lire})]}),i.contexte_mj&&f.jsxs("div",{children:[f.jsx("strong",{className:"text-content-secondary",children:"Contexte MJ : "}),Array.isArray(i.contexte_mj)?f.jsx("ul",{className:"list-disc ml-4 mt-1 space-y-0.5",children:i.contexte_mj.map((r,o)=>f.jsx("li",{children:r},o))}):f.jsx("span",{className:"whitespace-pre-line",children:i.contexte_mj})]}),i.objectif&&f.jsxs("p",{children:[f.jsx("strong",{className:"text-content-secondary",children:"Objectif : "}),i.objectif]})]})})}Lh.propTypes={narration:z.shape({declencheur:z.string,texte_a_lire:z.string,contexte_mj:z.oneOfType([z.string,z.arrayOf(z.string)]),objectif:z.string})};function zh({mecaniques:i}){return!i||!(Array.isArray(i.defis)&&i.defis.length>0||Array.isArray(i.indices)&&i.indices.length>0||i.recompenses)?null:f.jsx(_s,{title:"Mcaniques",className:"bg-surface",children:f.jsxs("div",{className:"space-y-1.5 text-sm text-content-muted",children:[Array.isArray(i.defis)&&i.defis.length>0&&f.jsxs("div",{children:[f.jsx("strong",{className:"text-content-secondary block",children:"Dfis"}),f.jsx("ul",{className:"list-disc ml-4 space-y-0.5",children:i.defis.map((r,o)=>f.jsx("li",{children:r},o))})]}),Array.isArray(i.indices)&&i.indices.length>0&&f.jsxs("div",{children:[f.jsx("strong",{className:"text-content-secondary block",children:"Indices"}),f.jsx("ul",{className:"list-disc ml-4 space-y-0.5",children:i.indices.map((r,o)=>f.jsx("li",{children:r},o))})]}),i.recompenses&&f.jsxs("p",{children:[f.jsx("strong",{className:"text-content-secondary",children:"Rcompenses : "}),i.recompenses]})]})})}zh.propTypes={mecaniques:z.shape({defis:z.arrayOf(z.string),indices:z.arrayOf(z.string),recompenses:z.string})};function Oh({transitions:i}){return!i||!Object.values(i).some(r=>r&&String(r).trim()!=="")?null:f.jsx(_s,{title:"Transitions",className:"bg-surface-raised/40",children:f.jsxs("div",{className:"text-sm text-content-muted space-y-1",children:[i.sous_titre&&f.jsx("p",{className:"italic text-content-secondary/90",children:i.sous_titre}),i.success&&f.jsxs("p",{children:[f.jsx("strong",{className:"text-content-secondary",children:"Succs : "}),i.success]}),i.fail&&f.jsxs("p",{children:[f.jsx("strong",{className:"text-content-secondary",children:"chec : "}),i.fail]})]})})}Oh.propTypes={transitions:z.shape({sous_titre:z.string,success:z.string,fail:z.string})};const g_=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4","aria-hidden":"true",children:[f.jsx("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),f.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"18"}),f.jsx("line",{x1:"16",x2:"16",y1:"6",y2:"22"})]}),_g=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4","aria-hidden":"true",children:f.jsx("path",{d:"M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3.3 0-10 1.7-10 5v3h20v-3c0-3.3-6.7-5-10-5z"})}),Ag=(i,s)=>{if(i==="bestiary"&&s&&s.est_ennemi)return"border-red-500/60 text-red-400 bg-red-500/10 hover:border-red-400 hover:text-red-300";switch(i){case"principaux":return"border-blue-500/60 text-blue-400 bg-blue-500/10 hover:border-blue-400 hover:text-blue-300";case"ennemis":return"border-red-500/60 text-red-400 bg-red-500/10 hover:border-red-400 hover:text-red-300";case"bestiary":return"border-purple-500/60 text-purple-400 bg-purple-500/10 hover:border-purple-400 hover:text-purple-300";default:return"border-surface-border text-content-muted bg-surface-raised/30"}};function Ac({linkedLocation:i,linkedNpcs:s}){return!i&&(!s||s.length===0)?null:f.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:[i&&f.jsxs(Xa,{to:ic({zoneId:i.zone.id,locId:i.loc.id}),className:"inline-flex items-center gap-1 px-2 py-1 rounded border border-accent-muted text-accent-light bg-accent-surface hover:bg-accent-surface transition-colors",children:[f.jsx(g_,{}),i.loc.name]}),s.map(r=>r.link?f.jsxs(Xa,{to:r.link,title:r.id,className:Ve("inline-flex items-center gap-1 px-2 py-1 rounded border transition-colors",Ag(r.source,r)),children:[f.jsx(_g,{}),r.name]},r.id):f.jsxs("span",{title:r.id,className:Ve("inline-flex items-center gap-1 px-2 py-1 rounded border",Ag(r.source,r)),children:[f.jsx(_g,{}),r.name]},r.id))]})}Ac.propTypes={linkedLocation:z.shape({zone:z.shape({id:z.string}),loc:z.shape({id:z.string,name:z.string})}),linkedNpcs:z.arrayOf(z.shape({id:z.string,name:z.string,link:z.string,source:z.string}))};Ac.defaultProps={linkedNpcs:[]};const h_=i=>`/antagoniste?pnj=${encodeURIComponent(i)}`;function Cc({scene:i,highlight:s,expanded:r,onToggle:o}){const[c,d]=Ka(`scene-note-${i.title}`,""),[m,g]=Ka(`scene-fav-${i.title}`,!1),h=i.locationId?t_(i.locationId):null,v=Array.isArray(i.npcIds)?i.npcIds.map(b=>{const C=xc(b);return C?{...C,id:b,name:C.name||b,link:h_(b),source:C.source}:{id:b,name:b,link:null,source:null}}):[],x=Array.isArray(i.details)?i.details:[];return f.jsxs("div",{className:Ve("bg-surface border border-surface-border p-4 rounded hover:border-accent-muted transition-colors group",s&&"border-accent-dark shadow-[0_0_0_1px_rgba(217,119,6,0.35)]"),children:[f.jsxs("div",{className:"flex justify-between items-start mb-3 border-b border-surface-border pb-2 gap-3",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[r&&i.image&&f.jsx("img",{src:i.image,alt:i.title,className:"w-64 h-64 object-cover rounded border border-surface-border flex-shrink-0"}),f.jsxs("div",{children:[f.jsx("h5",{className:"font-serif font-bold text-content text-lg",children:i.title}),m&&f.jsx("span",{className:"text-xs text-accent uppercase tracking-widest",children:"Favori"})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{type:"button",onClick:o,className:"text-xs px-2 py-1 rounded border border-surface-border text-content-muted hover:border-accent-dark hover:text-accent-light transition-colors",children:r?"Masquer":"Afficher"}),f.jsx("button",{type:"button",onClick:()=>g(b=>!b),className:Ve("text-xs px-2 py-1 rounded border transition-colors",m?"border-accent text-accent-light bg-accent-surface":"border-surface-border text-content-muted hover:border-accent-dark hover:text-accent-light"),children:""}),f.jsx(Ss,{type:i.type})]})]}),r&&f.jsxs(f.Fragment,{children:[f.jsx("ul",{className:"space-y-1.5",children:x.map((b,C)=>f.jsxs("li",{className:"flex gap-2 text-sm text-content-muted group-hover:text-content-secondary transition-colors leading-relaxed",children:[f.jsx("span",{className:"text-content-subtle mt-1.5 w-1 h-1 rounded-full bg-surface-border block flex-shrink-0 group-hover:bg-accent-dark transition-colors"}),f.jsx("span",{children:b})]},C))}),f.jsx(Rh,{description:i.description}),f.jsx(Lh,{narration:i.narration}),f.jsx(zh,{mecaniques:i.mecaniques}),f.jsx(Oh,{transitions:i.transitions})]}),f.jsx(Ac,{linkedLocation:h,linkedNpcs:v}),f.jsxs("div",{className:"mt-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[!r&&i.image&&f.jsx("img",{src:i.image,alt:i.title,className:"w-16 h-16 object-cover rounded border border-surface-border flex-shrink-0"}),f.jsx("label",{className:"text-xs uppercase tracking-widest text-content-subtle",children:"Notes MJ"})]}),f.jsx("textarea",{value:c,onChange:b=>d(b.target.value),className:"w-full bg-surface-raised border border-surface-border rounded p-2 text-sm text-content focus:border-accent-dark focus:outline-none",rows:3,placeholder:"Notes, rappels, ajustements..."})]})]})}Cc.propTypes={scene:z.shape({title:z.string.isRequired,type:z.string,details:z.arrayOf(z.string).isRequired}).isRequired,highlight:z.bool};Cc.defaultProps={highlight:!1};function qc({act:i,isOpen:s,onToggle:r,targetSceneTitle:o}){const[c,d]=D.useState("");return D.useEffect(()=>{if(!s)return;const m=i.scenes?.find(g=>g.title.toLowerCase()===o?.toLowerCase());if(m){d(m.title);return}!c&&i.scenes?.[0]&&d(i.scenes[0].title)},[s,i.scenes,o,c]),f.jsxs("div",{className:"border-l-2 border-surface-border ml-4 pl-6 relative pb-8 last:pb-0",children:[f.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-surface-overlay border-2 border-surface-border"}),f.jsxs("button",{onClick:r,className:"flex items-center gap-3 w-full text-left group mb-2",children:[f.jsx("h4",{className:"text-lg font-serif font-bold text-content-secondary group-hover:text-accent transition-colors",children:i.title}),f.jsx("div",{className:`transition-transform duration-300 ${s?"rotate-180":""}`,children:f.jsx("span",{className:"text-content-subtle",children:""})})]}),f.jsxs("div",{className:"flex flex-wrap gap-4 text-xs font-mono text-content-subtle mb-4 pl-1",children:[f.jsxs("span",{className:"flex items-center gap-1.5 bg-surface-raised px-2 py-1 rounded border border-surface-border",children:[f.jsx("span",{className:"text-accent-dark",children:""}),"ENJEU : ",i.stake]}),f.jsxs("span",{className:"flex items-center gap-1.5 bg-surface-raised px-2 py-1 rounded border border-surface-border",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 text-blue-500","aria-hidden":"true",children:[f.jsx("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),f.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"18"}),f.jsx("line",{x1:"16",x2:"16",y1:"6",y2:"22"})]}),"LIEU : ",i.location]})]}),s&&f.jsx("div",{className:"grid grid-cols-1 gap-3 animate-slideDown",children:i.scenes.map((m,g)=>f.jsx(Cc,{scene:m,expanded:c===m.title,onToggle:()=>d(h=>h===m.title?"":m.title),highlight:m.title.toLowerCase()===o?.toLowerCase()},g))})]})}qc.propTypes={act:z.shape({title:z.string.isRequired,stake:z.string,location:z.string,scenes:z.arrayOf(z.object).isRequired}).isRequired,isOpen:z.bool,onToggle:z.func.isRequired,targetSceneTitle:z.string};qc.defaultProps={isOpen:!1,targetSceneTitle:""};function jc({scenario:i,isOpen:s,onToggle:r,targetSceneTitle:o}){const[c,d]=Ka(`scenario-open-act-${i.id}`,""),m=D.useRef(!1);return D.useEffect(()=>{s&&typeof window<"u"&&window.localStorage.setItem("current-scenario",String(i.id))},[s,i.id]),D.useEffect(()=>{if(!s||m.current)return;const g=i.acts.find(h=>h.scenes?.some(v=>v.title.toLowerCase()===o.toLowerCase()));if(g){d(g.title),m.current=!0;return}!c&&i.acts[0]&&(d(i.acts[0].title),m.current=!0)},[s,i.acts,o,c,d]),f.jsxs("div",{className:"border border-surface-border bg-surface/60 rounded-lg overflow-hidden transition-all duration-300 hover:border-surface-border",children:[f.jsxs("div",{onClick:r,className:"p-6 cursor-pointer flex items-center justify-between bg-gradient-to-r from-surface-raised to-surface-overlay group",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-surface border border-surface-border rounded-full font-serif font-bold text-xl text-accent shadow-inner group-hover:text-accent group-hover:border-accent-muted transition-all",children:i.id}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-serif font-bold text-content group-hover:text-accent-light transition-colors",children:i.title}),f.jsx("span",{className:"text-sm text-content-subtle font-mono tracking-wider",children:i.level})]})]}),f.jsx("div",{className:`transition-transform duration-300 ${s?"rotate-180":""}`,children:f.jsx("span",{className:"text-content-subtle",children:""})})]}),s&&f.jsxs("div",{className:"p-6 border-t border-surface-border bg-surface/50",children:[f.jsx("div",{className:"mb-8 p-4 italic text-content-muted text-sm leading-relaxed max-w-3xl mx-auto text-center font-serif",children:i.synopsis}),f.jsx("div",{className:"space-y-2",children:i.acts.map((g,h)=>f.jsx(qc,{act:g,isOpen:c===g.title,onToggle:()=>d(v=>v===g.title?"":g.title),targetSceneTitle:o},h))})]})]})}jc.propTypes={scenario:z.shape({id:z.oneOfType([z.string,z.number]).isRequired,title:z.string.isRequired,level:z.string,synopsis:z.string,acts:z.arrayOf(z.object).isRequired}).isRequired,isOpen:z.bool.isRequired,onToggle:z.func.isRequired,targetSceneTitle:z.string};jc.defaultProps={targetSceneTitle:""};function Cg(){const i=Zb(),[s]=fc(),r=s.get("scene")||"",o=i.id||s.get("scenario")||"",[c,d]=Ka("scenario-open-active",o||"");return D.useEffect(()=>{o&&d(String(o))},[o,d]),f.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[f.jsx(gi,{title:"Le Livre des Scnarios",icon:Ig,subtitle:"Les dieux ont cr la mort par ngligence, c'est un dfaut de conception."}),f.jsx("div",{className:"space-y-4",children:il.map(m=>f.jsx(jc,{scenario:m,isOpen:String(c)===String(m.id),onToggle:()=>d(g=>String(g)===String(m.id)?"":String(m.id)),targetSceneTitle:r},m.id))})]})}function v_(){return f.jsx(dy,{children:f.jsxs(ga,{element:f.jsx(s_,{}),children:[f.jsx(ga,{index:!0,element:f.jsx(Pf,{to:"/univers",replace:!0})}),f.jsx(ga,{path:"/univers",element:f.jsx(r_,{})}),f.jsx(ga,{path:"/factions",element:f.jsx(o_,{})}),f.jsx(ga,{path:"/antagoniste",element:f.jsx(f_,{})}),f.jsx(ga,{path:"/scenarios",element:f.jsx(Cg,{})}),f.jsx(ga,{path:"/scenarios/:id",element:f.jsx(Cg,{})}),f.jsx(ga,{path:"*",element:f.jsx(Pf,{to:"/univers",replace:!0})})]})})}const b_={title:"Factions",subtitle:"Les forces en prsence  Val-d'Ombre",hierarchy:"Hirarchie",npcs:"PNJ"},y_={title:"Le Livre des Scnarios",subtitle:"Les dieux ont cr la mort par ngligence, c'est un dfaut de conception."},x_={title:"Univers",subtitle:"Dcouvrez les lieux et personnages de Val-d'Ombre"},S_={placeholder:"Rechercher (PNJ, lieux, scnarios...)"},__={factions:b_,scenarios:y_,universe:x_,search:S_},A_={title:"Factions",subtitle:"The forces present in Val-d'Ombre",hierarchy:"Hierarchy",npcs:"NPCs"},C_={title:"The Book of Scenarios",subtitle:"The gods created death by negligence, it's a design flaw."},q_={title:"Universe",subtitle:"Discover the places and characters of Val-d'Ombre"},j_={placeholder:"Search (NPCs, locations, scenarios...)"},D_={factions:A_,scenarios:C_,universe:q_,search:j_};ot.use(Ox).init({resources:{fr:{translation:__},en:{translation:D_}},lng:"fr",fallbackLng:"fr",interpolation:{escapeValue:!1}});window.onerror=function(i,s,r,o,c){const d=document.getElementById("root");d&&(d.innerHTML=`
      <div style="padding: 20px; color: red; font-family: monospace; background: #fff;">
        <h1>Erreur Critique</h1>
        <p><strong>Message:</strong> ${i}</p>
        <p><strong>Source:</strong> ${s}:${r}:${o}</p>
        <pre>${c?c.stack:"No stack trace"}</pre>
      </div>
    `)};try{gb.createRoot(document.getElementById("root")).render(f.jsx(qg.StrictMode,{children:f.jsx(Oy,{children:f.jsx(v_,{})})}))}catch(i){console.error("Render error:",i),document.getElementById("root").innerHTML=`
    <div style="padding: 20px; color: red; font-family: monospace; background: #fff;">
      <h1>Erreur de Rendu</h1>
      <pre>${i.stack}</pre>
    </div>
  `}
